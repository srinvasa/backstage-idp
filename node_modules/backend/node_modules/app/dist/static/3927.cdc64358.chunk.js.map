{"version":3,"file":"static/3927.cdc64358.chunk.js","sources":["webpack://app/../../node_modules/@roadiehq/backstage-plugin-github-pull-requests/dist/components/Home/YourOpenPullRequestsCard/Content.esm.js","webpack://app/../../node_modules/@roadiehq/backstage-plugin-github-pull-requests/dist/components/PullRequestsListView/PullRequestsListView.esm.js","webpack://app/../../node_modules/@roadiehq/backstage-plugin-github-pull-requests/dist/components/useGithubSearchPullRequest.esm.js"],"sourcesContent":["import { jsx } from 'react/jsx-runtime';\nimport { SkeletonPullRequestsListView, PullRequestsListView } from '../../PullRequestsListView/PullRequestsListView.esm.js';\nimport { useGithubSearchPullRequest } from '../../useGithubSearchPullRequest.esm.js';\nimport Alert from '@material-ui/lab/Alert';\nimport { GitHubAuthorizationWrapper } from '@roadiehq/github-auth-utils-react';\n\nconst defaultPullRequestsQuery = \"is:open is:pr author:@me archived:false\";\nconst OpenPullRequestsContent = (props) => {\n  const { query = defaultPullRequestsQuery, hostname } = props;\n  const { loading, error, value } = useGithubSearchPullRequest(query, hostname);\n  if (loading) return /* @__PURE__ */ jsx(SkeletonPullRequestsListView, {});\n  if (error) return /* @__PURE__ */ jsx(Alert, { severity: \"error\", children: error.message });\n  return /* @__PURE__ */ jsx(\n    PullRequestsListView,\n    {\n      data: value,\n      emptyStateText: \"No open pull requests.\"\n    }\n  );\n};\nconst Content = (props) => {\n  return /* @__PURE__ */ jsx(\n    GitHubAuthorizationWrapper,\n    {\n      title: \"Your Pull Requests\",\n      hostname: props.hostname,\n      children: /* @__PURE__ */ jsx(OpenPullRequestsContent, { ...props })\n    }\n  );\n};\n\nexport { Content };\n//# sourceMappingURL=Content.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { Grid, Typography, Box, Link } from '@material-ui/core';\nimport { getStatusIconType, CommentIcon } from '../Icons.esm.js';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    backgroundColor: theme.palette.background.default,\n    border: \"1px solid grey\",\n    borderRadius: \"6px\",\n    overflowY: \"auto\",\n    maxHeight: \"100%\"\n  },\n  pullRequestRow: {\n    paddingTop: \"0.5rem\",\n    paddingBottom: \"0.5rem\",\n    borderBottom: \"1px solid grey\",\n    \"&:hover\": {\n      backgroundColor: theme.palette.action.hover\n    },\n    \"&:last-child\": {\n      borderBottom: \"none\"\n    }\n  },\n  title: {\n    fontWeight: Number(theme.typography.fontWeightBold)\n  },\n  link: {\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      color: \"#539bf5\",\n      fill: \"#539bf5\"\n    },\n    \"&:first-child\": {\n      paddingRight: \"4px\"\n    }\n  },\n  secondaryText: {\n    color: theme.palette.text.secondary\n  },\n  middleColumn: {\n    paddingRight: \"0.5rem\",\n    paddingLeft: \"0.5rem\"\n  }\n}));\nconst SkeletonPullRequestItem = () => {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsxs(Grid, { container: true, item: true, spacing: 0, className: classes.pullRequestRow, xs: 12, children: [\n    /* @__PURE__ */ jsx(Grid, { item: true, xs: \"auto\", children: /* @__PURE__ */ jsx(\n      Skeleton,\n      {\n        variant: \"circle\",\n        width: 18,\n        height: 18,\n        style: { marginTop: \"3px\" }\n      }\n    ) }),\n    /* @__PURE__ */ jsxs(Grid, { item: true, xs: 10, className: classes.middleColumn, children: [\n      /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: /* @__PURE__ */ jsx(Skeleton, { variant: \"text\" }) }),\n      /* @__PURE__ */ jsx(Typography, { variant: \"caption\", children: /* @__PURE__ */ jsx(Skeleton, { variant: \"text\", width: 130 }) })\n    ] }),\n    /* @__PURE__ */ jsx(\n      Grid,\n      {\n        item: true,\n        xs: 1,\n        style: { flexShrink: 0, marginLeft: \"auto\" },\n        className: classes.secondaryText,\n        children: /* @__PURE__ */ jsx(Box, { display: \"flex\", justifyContent: \"flex-end\", children: /* @__PURE__ */ jsx(\n          Skeleton,\n          {\n            variant: \"circle\",\n            width: 18,\n            height: 18,\n            style: { marginTop: \"3px\" }\n          }\n        ) })\n      }\n    )\n  ] });\n};\nconst PullRequestItem = (props) => {\n  const { pr } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsxs(Grid, { container: true, item: true, spacing: 0, className: classes.pullRequestRow, xs: 12, children: [\n    /* @__PURE__ */ jsx(Grid, { item: true, style: { paddingLeft: \"1rem\", flexShrink: 0 }, xs: \"auto\", children: getStatusIconType(pr) }),\n    /* @__PURE__ */ jsxs(Grid, { item: true, xs: 10, className: classes.middleColumn, children: [\n      /* @__PURE__ */ jsx(Typography, { variant: \"body1\", noWrap: true, className: classes.title, children: /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(\n          Link,\n          {\n            className: `${classes.secondaryText} ${classes.link}`,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            underline: \"none\",\n            href: pr.htmlUrl,\n            children: new URL(pr.repositoryUrl).pathname.split(\"/\").filter(Boolean).slice(1, 3).join(\"/\")\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          Link,\n          {\n            className: classes.link,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            underline: \"none\",\n            href: pr.pullRequest.htmlUrl,\n            children: pr.title\n          }\n        )\n      ] }) }),\n      /* @__PURE__ */ jsxs(Typography, { variant: \"caption\", className: classes.secondaryText, children: [\n        \"#\",\n        pr.number,\n        \" opened by\",\n        \" \",\n        /* @__PURE__ */ jsx(\n          Link,\n          {\n            className: `${classes.secondaryText} ${classes.link}`,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            underline: \"none\",\n            href: pr.user.htmlUrl,\n            children: pr.user.login\n          }\n        )\n      ] }),\n      /* @__PURE__ */ jsx(Typography, { variant: \"caption\", className: classes.secondaryText, children: pr.pullRequest.created_at })\n    ] }),\n    /* @__PURE__ */ jsx(\n      Grid,\n      {\n        item: true,\n        justifyContent: \"flex-end\",\n        container: true,\n        spacing: 1,\n        xs: 1,\n        style: { flexShrink: 0, marginLeft: \"auto\" },\n        className: classes.secondaryText,\n        children: /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(\n          Link,\n          {\n            className: `${classes.secondaryText} ${classes.link}`,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            underline: \"none\",\n            href: pr.htmlUrl,\n            children: [\n              /* @__PURE__ */ jsx(CommentIcon, {}),\n              \" \",\n              pr.comments\n            ]\n          }\n        ) })\n      }\n    )\n  ] });\n};\nconst PullRequestsListView = (props) => {\n  const { data, emptyStateText } = props;\n  const classes = useStyles();\n  if (!data || data.length < 1) {\n    return /* @__PURE__ */ jsx(\n      Grid,\n      {\n        container: true,\n        className: classes.container,\n        spacing: 0,\n        direction: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        children: /* @__PURE__ */ jsx(Grid, { item: true, md: 12, children: /* @__PURE__ */ jsx(Typography, { className: classes.secondaryText, variant: \"h6\", children: emptyStateText }) })\n      }\n    );\n  }\n  return /* @__PURE__ */ jsx(Grid, { container: true, className: classes.container, spacing: 1, children: data.map((pr) => /* @__PURE__ */ jsx(PullRequestItem, { pr }, pr.id)) });\n};\nconst SkeletonPullRequestsListView = () => {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsxs(Grid, { container: true, className: classes.container, spacing: 1, children: [\n    /* @__PURE__ */ jsx(SkeletonPullRequestItem, {}),\n    /* @__PURE__ */ jsx(SkeletonPullRequestItem, {}),\n    /* @__PURE__ */ jsx(SkeletonPullRequestItem, {})\n  ] });\n};\n\nexport { PullRequestsListView, SkeletonPullRequestItem, SkeletonPullRequestsListView };\n//# sourceMappingURL=PullRequestsListView.esm.js.map\n","import { useApi } from '@backstage/core-plugin-api';\nimport { useAsync } from 'react-use';\nimport { githubPullRequestsApiRef } from '../api/GithubPullRequestsApi.esm.js';\nimport '@backstage/integration';\nimport '@octokit/rest';\nimport 'luxon';\n\nconst useGithubSearchPullRequest = (query, hostname) => {\n  const githubPrsApi = useApi(githubPullRequestsApiRef);\n  return useAsync(async () => {\n    return await githubPrsApi.searchPullRequest({ query, hostname });\n  }, [githubPrsApi]);\n};\n\nexport { useGithubSearchPullRequest };\n//# sourceMappingURL=useGithubSearchPullRequest.esm.js.map\n"],"names":["Number","URL","Boolean"],"mappings":"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"}