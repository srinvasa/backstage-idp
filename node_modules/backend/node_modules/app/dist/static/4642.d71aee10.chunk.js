"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([["4642"],{91641:function(e,t,a){a.d(t,{AboutCard:()=>ep});var l=a(31085),n=a(14041),i=a(58837),r=a(40703),s=a(48653),o=a(45685),d=a(37197),c=a(29365),u=a(74011),p=a(75625),m=a(4832),f=a(25534),g=a(53373),x=a.n(g),h=a(86613),b=a(75202),j=a(77125),y=a(72501);let C=(0,i.A)(e=>({link:{display:"grid",justifyItems:"center",gridGap:4,textAlign:"center"},disabled:{color:e.palette.text.secondary,cursor:"default"},primary:{color:e.palette.primary.main},secondary:{color:e.palette.secondary.main},label:{textTransform:"uppercase",fontWeight:e.typography.fontWeightBold,letterSpacing:1.2}}),{name:"BackstageIconLinkVertical"});function v({color:e="primary",disabled:t=!1,href:a="#",icon:n=(0,l.jsx)(h.default,{}),label:i,onClick:r,title:s}){let o=C();return t?(0,l.jsxs)(j.A,{title:s,className:x()(o.link,o.disabled),children:[n,(0,l.jsx)(y.A,{variant:"caption",component:"span",className:o.label,children:i})]}):(0,l.jsxs)(b.N_,{title:s,className:x()(o.link,o[e]),to:a,onClick:r,children:[n,(0,l.jsx)(y.A,{variant:"caption",component:"span",className:o.label,children:i})]})}let k=(0,i.A)(e=>({links:{margin:e.spacing(2,0),display:"grid",gridAutoFlow:"column",gridAutoColumns:"min-content",gridGap:e.spacing(3),wordBreak:"keep-all"}}),{name:"BackstageHeaderIconLinkRow"});function A(e){let{links:t}=e,a=k();return(0,l.jsx)("nav",{className:a.links,children:t.map((e,t)=>(0,l.jsx)(v,{...e},t+1))})}var w=a(92483),S=a(18139),N=a(72814),L=a(95208),z=a(34477),F=a(24453),I=a(10265),U=a(59059),B=a(13660);let H=e=>{let{type:t}=e,a=(0,L.n)(),n=B.default,i=t?a.getSystemIcon(t)??n:n;return(0,l.jsx)(i,{})};var T=a(55488),W=a(98890),R=a(78560),E=a(16400),K=a(79112),_=a(30043),G=a(56299),M=a(71913),D=a(19108),J=a(11642),O=a(15901),Y=a(31627),Z=a(90712),P=a(88549),Q=a(58045),V=a(91638),X=a(97214),$=a(699),q=a(14158),ee=a(94390),et=a(42899),ea=a(28364),el=a(77026);let en=(0,i.A)(e=>({value:{fontWeight:"bold",overflow:"hidden",lineHeight:"24px",wordBreak:"break-word"},label:{color:e.palette.text.secondary,textTransform:"uppercase",fontSize:"10px",fontWeight:"bold",letterSpacing:.5,overflow:"hidden",whiteSpace:"nowrap"}}));function ei(e){let{label:t,value:a,gridSizes:n,children:i,className:r}=e,s=en(),o=(0,el.O)(i,e=>e.getElements()),d=o.length>0?o:(0,l.jsx)(y.A,{variant:"body2",className:s.value,children:a||"unknown"});return(0,l.jsxs)(et.A,{item:!0,...n,className:r,children:[(0,l.jsx)(y.A,{variant:"h2",className:s.label,children:t}),d]})}var er=a(81409);let es=(0,i.A)({description:{wordBreak:"break-word"}});function eo(e){let t,{entity:a}=e,n=es(),{t:i}=(0,I.i)(Q.W),r="system"===a.kind.toLocaleLowerCase("en-US"),s="resource"===a.kind.toLocaleLowerCase("en-US"),o="component"===a.kind.toLocaleLowerCase("en-US"),d="api"===a.kind.toLocaleLowerCase("en-US"),c="template"===a.kind.toLocaleLowerCase("en-US"),u="location"===a.kind.toLocaleLowerCase("en-US"),p="group"===a.kind.toLocaleLowerCase("en-US"),m=(0,$.t)(a,X.jn,{kind:"system"}),f=(0,$.t)(a,X.jn,{kind:"component"}),g=(0,$.t)(a,X.jn,{kind:"domain"}),x=(0,$.t)(a,X.vv);try{t=(0,K.Cr)(a)}catch(e){t=void 0}return(0,l.jsxs)(et.A,{container:!0,children:[(0,l.jsx)(ei,{label:i("aboutCard.descriptionField.label"),gridSizes:{xs:12},children:(0,l.jsx)(ea.h,{className:n.description,content:a?.metadata?.description||i("aboutCard.descriptionField.value")})}),(0,l.jsx)(ei,{label:i("aboutCard.ownerField.label"),value:i("aboutCard.ownerField.value"),className:n.description,gridSizes:{xs:12,sm:6,lg:4},children:x.length>0&&(0,l.jsx)(q.i,{entityRefs:x,defaultKind:"group"})}),(r||g.length>0)&&(0,l.jsx)(ei,{label:i("aboutCard.domainField.label"),value:i("aboutCard.domainField.value"),gridSizes:{xs:12,sm:6,lg:4},children:g.length>0&&(0,l.jsx)(q.i,{entityRefs:g,defaultKind:"domain"})}),(d||o||s||m.length>0)&&(0,l.jsx)(ei,{label:i("aboutCard.systemField.label"),value:i("aboutCard.systemField.value"),gridSizes:{xs:12,sm:6,lg:4},children:m.length>0&&(0,l.jsx)(q.i,{entityRefs:m,defaultKind:"system"})}),o&&f.length>0&&(0,l.jsx)(ei,{label:i("aboutCard.parentComponentField.label"),value:i("aboutCard.parentComponentField.value"),gridSizes:{xs:12,sm:6,lg:4},children:(0,l.jsx)(q.i,{entityRefs:f,defaultKind:"component"})}),(d||o||s||c||p||u||"string"==typeof a?.spec?.type)&&(0,l.jsx)(ei,{label:i("aboutCard.typeField.label"),value:a?.spec?.type,gridSizes:{xs:12,sm:6,lg:4}}),(d||o||"string"==typeof a?.spec?.lifecycle)&&(0,l.jsx)(ei,{label:i("aboutCard.lifecycleField.label"),value:a?.spec?.lifecycle,gridSizes:{xs:12,sm:6,lg:4}}),(0,l.jsx)(ei,{label:i("aboutCard.tagsField.label"),value:i("aboutCard.tagsField.value"),gridSizes:{xs:12,sm:6,lg:4},children:(a?.metadata?.tags||[]).map(e=>(0,l.jsx)(ee.A,{size:"small",label:e},e))}),u&&(a?.spec?.targets||a?.spec?.target)&&(0,l.jsx)(ei,{label:i("aboutCard.targetsField.label"),gridSizes:{xs:12},children:(0,l.jsx)(er.m,{cols:1,items:(a.spec.targets||[a.spec.target]).map(e=>e).map(e=>({text:e,href:function(e,t,a){if("url"===t||e.includes("://"))return e;let l="file"===a.type?`file://${a.target}`:a.target;return"file"===t||"file"===a.type?new URL(e,l).href:l}(e,a?.spec?.type||"unknown",t)}))})})]})}function ed(){let{entity:e}=(0,E.tN)(),t=function(){let{entity:e}=(0,E.tN)(),t=(0,S.gf)(U.Y),{t:a}=(0,I.i)(Q.W),n=function(e,t){let a=e.metadata.annotations?.[W.I4];if(a)try{let e=(0,K.aY)(a),l=t.byUrl(e.target);return{locationTargetUrl:e.target,integrationType:l?.type}}catch{return}}(e,t);return{label:a("aboutCard.viewSource"),disabled:!n,icon:(0,l.jsx)(H,{type:n?.integrationType}),href:n?.locationTargetUrl}}(),a=function(){let{entity:e}=(0,E.tN)(),t=(0,N.S)(P.UJ),{t:a}=(0,I.i)(Q.W);return{label:a("aboutCard.viewTechdocs"),disabled:!(e.metadata.annotations?.[D.As]||e.metadata.annotations?.[D.GO])||!t,icon:(0,l.jsx)(m.default,{}),href:(0,J.b1)(e,t)}}(),n=function(){let e=(0,L.n)(),{entity:t}=(0,E.tN)(),a=(0,N.S)(P.Zg),{t:n}=(0,I.i)(Q.W),i=e.getSystemIcon("scaffolder")??f.default,{allowed:r}=(0,Z.J)({permission:Y.X6});return{label:n("aboutCard.launchTemplate"),icon:(0,l.jsx)(i,{}),disabled:!a||!r,href:a&&a({templateName:t.metadata.name,namespace:t.metadata.namespace||T.oQ})}}(),i=[t,a];return(0,O.c)(e)&&i.push(n),(0,l.jsx)(A,{links:i})}let ec=(0,i.A)({gridItemCard:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"},fullHeightCard:{display:"flex",flexDirection:"column",height:"100%"},gridItemCardContent:{flex:1},fullHeightCardContent:{flex:1}});function eu(e){let{variant:t,subheader:a}=e,i=ec(),{entity:m}=(0,E.tN)(),f=(0,S.gf)(_.v),g=(0,S.gf)(z.k),x=(0,S.gf)(F.m),h=(0,N.S)(P.Zg),j=(e=>{let t=(0,S.gf)(_.v),{value:a}=(0,V.default)(async()=>{let a,l=e.metadata.annotations?.["backstage.io/source-template"];if(l)try{let e=await t.getEntityByRef(l);return a=(0,R.KU)(l),void 0!==e?a:void 0}catch{return}},[t,e]);return a})(m),{allowed:y}=(0,G.A)(M.tS),{t:C}=(0,I.i)(Q.W),v=m.metadata.annotations?.[T.P],k="";"gridItem"===t?k=i.gridItemCard:"fullHeight"===t&&(k=i.fullHeightCard);let A="";"gridItem"===t?A=i.gridItemCardContent:"fullHeight"===t&&(A=i.fullHeightCardContent);let L=m.metadata.annotations?.[W.Eo],U=L?.startsWith("url:")||L?.startsWith("file:"),B=(0,n.useCallback)(async()=>{try{await f.refreshEntity((0,R.U2)(m)),g.post({message:C("aboutCard.refreshScheduledMessage"),severity:"info",display:"transient"})}catch(e){x.post(e)}},[f,m,g,C,x]);return(0,l.jsxs)(r.A,{className:k,children:[(0,l.jsx)(o.A,{title:C("aboutCard.title"),action:(0,l.jsxs)(l.Fragment,{children:[U&&y&&(0,l.jsx)(c.A,{"aria-label":"Refresh",title:C("aboutCard.refreshButtonTitle"),onClick:B,children:(0,l.jsx)(u.default,{})}),(0,l.jsx)(c.A,{component:b.N_,"aria-label":"Edit",disabled:!v,title:C("aboutCard.editButtonTitle"),to:v??"#",children:(0,l.jsx)(p.default,{})}),j&&h&&(0,l.jsx)(c.A,{component:b.N_,title:C("aboutCard.createSimilarButtonTitle"),to:h({namespace:j.namespace,templateName:j.name}),children:(0,l.jsx)(w.z9,{id:"scaffolder"})})]}),subheader:a??(0,l.jsx)(ed,{})}),(0,l.jsx)(d.A,{}),(0,l.jsx)(s.A,{className:A,children:(0,l.jsx)(eo,{entity:m})})]})}function ep(e){return(0,l.jsx)(eu,{...e})}},81409:function(e,t,a){a.d(t,{m:()=>g});var l=a(31085),n=a(24709),i=a(44913),r=a(77125),s=a(72501),o=a(58837),d=a(23127),c=a(75202);let u=(0,o.A)({svgIcon:{display:"inline-block","& svg":{display:"inline-block",fontSize:"inherit",verticalAlign:"baseline"}}});function p(e){let{href:t,text:a,Icon:n}=e,i=u();return(0,l.jsxs)(r.A,{display:"flex",children:[(0,l.jsx)(r.A,{mr:1,className:i.svgIcon,children:(0,l.jsx)(s.A,{component:"div",children:n?(0,l.jsx)(n,{}):(0,l.jsx)(d.default,{})})}),(0,l.jsx)(r.A,{flexGrow:"1",children:(0,l.jsx)(c.N_,{to:t,target:"_blank",rel:"noopener",children:a||t})})]})}var m=a(5893);let f={xs:1,sm:1,md:1,lg:2,xl:3};function g(e){let{items:t,cols:a}=e,r=function(e){let t=[(0,m.A)(e=>e.breakpoints.up("xl"))?"xl":null,(0,m.A)(e=>e.breakpoints.up("lg"))?"lg":null,(0,m.A)(e=>e.breakpoints.up("md"))?"md":null,(0,m.A)(e=>e.breakpoints.up("sm"))?"sm":null,(0,m.A)(e=>e.breakpoints.up("xs"))?"xs":null],a=1;if("number"==typeof e)a=e;else{let l=t.find(e=>null!==e)??"xs";a=e?.[l]??f[l]}return a}(a);return(0,l.jsx)(n.A,{rowHeight:"auto",cols:r,children:t.map(({text:e,href:t,Icon:a},n)=>(0,l.jsx)(i.A,{children:(0,l.jsx)(p,{href:t,text:e??t,Icon:a})},n))})}},74011:function(e,t,a){var l=a(4293),n=a(78920);t.default=void 0;var i=n(a(14041));t.default=(0,l(a(74044)).default)(i.createElement("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached")},13660:function(e,t,a){var l=a(4293),n=a(78920);t.default=void 0;var i=n(a(14041));t.default=(0,l(a(74044)).default)(i.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"Code")}}]);
//# sourceMappingURL=4642.d71aee10.chunk.js.map