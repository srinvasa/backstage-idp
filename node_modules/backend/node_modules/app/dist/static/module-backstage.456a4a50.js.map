{"version":3,"file":"static/module-backstage.456a4a50.js","sources":["webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/DiscoveryApi/UrlPatternDiscovery.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/DiscoveryApi/FrontendHostDiscovery.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/subjects.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/AlertApi/AlertApiForwarder.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/AnalyticsApi/NoOpAnalyticsApi.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/ErrorApi/ErrorAlerter.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/ErrorApi/ErrorApiForwarder.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/ErrorApi/UnhandledErrorForwarder.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/StorageApi/WebStorage.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/FetchApi/IdentityAuthInjectorFetchMiddleware.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/FetchApi/PluginProtocolResolverFetchMiddleware.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/FetchApi/FetchMiddlewares.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/OAuthRequestApi/OAuthPendingRequests.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/OAuthRequestApi/OAuthRequestManager.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/AuthConnector/DefaultAuthConnector.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/loginPopup.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/AuthSessionManager/common.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/AuthSessionManager/SessionStateTracker.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/lib/AuthSessionManager/RefreshingAuthSessionManager.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/oauth2/OAuth2.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/google/GoogleAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/microsoft/MicrosoftAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/github/GithubAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/okta/OktaAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/gitlab/GitlabAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/onelogin/OneLoginAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/bitbucket/BitbucketAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/bitbucketServer/BitbucketServerAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/atlassian/AtlassianAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/vmwareCloud/VMwareCloudAuth.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/auth/openshift/OpenShiftAuth.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-common/dist/PermissionClient.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-react/dist/apis/IdentityPermissionApi.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/dist/defaults/apis.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/FetchApi/createFetchApi.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/dist/defaults/components.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/dist/defaults/icons.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/unified/useApplyThemeAttributes.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/unified/UnifiedThemeProvider.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/base/pageTheme.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/base/createBaseThemeOptions.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/v5/defaultComponentThemes.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/unified/overrides.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/unified/UnifiedTheme.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/unified/themes.esm.js","webpack://app/../../node_modules/@backstage/theme/dist/base/palettes.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/dist/defaults/themes.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/system/ApiAggregator.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/system/ApiProvider.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/system/ApiResolver.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/system/ApiFactoryRegistry.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/AppThemeApi/AppThemeSelector.esm.js","webpack://app/../../node_modules/@backstage/config/dist/reader.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/FeatureFlagsApi/LocalStorageFeatureFlags.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/extensions/traversal.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/plugins/collectors.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/FeatureFlagged.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/collectors.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/types.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/helpers.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/RouteResolver.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/RoutingProvider.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/AppContext.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/IdentityApi/startCookieAuthRefresh.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/IdentityApi/AppIdentityProxy.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/AppThemeProvider.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/defaultConfigLoader.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/system/ApiRegistry.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/AppLanguageApi/AppLanguageSelector.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/core-plugin-api/src/translation/TranslationRef.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/apis/implementations/TranslationApi/I18nextTranslationApi.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/core-plugin-api/src/translation/TranslationResource.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/overrideBaseUrlConfigs.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/AppManager.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/isProtectedApp.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/resolveRouteBindings.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/validation.esm.js","webpack://app/../../node_modules/@backstage/app-defaults/dist/createApp.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/createSpecializedApp.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/types/api.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/entity/constants.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/entity/ref.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/kinds/relations.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/location/annotation.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/location/helpers.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/validation/CommonValidatorFunctions.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/validation/KubernetesValidatorFunctions.esm.js","webpack://app/../../node_modules/@backstage/cli/config/webpack-public-path.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/RouteTracker.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/AppRouter.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/InternalAppContext.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/app/isReactRouterBeta.esm.js","webpack://app/../../node_modules/@backstage/core-app-api/dist/routing/FlatRoutes.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/AlertDisplay/AlertDisplay.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/CodeSnippet/CodeSnippet.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/CopyTextButton/CopyTextButton.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/DefaultNode.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/constants.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/Node.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/DefaultLabel.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/Edge.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/DependencyGraph.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DependencyGraph/types.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/EmptyState/EmptyStateImage.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/EmptyState/EmptyState.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/ErrorPanel/ErrorPanel.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/FavoriteToggle/FavoriteToggle.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Link/Link.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/LinkButton/LinkButton.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/LogViewer/LogViewer.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/MarkdownContent/MarkdownContent.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/OAuthRequestDialog/LoginRequestListItem.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/OAuthRequestDialog/OAuthRequestDialog.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Progress/Progress.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/ResponseErrorPanel/ResponseErrorPanel.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Select/static/ClosedDropdown.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Select/static/OpenedDropdown.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Select/Select.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Status/icons/PendingIcon.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Status/icons/AbortedIcon.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Status/Status.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/StructuredMetadataTable/MetadataTable.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/StructuredMetadataTable/StructuredMetadataTable.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/TabbedLayout/RoutedTabs.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Table/SubvalueCell.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Table/Filters.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Table/TableLoadingBody.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/Table/Table.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/WarningPanel/WarningPanel.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/hooks/useSupportConfig.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/icons/icons.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/BottomLink/BottomLink.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Breadcrumbs/Breadcrumbs.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Content/Content.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ContentHeader/ContentHeader.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ErrorBoundary/ErrorBoundary.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ErrorPage/MicDrop.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ErrorPage/StackDetails.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ErrorPage/ErrorPage.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Header/Header.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/HeaderLabel/HeaderLabel.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/HeaderTabs/HeaderTabs.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/InfoCard/InfoCard.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ItemCard/ItemCardGrid.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Page/Page.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/MobileSidebar.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/Bar.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/Items.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/MobileSidebarContext.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/localStorage.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/Page.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/SidebarGroup.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/SidebarOpenStateContext.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/SidebarPinStateContext.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/SidebarSubmenu.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/config.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/utils.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/GuestUserIdentity.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/LegacyUserIdentity.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/UserIdentity.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/styles.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/commonProvider.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ProxiedSignInPage/types.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/ProxiedSignInPage/ProxiedSignInIdentity.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/guestProvider.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/customProvider.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/IdentityApiSignOutProxy.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/providers.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/SignInPage/SignInPage.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/analytics/AnalyticsContext.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/analytics/Tracker.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/analytics/useAnalytics.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/AlertApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/AnalyticsApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/AppLanguageApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/AppThemeApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/ConfigApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/DiscoveryApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/ErrorApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/FeatureFlagsApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/FetchApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/IdentityApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/OAuthRequestApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/StorageApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/TranslationApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/definitions/auth.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/system/ApiRef.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/system/helpers.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/apis/system/useApi.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/app/useApp.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/extensions/componentData.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/extensions/PluginErrorBoundary.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/extensions/extensions.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/extensions/useElementFilter.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/plugin/Plugin.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/ExternalRouteRef.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/RouteRef.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/types.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/useRouteRef.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/useRouteRefParams.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/translation/TranslationRef.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/translation/TranslationResource.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/translation/useTranslationRef.esm.js","webpack://app/../../node_modules/@backstage/errors/dist/serialization/response.esm.js","webpack://app/../../node_modules/@backstage/errors/dist/errors/ResponseError.esm.js","webpack://app/../../node_modules/@backstage/errors/dist/errors/assertion.esm.js","webpack://app/../../node_modules/@backstage/errors/dist/errors/CustomErrorBase.esm.js","webpack://app/../../node_modules/@backstage/errors/dist/errors/common.esm.js","webpack://app/../../node_modules/@backstage/errors/dist/serialization/error.esm.js","webpack://app/../../node_modules/@backstage/integration-react/dist/api/ScmAuth.esm.js","webpack://app/../../node_modules/@backstage/integration-react/dist/api/ScmAuthApi.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/awsS3/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/awsS3/AwsS3Integration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/awsCodeCommit/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/awsCodeCommit/AwsCodeCommitIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/azure/AzureUrl.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/azure/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/azure/AzureIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucketCloud/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucketCloud/BitbucketCloudIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucket/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucket/BitbucketIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucketServer/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/bitbucketServer/BitbucketServerIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gerrit/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gerrit/core.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gerrit/GerritIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gitea/GiteaIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gitea/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gitea/core.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/harness/HarnessIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/harness/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/harness/core.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/azureBlobStorage/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/azureBlobStorage/AzureBlobStorageIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/ScmIntegrations.esm.js","webpack://app/../../node_modules/@backstage/integration-react/dist/api/ScmIntegrationsApi.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/github/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/github/GithubIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gitlab/config.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/gitlab/GitLabIntegration.esm.js","webpack://app/../../node_modules/@backstage/integration/dist/helpers.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/config.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/AsyncApiDefinitionWidget/AsyncApiDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/GraphQlDefinitionWidget/GraphQlDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/OpenApiDefinitionWidget/OpenApiDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/GrpcApiDefinitionWidget/GrpcApiDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/TrpcDefinitionWidget/TrpcApiDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/components/ApiDefinitionCard/ApiDefinitionWidget.esm.js","webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-common/dist/permissions.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/api/CatalogGraphApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/lib/types/relations.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/api/DefaultCatalogGraphApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/extensions.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/lib/types/graph.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/api/CatalogImportApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/components/helpers.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/api/GitHub.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/api/AzureRepoApiClient.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/api/AzureDevops.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/api/CatalogImportClient.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-import/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/api.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/apis/EntityPresentationApi/EntityPresentationApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/apis/EntityPresentationApi/defaultEntityPresentation.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/apis/EntityPresentationApi/useEntityPresentation.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/apis/EntityPresentationApi/useUpdatingObservable.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/apis/StarredEntitiesApi/StarredEntitiesApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/EntityDisplayName/EntityDisplayName.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/EntityRefLink/EntityRefLink.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/EntityRefLink/EntityRefLinks.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/EntityRefLink/humanize.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/hooks/useStarredEntity.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/FavoriteEntity/FavoriteEntity.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/MissingAnnotationEmptyState/MissingAnnotationEmptyState.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/hooks/useEntity.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/hooks/useEntityPermission.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/utils/getEntityRelations.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/alpha/translation.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/EntityKindIcon.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/AncestryPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/common.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/ColocatedPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/util.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/JsonPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/OverviewPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/components/YamlPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/InspectEntityDialog/InspectEntityDialog.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/UnregisterEntityDialog/UnregisterEntityDialog.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/components/UnregisterEntityDialog/useUnregisterEntityDialogState.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityContextMenu/UnregisterEntity.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/context/EntityContextMenuContext.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityContextMenu/EntityContextMenu.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityLayout/EntityLayout.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityOrphanWarning/DeleteEntityDialog.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityOrphanWarning/EntityOrphanWarning.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityProcessingErrorsPanel/EntityProcessingErrorsPanel.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/types/status.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntityRelationWarning/EntityRelationWarning.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntitySwitch/EntitySwitch.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/components/EntitySwitch/conditions.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/schema/openapi/generated/pluginId.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/schema/openapi/generated/apis/Api.client.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/CatalogClient.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/utils.esm.js","webpack://app/../../node_modules/@backstage/catalog-client/dist/constants.esm.js","webpack://app/../../node_modules/@backstage/types/dist/time.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/apis/EntityPresentationApi/defaults.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/apis/EntityPresentationApi/DefaultEntityPresentationApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/apis/StarredEntitiesApi/migration.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/apis/StarredEntitiesApi/DefaultStarredEntitiesApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-home-react/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/plugin-home-react/dist/components/SettingsModal.esm.js","webpack://app/../../node_modules/@backstage/plugin-home-react/dist/extensions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/types.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/kubernetes-auth-provider/types.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/auth.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/useMatchingErrors.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/ErrorPanel/ErrorPanel.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/ErrorReporting/ErrorReporting.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-common/dist/util/response.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/PodNamesWithErrors.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/GroupedResponses.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/utils/resources.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/KubernetesDialog/KubernetesDialog.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/PodExecTerminal/PodExecTerminalAttachAddon.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/PodExecTerminal/PodExecTerminal.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/PodExecTerminal/PodExecTerminalDialog.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/useIsPodExecTerminalSupported.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/ProgressBars/Gauge.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/ProgressBars/LinearGauge.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/ResourceUtilization/ResourceUtilization.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/DismissableBanner/DismissableBanner.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodLogs/PodLogs.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodLogs/usePodLogs.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodLogs/PodLogsDialog.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodDrawer/ContainerCard.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/useIsPodExecTerminalEnabled.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/KubernetesDrawer/ManifestYaml.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/KubernetesDrawer/KubernetesDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodDelete/PodDeleteButton.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodDelete/usePodDelete.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodDrawer/PendingPodContent.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/Events/Events.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/Events/useEvents.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/FixDialog/FixDialog.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/ErrorList/ErrorList.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/usePodMetrics.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodDrawer/PodDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/useIsPodDeleteEnabled.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/Cluster.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/utils/pod.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Pods/PodsTable.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/DeploymentsAccordions/DeploymentDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/HorizontalPodAutoscalers/HorizontalPodAutoscalerDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/utils/owner.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/DeploymentsAccordions/DeploymentsAccordions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/StatefulSetsAccordions/StatefulSetDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/StatefulSetsAccordions/StatefulSetsAccordions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/IngressesAccordions/IngressDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/IngressesAccordions/IngressesAccordions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/ServicesAccordions/ServiceDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/ServicesAccordions/ServicesAccordions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/ConfigmapsAccordions/ConfigmapsDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/ConfigmapsAccordions/ConfigmapsAccordions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/JobsAccordions/JobsDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/JobsAccordions/JobsAccordions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/CronJobsAccordions/CronJobsDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/utils/crons.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/CronJobsAccordions/CronJobsAccordions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/CustomResources/ArgoRollouts/RolloutDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/CustomResources/ArgoRollouts/StepsProgress.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/CustomResources/ArgoRollouts/Rollout.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/CustomResources/DefaultCustomResourceDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/CustomResources/DefaultCustomResource.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/CustomResources/CustomResources.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/DaemonSetsAccordions/DaemonSetsDrawer.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/DaemonSetsAccordions/DaemonSetsAccordions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/components/Cluster/Cluster.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-common/dist/error-detection/common.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-common/dist/error-detection/pods.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-common/dist/error-detection/deployments.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-common/dist/error-detection/hpas.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-common/dist/permissions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes/dist/alpha/translation.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes/dist/RequireKubernetesPermissions.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes/dist/KubernetesContent.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/hooks/useKubernetesObjects.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-common/dist/error-detection/error-detection.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-common/dist/catalog-entity-constants.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes/dist/Router.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/KubernetesBackendClient.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/KubernetesProxyClient.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/kubernetes-auth-provider/GoogleKubernetesAuthProvider.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/kubernetes-auth-provider/ServerSideAuthProvider.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/kubernetes-auth-provider/OidcKubernetesAuthProvider.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/kubernetes-auth-provider/AksKubernetesAuthProvider.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/kubernetes-auth-provider/KubernetesAuthProviders.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/formatters/AksClusterLinksFormatter.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/formatters/EksClusterLinksFormatter.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/formatters/GkeClusterLinksFormatter.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/formatters/StandardClusterLinksFormatter.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/formatters/OpenshiftClusterLinksFormatter.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/formatters/RancherClusterLinksFormatter.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/formatters/HeadlampClusterLinksFormatter.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/KubernetesClusterLinkFormatter.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-kubernetes-react/dist/api/formatters/index.esm.js","webpack://app/../../node_modules/@backstage/plugin-notifications/dist/api/NotificationsApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-notifications/dist/hooks/useTitleCounter.esm.js","webpack://app/../../node_modules/@backstage/plugin-notifications/dist/components/NotificationsSideBarItem/NotificationsSideBarItem.esm.js","webpack://app/../../node_modules/@backstage/plugin-notifications/dist/hooks/useWebNotifications.esm.js","webpack://app/../../node_modules/@backstage/plugin-notifications/dist/components/NotificationsTable/SeverityIcon.esm.js","webpack://app/../../node_modules/@backstage/plugin-notifications/dist/hooks/useNotificationsApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-notifications/dist/api/NotificationsClient.esm.js","webpack://app/../../node_modules/@backstage/plugin-notifications/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-notifications/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/layout/Sidebar/SidebarSubmenuItem.esm.js","webpack://app/../../node_modules/@backstage/plugin-org/dist/components/MyGroupsSidebarItem/MyGroupsSidebarItem.esm.js","webpack://app/../../node_modules/@backstage/plugin-org/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-org/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-common/dist/permissions/createPermission.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-common/dist/permissions/util.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-common/dist/types/api.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-react/dist/apis/PermissionApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-react/dist/components/RequirePermission.esm.js","webpack://app/../../node_modules/@backstage/plugin-permission-react/dist/hooks/usePermission.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/api/ref.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/extensions/createScaffolderFieldExtension.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/extensions/keys.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/next/api/ref.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/next/components/ScaffolderField/ScaffolderField.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/secrets/SecretsContext.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/utils.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/alpha/api/ref.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityNamePicker/EntityNamePicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityNamePicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityNamePicker/validation.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityPicker/EntityPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/catalog-model/dist/validation/makeValidator.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityTagsPicker/EntityTagsPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/EntityTagsPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/MultiEntityPicker/MultiEntityPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/MultiEntityPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/MyGroupsPicker/MyGroupsPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/MyGroupsPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/OwnedEntityPicker/OwnedEntityPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/OwnedEntityPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/OwnerPicker/OwnerPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/OwnerPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoBranchPicker/BitbucketRepoBranchPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoBranchPicker/DefaultRepoBranchPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoBranchPicker/GitHubRepoBranchPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoBranchPicker/RepoBranchPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoBranchPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/AzureRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/BitbucketRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/GerritRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/GiteaRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/GithubRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/GitlabRepoPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/RepoUrlPickerHost.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/RepoUrlPickerRepoName.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/RepoUrlPicker.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/utils.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/schema.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/RepoUrlPicker/validation.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/components/fields/VirtualizedListbox.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/wiring/createExtensionInput.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-common/dist/schema/openapi/generated/pluginId.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-common/dist/schema/openapi/generated/apis/Api.client.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-common/dist/ScaffolderClient.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/api.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/wiring/createExtensionDataRef.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/frontend-internal/src/wiring/createExtensionDataContainer.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/wiring/resolveInputOverrides.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/opaque-internal/src/OpaqueType.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/frontend-internal/src/wiring/InternalExtensionDefinition.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/frontend-internal/src/wiring/InternalExtensionInput.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/wiring/createExtension.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/schema/createSchemaFromZod.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/wiring/createExtensionBlueprint.esm.js","webpack://app/../../node_modules/@backstage/frontend-plugin-api/dist/blueprints/ApiBlueprint.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder-react/dist/next/blueprints/FormDecoratorBlueprint.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/alpha/api/FormDecoratorsApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/core-plugin-api/dist/routing/SubRouteRef.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/api.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/HighlightedSearchResultText/HighlightedSearchResultText.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchBar/SearchBar.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchFilter/types.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchFilter/hooks.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchFilter/SearchFilter.Autocomplete.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchFilter/SearchFilter.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchPagination/SearchPagination.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/SearchResult/SearchResult.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/context/SearchContext.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/components/DefaultResultListItem/DefaultResultListItem.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/extensions.esm.js","webpack://app/../../node_modules/@backstage/plugin-search-react/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/components/SearchType/SearchType.Accordion.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/components/SearchType/SearchType.Tabs.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/components/SearchType/SearchType.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/apis.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-search/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/plugin-signals-react/dist/api/SignalApi.esm.js","webpack://app/../../node_modules/@backstage/plugin-signals-react/dist/hooks/useSignal.esm.js","webpack://app/../../node_modules/@backstage/plugin-signals/dist/api/SignalClient.esm.js","webpack://app/../../node_modules/@backstage/plugin-signals/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-common/dist/constants.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ExpandableNavigation/ExpandableNavigation.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ReportIssue/constants.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ReportIssue/hooks.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ReportIssue/IssueLink.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ReportIssue/ReportIssueContent.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/TextSize/TextSize.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/ReportIssue/ReportIssue.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-module-addons-contrib/dist/LightBox/LightBox.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/addons.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/api.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/context.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/helpers.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/hooks.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs-react/dist/types.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs/dist/client.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-techdocs/dist/routes.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/dist/components/General/UserSettingsSignInAvatar.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/dist/components/Settings.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/dist/components/useUserProfileInfo.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/dist/plugin.esm.js","webpack://app/../../node_modules/@backstage/plugin-user-settings/dist/translation.esm.js","webpack://app/../../node_modules/@backstage/version-bridge/dist/lib/VersionedContext.esm.js","webpack://app/../../node_modules/@backstage/version-bridge/dist/lib/VersionedValue.esm.js","webpack://app/../../node_modules/@backstage/version-bridge/dist/lib/globalObject.esm.js"],"sourcesContent":["const ERROR_PREFIX = \"Invalid discovery URL pattern,\";\nclass UrlPatternDiscovery {\n  constructor(parts) {\n    this.parts = parts;\n  }\n  /**\n   * Creates a new UrlPatternDiscovery given a template. The only\n   * interpolation done for the template is to replace instances of `{{pluginId}}`\n   * with the ID of the plugin being requested.\n   *\n   * Example pattern: `http://localhost:7007/api/{{ pluginId }}`\n   */\n  static compile(pattern) {\n    const parts = pattern.split(/\\{\\{\\s*pluginId\\s*\\}\\}/);\n    const urlStr = parts.join(\"pluginId\");\n    let url;\n    try {\n      url = new URL(urlStr);\n    } catch {\n      throw new Error(`${ERROR_PREFIX} URL '${urlStr}' is invalid`);\n    }\n    if (url.hash) {\n      throw new Error(`${ERROR_PREFIX} URL must not have a hash`);\n    }\n    if (url.search) {\n      throw new Error(`${ERROR_PREFIX} URL must not have a query`);\n    }\n    if (urlStr.endsWith(\"/\")) {\n      throw new Error(`${ERROR_PREFIX} URL must not end with a slash`);\n    }\n    return new UrlPatternDiscovery(parts);\n  }\n  async getBaseUrl(pluginId) {\n    return this.parts.join(encodeURIComponent(pluginId));\n  }\n}\n\nexport { UrlPatternDiscovery };\n//# sourceMappingURL=UrlPatternDiscovery.esm.js.map\n","import { UrlPatternDiscovery } from './UrlPatternDiscovery.esm.js';\n\nclass FrontendHostDiscovery {\n  /**\n   * Creates a new FrontendHostDiscovery discovery instance by reading\n   * the external target URL from the `discovery.endpoints` config section.\n   *\n   * eg.\n   * ```yaml\n   * discovery:\n   *  endpoints:\n   *    - target: https://internal.example.com/internal-catalog\n   *      plugins: [catalog]\n   *    - target: https://internal.example.com/secure/api/{{pluginId}}\n   *      plugins: [auth, permissions]\n   *    - target:\n   *        internal: https://internal.example.com/search\n   *        external: https://example.com/search\n   *      plugins: [search]\n   * ```\n   *\n   * If a plugin is not declared in the config, the discovery will fall back to using the baseUrl with\n   * the provided `pathPattern` appended. The default path pattern is `\"/api/{{ pluginId }}\"`.\n   */\n  static fromConfig(config, options) {\n    const path = options?.pathPattern ?? \"/api/{{ pluginId }}\";\n    const baseUrl = config.getString(\"backend.baseUrl\");\n    const endpoints = config.getOptionalConfigArray(\"discovery.endpoints\")?.flatMap((e) => {\n      const target = typeof e.get(\"target\") === \"object\" ? e.getOptionalString(\"target.external\") : e.getString(\"target\");\n      if (!target) {\n        return [];\n      }\n      const discovery = UrlPatternDiscovery.compile(target);\n      return e.getStringArray(\"plugins\").map((pluginId) => [pluginId, discovery]);\n    });\n    return new FrontendHostDiscovery(\n      new Map(endpoints),\n      UrlPatternDiscovery.compile(`${baseUrl}${path}`)\n    );\n  }\n  endpoints;\n  defaultEndpoint;\n  constructor(endpoints, defaultEndpoint) {\n    this.endpoints = endpoints;\n    this.defaultEndpoint = defaultEndpoint;\n  }\n  async getBaseUrl(pluginId) {\n    const endpoint = this.endpoints.get(pluginId);\n    if (endpoint) {\n      return endpoint.getBaseUrl(pluginId);\n    }\n    return this.defaultEndpoint.getBaseUrl(pluginId);\n  }\n}\n\nexport { FrontendHostDiscovery };\n//# sourceMappingURL=FrontendHostDiscovery.esm.js.map\n","import ObservableImpl from 'zen-observable';\n\nclass PublishSubject {\n  isClosed = false;\n  terminatingError;\n  observable = new ObservableImpl((subscriber) => {\n    if (this.isClosed) {\n      if (this.terminatingError) {\n        subscriber.error(this.terminatingError);\n      } else {\n        subscriber.complete();\n      }\n      return () => {\n      };\n    }\n    this.subscribers.add(subscriber);\n    return () => {\n      this.subscribers.delete(subscriber);\n    };\n  });\n  subscribers = /* @__PURE__ */ new Set();\n  [Symbol.observable]() {\n    return this;\n  }\n  get closed() {\n    return this.isClosed;\n  }\n  next(value) {\n    if (this.isClosed) {\n      throw new Error(\"PublishSubject is closed\");\n    }\n    this.subscribers.forEach((subscriber) => subscriber.next(value));\n  }\n  error(error) {\n    if (this.isClosed) {\n      throw new Error(\"PublishSubject is closed\");\n    }\n    this.isClosed = true;\n    this.terminatingError = error;\n    this.subscribers.forEach((subscriber) => subscriber.error(error));\n  }\n  complete() {\n    if (this.isClosed) {\n      throw new Error(\"PublishSubject is closed\");\n    }\n    this.isClosed = true;\n    this.subscribers.forEach((subscriber) => subscriber.complete());\n  }\n  subscribe(onNext, onError, onComplete) {\n    const observer = typeof onNext === \"function\" ? {\n      next: onNext,\n      error: onError,\n      complete: onComplete\n    } : onNext;\n    return this.observable.subscribe(observer);\n  }\n}\nclass BehaviorSubject {\n  isClosed;\n  currentValue;\n  terminatingError;\n  observable;\n  constructor(value) {\n    this.isClosed = false;\n    this.currentValue = value;\n    this.terminatingError = void 0;\n    this.observable = new ObservableImpl((subscriber) => {\n      if (this.isClosed) {\n        if (this.terminatingError) {\n          subscriber.error(this.terminatingError);\n        } else {\n          subscriber.complete();\n        }\n        return () => {\n        };\n      }\n      subscriber.next(this.currentValue);\n      this.subscribers.add(subscriber);\n      return () => {\n        this.subscribers.delete(subscriber);\n      };\n    });\n  }\n  subscribers = /* @__PURE__ */ new Set();\n  [Symbol.observable]() {\n    return this;\n  }\n  get closed() {\n    return this.isClosed;\n  }\n  next(value) {\n    if (this.isClosed) {\n      throw new Error(\"BehaviorSubject is closed\");\n    }\n    this.currentValue = value;\n    this.subscribers.forEach((subscriber) => subscriber.next(value));\n  }\n  error(error) {\n    if (this.isClosed) {\n      throw new Error(\"BehaviorSubject is closed\");\n    }\n    this.isClosed = true;\n    this.terminatingError = error;\n    this.subscribers.forEach((subscriber) => subscriber.error(error));\n  }\n  complete() {\n    if (this.isClosed) {\n      throw new Error(\"BehaviorSubject is closed\");\n    }\n    this.isClosed = true;\n    this.subscribers.forEach((subscriber) => subscriber.complete());\n  }\n  subscribe(onNext, onError, onComplete) {\n    const observer = typeof onNext === \"function\" ? {\n      next: onNext,\n      error: onError,\n      complete: onComplete\n    } : onNext;\n    return this.observable.subscribe(observer);\n  }\n}\n\nexport { BehaviorSubject, PublishSubject };\n//# sourceMappingURL=subjects.esm.js.map\n","import { PublishSubject } from '../../../lib/subjects.esm.js';\n\nclass AlertApiForwarder {\n  subject = new PublishSubject();\n  post(alert) {\n    this.subject.next(alert);\n  }\n  alert$() {\n    return this.subject;\n  }\n}\n\nexport { AlertApiForwarder };\n//# sourceMappingURL=AlertApiForwarder.esm.js.map\n","class NoOpAnalyticsApi {\n  captureEvent(_event) {\n  }\n}\n\nexport { NoOpAnalyticsApi };\n//# sourceMappingURL=NoOpAnalyticsApi.esm.js.map\n","class ErrorAlerter {\n  alertApi;\n  errorApi;\n  constructor(alertApi, errorApi) {\n    this.alertApi = alertApi;\n    this.errorApi = errorApi;\n  }\n  post(error, context) {\n    if (!context?.hidden) {\n      this.alertApi.post({ message: error.message, severity: \"error\" });\n    }\n    return this.errorApi.post(error, context);\n  }\n  error$() {\n    return this.errorApi.error$();\n  }\n}\n\nexport { ErrorAlerter };\n//# sourceMappingURL=ErrorAlerter.esm.js.map\n","import { PublishSubject } from '../../../lib/subjects.esm.js';\n\nclass ErrorApiForwarder {\n  subject = new PublishSubject();\n  post(error, context) {\n    this.subject.next({ error, context });\n  }\n  error$() {\n    return this.subject;\n  }\n}\n\nexport { ErrorApiForwarder };\n//# sourceMappingURL=ErrorApiForwarder.esm.js.map\n","class UnhandledErrorForwarder {\n  /**\n   * Add event listener, such that unhandled errors can be forwarded using an given `ErrorApi` instance\n   */\n  static forward(errorApi, errorContext) {\n    window.addEventListener(\n      \"unhandledrejection\",\n      (e) => {\n        errorApi.post(e.reason, errorContext);\n      }\n    );\n  }\n}\n\nexport { UnhandledErrorForwarder };\n//# sourceMappingURL=UnhandledErrorForwarder.esm.js.map\n","import ObservableImpl from 'zen-observable';\n\nconst buckets = /* @__PURE__ */ new Map();\nclass WebStorage {\n  namespace;\n  errorApi;\n  constructor(namespace, errorApi) {\n    this.namespace = namespace;\n    this.errorApi = errorApi;\n  }\n  static hasSubscribed = false;\n  static create(options) {\n    return new WebStorage(options.namespace ?? \"\", options.errorApi);\n  }\n  static addStorageEventListener() {\n    window.addEventListener(\"storage\", (event) => {\n      for (const [bucketPath, webStorage] of buckets.entries()) {\n        if (event.key?.startsWith(bucketPath)) {\n          webStorage.handleStorageChange(event.key);\n        }\n      }\n    });\n  }\n  get(key) {\n    return this.snapshot(key).value;\n  }\n  snapshot(key) {\n    let value = void 0;\n    let presence = \"absent\";\n    try {\n      const item = localStorage.getItem(this.getKeyName(key));\n      if (item) {\n        value = JSON.parse(item, (_key, val) => {\n          if (typeof val === \"object\" && val !== null) {\n            Object.freeze(val);\n          }\n          return val;\n        });\n        presence = \"present\";\n      }\n    } catch (e) {\n      this.errorApi.post(\n        new Error(`Error when parsing JSON config from storage for: ${key}`)\n      );\n    }\n    return { key, value, presence };\n  }\n  forBucket(name) {\n    const bucketPath = `${this.namespace}/${name}`;\n    if (!buckets.has(bucketPath)) {\n      buckets.set(bucketPath, new WebStorage(bucketPath, this.errorApi));\n    }\n    return buckets.get(bucketPath);\n  }\n  async set(key, data) {\n    localStorage.setItem(this.getKeyName(key), JSON.stringify(data));\n    this.notifyChanges(key);\n  }\n  async remove(key) {\n    localStorage.removeItem(this.getKeyName(key));\n    this.notifyChanges(key);\n  }\n  observe$(key) {\n    if (!WebStorage.hasSubscribed) {\n      WebStorage.addStorageEventListener();\n      WebStorage.hasSubscribed = true;\n    }\n    return this.observable.filter(({ key: messageKey }) => messageKey === key);\n  }\n  handleStorageChange(eventKey) {\n    if (!eventKey?.startsWith(this.namespace)) {\n      return;\n    }\n    const trimmedKey = eventKey?.slice(`${this.namespace}/`.length);\n    if (!trimmedKey.includes(\"/\")) {\n      this.notifyChanges(decodeURIComponent(trimmedKey));\n    }\n  }\n  getKeyName(key) {\n    return `${this.namespace}/${encodeURIComponent(key)}`;\n  }\n  notifyChanges(key) {\n    const snapshot = this.snapshot(key);\n    for (const subscription of this.subscribers) {\n      subscription.next(snapshot);\n    }\n  }\n  subscribers = /* @__PURE__ */ new Set();\n  observable = new ObservableImpl((subscriber) => {\n    this.subscribers.add(subscriber);\n    return () => {\n      this.subscribers.delete(subscriber);\n    };\n  });\n}\n\nexport { WebStorage, buckets };\n//# sourceMappingURL=WebStorage.esm.js.map\n","class IdentityAuthInjectorFetchMiddleware {\n  static create(options) {\n    const matcher = buildMatcher(options);\n    const headerName = options.header?.name || \"authorization\";\n    const headerValue = options.header?.value || ((token) => `Bearer ${token}`);\n    return new IdentityAuthInjectorFetchMiddleware(\n      options.identityApi,\n      matcher,\n      headerName,\n      headerValue\n    );\n  }\n  /**\n   * Returns an array of plugin URL prefixes derived from the static `discovery`\n   * configuration, to be used as `urlPrefixAllowlist` option of {@link create}.\n   */\n  static getDiscoveryUrlPrefixes(config) {\n    const endpointConfigs = config.getOptionalConfigArray(\"discovery.endpoints\") || [];\n    return endpointConfigs.flatMap((c) => {\n      const target = typeof c.get(\"target\") === \"object\" ? c.getString(\"target.external\") : c.getString(\"target\");\n      const plugins = c.getStringArray(\"plugins\");\n      return plugins.map(\n        (pluginId) => target.replace(/\\{\\{\\s*pluginId\\s*\\}\\}/g, pluginId)\n      );\n    });\n  }\n  identityApi;\n  allowUrl;\n  headerName;\n  headerValue;\n  constructor(identityApi, allowUrl, headerName, headerValue) {\n    this.identityApi = identityApi;\n    this.allowUrl = allowUrl;\n    this.headerName = headerName;\n    this.headerValue = headerValue;\n  }\n  apply(next) {\n    return async (input, init) => {\n      const request = new Request(input, init);\n      const { token } = await this.identityApi.getCredentials();\n      if (request.headers.get(this.headerName) || typeof token !== \"string\" || !token || !this.allowUrl(request.url)) {\n        return next(input, init);\n      }\n      request.headers.set(this.headerName, this.headerValue(token));\n      return next(request);\n    };\n  }\n}\nfunction buildMatcher(options) {\n  if (options.allowUrl) {\n    return options.allowUrl;\n  } else if (options.urlPrefixAllowlist) {\n    return buildPrefixMatcher(options.urlPrefixAllowlist);\n  } else if (options.config) {\n    return buildPrefixMatcher([\n      options.config.getString(\"backend.baseUrl\"),\n      ...IdentityAuthInjectorFetchMiddleware.getDiscoveryUrlPrefixes(\n        options.config\n      )\n    ]);\n  }\n  return () => false;\n}\nfunction buildPrefixMatcher(prefixes) {\n  const trimmedPrefixes = prefixes.map((prefix) => prefix.replace(/\\/$/, \"\"));\n  return (url) => trimmedPrefixes.some(\n    (prefix) => url === prefix || url.startsWith(`${prefix}/`)\n  );\n}\n\nexport { IdentityAuthInjectorFetchMiddleware };\n//# sourceMappingURL=IdentityAuthInjectorFetchMiddleware.esm.js.map\n","function join(left, right) {\n  if (!right || right === \"/\") {\n    return left;\n  }\n  return `${left.replace(/\\/$/, \"\")}/${right.replace(/^\\//, \"\")}`;\n}\nclass PluginProtocolResolverFetchMiddleware {\n  constructor(discoveryApi) {\n    this.discoveryApi = discoveryApi;\n  }\n  apply(next) {\n    return async (input, init) => {\n      const request = new Request(input, init);\n      const prefix = \"plugin://\";\n      if (!request.url.startsWith(prefix)) {\n        return next(input, init);\n      }\n      const { hostname, pathname, search, hash, username, password } = new URL(\n        `http://${request.url.substring(prefix.length)}`\n      );\n      let base = await this.discoveryApi.getBaseUrl(hostname);\n      if (username || password) {\n        const baseUrl = new URL(base);\n        const authority = `${username}${password ? `:${password}` : \"\"}@`;\n        base = `${baseUrl.protocol}//${authority}${baseUrl.host}${baseUrl.pathname}`;\n      }\n      const target = `${join(base, pathname)}${search}${hash}`;\n      return next(\n        target,\n        typeof input === \"string\" || isUrl(input) ? init : input\n      );\n    };\n  }\n}\nfunction isUrl(a) {\n  return typeof a === \"object\" && a?.constructor === URL;\n}\n\nexport { PluginProtocolResolverFetchMiddleware };\n//# sourceMappingURL=PluginProtocolResolverFetchMiddleware.esm.js.map\n","import { IdentityAuthInjectorFetchMiddleware } from './IdentityAuthInjectorFetchMiddleware.esm.js';\nimport { PluginProtocolResolverFetchMiddleware } from './PluginProtocolResolverFetchMiddleware.esm.js';\n\nclass FetchMiddlewares {\n  /**\n   * Handles translation from `plugin://` URLs to concrete http(s) URLs based on\n   * the discovery API.\n   *\n   * @remarks\n   *\n   * If the request is for `plugin://catalog/entities?filter=x=y`, the discovery\n   * API will be queried for `'catalog'`. If it returned\n   * `https://backstage.example.net/api/catalog`, the resulting query would be\n   * `https://backstage.example.net/api/catalog/entities?filter=x=y`.\n   *\n   * If the incoming URL protocol was not `plugin`, the request is just passed\n   * through verbatim to the underlying implementation.\n   */\n  static resolvePluginProtocol(options) {\n    return new PluginProtocolResolverFetchMiddleware(options.discoveryApi);\n  }\n  /**\n   * Injects a Backstage token header when the user is signed in.\n   *\n   * @remarks\n   *\n   * Per default, an `Authorization: Bearer <token>` is generated. This can be\n   * customized using the `header` option.\n   *\n   * The header injection only happens on allowlisted URLs. Per default, if the\n   * `config` option is passed in, the `backend.baseUrl` is allowlisted, unless\n   * the `urlPrefixAllowlist` or `allowUrl` options are passed in, in which case\n   * they take precedence. If you pass in neither config nor an\n   * allowlist/callback, the middleware will have no effect since effectively no\n   * request will match the (nonexistent) rules.\n   */\n  static injectIdentityAuth(options) {\n    return IdentityAuthInjectorFetchMiddleware.create(options);\n  }\n  constructor() {\n  }\n}\n\nexport { FetchMiddlewares };\n//# sourceMappingURL=FetchMiddlewares.esm.js.map\n","import { BehaviorSubject } from '../../../lib/subjects.esm.js';\n\nfunction hasScopes(searched, searchFor) {\n  for (const scope of searchFor) {\n    if (!searched.has(scope)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction joinScopes(scopes, ...moreScopess) {\n  const result = new Set(scopes);\n  for (const moreScopes of moreScopess) {\n    for (const scope of moreScopes) {\n      result.add(scope);\n    }\n  }\n  return result;\n}\nclass OAuthPendingRequests {\n  requests = [];\n  subject = new BehaviorSubject(\n    this.getCurrentPending()\n  );\n  request(scopes) {\n    return new Promise((resolve, reject) => {\n      this.requests.push({ scopes, resolve, reject });\n      this.subject.next(this.getCurrentPending());\n    });\n  }\n  resolve(scopes, result) {\n    this.requests = this.requests.filter((request) => {\n      if (hasScopes(scopes, request.scopes)) {\n        request.resolve(result);\n        return false;\n      }\n      return true;\n    });\n    this.subject.next(this.getCurrentPending());\n  }\n  reject(error) {\n    this.requests.forEach((request) => request.reject(error));\n    this.requests = [];\n    this.subject.next(this.getCurrentPending());\n  }\n  pending() {\n    return this.subject;\n  }\n  getCurrentPending() {\n    const currentScopes = this.requests.length === 0 ? void 0 : this.requests.slice(1).reduce(\n      (acc, current) => joinScopes(acc, current.scopes),\n      this.requests[0].scopes\n    );\n    return {\n      scopes: currentScopes,\n      resolve: (value) => {\n        if (currentScopes) {\n          this.resolve(currentScopes, value);\n        }\n      },\n      reject: (reason) => {\n        if (currentScopes) {\n          this.reject(reason);\n        }\n      }\n    };\n  }\n}\n\nexport { OAuthPendingRequests, hasScopes, joinScopes };\n//# sourceMappingURL=OAuthPendingRequests.esm.js.map\n","import { OAuthPendingRequests } from './OAuthPendingRequests.esm.js';\nimport { PublishSubject } from '../../../lib/subjects.esm.js';\n\nclass OAuthRequestManager {\n  subject = new PublishSubject();\n  currentRequests = [];\n  handlerCount = 0;\n  createAuthRequester(options) {\n    const handler = new OAuthPendingRequests();\n    const index = this.handlerCount;\n    this.handlerCount++;\n    handler.pending().subscribe({\n      next: (scopeRequest) => {\n        const newRequests = this.currentRequests.slice();\n        const request = this.makeAuthRequest(scopeRequest, options);\n        if (!request) {\n          delete newRequests[index];\n        } else {\n          newRequests[index] = request;\n        }\n        this.currentRequests = newRequests;\n        this.subject.next(newRequests.filter(Boolean));\n      }\n    });\n    return (scopes) => {\n      return handler.request(scopes);\n    };\n  }\n  // Converts the pending request and popup options into a popup request that we can forward to subscribers.\n  makeAuthRequest(request, options) {\n    const { scopes } = request;\n    if (!scopes) {\n      return void 0;\n    }\n    return {\n      provider: options.provider,\n      trigger: async () => {\n        const result = await options.onAuthRequest(scopes);\n        request.resolve(result);\n      },\n      reject: () => {\n        const error = new Error(\"Login failed, rejected by user\");\n        error.name = \"RejectedError\";\n        request.reject(error);\n      }\n    };\n  }\n  authRequest$() {\n    return this.subject;\n  }\n}\n\nexport { OAuthRequestManager };\n//# sourceMappingURL=OAuthRequestManager.esm.js.map\n","import { openLoginPopup } from '../loginPopup.esm.js';\n\nlet warned = false;\nfunction defaultJoinScopes(scopes) {\n  return [...scopes].join(\" \");\n}\nclass DefaultAuthConnector {\n  discoveryApi;\n  environment;\n  provider;\n  joinScopesFunc;\n  authRequester;\n  sessionTransform;\n  enableExperimentalRedirectFlow;\n  popupOptions;\n  constructor(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment,\n      provider,\n      joinScopes = defaultJoinScopes,\n      oauthRequestApi,\n      sessionTransform = (id) => id,\n      popupOptions\n    } = options;\n    if (!warned && !configApi) {\n      console.warn(\n        \"DEPRECATION WARNING: Authentication providers require a configApi instance to configure the authentication flow. Please provide one to the authentication provider constructor.\"\n      );\n      warned = true;\n    }\n    this.enableExperimentalRedirectFlow = configApi ? configApi.getOptionalBoolean(\"enableExperimentalRedirectFlow\") ?? false : false;\n    this.authRequester = oauthRequestApi.createAuthRequester({\n      provider,\n      onAuthRequest: async (scopes) => {\n        if (!this.enableExperimentalRedirectFlow) {\n          return this.showPopup(scopes);\n        }\n        return this.executeRedirect(scopes);\n      }\n    });\n    this.discoveryApi = discoveryApi;\n    this.environment = environment;\n    this.provider = provider;\n    this.joinScopesFunc = joinScopes;\n    this.sessionTransform = sessionTransform;\n    this.popupOptions = popupOptions;\n  }\n  async createSession(options) {\n    if (options.instantPopup) {\n      if (this.enableExperimentalRedirectFlow) {\n        return this.executeRedirect(options.scopes);\n      }\n      return this.showPopup(options.scopes);\n    }\n    return this.authRequester(options.scopes);\n  }\n  async refreshSession(options) {\n    const res = await fetch(\n      await this.buildUrl(\"/refresh\", {\n        optional: true,\n        ...options && { scope: this.joinScopesFunc(options.scopes) }\n      }),\n      {\n        headers: {\n          \"x-requested-with\": \"XMLHttpRequest\"\n        },\n        credentials: \"include\"\n      }\n    ).catch((error) => {\n      throw new Error(`Auth refresh request failed, ${error}`);\n    });\n    if (!res.ok) {\n      const error = new Error(\n        `Auth refresh request failed, ${res.statusText}`\n      );\n      error.status = res.status;\n      throw error;\n    }\n    const authInfo = await res.json();\n    if (authInfo.error) {\n      const error = new Error(authInfo.error.message);\n      if (authInfo.error.name) {\n        error.name = authInfo.error.name;\n      }\n      throw error;\n    }\n    return await this.sessionTransform(authInfo);\n  }\n  async removeSession() {\n    const res = await fetch(await this.buildUrl(\"/logout\"), {\n      method: \"POST\",\n      headers: {\n        \"x-requested-with\": \"XMLHttpRequest\"\n      },\n      credentials: \"include\"\n    }).catch((error) => {\n      throw new Error(`Logout request failed, ${error}`);\n    });\n    if (!res.ok) {\n      const error = new Error(`Logout request failed, ${res.statusText}`);\n      error.status = res.status;\n      throw error;\n    }\n  }\n  async showPopup(scopes) {\n    const scope = this.joinScopesFunc(scopes);\n    const popupUrl = await this.buildUrl(\"/start\", {\n      scope,\n      origin: window.location.origin,\n      flow: \"popup\"\n    });\n    const width = this.popupOptions?.size?.fullscreen ? window.screen.width : this.popupOptions?.size?.width || 450;\n    const height = this.popupOptions?.size?.fullscreen ? window.screen.height : this.popupOptions?.size?.height || 730;\n    const payload = await openLoginPopup({\n      url: popupUrl,\n      name: `${this.provider.title} Login`,\n      width,\n      height\n    });\n    return await this.sessionTransform(payload);\n  }\n  async executeRedirect(scopes) {\n    const scope = this.joinScopesFunc(scopes);\n    window.location.href = await this.buildUrl(\"/start\", {\n      scope,\n      origin: window.location.origin,\n      redirectUrl: window.location.href,\n      flow: \"redirect\"\n    });\n    return new Promise(() => {\n    });\n  }\n  async buildUrl(path, query) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"auth\");\n    const queryString = this.buildQueryString({\n      ...query,\n      env: this.environment\n    });\n    return `${baseUrl}/${this.provider.id}${path}${queryString}`;\n  }\n  buildQueryString(query) {\n    if (!query) {\n      return \"\";\n    }\n    const queryString = Object.entries(query).map(([key, value]) => {\n      if (typeof value === \"string\") {\n        return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n      } else if (value) {\n        return encodeURIComponent(key);\n      }\n      return void 0;\n    }).filter(Boolean).join(\"&\");\n    if (!queryString) {\n      return \"\";\n    }\n    return `?${queryString}`;\n  }\n}\n\nexport { DefaultAuthConnector };\n//# sourceMappingURL=DefaultAuthConnector.esm.js.map\n","function openLoginPopup(options) {\n  return new Promise((resolve, reject) => {\n    const width = options.width || 500;\n    const height = options.height || 700;\n    const left = window.screen.width / 2 - width / 2;\n    const top = window.screen.height / 2 - height / 2;\n    const origin = new URL(options.url).origin;\n    const popup = window.open(\n      options.url,\n      options.name,\n      `menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=${width},height=${height},top=${top},left=${left}`\n    );\n    let targetOrigin = \"\";\n    if (!popup || typeof popup.closed === \"undefined\" || popup.closed) {\n      const error = new Error(\"Failed to open auth popup.\");\n      error.name = \"PopupRejectedError\";\n      reject(error);\n      return;\n    }\n    const messageListener = (event) => {\n      if (event.source !== popup) {\n        return;\n      }\n      if (event.origin !== origin) {\n        return;\n      }\n      const { data } = event;\n      if (data.type === \"config_info\") {\n        targetOrigin = data.targetOrigin;\n        return;\n      }\n      if (data.type !== \"authorization_response\") {\n        return;\n      }\n      const authResult = data;\n      if (\"error\" in authResult) {\n        const error = new Error(authResult.error.message);\n        error.name = authResult.error.name;\n        reject(error);\n      } else {\n        resolve(authResult.response);\n      }\n      done();\n    };\n    const intervalId = setInterval(() => {\n      if (popup.closed) {\n        const errMessage = `Login failed, ${targetOrigin && targetOrigin !== window.location.origin ? `Incorrect app origin, expected ${targetOrigin}` : \"popup was closed\"}`;\n        const error = new Error(errMessage);\n        error.name = \"PopupClosedError\";\n        reject(error);\n        done();\n      }\n    }, 100);\n    function done() {\n      window.removeEventListener(\"message\", messageListener);\n      clearInterval(intervalId);\n    }\n    window.addEventListener(\"message\", messageListener);\n  });\n}\n\nexport { openLoginPopup };\n//# sourceMappingURL=loginPopup.esm.js.map\n","function hasScopes(searched, searchFor) {\n  for (const scope of searchFor) {\n    if (!searched.has(scope)) {\n      return false;\n    }\n  }\n  return true;\n}\nclass SessionScopeHelper {\n  constructor(options) {\n    this.options = options;\n  }\n  sessionExistsAndHasScope(session, scopes) {\n    if (!session) {\n      return false;\n    }\n    if (!scopes) {\n      return true;\n    }\n    if (this.options.sessionScopes === void 0) {\n      return true;\n    }\n    const sessionScopes = this.options.sessionScopes(session);\n    return hasScopes(sessionScopes, scopes);\n  }\n  getExtendedScope(session, scopes) {\n    const newScope = new Set(this.options.defaultScopes);\n    if (session && this.options.sessionScopes !== void 0) {\n      const sessionScopes = this.options.sessionScopes(session);\n      for (const scope of sessionScopes) {\n        newScope.add(scope);\n      }\n    }\n    if (scopes) {\n      for (const scope of scopes) {\n        newScope.add(scope);\n      }\n    }\n    return newScope;\n  }\n}\n\nexport { SessionScopeHelper, hasScopes };\n//# sourceMappingURL=common.esm.js.map\n","import { BehaviorSubject } from '../subjects.esm.js';\nimport { SessionState } from '@backstage/core-plugin-api';\n\nclass SessionStateTracker {\n  subject = new BehaviorSubject(\n    SessionState.SignedOut\n  );\n  signedIn = false;\n  setIsSignedIn(isSignedIn) {\n    if (this.signedIn !== isSignedIn) {\n      this.signedIn = isSignedIn;\n      this.subject.next(\n        this.signedIn ? SessionState.SignedIn : SessionState.SignedOut\n      );\n    }\n  }\n  sessionState$() {\n    return this.subject;\n  }\n}\n\nexport { SessionStateTracker };\n//# sourceMappingURL=SessionStateTracker.esm.js.map\n","import { SessionScopeHelper, hasScopes } from './common.esm.js';\nimport { SessionStateTracker } from './SessionStateTracker.esm.js';\n\nclass RefreshingAuthSessionManager {\n  connector;\n  helper;\n  sessionScopesFunc;\n  sessionShouldRefreshFunc;\n  stateTracker = new SessionStateTracker();\n  refreshPromise;\n  currentSession;\n  constructor(options) {\n    const {\n      connector,\n      defaultScopes = /* @__PURE__ */ new Set(),\n      sessionScopes,\n      sessionShouldRefresh\n    } = options;\n    this.connector = connector;\n    this.sessionScopesFunc = sessionScopes;\n    this.sessionShouldRefreshFunc = sessionShouldRefresh;\n    this.helper = new SessionScopeHelper({ sessionScopes, defaultScopes });\n  }\n  async getSession(options) {\n    let alreadyTriedToRefreshSession = false;\n    if (this.helper.sessionExistsAndHasScope(this.currentSession, options.scopes)) {\n      const shouldRefresh = this.sessionShouldRefreshFunc(this.currentSession);\n      if (!shouldRefresh) {\n        return this.currentSession;\n      }\n      alreadyTriedToRefreshSession = true;\n      try {\n        const refreshedSession = await this.collapsedSessionRefresh(\n          options.scopes\n        );\n        const currentScopes = this.sessionScopesFunc(this.currentSession);\n        const refreshedScopes = this.sessionScopesFunc(refreshedSession);\n        if (hasScopes(refreshedScopes, currentScopes)) {\n          this.currentSession = refreshedSession;\n        }\n        return refreshedSession;\n      } catch (error) {\n        this.removeLocalSession();\n        if (options.optional) {\n          return void 0;\n        }\n      }\n    }\n    if (!alreadyTriedToRefreshSession) {\n      try {\n        const newSession = await this.collapsedSessionRefresh(options.scopes);\n        this.currentSession = newSession;\n        return this.getSession(options);\n      } catch {\n        this.removeLocalSession();\n      }\n    }\n    if (options.optional) {\n      return void 0;\n    }\n    this.currentSession = await this.connector.createSession({\n      ...options,\n      scopes: this.helper.getExtendedScope(this.currentSession, options.scopes)\n    });\n    this.stateTracker.setIsSignedIn(true);\n    return this.currentSession;\n  }\n  /**\n   * Sets `undefined` to this.{@link currentSession} and tells this.{@link stateTracker}, session state tracker,\n   * that a user has signed out.\n   *\n   * Does not propagate session removal to the connector like {@link removeSession}().\n   *\n   */\n  removeLocalSession() {\n    this.currentSession = void 0;\n    this.stateTracker.setIsSignedIn(false);\n  }\n  async removeSession() {\n    this.currentSession = void 0;\n    await this.connector.removeSession();\n    this.stateTracker.setIsSignedIn(false);\n  }\n  sessionState$() {\n    return this.stateTracker.sessionState$();\n  }\n  async collapsedSessionRefresh(scopes) {\n    if (this.refreshPromise) {\n      return this.refreshPromise;\n    }\n    this.refreshPromise = this.connector.refreshSession({\n      scopes: this.helper.getExtendedScope(this.currentSession, scopes)\n    });\n    try {\n      const session = await this.refreshPromise;\n      if (!this.helper.sessionExistsAndHasScope(session, scopes)) {\n        throw new Error(\n          \"Refreshed session did not receive the required scopes\"\n        );\n      }\n      this.stateTracker.setIsSignedIn(true);\n      return session;\n    } finally {\n      delete this.refreshPromise;\n    }\n  }\n}\n\nexport { RefreshingAuthSessionManager };\n//# sourceMappingURL=RefreshingAuthSessionManager.esm.js.map\n","import { DefaultAuthConnector } from '../../../../lib/AuthConnector/DefaultAuthConnector.esm.js';\nimport { RefreshingAuthSessionManager } from '../../../../lib/AuthSessionManager/RefreshingAuthSessionManager.esm.js';\nimport 'zen-observable';\nimport '@backstage/core-plugin-api';\n\nconst DEFAULT_PROVIDER = {\n  id: \"oauth2\",\n  title: \"Your Identity Provider\",\n  icon: () => null\n};\nclass OAuth2 {\n  static createAuthConnector(options) {\n    if (\"authConnector\" in options) {\n      return options.authConnector;\n    }\n    const {\n      scopeTransform = (x) => x,\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      popupOptions\n    } = options;\n    return new DefaultAuthConnector({\n      configApi,\n      discoveryApi,\n      environment,\n      provider,\n      oauthRequestApi,\n      sessionTransform({\n        backstageIdentity,\n        ...res\n      }) {\n        const session = {\n          ...res,\n          providerInfo: {\n            idToken: res.providerInfo.idToken,\n            accessToken: res.providerInfo.accessToken,\n            scopes: OAuth2.normalizeScopes(res.providerInfo.scope, {\n              scopeTransform\n            }),\n            expiresAt: res.providerInfo.expiresInSeconds ? new Date(Date.now() + res.providerInfo.expiresInSeconds * 1e3) : void 0\n          }\n        };\n        if (backstageIdentity) {\n          session.backstageIdentity = {\n            token: backstageIdentity.token,\n            identity: backstageIdentity.identity,\n            expiresAt: backstageIdentity.expiresInSeconds ? new Date(Date.now() + backstageIdentity.expiresInSeconds * 1e3) : void 0\n          };\n        }\n        return session;\n      },\n      popupOptions\n    });\n  }\n  static create(options) {\n    const { defaultScopes = [], scopeTransform = (x) => x } = options;\n    const connector = OAuth2.createAuthConnector(options);\n    const sessionManager = new RefreshingAuthSessionManager({\n      connector,\n      defaultScopes: new Set(defaultScopes),\n      sessionScopes: (session) => session.providerInfo.scopes,\n      sessionShouldRefresh: (session) => {\n        let min = Infinity;\n        if (session.providerInfo?.expiresAt) {\n          min = Math.min(\n            min,\n            (session.providerInfo.expiresAt.getTime() - Date.now()) / 1e3\n          );\n        }\n        if (session.backstageIdentity?.expiresAt) {\n          min = Math.min(\n            min,\n            (session.backstageIdentity.expiresAt.getTime() - Date.now()) / 1e3\n          );\n        }\n        return min < 60 * 3;\n      }\n    });\n    return new OAuth2({ sessionManager, scopeTransform });\n  }\n  sessionManager;\n  scopeTransform;\n  constructor(options) {\n    this.sessionManager = options.sessionManager;\n    this.scopeTransform = options.scopeTransform;\n  }\n  async signIn() {\n    await this.getAccessToken();\n  }\n  async signOut() {\n    await this.sessionManager.removeSession();\n  }\n  sessionState$() {\n    return this.sessionManager.sessionState$();\n  }\n  async getAccessToken(scope, options) {\n    const normalizedScopes = OAuth2.normalizeScopes(scope, {\n      scopeTransform: this.scopeTransform\n    });\n    const session = await this.sessionManager.getSession({\n      ...options,\n      scopes: normalizedScopes\n    });\n    return session?.providerInfo.accessToken ?? \"\";\n  }\n  async getIdToken(options = {}) {\n    const session = await this.sessionManager.getSession({\n      ...options,\n      scopes: /* @__PURE__ */ new Set([\"openid\"])\n    });\n    return session?.providerInfo.idToken ?? \"\";\n  }\n  async getBackstageIdentity(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session?.backstageIdentity;\n  }\n  async getProfile(options = {}) {\n    const session = await this.sessionManager.getSession(options);\n    return session?.profile;\n  }\n  /**\n   * @public\n   */\n  static normalizeScopes(scopes, options) {\n    if (!scopes) {\n      return /* @__PURE__ */ new Set();\n    }\n    const scopeList = Array.isArray(scopes) ? scopes : scopes.split(/[\\s|,]/).filter(Boolean);\n    const transformedScopes = options ? options.scopeTransform(scopeList) : scopeList;\n    return new Set(transformedScopes);\n  }\n}\n\nexport { OAuth2 as default };\n//# sourceMappingURL=OAuth2.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"google\",\n  title: \"Google\",\n  icon: () => null\n};\nconst SCOPE_PREFIX = \"https://www.googleapis.com/auth/\";\nclass GoogleAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      defaultScopes = [\n        \"openid\",\n        `${SCOPE_PREFIX}userinfo.email`,\n        `${SCOPE_PREFIX}userinfo.profile`\n      ]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes,\n      scopeTransform(scopes) {\n        return scopes.map((scope) => {\n          if (scope === \"openid\") {\n            return scope;\n          }\n          if (scope === \"profile\" || scope === \"email\") {\n            return `${SCOPE_PREFIX}userinfo.${scope}`;\n          }\n          if (scope.startsWith(SCOPE_PREFIX)) {\n            return scope;\n          }\n          return `${SCOPE_PREFIX}${scope}`;\n        });\n      }\n    });\n  }\n}\n\nexport { GoogleAuth as default };\n//# sourceMappingURL=GoogleAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"microsoft\",\n  title: \"Microsoft\",\n  icon: () => null\n};\nclass MicrosoftAuth {\n  oauth2;\n  configApi;\n  environment;\n  provider;\n  oauthRequestApi;\n  discoveryApi;\n  scopeTransform;\n  static MicrosoftGraphID = \"00000003-0000-0000-c000-000000000000\";\n  static create(options) {\n    return new MicrosoftAuth(options);\n  }\n  constructor(options) {\n    const {\n      configApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      discoveryApi,\n      defaultScopes = [\n        \"openid\",\n        \"offline_access\",\n        \"profile\",\n        \"email\",\n        \"User.Read\"\n      ],\n      scopeTransform = (scopes) => scopes.concat(\"offline_access\")\n    } = options;\n    this.configApi = configApi;\n    this.environment = environment;\n    this.provider = provider;\n    this.oauthRequestApi = oauthRequestApi;\n    this.discoveryApi = discoveryApi;\n    this.scopeTransform = scopeTransform;\n    this.oauth2 = {\n      [MicrosoftAuth.MicrosoftGraphID]: OAuth2.create({\n        configApi: this.configApi,\n        discoveryApi: this.discoveryApi,\n        oauthRequestApi: this.oauthRequestApi,\n        provider: this.provider,\n        environment: this.environment,\n        scopeTransform: this.scopeTransform,\n        defaultScopes\n      })\n    };\n  }\n  microsoftGraph() {\n    return this.oauth2[MicrosoftAuth.MicrosoftGraphID];\n  }\n  static resourceForScopes(scope) {\n    const audiences = [\n      ...new Set(\n        scope.split(\" \").map(MicrosoftAuth.resourceForScope).filter((aud) => aud !== \"openid\")\n      )\n    ];\n    if (audiences.length > 1) {\n      return Promise.reject(\n        new Error(\n          `Requested access token with scopes from multiple Azure resources: ${audiences.join(\n            \", \"\n          )}. Access tokens can only have a single audience.`\n        )\n      );\n    }\n    const audience = audiences[0] ?? MicrosoftAuth.MicrosoftGraphID;\n    return Promise.resolve(audience);\n  }\n  static resourceForScope(scope) {\n    const groups = scope.match(/^(?<resourceURI>.*)\\/(?<scp>[^\\/]*)$/)?.groups;\n    if (groups) {\n      const { resourceURI } = groups;\n      const aud = resourceURI.replace(/^api:\\/\\//, \"\");\n      return aud;\n    }\n    switch (scope) {\n      case \"email\":\n      case \"openid\":\n      case \"offline_access\":\n      case \"profile\": {\n        return \"openid\";\n      }\n      default:\n        return MicrosoftAuth.MicrosoftGraphID;\n    }\n  }\n  async getAccessToken(scope, options) {\n    const aud = scope === void 0 ? MicrosoftAuth.MicrosoftGraphID : await MicrosoftAuth.resourceForScopes(\n      Array.isArray(scope) ? scope.join(\" \") : scope\n    );\n    if (!(aud in this.oauth2)) {\n      this.oauth2[aud] = OAuth2.create({\n        configApi: this.configApi,\n        discoveryApi: this.discoveryApi,\n        oauthRequestApi: this.oauthRequestApi,\n        provider: this.provider,\n        environment: this.environment,\n        scopeTransform: this.scopeTransform\n      });\n    }\n    return this.oauth2[aud].getAccessToken(scope, options);\n  }\n  getIdToken(options) {\n    return this.microsoftGraph().getIdToken(options);\n  }\n  getProfile(options) {\n    return this.microsoftGraph().getProfile(options);\n  }\n  getBackstageIdentity(options) {\n    return this.microsoftGraph().getBackstageIdentity(options);\n  }\n  signIn() {\n    return this.microsoftGraph().signIn();\n  }\n  signOut() {\n    return this.microsoftGraph().signOut();\n  }\n  sessionState$() {\n    return this.microsoftGraph().sessionState$();\n  }\n}\n\nexport { MicrosoftAuth as default };\n//# sourceMappingURL=MicrosoftAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"github\",\n  title: \"GitHub\",\n  icon: () => null\n};\nclass GithubAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [\"read:user\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nexport { GithubAuth as default };\n//# sourceMappingURL=GithubAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"okta\",\n  title: \"Okta\",\n  icon: () => null\n};\nconst OKTA_OIDC_SCOPES = /* @__PURE__ */ new Set([\n  \"openid\",\n  \"profile\",\n  \"email\",\n  \"phone\",\n  \"address\",\n  \"groups\",\n  \"offline_access\"\n]);\nconst OKTA_SCOPE_PREFIX = \"okta.\";\nclass OktaAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [\"openid\", \"email\", \"profile\", \"offline_access\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes,\n      scopeTransform(scopes) {\n        return scopes.map((scope) => {\n          if (OKTA_OIDC_SCOPES.has(scope)) {\n            return scope;\n          }\n          if (scope.startsWith(OKTA_SCOPE_PREFIX)) {\n            return scope;\n          }\n          return `${OKTA_SCOPE_PREFIX}${scope}`;\n        });\n      }\n    });\n  }\n}\n\nexport { OktaAuth as default };\n//# sourceMappingURL=OktaAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"gitlab\",\n  title: \"GitLab\",\n  icon: () => null\n};\nclass GitlabAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [\"read_user\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nexport { GitlabAuth as default };\n//# sourceMappingURL=GitlabAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"onelogin\",\n  title: \"onelogin\",\n  icon: () => null\n};\nconst OIDC_SCOPES = /* @__PURE__ */ new Set([\n  \"openid\",\n  \"profile\",\n  \"email\",\n  \"phone\",\n  \"address\",\n  \"groups\",\n  \"offline_access\"\n]);\nconst SCOPE_PREFIX = \"onelogin.\";\nclass OneLoginAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes: [\"openid\", \"email\", \"profile\", \"offline_access\"],\n      scopeTransform(scopes) {\n        return scopes.map((scope) => {\n          if (OIDC_SCOPES.has(scope)) {\n            return scope;\n          }\n          if (scope.startsWith(SCOPE_PREFIX)) {\n            return scope;\n          }\n          return `${SCOPE_PREFIX}${scope}`;\n        });\n      }\n    });\n  }\n}\n\nexport { OneLoginAuth as default };\n//# sourceMappingURL=OneLoginAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"bitbucket\",\n  title: \"Bitbucket\",\n  icon: () => null\n};\nclass BitbucketAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [\"account\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nexport { BitbucketAuth as default };\n//# sourceMappingURL=BitbucketAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"bitbucketServer\",\n  title: \"Bitbucket Server\",\n  icon: () => null\n};\nclass BitbucketServerAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [\"PROJECT_ADMIN\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nexport { BitbucketServerAuth as default };\n//# sourceMappingURL=BitbucketServerAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"atlassian\",\n  title: \"Atlassian\",\n  icon: () => null\n};\nclass AtlassianAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment\n    });\n  }\n}\n\nexport { AtlassianAuth as default };\n//# sourceMappingURL=AtlassianAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"vmwareCloudServices\",\n  title: \"VMware Cloud\",\n  icon: () => null\n};\nclass VMwareCloudAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      defaultScopes = [\"openid\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nexport { VMwareCloudAuth as default };\n//# sourceMappingURL=VMwareCloudAuth.esm.js.map\n","import OAuth2 from '../oauth2/OAuth2.esm.js';\n\nconst DEFAULT_PROVIDER = {\n  id: \"openshift\",\n  title: \"OpenShift\",\n  icon: () => null\n};\nclass OpenShiftAuth {\n  static create(options) {\n    const {\n      configApi,\n      discoveryApi,\n      environment = \"development\",\n      provider = DEFAULT_PROVIDER,\n      oauthRequestApi,\n      defaultScopes = [\"user:info\"]\n    } = options;\n    return OAuth2.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      provider,\n      environment,\n      defaultScopes\n    });\n  }\n}\n\nexport { OpenShiftAuth as default };\n//# sourceMappingURL=OpenShiftAuth.esm.js.map\n","import { ResponseError } from '@backstage/errors';\nimport fetch from 'cross-fetch';\nimport * as uuid from 'uuid';\nimport { z } from 'zod';\nimport { AuthorizeResult } from './types/api.esm.js';\nimport { isResourcePermission } from './permissions/util.esm.js';\n\nconst permissionCriteriaSchema = z.lazy(\n  () => z.object({\n    rule: z.string(),\n    resourceType: z.string(),\n    params: z.record(z.any()).optional()\n  }).or(z.object({ anyOf: z.array(permissionCriteriaSchema).nonempty() })).or(z.object({ allOf: z.array(permissionCriteriaSchema).nonempty() })).or(z.object({ not: permissionCriteriaSchema }))\n);\nconst authorizePermissionResponseSchema = z.object({\n  result: z.literal(AuthorizeResult.ALLOW).or(z.literal(AuthorizeResult.DENY))\n});\nconst authorizePermissionResponseBatchSchema = z.object({\n  result: z.array(\n    z.union([\n      z.literal(AuthorizeResult.ALLOW),\n      z.literal(AuthorizeResult.DENY)\n    ])\n  )\n}).or(authorizePermissionResponseSchema);\nconst queryPermissionResponseSchema = z.union([\n  z.object({\n    result: z.literal(AuthorizeResult.ALLOW).or(z.literal(AuthorizeResult.DENY))\n  }),\n  z.object({\n    result: z.literal(AuthorizeResult.CONDITIONAL),\n    pluginId: z.string(),\n    resourceType: z.string(),\n    conditions: permissionCriteriaSchema\n  })\n]);\nconst responseSchema = (itemSchema, ids) => z.object({\n  items: z.array(\n    z.intersection(\n      z.object({\n        id: z.string()\n      }),\n      itemSchema\n    )\n  ).refine(\n    (items) => items.length === ids.size && items.every(({ id }) => ids.has(id)),\n    {\n      message: \"Items in response do not match request\"\n    }\n  )\n});\nclass PermissionClient {\n  enabled;\n  discovery;\n  enableBatchedRequests;\n  constructor(options) {\n    this.discovery = options.discovery;\n    this.enabled = options.config.getOptionalBoolean(\"permission.enabled\") ?? false;\n    this.enableBatchedRequests = options.config.getOptionalBoolean(\n      \"permission.EXPERIMENTAL_enableBatchedRequests\"\n    ) ?? false;\n  }\n  /**\n   * {@inheritdoc PermissionEvaluator.authorize}\n   */\n  async authorize(requests, options) {\n    if (!this.enabled) {\n      return requests.map((_) => ({ result: AuthorizeResult.ALLOW }));\n    }\n    if (this.enableBatchedRequests) {\n      return this.makeBatchedRequest(requests, options);\n    }\n    return this.makeRequest(\n      requests,\n      authorizePermissionResponseSchema,\n      options\n    );\n  }\n  /**\n   * {@inheritdoc PermissionEvaluator.authorizeConditional}\n   */\n  async authorizeConditional(queries, options) {\n    if (!this.enabled) {\n      return queries.map((_) => ({ result: AuthorizeResult.ALLOW }));\n    }\n    return this.makeRequest(queries, queryPermissionResponseSchema, options);\n  }\n  async makeRequest(queries, itemSchema, options) {\n    const request = {\n      items: queries.map((query) => ({\n        id: uuid.v4(),\n        ...query\n      }))\n    };\n    const parsedResponse = await this.makeRawRequest(\n      request,\n      itemSchema,\n      options\n    );\n    const responsesById = parsedResponse.items.reduce((acc, r) => {\n      acc[r.id] = r;\n      return acc;\n    }, {});\n    return request.items.map((query) => responsesById[query.id]);\n  }\n  async makeBatchedRequest(queries, options) {\n    const request = {};\n    for (const query of queries) {\n      const { permission, resourceRef } = query;\n      if (isResourcePermission(permission)) {\n        request[permission.name] ||= {\n          permission,\n          resourceRef: [],\n          id: uuid.v4()\n        };\n        if (resourceRef) {\n          request[permission.name].resourceRef?.push(resourceRef);\n        }\n      } else {\n        request[permission.name] ||= {\n          permission,\n          id: uuid.v4()\n        };\n      }\n    }\n    const parsedResponse = await this.makeRawRequest(\n      { items: Object.values(request) },\n      authorizePermissionResponseBatchSchema,\n      options\n    );\n    const responsesById = parsedResponse.items.reduce((acc, r) => {\n      acc[r.id] = r;\n      return acc;\n    }, {});\n    return queries.map((query) => {\n      const { id } = request[query.permission.name];\n      const item = responsesById[id];\n      if (Array.isArray(item.result)) {\n        return {\n          result: query.resourceRef ? item.result.shift() : item.result[0]\n        };\n      }\n      return { result: item.result };\n    });\n  }\n  async makeRawRequest(request, itemSchema, options) {\n    const permissionApi = await this.discovery.getBaseUrl(\"permission\");\n    const response = await fetch(`${permissionApi}/authorize`, {\n      method: \"POST\",\n      body: JSON.stringify(request),\n      headers: {\n        ...this.getAuthorizationHeader(options?.token),\n        \"content-type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    const responseBody = await response.json();\n    return responseSchema(\n      itemSchema,\n      new Set(request.items.map(({ id }) => id))\n    ).parse(responseBody);\n  }\n  getAuthorizationHeader(token) {\n    return token ? { Authorization: `Bearer ${token}` } : {};\n  }\n}\n\nexport { PermissionClient };\n//# sourceMappingURL=PermissionClient.esm.js.map\n","import { PermissionClient } from '@backstage/plugin-permission-common';\n\nclass IdentityPermissionApi {\n  permissionClient;\n  identityApi;\n  constructor(permissionClient, identityApi) {\n    this.permissionClient = permissionClient;\n    this.identityApi = identityApi;\n  }\n  static create(options) {\n    const { config, discovery, identity } = options;\n    const permissionClient = new PermissionClient({ discovery, config });\n    return new IdentityPermissionApi(permissionClient, identity);\n  }\n  async authorize(request) {\n    const response = await this.permissionClient.authorize(\n      [request],\n      await this.identityApi.getCredentials()\n    );\n    return response[0];\n  }\n}\n\nexport { IdentityPermissionApi };\n//# sourceMappingURL=IdentityPermissionApi.esm.js.map\n","import { FrontendHostDiscovery, AlertApiForwarder, NoOpAnalyticsApi, ErrorAlerter, ErrorApiForwarder, UnhandledErrorForwarder, WebStorage, createFetchApi, FetchMiddlewares, OAuthRequestManager, GoogleAuth, MicrosoftAuth, GithubAuth, OktaAuth, GitlabAuth, OneLoginAuth, BitbucketAuth, BitbucketServerAuth, AtlassianAuth, VMwareCloudAuth, OpenShiftAuth } from '@backstage/core-app-api';\nimport { createApiFactory, configApiRef, discoveryApiRef, alertApiRef, analyticsApiRef, errorApiRef, storageApiRef, identityApiRef, fetchApiRef, oauthRequestApiRef, googleAuthApiRef, microsoftAuthApiRef, githubAuthApiRef, oktaAuthApiRef, gitlabAuthApiRef, oneloginAuthApiRef, bitbucketAuthApiRef, bitbucketServerAuthApiRef, atlassianAuthApiRef, vmwareCloudAuthApiRef, openshiftAuthApiRef } from '@backstage/core-plugin-api';\nimport { IdentityPermissionApi, permissionApiRef } from '@backstage/plugin-permission-react';\n\nconst apis = [\n  createApiFactory({\n    api: discoveryApiRef,\n    deps: { configApi: configApiRef },\n    factory: ({ configApi }) => FrontendHostDiscovery.fromConfig(configApi)\n  }),\n  createApiFactory({\n    api: alertApiRef,\n    deps: {},\n    factory: () => new AlertApiForwarder()\n  }),\n  createApiFactory({\n    api: analyticsApiRef,\n    deps: {},\n    factory: () => new NoOpAnalyticsApi()\n  }),\n  createApiFactory({\n    api: errorApiRef,\n    deps: { alertApi: alertApiRef },\n    factory: ({ alertApi }) => {\n      const errorApi = new ErrorAlerter(alertApi, new ErrorApiForwarder());\n      UnhandledErrorForwarder.forward(errorApi, { hidden: false });\n      return errorApi;\n    }\n  }),\n  createApiFactory({\n    api: storageApiRef,\n    deps: { errorApi: errorApiRef },\n    factory: ({ errorApi }) => WebStorage.create({ errorApi })\n  }),\n  createApiFactory({\n    api: fetchApiRef,\n    deps: {\n      configApi: configApiRef,\n      identityApi: identityApiRef,\n      discoveryApi: discoveryApiRef\n    },\n    factory: ({ configApi, identityApi, discoveryApi }) => {\n      return createFetchApi({\n        middleware: [\n          FetchMiddlewares.resolvePluginProtocol({\n            discoveryApi\n          }),\n          FetchMiddlewares.injectIdentityAuth({\n            identityApi,\n            config: configApi\n          })\n        ]\n      });\n    }\n  }),\n  createApiFactory({\n    api: oauthRequestApiRef,\n    deps: {},\n    factory: () => new OAuthRequestManager()\n  }),\n  createApiFactory({\n    api: googleAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => GoogleAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: microsoftAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => MicrosoftAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: githubAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => GithubAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      defaultScopes: [\"read:user\"],\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: oktaAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => OktaAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: gitlabAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => GitlabAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: oneloginAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => OneLoginAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: bitbucketAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => BitbucketAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      defaultScopes: [\"account\"],\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: bitbucketServerAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => BitbucketServerAuth.create({\n      configApi,\n      discoveryApi,\n      oauthRequestApi,\n      defaultScopes: [\"REPO_READ\"],\n      environment: configApi.getOptionalString(\"auth.environment\")\n    })\n  }),\n  createApiFactory({\n    api: atlassianAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => {\n      return AtlassianAuth.create({\n        configApi,\n        discoveryApi,\n        oauthRequestApi,\n        environment: configApi.getOptionalString(\"auth.environment\")\n      });\n    }\n  }),\n  createApiFactory({\n    api: vmwareCloudAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => {\n      return VMwareCloudAuth.create({\n        configApi,\n        discoveryApi,\n        oauthRequestApi,\n        environment: configApi.getOptionalString(\"auth.environment\")\n      });\n    }\n  }),\n  createApiFactory({\n    api: openshiftAuthApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      oauthRequestApi: oauthRequestApiRef,\n      configApi: configApiRef\n    },\n    factory: ({ discoveryApi, oauthRequestApi, configApi }) => {\n      return OpenShiftAuth.create({\n        configApi,\n        discoveryApi,\n        oauthRequestApi,\n        environment: configApi.getOptionalString(\"auth.environment\")\n      });\n    }\n  }),\n  createApiFactory({\n    api: permissionApiRef,\n    deps: {\n      discovery: discoveryApiRef,\n      identity: identityApiRef,\n      config: configApiRef\n    },\n    factory: ({ config, discovery, identity }) => IdentityPermissionApi.create({ config, discovery, identity })\n  })\n];\n\nexport { apis };\n//# sourceMappingURL=apis.esm.js.map\n","function createFetchApi(options) {\n  let result = options.baseImplementation || global.fetch;\n  const middleware = [options.middleware ?? []].flat().reverse();\n  for (const m of middleware) {\n    result = m.apply(result);\n  }\n  return {\n    fetch: result\n  };\n}\n\nexport { createFetchApi };\n//# sourceMappingURL=createFetchApi.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport Button from '@material-ui/core/Button';\nimport { Progress, ErrorPanel, ErrorPage } from '@backstage/core-components';\nimport { BrowserRouter, useInRouterContext, MemoryRouter } from 'react-router-dom';\n\nfunction OptionallyWrapInRouter({ children }) {\n  if (useInRouterContext()) {\n    return /* @__PURE__ */ jsx(Fragment, { children });\n  }\n  return /* @__PURE__ */ jsx(MemoryRouter, { children });\n}\nconst DefaultNotFoundPage = () => /* @__PURE__ */ jsx(ErrorPage, { status: \"404\", statusMessage: \"PAGE NOT FOUND\" });\nconst DefaultBootErrorPage = ({ step, error }) => {\n  let message = \"\";\n  if (step === \"load-config\") {\n    message = `The configuration failed to load, someone should have a look at this error: ${error.message}`;\n  } else if (step === \"load-chunk\") {\n    message = `Lazy loaded chunk failed to load, try to reload the page: ${error.message}`;\n  }\n  return /* @__PURE__ */ jsx(OptionallyWrapInRouter, { children: /* @__PURE__ */ jsx(ErrorPage, { statusMessage: message, stack: error.stack }) });\n};\nconst DefaultErrorBoundaryFallback = ({\n  error,\n  resetError,\n  plugin\n}) => {\n  return /* @__PURE__ */ jsx(\n    ErrorPanel,\n    {\n      title: `Error in ${plugin?.getId()}`,\n      defaultExpanded: true,\n      error,\n      children: /* @__PURE__ */ jsx(Button, { variant: \"outlined\", onClick: resetError, children: \"Retry\" })\n    }\n  );\n};\nconst components = {\n  Progress,\n  Router: BrowserRouter,\n  NotFoundErrorPage: DefaultNotFoundPage,\n  BootErrorPage: DefaultBootErrorPage,\n  ErrorBoundaryFallback: DefaultErrorBoundaryFallback\n};\n\nexport { OptionallyWrapInRouter, components };\n//# sourceMappingURL=components.esm.js.map\n","import MuiApartmentIcon from '@material-ui/icons/Apartment';\nimport MuiBrokenImageIcon from '@material-ui/icons/BrokenImage';\nimport MuiCategoryIcon from '@material-ui/icons/Category';\nimport MuiCreateNewFolderIcon from '@material-ui/icons/CreateNewFolder';\nimport MuiSubjectIcon from '@material-ui/icons/Subject';\nimport MuiSearchIcon from '@material-ui/icons/Search';\nimport MuiChatIcon from '@material-ui/icons/Chat';\nimport MuiDashboardIcon from '@material-ui/icons/Dashboard';\nimport MuiDocsIcon from '@material-ui/icons/Description';\nimport MuiEmailIcon from '@material-ui/icons/Email';\nimport MuiExtensionIcon from '@material-ui/icons/Extension';\nimport MuiGitHubIcon from '@material-ui/icons/GitHub';\nimport MuiHelpIcon from '@material-ui/icons/Help';\nimport MuiLocationOnIcon from '@material-ui/icons/LocationOn';\nimport MuiMemoryIcon from '@material-ui/icons/Memory';\nimport MuiMenuBookIcon from '@material-ui/icons/MenuBook';\nimport MuiPeopleIcon from '@material-ui/icons/People';\nimport MuiPersonIcon from '@material-ui/icons/Person';\nimport MuiWarningIcon from '@material-ui/icons/Warning';\nimport MuiStorageIcon from '@material-ui/icons/Storage';\nimport MuiFeaturedPlayListIcon from '@material-ui/icons/FeaturedPlayList';\nimport Star from '@material-ui/icons/Star';\nimport StarBorder from '@material-ui/icons/StarBorder';\nimport OpenInNew from '@material-ui/icons/OpenInNew';\n\nconst icons = {\n  brokenImage: MuiBrokenImageIcon,\n  // To be confirmed: see https://github.com/backstage/backstage/issues/4970\n  catalog: MuiMenuBookIcon,\n  scaffolder: MuiCreateNewFolderIcon,\n  techdocs: MuiSubjectIcon,\n  search: MuiSearchIcon,\n  chat: MuiChatIcon,\n  dashboard: MuiDashboardIcon,\n  docs: MuiDocsIcon,\n  email: MuiEmailIcon,\n  github: MuiGitHubIcon,\n  group: MuiPeopleIcon,\n  help: MuiHelpIcon,\n  \"kind:api\": MuiExtensionIcon,\n  \"kind:component\": MuiMemoryIcon,\n  \"kind:domain\": MuiApartmentIcon,\n  \"kind:group\": MuiPeopleIcon,\n  \"kind:location\": MuiLocationOnIcon,\n  \"kind:system\": MuiCategoryIcon,\n  \"kind:user\": MuiPersonIcon,\n  \"kind:resource\": MuiStorageIcon,\n  \"kind:template\": MuiFeaturedPlayListIcon,\n  user: MuiPersonIcon,\n  warning: MuiWarningIcon,\n  star: Star,\n  unstarred: StarBorder,\n  externalLink: OpenInNew\n};\n\nexport { icons };\n//# sourceMappingURL=icons.esm.js.map\n","import { useEffect } from 'react';\n\nconst STACK_ATTR = \"data-unified-theme-stack\";\nconst MODE_ATTR = \"data-theme-mode\";\nconst NAME_ATTR = \"data-theme-name\";\nfunction mutateAttrStack(mutator) {\n  const stack = (() => {\n    const raw = document.body.getAttribute(STACK_ATTR);\n    if (!raw) {\n      return [];\n    }\n    try {\n      const parsed = JSON.parse(raw);\n      return Array.isArray(parsed) ? parsed : [];\n    } catch {\n      return [];\n    }\n  })();\n  mutator(stack);\n  if (stack.length === 0) {\n    document.body.removeAttribute(STACK_ATTR);\n  } else {\n    document.body.setAttribute(STACK_ATTR, JSON.stringify(stack));\n  }\n  const top = stack[stack.length - 1];\n  if (top?.mode) {\n    document.body.setAttribute(MODE_ATTR, String(top.mode));\n  } else {\n    document.body.removeAttribute(MODE_ATTR);\n  }\n  if (top?.name) {\n    document.body.setAttribute(NAME_ATTR, String(top.name));\n  } else {\n    document.body.removeAttribute(NAME_ATTR);\n  }\n}\nfunction useApplyThemeAttributes(themeMode, themeName) {\n  useEffect(() => {\n    mutateAttrStack((stack) => {\n      stack.push({ mode: themeMode, name: themeName });\n    });\n    return () => {\n      mutateAttrStack((stack) => {\n        stack.pop();\n      });\n    };\n  }, [themeMode, themeName]);\n}\n\nexport { useApplyThemeAttributes };\n//# sourceMappingURL=useApplyThemeAttributes.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createGenerateClassName, StylesProvider, ThemeProvider } from '@material-ui/core/styles';\nimport { StyledEngineProvider, ThemeProvider as ThemeProvider$1 } from '@mui/material/styles';\nimport { unstable_ClassNameGenerator } from '@mui/material/className';\nimport { useApplyThemeAttributes } from './useApplyThemeAttributes.esm.js';\n\nunstable_ClassNameGenerator.configure((componentName) => {\n  return `v5-${componentName}`;\n});\nconst generateV4ClassName = createGenerateClassName({\n  productionPrefix: \"jss4-\"\n});\nfunction UnifiedThemeProvider(props) {\n  const { children, theme } = props;\n  const v4Theme = theme.getTheme(\"v4\");\n  const v5Theme = theme.getTheme(\"v5\");\n  useApplyThemeAttributes(\n    v4Theme ? v4Theme.palette.type : v5Theme?.palette.mode,\n    \"backstage\"\n  );\n  let result = children;\n  if (v4Theme) {\n    result = /* @__PURE__ */ jsx(StylesProvider, { generateClassName: generateV4ClassName, children: /* @__PURE__ */ jsx(ThemeProvider, { theme: v4Theme, children: result }) });\n  }\n  if (v5Theme) {\n    result = /* @__PURE__ */ jsx(StyledEngineProvider, { injectFirst: true, children: /* @__PURE__ */ jsx(ThemeProvider$1, { theme: v5Theme, children: result }) });\n  }\n  return result;\n}\n\nexport { UnifiedThemeProvider };\n//# sourceMappingURL=UnifiedThemeProvider.esm.js.map\n","const shapes = {\n  wave: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1368' height='401' x='0' y='0' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M437 116C223 116 112 0 112 0h1256v400c-82 0-225-21-282-109-112-175-436-175-649-175z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1368 400V282C891-29 788 40 711 161 608 324 121 372 0 361v39h1368z'/%3e%3cpath fill='url(%23paint2_linear)' d='M1368 244v156H0V94c92-24 198-46 375 0l135 41c176 51 195 109 858 109z'/%3e%3cpath fill='url(%23paint3_linear)' d='M1252 400h116c-14-7-35-14-116-16-663-14-837-128-1013-258l-85-61C98 28 46 8 0 0v400h1252z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M-172-98h1671v601H-172z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='602' x2='1093.5' y1='-960.5' y2='272' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='482' x2='480' y1='1058.5' y2='70.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='424' x2='446.1' y1='-587.5' y2='274.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='587' x2='349' y1='-1120.5' y2='341' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")`,\n  wave2: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1764' height='479' x='-229' y='-6' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M0 400h1350C1321 336 525 33 179-2c-345-34-395 236-408 402H0z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1378 177v223H0V217s219 75 327 52C436 246 717-35 965 45s254 144 413 132z'/%3e%3cpath fill='url(%23paint2_linear)' d='M26 400l-78-16c-170 205-44-6-137-30l-4-1 4 1 137 30c37-45 89-110 159-201 399-514-45 238 1176-50 275-65 354-39 91 267H26z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='431' x2='397.3' y1='-599' y2='372.8' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='236.5' x2='446.6' y1='-586' y2='381.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='851.8' x2='640.4' y1='-867.2' y2='363.7' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")`,\n  round: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='2269' height='1408' x='-610' y='-509' maskUnits='userSpaceOnUse'%3e%3ccircle cx='1212.8' cy='74.8' r='317.5' fill='url(%23paint0_linear)' transform='rotate(-52 1213 75)'/%3e%3ccircle cx='737.8' cy='445.8' r='317.5' fill='url(%23paint1_linear)' transform='rotate(-116 738 446)'/%3e%3ccircle cx='601.8' cy='52.8' r='418.6' fill='url(%23paint2_linear)' transform='rotate(-117 602 53)'/%3e%3ccircle cx='999.8' cy='364' r='389.1' fill='url(%23paint3_linear)' transform='rotate(31 1000 364)'/%3e%3cellipse cx='-109.2' cy='263.5' fill='url(%23paint4_linear)' rx='429.2' ry='465.8' transform='rotate(-85 -109 264)'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='1301.2' x2='161.4' y1='-1879.7' y2='-969.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='826.2' x2='-313.6' y1='-1508.7' y2='-598.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='718.4' x2='-784.3' y1='-2524' y2='-1324.2' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='1108.2' x2='-288.6' y1='-2031.1' y2='-915.9' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint4_linear' x1='10.4' x2='-1626.5' y1='-2603.8' y2='-1399.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\")`\n};\nconst colorVariants = {\n  darkGrey: [\"#171717\", \"#383838\"],\n  marineBlue: [\"#006D8F\", \"#0049A1\"],\n  veryBlue: [\"#0027AF\", \"#270094\"],\n  rubyRed: [\"#98002B\", \"#8D1134\"],\n  toastyOrange: [\"#BE2200\", \"#A41D00\"],\n  purpleSky: [\"#8912CA\", \"#3E00EA\"],\n  eveningSea: [\"#00CFC5\", \"#035355\"],\n  teal: [\"#005B4B\"],\n  pinkSea: [\"#C8077A\", \"#C2297D\"],\n  greens: [\"#4BB8A5\", \"#187656\"]\n};\nfunction genPageTheme(props) {\n  const { colors, shape, options } = props;\n  const gradientColors = colors.length === 1 ? [colors[0], colors[0]] : colors;\n  const gradient = `linear-gradient(90deg, ${gradientColors.join(\", \")})`;\n  const backgroundImage = `${shape},  ${gradient}`;\n  const fontColor = options?.fontColor ?? \"#FFFFFF\";\n  return {\n    colors,\n    shape,\n    backgroundImage,\n    fontColor\n  };\n}\nconst pageTheme = {\n  home: genPageTheme({ colors: colorVariants.teal, shape: shapes.wave }),\n  documentation: genPageTheme({\n    colors: colorVariants.pinkSea,\n    shape: shapes.wave2\n  }),\n  tool: genPageTheme({ colors: colorVariants.purpleSky, shape: shapes.round }),\n  service: genPageTheme({\n    colors: colorVariants.marineBlue,\n    shape: shapes.wave\n  }),\n  website: genPageTheme({ colors: colorVariants.veryBlue, shape: shapes.wave }),\n  library: genPageTheme({ colors: colorVariants.rubyRed, shape: shapes.wave }),\n  other: genPageTheme({ colors: colorVariants.darkGrey, shape: shapes.wave }),\n  app: genPageTheme({ colors: colorVariants.toastyOrange, shape: shapes.wave }),\n  apis: genPageTheme({ colors: colorVariants.teal, shape: shapes.wave2 }),\n  card: genPageTheme({ colors: colorVariants.greens, shape: shapes.wave })\n};\n\nexport { colorVariants, genPageTheme, pageTheme, shapes };\n//# sourceMappingURL=pageTheme.esm.js.map\n","import { pageTheme } from './pageTheme.esm.js';\n\nconst DEFAULT_HTML_FONT_SIZE = 16;\nconst DEFAULT_FONT_FAMILY = '\"Helvetica Neue\", Helvetica, Roboto, Arial, sans-serif';\nconst DEFAULT_PAGE_THEME = \"home\";\nconst defaultTypography = {\n  htmlFontSize: DEFAULT_HTML_FONT_SIZE,\n  fontFamily: DEFAULT_FONT_FAMILY,\n  h1: {\n    fontSize: 54,\n    fontWeight: 700,\n    marginBottom: 10\n  },\n  h2: {\n    fontSize: 40,\n    fontWeight: 700,\n    marginBottom: 8\n  },\n  h3: {\n    fontSize: 32,\n    fontWeight: 700,\n    marginBottom: 6\n  },\n  h4: {\n    fontWeight: 700,\n    fontSize: 28,\n    marginBottom: 6\n  },\n  h5: {\n    fontWeight: 700,\n    fontSize: 24,\n    marginBottom: 4\n  },\n  h6: {\n    fontWeight: 700,\n    fontSize: 20,\n    marginBottom: 2\n  }\n};\nfunction createBaseThemeOptions(options) {\n  const {\n    palette,\n    htmlFontSize = DEFAULT_HTML_FONT_SIZE,\n    fontFamily = DEFAULT_FONT_FAMILY,\n    defaultPageTheme = DEFAULT_PAGE_THEME,\n    pageTheme: pageTheme$1 = pageTheme,\n    typography\n  } = options;\n  if (!pageTheme$1[defaultPageTheme]) {\n    throw new Error(`${defaultPageTheme} is not defined in pageTheme.`);\n  }\n  defaultTypography.htmlFontSize = htmlFontSize;\n  defaultTypography.fontFamily = fontFamily;\n  return {\n    palette,\n    typography: typography ?? defaultTypography,\n    page: pageTheme$1[defaultPageTheme],\n    getPageTheme: ({ themeId }) => pageTheme$1[themeId] ?? pageTheme$1[defaultPageTheme]\n  };\n}\n\nexport { createBaseThemeOptions, defaultTypography };\n//# sourceMappingURL=createBaseThemeOptions.esm.js.map\n","import { lighten, darken } from '@mui/material/styles';\n\nconst defaultComponentThemes = {\n  MuiCssBaseline: {\n    styleOverrides: (theme) => ({\n      html: {\n        height: \"100%\",\n        fontFamily: theme.typography.fontFamily\n      },\n      body: {\n        height: \"100%\",\n        fontFamily: theme.typography.fontFamily,\n        overscrollBehaviorY: \"none\",\n        fontSize: \"0.875rem\",\n        lineHeight: 1.43,\n        \"&::-webkit-scrollbar, & *::-webkit-scrollbar\": {\n          backgroundColor: theme.palette.background.paper,\n          width: \"1em\"\n        },\n        \"&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb\": {\n          borderRadius: 8,\n          backgroundColor: theme.palette.textVerySubtle,\n          border: `3px solid ${theme.palette.background.paper}`\n        },\n        \"&::-webkit-scrollbar-thumb:active, & *::-webkit-scrollbar-thumb:active\": {\n          backgroundColor: theme.palette.mode === \"dark\" ? lighten(theme.palette.textVerySubtle, 0.2) : darken(theme.palette.textVerySubtle, 0.2)\n        },\n        \"&::-webkit-scrollbar-thumb:hover, & *::-webkit-scrollbar-thumb:hover\": {\n          backgroundColor: theme.palette.mode === \"dark\" ? lighten(theme.palette.textVerySubtle, 0.2) : darken(theme.palette.textVerySubtle, 0.2)\n        }\n      },\n      a: {\n        color: \"inherit\",\n        textDecoration: \"none\"\n      }\n    })\n  },\n  MuiGrid: {\n    defaultProps: {\n      spacing: 2\n    }\n  },\n  MuiSwitch: {\n    defaultProps: {\n      color: \"primary\"\n    }\n  },\n  MuiTableRow: {\n    styleOverrides: {\n      // Alternating row backgrounds\n      root: ({ theme }) => ({\n        \"&:nth-of-type(odd)\": {\n          backgroundColor: theme.palette.background.default\n        }\n      }),\n      // Use pointer for hoverable rows\n      hover: {\n        \"&:hover\": {\n          cursor: \"pointer\"\n        }\n      },\n      // Alternating head backgrounds\n      head: ({ theme }) => ({\n        \"&:nth-of-type(odd)\": {\n          backgroundColor: theme.palette.background.paper\n        }\n      })\n    }\n  },\n  // Tables are more dense than default mui tables\n  MuiTableCell: {\n    styleOverrides: {\n      root: ({ theme }) => ({\n        wordBreak: \"break-word\",\n        overflow: \"hidden\",\n        verticalAlign: \"middle\",\n        lineHeight: \"1\",\n        margin: 0,\n        padding: theme.spacing(3, 2, 3, 2.5),\n        borderBottom: 0\n      }),\n      sizeSmall: ({ theme }) => ({\n        padding: theme.spacing(1.5, 2, 1.5, 2.5)\n      }),\n      head: ({ theme }) => ({\n        wordBreak: \"break-word\",\n        overflow: \"hidden\",\n        color: theme.palette.textSubtle,\n        fontWeight: \"normal\",\n        lineHeight: \"1\"\n      })\n    }\n  },\n  MuiTabs: {\n    styleOverrides: {\n      // Tabs are smaller than default mui tab rows\n      root: {\n        minHeight: 24\n      }\n    }\n  },\n  MuiTab: {\n    styleOverrides: {\n      // Tabs are smaller and have a hover background\n      root: ({ theme }) => ({\n        color: theme.palette.link,\n        minHeight: 24,\n        textTransform: \"initial\",\n        letterSpacing: \"0.07em\",\n        \"&:hover\": {\n          color: darken(theme.palette.link, 0.3),\n          background: lighten(theme.palette.link, 0.95)\n        },\n        [theme.breakpoints.up(\"md\")]: {\n          minWidth: 120,\n          fontSize: theme.typography.pxToRem(14),\n          fontWeight: 500\n        }\n      }),\n      textColorPrimary: ({ theme }) => ({\n        color: theme.palette.link\n      })\n    }\n  },\n  MuiTableSortLabel: {\n    styleOverrides: {\n      // No color change on hover, just rely on the arrow showing up instead.\n      root: {\n        color: \"inherit\",\n        \"&:hover\": {\n          color: \"inherit\"\n        },\n        \"&:focus\": {\n          color: \"inherit\"\n        },\n        // Targets the arrow when the label is focused\n        \"&:focus svg\": {\n          opacity: 0.5\n        },\n        // Bold font for highlighting selected column\n        \"&.Mui-active\": {\n          fontWeight: \"bold\",\n          color: \"inherit\"\n        }\n      }\n    }\n  },\n  MuiListItemText: {\n    styleOverrides: {\n      dense: {\n        // Default dense list items to adding ellipsis for really long str...\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\"\n      }\n    }\n  },\n  MuiButton: {\n    styleOverrides: {\n      text: {\n        // Text buttons have less padding by default, but we want to keep the original padding\n        padding: void 0\n      }\n    }\n  },\n  MuiChip: {\n    styleOverrides: {\n      root: ({ theme }) => ({\n        // By default there's no margin, but it's usually wanted, so we add some trailing margin\n        marginRight: theme.spacing(1),\n        marginBottom: theme.spacing(1)\n      }),\n      label: ({ theme }) => ({\n        lineHeight: theme.spacing(2.5),\n        fontWeight: theme.typography.fontWeightMedium,\n        fontSize: theme.spacing(1.75)\n      }),\n      labelSmall: ({ theme }) => ({\n        fontSize: theme.spacing(1.5)\n      }),\n      deleteIcon: ({ theme }) => ({\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        margin: theme.spacing(0, 0.75, 0, -0.75)\n      }),\n      deleteIconSmall: ({ theme }) => ({\n        width: theme.spacing(2),\n        height: theme.spacing(2),\n        margin: theme.spacing(0, 0.5, 0, -0.5)\n      })\n    }\n  },\n  MuiCard: {\n    styleOverrides: {\n      root: {\n        // When cards have a forced size, such as when they are arranged in a\n        // CSS grid, the content needs to flex such that the actions (buttons\n        // etc) end up at the bottom of the card instead of just below the body\n        // contents.\n        display: \"flex\",\n        flexDirection: \"column\"\n      }\n    }\n  },\n  MuiCardHeader: {\n    styleOverrides: {\n      root: {\n        // Reduce padding between header and content\n        paddingBottom: 0\n      }\n    }\n  },\n  MuiCardContent: {\n    styleOverrides: {\n      root: {\n        // When cards have a forced size, such as when they are arranged in a\n        // CSS grid, the content needs to flex such that the actions (buttons\n        // etc) end up at the bottom of the card instead of just below the body\n        // contents.\n        flexGrow: 1,\n        \"&:last-child\": {\n          paddingBottom: void 0\n        }\n      }\n    }\n  },\n  MuiCardActions: {\n    styleOverrides: {\n      root: {\n        // We default to putting the card actions at the end\n        justifyContent: \"flex-end\"\n      }\n    }\n  },\n  MuiLink: {\n    defaultProps: {\n      underline: \"hover\"\n    }\n  },\n  MuiPaper: {\n    styleOverrides: { root: { backgroundImage: \"unset\" } }\n  },\n  MuiMenuItem: {\n    styleOverrides: {\n      root: ({ theme }) => ({\n        // Fixes a bug with MUI 4 that's fixed in MUI 5\n        \"&:focus\": {\n          backgroundColor: theme.palette.action.focus\n        }\n      })\n    }\n  }\n};\n\nexport { defaultComponentThemes };\n//# sourceMappingURL=defaultComponentThemes.esm.js.map\n","const __v5Spacing = (defaultSpacing) => (...argsInput) => {\n  const args = argsInput.length === 0 ? [1] : argsInput;\n  const transform = (argument, themeSpacing) => {\n    if (typeof argument === \"string\") {\n      return argument;\n    }\n    return themeSpacing * argument;\n  };\n  return args.map((argument) => {\n    const output = transform(argument, defaultSpacing);\n    return typeof output === \"number\" ? `${output}px` : output;\n  }).join(\" \");\n};\nfunction adaptV5CssBaselineOverride(theme, overrides) {\n  if (!overrides || typeof overrides === \"string\") {\n    return void 0;\n  }\n  const styles = typeof overrides === \"function\" ? overrides(theme) : overrides;\n  if (styles) {\n    return { \"@global\": styles };\n  }\n  return void 0;\n}\nfunction adaptV5Override(theme, overrides) {\n  if (!overrides || typeof overrides === \"string\") {\n    return void 0;\n  }\n  if (typeof overrides === \"object\") {\n    const _theme = { ...theme };\n    const defaultSpacing = theme.spacing(1);\n    if (typeof defaultSpacing === \"number\") {\n      _theme.spacing = __v5Spacing(defaultSpacing);\n    }\n    return Object.fromEntries(\n      Object.entries(overrides).map(([className, style]) => {\n        if (typeof style === \"function\") {\n          return [className, style({ theme: _theme })];\n        }\n        return [className, style];\n      })\n    );\n  }\n  return overrides;\n}\nconst stateStyleKeyPattern = /^&.Mui-([\\w-]+)$/;\nfunction extractV5StateOverrides(overrides) {\n  let output = overrides;\n  if (!overrides || typeof overrides !== \"object\") {\n    return output;\n  }\n  for (const className of Object.keys(overrides)) {\n    const styles = overrides[className];\n    if (!styles || typeof styles !== \"object\") {\n      continue;\n    }\n    for (const _styleKey of Object.keys(styles)) {\n      const styleKey = _styleKey;\n      const match = styleKey.match(stateStyleKeyPattern);\n      if (match) {\n        const [, state] = match;\n        const { [styleKey]: stateStyles, ...restStyles } = styles;\n        if (stateStyles) {\n          output = {\n            ...output,\n            [className]: restStyles,\n            [state]: stateStyles\n          };\n        }\n      }\n    }\n  }\n  return output;\n}\nfunction transformV5ComponentThemesToV4(theme, components = {}) {\n  const overrides = {};\n  const props = {};\n  for (const name of Object.keys(components)) {\n    const component = components[name];\n    if (!component) {\n      continue;\n    }\n    if (\"styleOverrides\" in component) {\n      if (name === \"MuiCssBaseline\") {\n        overrides[name] = adaptV5CssBaselineOverride(\n          theme,\n          component.styleOverrides\n        );\n      } else {\n        overrides[name] = extractV5StateOverrides(\n          adaptV5Override(theme, component.styleOverrides)\n        );\n      }\n    }\n    if (\"defaultProps\" in component) {\n      props[name] = component.defaultProps;\n    }\n  }\n  return { overrides, props };\n}\n\nexport { transformV5ComponentThemesToV4 };\n//# sourceMappingURL=overrides.esm.js.map\n","import { createTheme as createTheme$1 } from '@material-ui/core/styles';\nimport { createTheme, adaptV4Theme } from '@mui/material/styles';\nimport { createBaseThemeOptions } from '../base/createBaseThemeOptions.esm.js';\nimport { defaultComponentThemes } from '../v5/defaultComponentThemes.esm.js';\nimport { transformV5ComponentThemesToV4 } from './overrides.esm.js';\n\nclass UnifiedThemeHolder {\n  #themes = /* @__PURE__ */ new Map();\n  constructor(v4, v5) {\n    this.#themes = /* @__PURE__ */ new Map();\n    if (v4) {\n      this.#themes.set(\"v4\", v4);\n    }\n    if (v5) {\n      this.#themes.set(\"v5\", v5);\n    }\n  }\n  getTheme(version) {\n    return this.#themes.get(version);\n  }\n}\nfunction createUnifiedTheme(options) {\n  const themeOptions = createBaseThemeOptions(options);\n  const components = { ...defaultComponentThemes, ...options.components };\n  const v5Theme = createTheme({ ...themeOptions, components });\n  const v4Overrides = transformV5ComponentThemesToV4(v5Theme, components);\n  const v4Theme = { ...createTheme$1(themeOptions), ...v4Overrides };\n  return new UnifiedThemeHolder(v4Theme, v5Theme);\n}\nfunction createUnifiedThemeFromV4(options) {\n  const v5Theme = adaptV4Theme(options);\n  const v4Theme = createTheme$1(options);\n  return new UnifiedThemeHolder(v4Theme, createTheme(v5Theme));\n}\n\nexport { UnifiedThemeHolder, createUnifiedTheme, createUnifiedThemeFromV4 };\n//# sourceMappingURL=UnifiedTheme.esm.js.map\n","import '../base/pageTheme.esm.js';\nimport { palettes } from '../base/palettes.esm.js';\nimport { createUnifiedTheme } from './UnifiedTheme.esm.js';\n\nconst themes = {\n  light: createUnifiedTheme({ palette: palettes.light }),\n  dark: createUnifiedTheme({ palette: palettes.dark })\n};\n\nexport { themes };\n//# sourceMappingURL=themes.esm.js.map\n","const palettes = {\n  light: {\n    type: \"light\",\n    mode: \"light\",\n    background: {\n      default: \"#F8F8F8\",\n      paper: \"#FFFFFF\"\n    },\n    status: {\n      ok: \"#1DB954\",\n      warning: \"#FF9800\",\n      error: \"#E22134\",\n      running: \"#1F5493\",\n      pending: \"#FFED51\",\n      aborted: \"#757575\"\n    },\n    bursts: {\n      fontColor: \"#FEFEFE\",\n      slackChannelText: \"#ddd\",\n      backgroundColor: {\n        default: \"#7C3699\"\n      },\n      gradient: {\n        linear: \"linear-gradient(-137deg, #4BB8A5 0%, #187656 100%)\"\n      }\n    },\n    primary: {\n      main: \"#1F5493\"\n    },\n    banner: {\n      info: \"#2E77D0\",\n      error: \"#E22134\",\n      text: \"#FFFFFF\",\n      link: \"#000000\",\n      closeButtonColor: \"#FFFFFF\",\n      warning: \"#FF9800\"\n    },\n    border: \"#E6E6E6\",\n    textContrast: \"#000000\",\n    textVerySubtle: \"#DDD\",\n    textSubtle: \"#6E6E6E\",\n    highlight: \"#FFFBCC\",\n    errorBackground: \"#FFEBEE\",\n    warningBackground: \"#F59B23\",\n    infoBackground: \"#ebf5ff\",\n    errorText: \"#CA001B\",\n    infoText: \"#004e8a\",\n    warningText: \"#000000\",\n    linkHover: \"#2196F3\",\n    link: \"#0A6EBE\",\n    gold: \"#FFD600\",\n    navigation: {\n      background: \"#171717\",\n      indicator: \"#9BF0E1\",\n      color: \"#b5b5b5\",\n      selectedColor: \"#FFF\",\n      navItem: {\n        hoverBackground: \"#404040\"\n      },\n      submenu: {\n        background: \"#404040\"\n      }\n    },\n    pinSidebarButton: {\n      icon: \"#181818\",\n      background: \"#BDBDBD\"\n    },\n    tabbar: {\n      indicator: \"#9BF0E1\"\n    }\n  },\n  dark: {\n    type: \"dark\",\n    mode: \"dark\",\n    background: {\n      default: \"#333333\",\n      paper: \"#424242\"\n    },\n    status: {\n      ok: \"#71CF88\",\n      warning: \"#FFB84D\",\n      error: \"#F84C55\",\n      running: \"#3488E3\",\n      pending: \"#FEF071\",\n      aborted: \"#9E9E9E\"\n    },\n    bursts: {\n      fontColor: \"#FEFEFE\",\n      slackChannelText: \"#ddd\",\n      backgroundColor: {\n        default: \"#7C3699\"\n      },\n      gradient: {\n        linear: \"linear-gradient(-137deg, #4BB8A5 0%, #187656 100%)\"\n      }\n    },\n    primary: {\n      main: \"#9CC9FF\",\n      dark: \"#82BAFD\"\n    },\n    secondary: {\n      main: \"#FF88B2\"\n    },\n    banner: {\n      info: \"#2E77D0\",\n      error: \"#E22134\",\n      text: \"#FFFFFF\",\n      link: \"#000000\",\n      closeButtonColor: \"#FFFFFF\",\n      warning: \"#FF9800\"\n    },\n    border: \"#E6E6E6\",\n    textContrast: \"#FFFFFF\",\n    textVerySubtle: \"#727272\",\n    textSubtle: \"#CCCCCC\",\n    highlight: \"#FFFBCC\",\n    errorBackground: \"#FFEBEE\",\n    warningBackground: \"#F59B23\",\n    infoBackground: \"#ebf5ff\",\n    errorText: \"#CA001B\",\n    infoText: \"#004e8a\",\n    warningText: \"#000000\",\n    linkHover: \"#82BAFD\",\n    link: \"#9CC9FF\",\n    gold: \"#FFD600\",\n    navigation: {\n      background: \"#424242\",\n      indicator: \"#9BF0E1\",\n      color: \"#b5b5b5\",\n      selectedColor: \"#FFF\",\n      navItem: {\n        hoverBackground: \"#404040\"\n      },\n      submenu: {\n        background: \"#404040\"\n      }\n    },\n    pinSidebarButton: {\n      icon: \"#404040\",\n      background: \"#BDBDBD\"\n    },\n    tabbar: {\n      indicator: \"#9BF0E1\"\n    }\n  }\n};\n\nexport { palettes };\n//# sourceMappingURL=palettes.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { UnifiedThemeProvider, themes as themes$1 } from '@backstage/theme';\nimport DarkIcon from '@material-ui/icons/Brightness2';\nimport LightIcon from '@material-ui/icons/WbSunny';\n\nconst themes = [\n  {\n    id: \"light\",\n    title: \"Light Theme\",\n    variant: \"light\",\n    icon: /* @__PURE__ */ jsx(LightIcon, {}),\n    Provider: ({ children }) => /* @__PURE__ */ jsx(UnifiedThemeProvider, { theme: themes$1.light, children })\n  },\n  {\n    id: \"dark\",\n    title: \"Dark Theme\",\n    variant: \"dark\",\n    icon: /* @__PURE__ */ jsx(DarkIcon, {}),\n    Provider: ({ children }) => /* @__PURE__ */ jsx(UnifiedThemeProvider, { theme: themes$1.dark, children })\n  }\n];\n\nexport { themes };\n//# sourceMappingURL=themes.esm.js.map\n","class ApiAggregator {\n  holders;\n  constructor(...holders) {\n    this.holders = holders;\n  }\n  get(apiRef) {\n    for (const holder of this.holders) {\n      const api = holder.get(apiRef);\n      if (api) {\n        return api;\n      }\n    }\n    return void 0;\n  }\n}\n\nexport { ApiAggregator };\n//# sourceMappingURL=ApiAggregator.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { ApiAggregator } from './ApiAggregator.esm.js';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\n\nconst ApiContext = createVersionedContext(\"api-context\");\nconst ApiProvider = (props) => {\n  const { apis, children } = props;\n  const parentHolder = useContext(ApiContext)?.atVersion(1);\n  const holder = parentHolder ? new ApiAggregator(apis, parentHolder) : apis;\n  return /* @__PURE__ */ jsx(\n    ApiContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: holder }),\n      children\n    }\n  );\n};\nApiProvider.propTypes = {\n  apis: PropTypes.shape({ get: PropTypes.func.isRequired }).isRequired,\n  children: PropTypes.node\n};\n\nexport { ApiProvider };\n//# sourceMappingURL=ApiProvider.esm.js.map\n","class ApiResolver {\n  constructor(factories) {\n    this.factories = factories;\n  }\n  /**\n   * Validate factories by making sure that each of the apis can be created\n   * without hitting any circular dependencies.\n   */\n  static validateFactories(factories, apis) {\n    for (const api of apis) {\n      const heap = [api];\n      const allDeps = /* @__PURE__ */ new Set();\n      while (heap.length) {\n        const apiRef = heap.shift();\n        const factory = factories.get(apiRef);\n        if (!factory) {\n          continue;\n        }\n        for (const dep of Object.values(factory.deps)) {\n          if (dep.id === api.id) {\n            throw new Error(`Circular dependency of api factory for ${api}`);\n          }\n          if (!allDeps.has(dep)) {\n            allDeps.add(dep);\n            heap.push(dep);\n          }\n        }\n      }\n    }\n  }\n  apis = /* @__PURE__ */ new Map();\n  get(ref) {\n    return this.load(ref);\n  }\n  load(ref, loading = []) {\n    const impl = this.apis.get(ref.id);\n    if (impl) {\n      return impl;\n    }\n    const factory = this.factories.get(ref);\n    if (!factory) {\n      return void 0;\n    }\n    if (loading.includes(factory.api)) {\n      throw new Error(`Circular dependency of api factory for ${factory.api}`);\n    }\n    const deps = this.loadDeps(ref, factory.deps, [...loading, factory.api]);\n    const api = factory.factory(deps);\n    this.apis.set(ref.id, api);\n    return api;\n  }\n  loadDeps(dependent, apis, loading) {\n    const impls = {};\n    for (const key in apis) {\n      if (apis.hasOwnProperty(key)) {\n        const ref = apis[key];\n        const api = this.load(ref, loading);\n        if (!api) {\n          throw new Error(\n            `No API factory available for dependency ${ref} of dependent ${dependent}`\n          );\n        }\n        impls[key] = api;\n      }\n    }\n    return impls;\n  }\n}\n\nexport { ApiResolver };\n//# sourceMappingURL=ApiResolver.esm.js.map\n","const ScopePriority = {\n  default: 10,\n  app: 50,\n  static: 100\n};\nclass ApiFactoryRegistry {\n  factories = /* @__PURE__ */ new Map();\n  /**\n   * Register a new API factory. Returns true if the factory was added\n   * to the registry.\n   *\n   * A factory will not be added to the registry if there is already\n   * an existing factory with the same or higher priority.\n   */\n  register(scope, factory) {\n    const priority = ScopePriority[scope];\n    const existing = this.factories.get(factory.api.id);\n    if (existing && existing.priority >= priority) {\n      return false;\n    }\n    this.factories.set(factory.api.id, { priority, factory });\n    return true;\n  }\n  get(api) {\n    const tuple = this.factories.get(api.id);\n    if (!tuple) {\n      return void 0;\n    }\n    return tuple.factory;\n  }\n  getAllApis() {\n    const refs = /* @__PURE__ */ new Set();\n    for (const { factory } of this.factories.values()) {\n      refs.add(factory.api);\n    }\n    return refs;\n  }\n}\n\nexport { ApiFactoryRegistry };\n//# sourceMappingURL=ApiFactoryRegistry.esm.js.map\n","import { BehaviorSubject } from '../../../lib/subjects.esm.js';\n\nconst STORAGE_KEY = \"theme\";\nclass AppThemeSelector {\n  constructor(themes) {\n    this.themes = themes;\n  }\n  static createWithStorage(themes) {\n    const selector = new AppThemeSelector(themes);\n    if (!window.localStorage) {\n      return selector;\n    }\n    const initialThemeId = window.localStorage.getItem(STORAGE_KEY) ?? void 0;\n    selector.setActiveThemeId(initialThemeId);\n    selector.activeThemeId$().subscribe((themeId) => {\n      if (themeId) {\n        window.localStorage.setItem(STORAGE_KEY, themeId);\n      } else {\n        window.localStorage.removeItem(STORAGE_KEY);\n      }\n    });\n    window.addEventListener(\"storage\", (event) => {\n      if (event.key === STORAGE_KEY) {\n        const themeId = localStorage.getItem(STORAGE_KEY) ?? void 0;\n        selector.setActiveThemeId(themeId);\n      }\n    });\n    return selector;\n  }\n  activeThemeId;\n  subject = new BehaviorSubject(void 0);\n  getInstalledThemes() {\n    return this.themes.slice();\n  }\n  activeThemeId$() {\n    return this.subject;\n  }\n  getActiveThemeId() {\n    return this.activeThemeId;\n  }\n  setActiveThemeId(themeId) {\n    this.activeThemeId = themeId;\n    this.subject.next(themeId);\n  }\n}\n\nexport { AppThemeSelector };\n//# sourceMappingURL=AppThemeSelector.esm.js.map\n","const CONFIG_KEY_PART_PATTERN = /^[a-z][a-z0-9]*(?:[-_:][a-z0-9]+)*$/i;\nfunction isObject(value) {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\nfunction cloneDeep(value) {\n  if (typeof value !== \"object\" || value === null) {\n    return value;\n  }\n  if (Array.isArray(value)) {\n    return value.map(cloneDeep);\n  }\n  return Object.fromEntries(\n    Object.entries(value).map(([k, v]) => [k, cloneDeep(v)])\n  );\n}\nfunction merge(into, from) {\n  if (into === null) {\n    return void 0;\n  }\n  if (into === void 0) {\n    return from === void 0 ? void 0 : merge(from);\n  }\n  if (typeof into !== \"object\" || Array.isArray(into)) {\n    return into;\n  }\n  const fromObj = isObject(from) ? from : {};\n  const out = {};\n  for (const key of /* @__PURE__ */ new Set([...Object.keys(into), ...Object.keys(fromObj)])) {\n    const val = merge(into[key], fromObj[key]);\n    if (val !== void 0) {\n      out[key] = val;\n    }\n  }\n  return out;\n}\nfunction typeOf(value) {\n  if (value === null) {\n    return \"null\";\n  } else if (Array.isArray(value)) {\n    return \"array\";\n  }\n  const type = typeof value;\n  if (type === \"number\" && isNaN(value)) {\n    return \"nan\";\n  }\n  if (type === \"string\" && value === \"\") {\n    return \"empty-string\";\n  }\n  return type;\n}\nconst errors = {\n  type(key, context, typeName, expected) {\n    return `Invalid type in config for key '${key}' in '${context}', got ${typeName}, wanted ${expected}`;\n  },\n  missing(key, context) {\n    return `Missing required config value at '${key}' in '${context}'`;\n  },\n  convert(key, context, expected) {\n    return `Unable to convert config value for key '${key}' in '${context}' to a ${expected}`;\n  }\n};\nclass ConfigReader {\n  /**\n   * A set of key paths that where removed from the config due to not being visible.\n   *\n   * This was added as a mutable private member to avoid changes to the public API.\n   * Its only purpose of this is to warn users of missing visibility when running\n   * the frontend in development mode.\n   */\n  filteredKeys;\n  notifiedFilteredKeys = /* @__PURE__ */ new Set();\n  /**\n   * Instantiates the config reader from a list of application config objects.\n   */\n  static fromConfigs(configs) {\n    if (configs.length === 0) {\n      return new ConfigReader(void 0);\n    }\n    return configs.reduce(\n      (previousReader, { data, context, filteredKeys, deprecatedKeys }) => {\n        const reader = new ConfigReader(data, context, previousReader);\n        reader.filteredKeys = filteredKeys;\n        if (deprecatedKeys) {\n          for (const { key, description } of deprecatedKeys) {\n            console.warn(\n              `The configuration key '${key}' of ${context} is deprecated and may be removed soon. ${description || \"\"}`\n            );\n          }\n        }\n        return reader;\n      },\n      void 0\n    );\n  }\n  data;\n  context;\n  fallback;\n  prefix;\n  constructor(data, context = \"mock-config\", fallback, prefix = \"\") {\n    this.data = data;\n    this.context = context;\n    this.fallback = fallback;\n    this.prefix = prefix;\n  }\n  /** {@inheritdoc Config.has} */\n  has(key) {\n    const value = this.readValue(key);\n    if (value === null) {\n      return false;\n    }\n    if (value !== void 0) {\n      return true;\n    }\n    return this.fallback?.has(key) ?? false;\n  }\n  /** {@inheritdoc Config.keys} */\n  keys() {\n    const localKeys = this.data ? Object.keys(this.data) : [];\n    const fallbackKeys = this.fallback?.keys() ?? [];\n    return [.../* @__PURE__ */ new Set([...localKeys, ...fallbackKeys])].filter(\n      (k) => this.data?.[k] !== null\n    );\n  }\n  /** {@inheritdoc Config.get} */\n  get(key) {\n    const value = this.getOptional(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key ?? \"\"), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptional} */\n  getOptional(key) {\n    const value = cloneDeep(this.readValue(key));\n    const fallbackValue = this.fallback?.getOptional(key);\n    if (value === null) {\n      return void 0;\n    }\n    if (value === void 0) {\n      if (process.env.NODE_ENV === \"development\") {\n        if (fallbackValue === void 0 && key) {\n          const fullKey = this.fullKey(key);\n          if (this.filteredKeys?.includes(fullKey) && !this.notifiedFilteredKeys.has(fullKey)) {\n            this.notifiedFilteredKeys.add(fullKey);\n            console.warn(\n              `Failed to read configuration value at '${fullKey}' as it is not visible. See https://backstage.io/docs/conf/defining#visibility for instructions on how to make it visible.`\n            );\n          }\n        }\n      }\n      return merge(fallbackValue);\n    } else if (fallbackValue === void 0) {\n      return merge(value);\n    }\n    return merge(value, fallbackValue);\n  }\n  /** {@inheritdoc Config.getConfig} */\n  getConfig(key) {\n    const value = this.getOptionalConfig(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalConfig} */\n  getOptionalConfig(key) {\n    const value = this.readValue(key);\n    const fallbackConfig = this.fallback?.getOptionalConfig(key);\n    if (isObject(value)) {\n      return this.copy(value, key, fallbackConfig);\n    }\n    if (value === null) {\n      return void 0;\n    }\n    if (value !== void 0) {\n      throw new TypeError(\n        errors.type(this.fullKey(key), this.context, typeOf(value), \"object\")\n      );\n    }\n    return fallbackConfig;\n  }\n  /** {@inheritdoc Config.getConfigArray} */\n  getConfigArray(key) {\n    const value = this.getOptionalConfigArray(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalConfigArray} */\n  getOptionalConfigArray(key) {\n    const configs = this.readConfigValue(key, (values) => {\n      if (!Array.isArray(values)) {\n        return { expected: \"object-array\" };\n      }\n      for (const [index, value] of values.entries()) {\n        if (!isObject(value)) {\n          return { expected: \"object-array\", value, key: `${key}[${index}]` };\n        }\n      }\n      return true;\n    });\n    if (!configs) {\n      if (process.env.NODE_ENV === \"development\") {\n        const fullKey = this.fullKey(key);\n        if (this.filteredKeys?.some((k) => k.startsWith(fullKey)) && !this.notifiedFilteredKeys.has(key)) {\n          this.notifiedFilteredKeys.add(key);\n          console.warn(\n            `Failed to read configuration array at '${key}' as it does not have any visible elements. See https://backstage.io/docs/conf/defining#visibility for instructions on how to make it visible.`\n          );\n        }\n      }\n      return void 0;\n    }\n    return configs.map((obj, index) => this.copy(obj, `${key}[${index}]`));\n  }\n  /** {@inheritdoc Config.getNumber} */\n  getNumber(key) {\n    const value = this.getOptionalNumber(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalNumber} */\n  getOptionalNumber(key) {\n    const value = this.readConfigValue(\n      key,\n      (val) => typeof val === \"number\" || typeof val === \"string\" || { expected: \"number\" }\n    );\n    if (typeof value === \"number\" || value === void 0) {\n      return value;\n    }\n    const number = Number(value);\n    if (!Number.isFinite(number)) {\n      throw new Error(\n        errors.convert(this.fullKey(key), this.context, \"number\")\n      );\n    }\n    return number;\n  }\n  /** {@inheritdoc Config.getBoolean} */\n  getBoolean(key) {\n    const value = this.getOptionalBoolean(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalBoolean} */\n  getOptionalBoolean(key) {\n    const value = this.readConfigValue(\n      key,\n      (val) => typeof val === \"boolean\" || typeof val === \"number\" || typeof val === \"string\" || { expected: \"boolean\" }\n    );\n    if (typeof value === \"boolean\" || value === void 0) {\n      return value;\n    }\n    const valueString = String(value).trim();\n    if (/^(?:y|yes|true|1|on)$/i.test(valueString)) {\n      return true;\n    }\n    if (/^(?:n|no|false|0|off)$/i.test(valueString)) {\n      return false;\n    }\n    throw new Error(errors.convert(this.fullKey(key), this.context, \"boolean\"));\n  }\n  /** {@inheritdoc Config.getString} */\n  getString(key) {\n    const value = this.getOptionalString(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalString} */\n  getOptionalString(key) {\n    return this.readConfigValue(\n      key,\n      (value) => typeof value === \"string\" && value !== \"\" || { expected: \"string\" }\n    );\n  }\n  /** {@inheritdoc Config.getStringArray} */\n  getStringArray(key) {\n    const value = this.getOptionalStringArray(key);\n    if (value === void 0) {\n      throw new Error(errors.missing(this.fullKey(key), this.context));\n    }\n    return value;\n  }\n  /** {@inheritdoc Config.getOptionalStringArray} */\n  getOptionalStringArray(key) {\n    return this.readConfigValue(key, (values) => {\n      if (!Array.isArray(values)) {\n        return { expected: \"string-array\" };\n      }\n      for (const [index, value] of values.entries()) {\n        if (typeof value !== \"string\" || value === \"\") {\n          return { expected: \"string-array\", value, key: `${key}[${index}]` };\n        }\n      }\n      return true;\n    });\n  }\n  fullKey(key) {\n    return `${this.prefix}${this.prefix ? \".\" : \"\"}${key}`;\n  }\n  copy(data, key, fallback) {\n    const reader = new ConfigReader(\n      data,\n      this.context,\n      fallback,\n      this.fullKey(key)\n    );\n    reader.filteredKeys = this.filteredKeys;\n    return reader;\n  }\n  readConfigValue(key, validate) {\n    const value = this.readValue(key);\n    if (value === void 0) {\n      if (process.env.NODE_ENV === \"development\") {\n        const fullKey = this.fullKey(key);\n        if (this.filteredKeys?.includes(fullKey) && !this.notifiedFilteredKeys.has(fullKey)) {\n          this.notifiedFilteredKeys.add(fullKey);\n          console.warn(\n            `Failed to read configuration value at '${fullKey}' as it is not visible. See https://backstage.io/docs/conf/defining#visibility for instructions on how to make it visible.`\n          );\n        }\n      }\n      return this.fallback?.readConfigValue(key, validate);\n    }\n    if (value === null) {\n      return void 0;\n    }\n    const result = validate(value);\n    if (result !== true) {\n      const { key: keyName = key, value: theValue = value, expected } = result;\n      throw new TypeError(\n        errors.type(\n          this.fullKey(keyName),\n          this.context,\n          typeOf(theValue),\n          expected\n        )\n      );\n    }\n    return value;\n  }\n  readValue(key) {\n    const parts = key ? key.split(\".\") : [];\n    for (const part of parts) {\n      if (!CONFIG_KEY_PART_PATTERN.test(part)) {\n        throw new TypeError(`Invalid config key '${key}'`);\n      }\n    }\n    if (this.data === void 0) {\n      return void 0;\n    }\n    let value = this.data;\n    for (const [index, part] of parts.entries()) {\n      if (isObject(value)) {\n        value = value[part];\n      } else if (value !== void 0 && value !== null) {\n        const badKey = this.fullKey(parts.slice(0, index).join(\".\"));\n        throw new TypeError(\n          errors.type(badKey, this.context, typeOf(value), \"object\")\n        );\n      }\n    }\n    return value;\n  }\n}\n\nexport { ConfigReader };\n//# sourceMappingURL=reader.esm.js.map\n","import { FeatureFlagState } from '@backstage/core-plugin-api';\n\nfunction validateFlagName(name) {\n  if (name.length < 3) {\n    throw new Error(\n      `The '${name}' feature flag must have a minimum length of three characters.`\n    );\n  }\n  if (name.length > 150) {\n    throw new Error(\n      `The '${name}' feature flag must not exceed 150 characters.`\n    );\n  }\n  if (!name.match(/^[a-z]+[a-z0-9-]+$/)) {\n    throw new Error(\n      `The '${name}' feature flag must start with a lowercase letter and only contain lowercase letters, numbers and hyphens. Examples: feature-flag-one, alpha, release-2020`\n    );\n  }\n}\nclass LocalStorageFeatureFlags {\n  registeredFeatureFlags = [];\n  flags;\n  registerFlag(flag) {\n    validateFlagName(flag.name);\n    this.registeredFeatureFlags.push(flag);\n  }\n  getRegisteredFlags() {\n    return this.registeredFeatureFlags.slice();\n  }\n  isActive(name) {\n    if (!this.flags) {\n      this.flags = this.load();\n    }\n    return this.flags.get(name) === FeatureFlagState.Active;\n  }\n  save(options) {\n    if (!this.flags) {\n      this.flags = this.load();\n    }\n    if (!options.merge) {\n      this.flags.clear();\n    }\n    for (const [name, state] of Object.entries(options.states)) {\n      this.flags.set(name, state);\n    }\n    const enabled = Array.from(this.flags.entries()).filter(\n      ([, state]) => state === FeatureFlagState.Active\n    );\n    window.localStorage.setItem(\n      \"featureFlags\",\n      JSON.stringify(Object.fromEntries(enabled))\n    );\n  }\n  load() {\n    try {\n      const jsonStr = window.localStorage.getItem(\"featureFlags\");\n      if (!jsonStr) {\n        return /* @__PURE__ */ new Map();\n      }\n      const json = JSON.parse(jsonStr);\n      if (typeof json !== \"object\" || json === null || Array.isArray(json)) {\n        return /* @__PURE__ */ new Map();\n      }\n      const entries = Object.entries(json).filter(([name, value]) => {\n        validateFlagName(name);\n        return value === FeatureFlagState.Active;\n      });\n      return new Map(entries);\n    } catch {\n      return /* @__PURE__ */ new Map();\n    }\n  }\n}\n\nexport { LocalStorageFeatureFlags, validateFlagName };\n//# sourceMappingURL=LocalStorageFeatureFlags.esm.js.map\n","import { Children, isValidElement } from 'react';\n\nfunction traverseElementTree(options) {\n  const collectors = {};\n  for (const name in options.collectors) {\n    if (options.collectors.hasOwnProperty(name)) {\n      collectors[name] = options.collectors[name]();\n    }\n  }\n  const queue = [\n    {\n      node: Children.toArray(options.root),\n      parent: void 0,\n      contexts: {}\n    }\n  ];\n  while (queue.length !== 0) {\n    const { node, parent, contexts } = queue.shift();\n    Children.forEach(node, (element) => {\n      if (!isValidElement(element)) {\n        return;\n      }\n      const nextContexts = {};\n      for (const name in collectors) {\n        if (collectors.hasOwnProperty(name)) {\n          const collector = collectors[name];\n          nextContexts[name] = collector.visit(\n            collector.accumulator,\n            element,\n            parent,\n            contexts[name]\n          );\n        }\n      }\n      for (const discoverer of options.discoverers) {\n        const children = discoverer(element);\n        if (children) {\n          queue.push({\n            node: children,\n            parent: element,\n            contexts: nextContexts\n          });\n        }\n      }\n    });\n  }\n  return Object.fromEntries(\n    Object.entries(collectors).map(([name, c]) => [name, c.accumulator])\n  );\n}\nfunction createCollector(accumulatorFactory, visit) {\n  return () => ({ accumulator: accumulatorFactory(), visit });\n}\nfunction childDiscoverer(element) {\n  return element.props?.children;\n}\nfunction routeElementDiscoverer(element) {\n  if (element.props?.path && element.props?.element) {\n    return element.props?.element;\n  }\n  return void 0;\n}\n\nexport { childDiscoverer, createCollector, routeElementDiscoverer, traverseElementTree };\n//# sourceMappingURL=traversal.esm.js.map\n","import { getComponentData } from '@backstage/core-plugin-api';\nimport { createCollector } from '../extensions/traversal.esm.js';\n\nconst pluginCollector = createCollector(\n  () => /* @__PURE__ */ new Set(),\n  (acc, node) => {\n    const plugin = getComponentData(node, \"core.plugin\");\n    if (plugin) {\n      acc.add(plugin);\n    }\n  }\n);\n\nexport { pluginCollector };\n//# sourceMappingURL=collectors.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { attachComponentData, useApi, featureFlagsApiRef } from '@backstage/core-plugin-api';\n\nconst FeatureFlagged = (props) => {\n  const { children } = props;\n  const featureFlagApi = useApi(featureFlagsApiRef);\n  const isEnabled = \"with\" in props ? featureFlagApi.isActive(props.with) : !featureFlagApi.isActive(props.without);\n  return /* @__PURE__ */ jsx(Fragment, { children: isEnabled ? children : null });\n};\nattachComponentData(FeatureFlagged, \"core.featureFlagged\", true);\n\nexport { FeatureFlagged };\n//# sourceMappingURL=FeatureFlagged.esm.js.map\n","import { getComponentData } from '@backstage/core-plugin-api';\nimport { isValidElement, Children } from 'react';\nimport { createCollector } from '../extensions/traversal.esm.js';\nimport { FeatureFlagged } from './FeatureFlagged.esm.js';\n\nconst MATCH_ALL_ROUTE = {\n  caseSensitive: false,\n  path: \"*\",\n  element: \"match-all\",\n  // These elements aren't used, so we add in a bit of debug information\n  routeRefs: /* @__PURE__ */ new Set(),\n  plugins: /* @__PURE__ */ new Set()\n};\nfunction stringifyNode(node) {\n  const anyNode = node;\n  if (anyNode?.type) {\n    return anyNode.type.displayName ?? anyNode.type.name ?? String(anyNode.type);\n  }\n  return String(anyNode);\n}\nconst pluginSet = (plugin) => {\n  const set = /* @__PURE__ */ new Set();\n  if (plugin) {\n    set.add(plugin);\n  }\n  return set;\n};\nfunction collectSubTree(node, entries = new Array()) {\n  Children.forEach(node, (element) => {\n    if (!isValidElement(element)) {\n      return;\n    }\n    const routeRef = getComponentData(element, \"core.mountPoint\");\n    if (routeRef) {\n      const plugin = getComponentData(element, \"core.plugin\");\n      entries.push({ routeRef, plugin });\n    }\n    collectSubTree(element.props.children, entries);\n  });\n  return entries;\n}\nconst routingV2Collector = createCollector(\n  () => ({\n    paths: /* @__PURE__ */ new Map(),\n    parents: /* @__PURE__ */ new Map(),\n    objects: new Array()\n  }),\n  (acc, node, parent, ctx) => {\n    if (ctx?.isElementAncestor) {\n      return ctx;\n    }\n    if (parent?.props.element === node) {\n      return { ...ctx, isElementAncestor: true };\n    }\n    const pathProp = node.props?.path;\n    const mountPoint = getComponentData(node, \"core.mountPoint\");\n    if (mountPoint && pathProp) {\n      throw new Error(\n        `Path property may not be set directly on a routable extension \"${stringifyNode(\n          node\n        )}\"`\n      );\n    }\n    const parentChildren = ctx?.obj?.children ?? acc.objects;\n    if (pathProp !== void 0) {\n      if (typeof pathProp !== \"string\") {\n        throw new Error(\n          `Element path must be a string at \"${stringifyNode(node)}\"`\n        );\n      }\n      const path = pathProp.startsWith(\"/\") ? pathProp.slice(1) : pathProp;\n      const elementProp = node.props.element;\n      if (getComponentData(node, \"core.gatherMountPoints\")) {\n        if (elementProp) {\n          throw new Error(\n            `Mount point gatherers may not have an element prop \"${stringifyNode(\n              node\n            )}\"`\n          );\n        }\n        const newObj = {\n          path,\n          element: \"gathered\",\n          routeRefs: /* @__PURE__ */ new Set(),\n          caseSensitive: Boolean(node.props?.caseSensitive),\n          children: [MATCH_ALL_ROUTE],\n          plugins: /* @__PURE__ */ new Set()\n        };\n        parentChildren.push(newObj);\n        return {\n          obj: newObj,\n          gatherPath: path,\n          routeRef: ctx?.routeRef,\n          gatherRouteRef: ctx?.routeRef\n        };\n      }\n      if (elementProp) {\n        const [extension, ...others] = collectSubTree(elementProp);\n        if (others.length > 0) {\n          throw new Error(\n            `Route element with path \"${pathProp}\" may not contain multiple routable extensions`\n          );\n        }\n        if (!extension) {\n          return ctx;\n        }\n        const { routeRef, plugin } = extension;\n        const newObj = {\n          path,\n          element: \"mounted\",\n          routeRefs: /* @__PURE__ */ new Set([routeRef]),\n          caseSensitive: Boolean(node.props?.caseSensitive),\n          children: [MATCH_ALL_ROUTE],\n          plugins: pluginSet(plugin)\n        };\n        parentChildren.push(newObj);\n        acc.paths.set(routeRef, path);\n        acc.parents.set(routeRef, ctx?.routeRef);\n        return {\n          obj: newObj,\n          routeRef: routeRef ?? ctx?.routeRef,\n          gatherPath: path,\n          gatherRouteRef: ctx?.gatherRouteRef\n        };\n      }\n    }\n    if (mountPoint) {\n      if (ctx?.gatherPath === void 0) {\n        throw new Error(\n          `Routable extension \"${stringifyNode(\n            node\n          )}\" with mount point \"${mountPoint}\" must be assigned a path`\n        );\n      }\n      ctx?.obj?.routeRefs.add(mountPoint);\n      const mountPointPlugin = getComponentData(\n        node,\n        \"core.plugin\"\n      );\n      if (mountPointPlugin) {\n        ctx?.obj?.plugins.add(mountPointPlugin);\n      }\n      acc.paths.set(mountPoint, ctx.gatherPath);\n      acc.parents.set(mountPoint, ctx?.gatherRouteRef);\n      return {\n        ...ctx,\n        routeRef: mountPoint\n      };\n    }\n    return ctx;\n  }\n);\nconst routingV1Collector = createCollector(\n  () => ({\n    paths: /* @__PURE__ */ new Map(),\n    parents: /* @__PURE__ */ new Map(),\n    objects: new Array()\n  }),\n  (acc, node, parent, ctx) => {\n    if (parent?.props.element === node) {\n      return ctx;\n    }\n    let currentObj = ctx?.obj;\n    let currentParentRouteRef = ctx?.routeRef;\n    let sticky = ctx?.sticky;\n    const path = node.props?.path;\n    const parentChildren = currentObj?.children ?? acc.objects;\n    const caseSensitive = Boolean(node.props?.caseSensitive);\n    let currentCtxPath = ctx?.path;\n    if (getComponentData(node, \"core.gatherMountPoints\")) {\n      if (!path) {\n        throw new Error(\"Mount point gatherer must have a path\");\n      }\n      currentCtxPath = path;\n    }\n    const element = node.props?.element;\n    let routeRef = getComponentData(node, \"core.mountPoint\");\n    if (!routeRef && isValidElement(element)) {\n      routeRef = getComponentData(element, \"core.mountPoint\");\n    }\n    if (routeRef) {\n      let routePath = path;\n      if (currentCtxPath) {\n        if (routePath) {\n          currentCtxPath = void 0;\n        } else {\n          routePath = currentCtxPath;\n        }\n      }\n      if (!routePath) {\n        throw new Error(\"Mounted routable extension must have a path\");\n      }\n      acc.paths.set(routeRef, routePath);\n      if (currentParentRouteRef && sticky) {\n        acc.parents.set(routeRef, currentParentRouteRef);\n        if (path) {\n          currentParentRouteRef = routeRef;\n          sticky = false;\n        }\n      } else {\n        acc.parents.set(routeRef, currentParentRouteRef);\n        currentParentRouteRef = routeRef;\n      }\n      if (path) {\n        currentObj = {\n          caseSensitive,\n          path,\n          element: \"mounted\",\n          routeRefs: /* @__PURE__ */ new Set([routeRef]),\n          children: [MATCH_ALL_ROUTE],\n          plugins: pluginSet(\n            getComponentData(\n              node.props.element,\n              \"core.plugin\"\n            )\n          )\n        };\n        parentChildren.push(currentObj);\n      } else {\n        currentObj?.routeRefs.add(routeRef);\n      }\n    }\n    if (getComponentData(node, \"core.gatherMountPoints\")) {\n      sticky = true;\n    }\n    const isGatherer = getComponentData(\n      node,\n      \"core.gatherMountPoints\"\n    );\n    if (isGatherer) {\n      if (!path) {\n        throw new Error(\"Mount point gatherer must have a path\");\n      }\n      if (!routeRef) {\n        currentObj = {\n          caseSensitive,\n          path,\n          element: \"gathered\",\n          routeRefs: /* @__PURE__ */ new Set(),\n          children: [MATCH_ALL_ROUTE],\n          plugins: ctx?.obj?.plugins || /* @__PURE__ */ new Set()\n        };\n        parentChildren.push(currentObj);\n      }\n    }\n    return {\n      obj: currentObj,\n      path: currentCtxPath,\n      routeRef: currentParentRouteRef,\n      sticky\n    };\n  }\n);\nconst featureFlagCollector = createCollector(\n  () => /* @__PURE__ */ new Set(),\n  (acc, node) => {\n    if (node.type === FeatureFlagged) {\n      const props = node.props;\n      acc.add(\"with\" in props ? props.with : props.without);\n    }\n  }\n);\n\nexport { MATCH_ALL_ROUTE, featureFlagCollector, routingV1Collector, routingV2Collector };\n//# sourceMappingURL=collectors.esm.js.map\n","import { getOrCreateGlobalSingleton } from '@backstage/version-bridge';\n\nconst routeRefType = getOrCreateGlobalSingleton(\n  \"route-ref-type\",\n  () => Symbol(\"route-ref-type\")\n);\nfunction isRouteRef(routeRef) {\n  return routeRef[routeRefType] === \"absolute\";\n}\nfunction isSubRouteRef(routeRef) {\n  return routeRef[routeRefType] === \"sub\";\n}\nfunction isExternalRouteRef(routeRef) {\n  return routeRef[routeRefType] === \"external\";\n}\n\nexport { isExternalRouteRef, isRouteRef, isSubRouteRef, routeRefType };\n//# sourceMappingURL=types.esm.js.map\n","function joinPaths(...paths) {\n  const normalized = paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n  if (normalized !== \"/\" && normalized.endsWith(\"/\")) {\n    return normalized.slice(0, -1);\n  }\n  return normalized;\n}\n\nexport { joinPaths };\n//# sourceMappingURL=helpers.esm.js.map\n","import { generatePath, matchRoutes } from 'react-router-dom';\nimport { isRouteRef, isSubRouteRef, isExternalRouteRef, routeRefType } from './types.esm.js';\nimport { joinPaths } from './helpers.esm.js';\nimport mapValues from 'lodash/mapValues';\n\nfunction resolveTargetRef(anyRouteRef, routePaths, routeBindings) {\n  let targetRef;\n  let subRoutePath = \"\";\n  if (isRouteRef(anyRouteRef)) {\n    targetRef = anyRouteRef;\n  } else if (isSubRouteRef(anyRouteRef)) {\n    targetRef = anyRouteRef.parent;\n    subRoutePath = anyRouteRef.path;\n  } else if (isExternalRouteRef(anyRouteRef)) {\n    const resolvedRoute = routeBindings.get(anyRouteRef);\n    if (!resolvedRoute) {\n      return [void 0, \"\"];\n    }\n    if (isRouteRef(resolvedRoute)) {\n      targetRef = resolvedRoute;\n    } else if (isSubRouteRef(resolvedRoute)) {\n      targetRef = resolvedRoute.parent;\n      subRoutePath = resolvedRoute.path;\n    } else {\n      throw new Error(\n        `ExternalRouteRef was bound to invalid target, ${resolvedRoute}`\n      );\n    }\n  } else if (anyRouteRef[routeRefType]) {\n    throw new Error(\n      `Unknown or invalid route ref type, ${anyRouteRef[routeRefType]}`\n    );\n  } else {\n    throw new Error(`Unknown object passed to useRouteRef, got ${anyRouteRef}`);\n  }\n  if (!targetRef) {\n    return [void 0, \"\"];\n  }\n  const resolvedPath = routePaths.get(targetRef);\n  if (resolvedPath === void 0) {\n    return [void 0, \"\"];\n  }\n  const targetPath = joinPaths(resolvedPath, subRoutePath);\n  return [targetRef, targetPath];\n}\nfunction resolveBasePath(targetRef, sourceLocation, routePaths, routeParents, routeObjects) {\n  const match = matchRoutes(routeObjects, sourceLocation) ?? [];\n  const refDiffList = Array();\n  let matchIndex = -1;\n  for (let targetSearchRef = targetRef; targetSearchRef; targetSearchRef = routeParents.get(targetSearchRef)) {\n    matchIndex = match.findIndex(\n      (m) => m.route.routeRefs.has(targetSearchRef)\n    );\n    if (matchIndex !== -1) {\n      break;\n    }\n    refDiffList.unshift(targetSearchRef);\n  }\n  if (refDiffList.length === 0) {\n    matchIndex -= 1;\n  }\n  const parentPath = matchIndex === -1 ? \"\" : match[matchIndex].pathname;\n  const diffPaths = refDiffList.slice(0, -1).map((ref) => {\n    const path = routePaths.get(ref);\n    if (path === void 0) {\n      throw new Error(`No path for ${ref}`);\n    }\n    if (path.includes(\":\")) {\n      throw new Error(\n        `Cannot route to ${targetRef} with parent ${ref} as it has parameters`\n      );\n    }\n    return path;\n  });\n  return `${joinPaths(parentPath, ...diffPaths)}/`;\n}\nclass RouteResolver {\n  routePaths;\n  routeParents;\n  routeObjects;\n  routeBindings;\n  appBasePath;\n  // base path without a trailing slash\n  constructor(routePaths, routeParents, routeObjects, routeBindings, appBasePath) {\n    this.routePaths = routePaths;\n    this.routeParents = routeParents;\n    this.routeObjects = routeObjects;\n    this.routeBindings = routeBindings;\n    this.appBasePath = appBasePath;\n  }\n  resolve(anyRouteRef, sourceLocation) {\n    const [targetRef, targetPath] = resolveTargetRef(\n      anyRouteRef,\n      this.routePaths,\n      this.routeBindings\n    );\n    if (!targetRef) {\n      return void 0;\n    }\n    let relativeSourceLocation;\n    if (typeof sourceLocation === \"string\") {\n      relativeSourceLocation = this.trimPath(sourceLocation);\n    } else if (sourceLocation.pathname) {\n      relativeSourceLocation = {\n        ...sourceLocation,\n        pathname: this.trimPath(sourceLocation.pathname)\n      };\n    } else {\n      relativeSourceLocation = sourceLocation;\n    }\n    const basePath = this.appBasePath + resolveBasePath(\n      targetRef,\n      relativeSourceLocation,\n      this.routePaths,\n      this.routeParents,\n      this.routeObjects\n    );\n    const routeFunc = (...[params]) => {\n      const encodedParams = params && mapValues(params, (value) => {\n        if (typeof value === \"string\") {\n          return value.replaceAll(/[&?#;\\/]/g, (c) => encodeURIComponent(c));\n        }\n        return value;\n      });\n      return joinPaths(basePath, generatePath(targetPath, encodedParams));\n    };\n    return routeFunc;\n  }\n  trimPath(targetPath) {\n    if (!targetPath) {\n      return targetPath;\n    }\n    if (targetPath.startsWith(this.appBasePath)) {\n      return targetPath.slice(this.appBasePath.length);\n    }\n    return targetPath;\n  }\n}\n\nexport { RouteResolver };\n//# sourceMappingURL=RouteResolver.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport { RouteResolver } from './RouteResolver.esm.js';\n\nconst RoutingContext = createVersionedContext(\n  \"routing-context\"\n);\nconst RoutingProvider = ({\n  routePaths,\n  routeParents,\n  routeObjects,\n  routeBindings,\n  basePath = \"\",\n  children\n}) => {\n  const resolver = new RouteResolver(\n    routePaths,\n    routeParents,\n    routeObjects,\n    routeBindings,\n    basePath\n  );\n  const versionedValue = createVersionedValueMap({ 1: resolver });\n  return /* @__PURE__ */ jsx(RoutingContext.Provider, { value: versionedValue, children });\n};\n\nexport { RoutingProvider };\n//# sourceMappingURL=RoutingProvider.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\n\nconst AppContext = createVersionedContext(\"app-context\");\nconst AppContextProvider = ({\n  appContext,\n  children\n}) => {\n  const versionedValue = createVersionedValueMap({ 1: appContext });\n  return /* @__PURE__ */ jsx(AppContext.Provider, { value: versionedValue, children });\n};\n\nexport { AppContextProvider };\n//# sourceMappingURL=AppContext.esm.js.map\n","const PLUGIN_ID = \"app\";\nconst CHANNEL_ID = `${PLUGIN_ID}-auth-cookie-expires-at`;\nconst MIN_BASE_DELAY_MS = 5 * 6e4;\nconst ERROR_BACKOFF_START = 5e3;\nconst ERROR_BACKOFF_FACTOR = 2;\nconst ERROR_BACKOFF_MAX = 5 * 6e4;\nfunction startCookieAuthRefresh({\n  discoveryApi,\n  fetchApi,\n  errorApi\n}) {\n  let stopped = false;\n  let timeout;\n  let firstError = true;\n  let errorBackoff = ERROR_BACKOFF_START;\n  const channel = \"BroadcastChannel\" in window ? new BroadcastChannel(CHANNEL_ID) : void 0;\n  const getDelay = (expiresAt) => {\n    const margin = (1 + 3 * Math.random()) * 6e4;\n    const delay = Math.max(expiresAt - Date.now(), MIN_BASE_DELAY_MS) - margin;\n    return delay;\n  };\n  const refresh = async () => {\n    try {\n      const baseUrl = await discoveryApi.getBaseUrl(PLUGIN_ID);\n      const requestUrl = `${baseUrl}/.backstage/auth/v1/cookie`;\n      const res = await fetchApi.fetch(requestUrl, {\n        credentials: \"include\"\n      });\n      if (!res.ok) {\n        throw new Error(\n          `Request failed with status ${res.status} ${res.statusText}, see request towards ${requestUrl} for more details`\n        );\n      }\n      const data = await res.json();\n      if (!data.expiresAt) {\n        throw new Error(\"No expiration date in response\");\n      }\n      const expiresAt = Date.parse(data.expiresAt);\n      if (Number.isNaN(expiresAt)) {\n        throw new Error(\"Invalid expiration date in response\");\n      }\n      firstError = true;\n      channel?.postMessage({\n        action: \"COOKIE_REFRESH_SUCCESS\",\n        payload: { expiresAt: new Date(expiresAt).toISOString() }\n      });\n      scheduleRefresh(getDelay(expiresAt));\n    } catch (error) {\n      if (firstError) {\n        firstError = false;\n        errorBackoff = ERROR_BACKOFF_START;\n      } else {\n        errorBackoff = Math.min(\n          ERROR_BACKOFF_MAX,\n          errorBackoff * ERROR_BACKOFF_FACTOR\n        );\n        console.error(\"Session cookie refresh failed\", error);\n        errorApi.post(\n          new Error(\n            `Session refresh failed, see developer console for details`\n          )\n        );\n      }\n      scheduleRefresh(errorBackoff);\n    }\n  };\n  const onMessage = (event) => {\n    const { data } = event;\n    if (data === null || typeof data !== \"object\") {\n      return;\n    }\n    if (\"action\" in data && data.action === \"COOKIE_REFRESH_SUCCESS\") {\n      const expiresAt = Date.parse(data.payload.expiresAt);\n      if (Number.isNaN(expiresAt)) {\n        console.warn(\n          \"Received invalid expiration from session refresh channel\"\n        );\n        return;\n      }\n      scheduleRefresh(getDelay(expiresAt));\n    }\n  };\n  function scheduleRefresh(delayMs) {\n    if (stopped) {\n      return;\n    }\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    timeout = setTimeout(refresh, delayMs);\n  }\n  channel?.addEventListener(\"message\", onMessage);\n  refresh();\n  return () => {\n    stopped = true;\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    channel?.removeEventListener(\"message\", onMessage);\n    channel?.close();\n  };\n}\n\nexport { startCookieAuthRefresh };\n//# sourceMappingURL=startCookieAuthRefresh.esm.js.map\n","import { startCookieAuthRefresh } from './startCookieAuthRefresh.esm.js';\n\nfunction mkError(thing) {\n  return new Error(\n    `Tried to access IdentityApi ${thing} before app was loaded`\n  );\n}\nfunction logDeprecation(thing) {\n  console.warn(\n    `WARNING: Call to ${thing} is deprecated and will break in the future`\n  );\n}\nclass AppIdentityProxy {\n  target;\n  waitForTarget;\n  resolveTarget = () => {\n  };\n  signOutTargetUrl = \"/\";\n  #cookieAuthSignOut;\n  constructor() {\n    this.waitForTarget = new Promise((resolve) => {\n      this.resolveTarget = resolve;\n    });\n  }\n  // This is called by the app manager once the sign-in page provides us with an implementation\n  setTarget(identityApi, targetOptions) {\n    this.target = identityApi;\n    this.signOutTargetUrl = targetOptions.signOutTargetUrl;\n    this.resolveTarget(identityApi);\n  }\n  getUserId() {\n    if (!this.target) {\n      throw mkError(\"getUserId\");\n    }\n    if (!this.target.getUserId) {\n      throw new Error(\"IdentityApi does not implement getUserId\");\n    }\n    logDeprecation(\"getUserId\");\n    return this.target.getUserId();\n  }\n  getProfile() {\n    if (!this.target) {\n      throw mkError(\"getProfile\");\n    }\n    if (!this.target.getProfile) {\n      throw new Error(\"IdentityApi does not implement getProfile\");\n    }\n    logDeprecation(\"getProfile\");\n    return this.target.getProfile();\n  }\n  async getProfileInfo() {\n    return this.waitForTarget.then((target) => target.getProfileInfo());\n  }\n  async getBackstageIdentity() {\n    const identity = await this.waitForTarget.then(\n      (target) => target.getBackstageIdentity()\n    );\n    if (!identity.userEntityRef.match(/^.*:.*\\/.*$/)) {\n      console.warn(\n        `WARNING: The App IdentityApi provided an invalid userEntityRef, '${identity.userEntityRef}'. It must be a full Entity Reference of the form '<kind>:<namespace>/<name>'.`\n      );\n    }\n    return identity;\n  }\n  async getCredentials() {\n    return this.waitForTarget.then((target) => target.getCredentials());\n  }\n  async getIdToken() {\n    return this.waitForTarget.then((target) => {\n      if (!target.getIdToken) {\n        throw new Error(\"IdentityApi does not implement getIdToken\");\n      }\n      logDeprecation(\"getIdToken\");\n      return target.getIdToken();\n    });\n  }\n  async signOut() {\n    await this.waitForTarget.then((target) => target.signOut());\n    await this.#cookieAuthSignOut?.();\n    window.location.href = this.signOutTargetUrl;\n  }\n  enableCookieAuth(ctx) {\n    if (this.#cookieAuthSignOut) {\n      return;\n    }\n    const stopRefresh = startCookieAuthRefresh(ctx);\n    this.#cookieAuthSignOut = async () => {\n      stopRefresh();\n      const appBaseUrl = await ctx.discoveryApi.getBaseUrl(\"app\");\n      try {\n        await fetch(`${appBaseUrl}/.backstage/auth/v1/cookie`, {\n          method: \"DELETE\",\n          credentials: \"include\"\n        });\n      } catch {\n      }\n    };\n  }\n}\n\nexport { AppIdentityProxy };\n//# sourceMappingURL=AppIdentityProxy.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useMemo, useState, useEffect } from 'react';\nimport { useApi, appThemeApiRef } from '@backstage/core-plugin-api';\nimport useObservable from 'react-use/esm/useObservable';\n\nfunction resolveTheme(themeId, shouldPreferDark, themes) {\n  if (themeId !== void 0) {\n    const selectedTheme = themes.find((theme) => theme.id === themeId);\n    if (selectedTheme) {\n      return selectedTheme;\n    }\n  }\n  if (shouldPreferDark) {\n    const darkTheme = themes.find((theme) => theme.variant === \"dark\");\n    if (darkTheme) {\n      return darkTheme;\n    }\n  }\n  const lightTheme = themes.find((theme) => theme.variant === \"light\");\n  if (lightTheme) {\n    return lightTheme;\n  }\n  return themes[0];\n}\nconst useShouldPreferDarkTheme = () => {\n  const mediaQuery = useMemo(\n    () => window.matchMedia(\"(prefers-color-scheme: dark)\"),\n    []\n  );\n  const [shouldPreferDark, setPrefersDark] = useState(mediaQuery.matches);\n  useEffect(() => {\n    const listener = (event) => {\n      setPrefersDark(event.matches);\n    };\n    mediaQuery.addListener(listener);\n    return () => {\n      mediaQuery.removeListener(listener);\n    };\n  }, [mediaQuery]);\n  return shouldPreferDark;\n};\nfunction AppThemeProvider({ children }) {\n  const appThemeApi = useApi(appThemeApiRef);\n  const themeId = useObservable(\n    appThemeApi.activeThemeId$(),\n    appThemeApi.getActiveThemeId()\n  );\n  const shouldPreferDark = Boolean(window.matchMedia) ? useShouldPreferDarkTheme() : false;\n  const appTheme = resolveTheme(\n    themeId,\n    shouldPreferDark,\n    appThemeApi.getInstalledThemes()\n  );\n  if (!appTheme) {\n    throw new Error(\"App has no themes\");\n  }\n  return /* @__PURE__ */ jsx(appTheme.Provider, { children });\n}\n\nexport { AppThemeProvider };\n//# sourceMappingURL=AppThemeProvider.esm.js.map\n","const defaultConfigLoader = async () => defaultConfigLoaderSync();\nfunction defaultConfigLoaderSync(runtimeConfigJson = \"__APP_INJECTED_RUNTIME_CONFIG__\") {\n  const configs = new Array();\n  const staticConfig = process.env.APP_CONFIG;\n  if (staticConfig) {\n    if (!Array.isArray(staticConfig)) {\n      throw new Error(\"Static configuration has invalid format\");\n    }\n    configs.push(...staticConfig);\n  }\n  const configScripts = document.querySelectorAll(\n    'script[type=\"backstage.io/config\"]'\n  );\n  if (configScripts.length > 0) {\n    for (const el of configScripts) {\n      try {\n        const content = el.textContent;\n        if (!content) {\n          throw new Error(\"tag is empty\");\n        }\n        let data;\n        try {\n          data = JSON.parse(content);\n        } catch (error) {\n          throw new Error(`failed to parse config; ${error}`);\n        }\n        if (!Array.isArray(data)) {\n          throw new Error(\"data is not an array\");\n        }\n        configs.push(...data);\n      } catch (error) {\n        throw new Error(\n          `Failed to load config from script tag, ${error.message}`\n        );\n      }\n    }\n  } else if (runtimeConfigJson !== // Avoiding this string also being replaced at runtime\n  \"__app_injected_runtime_config__\".toLocaleUpperCase(\"en-US\")) {\n    try {\n      const data = JSON.parse(runtimeConfigJson);\n      if (Array.isArray(data)) {\n        configs.push(...data);\n      } else {\n        configs.push({ data, context: \"env\" });\n      }\n    } catch (error) {\n      throw new Error(`Failed to load runtime configuration, ${error}`);\n    }\n  }\n  const windowAppConfig = window.__APP_CONFIG__;\n  if (windowAppConfig) {\n    configs.push({\n      context: \"window\",\n      data: windowAppConfig\n    });\n  }\n  return configs;\n}\n\nexport { defaultConfigLoader, defaultConfigLoaderSync };\n//# sourceMappingURL=defaultConfigLoader.esm.js.map\n","class ApiRegistryBuilder {\n  apis = [];\n  add(api, impl) {\n    this.apis.push([api.id, impl]);\n    return impl;\n  }\n  build() {\n    return new ApiRegistry(new Map(this.apis));\n  }\n}\nclass ApiRegistry {\n  constructor(apis) {\n    this.apis = apis;\n  }\n  static builder() {\n    return new ApiRegistryBuilder();\n  }\n  /**\n   * Creates a new ApiRegistry with a list of API implementations.\n   *\n   * @param apis - A list of pairs mapping an ApiRef to its respective implementation\n   */\n  static from(apis) {\n    return new ApiRegistry(new Map(apis.map(([api, impl]) => [api.id, impl])));\n  }\n  /**\n   * Creates a new ApiRegistry with a single API implementation.\n   *\n   * @param api - ApiRef for the API to add\n   * @param impl - Implementation of the API to add\n   */\n  static with(api, impl) {\n    return new ApiRegistry(/* @__PURE__ */ new Map([[api.id, impl]]));\n  }\n  /**\n   * Returns a new ApiRegistry with the provided API added to the existing ones.\n   *\n   * @param api - ApiRef for the API to add\n   * @param impl - Implementation of the API to add\n   */\n  with(api, impl) {\n    return new ApiRegistry(new Map([...this.apis, [api.id, impl]]));\n  }\n  get(api) {\n    return this.apis.get(api.id);\n  }\n}\n\nexport { ApiRegistry };\n//# sourceMappingURL=ApiRegistry.esm.js.map\n","import { BehaviorSubject } from '../../../lib/subjects.esm.js';\nimport '@backstage/core-plugin-api';\n\nconst STORAGE_KEY = \"language\";\nconst DEFAULT_LANGUAGE = \"en\";\nclass AppLanguageSelector {\n  static create(options) {\n    const languages = options?.availableLanguages ?? [DEFAULT_LANGUAGE];\n    if (languages.length !== new Set(languages).size) {\n      throw new Error(\n        `Supported languages may not contain duplicates, got '${languages.join(\n          \"', '\"\n        )}'`\n      );\n    }\n    const initialLanguage = options?.defaultLanguage ?? DEFAULT_LANGUAGE;\n    if (!languages.includes(initialLanguage)) {\n      throw new Error(\n        `Initial language must be one of the supported languages, got '${initialLanguage}'`\n      );\n    }\n    return new AppLanguageSelector(languages, initialLanguage);\n  }\n  static createWithStorage(options) {\n    const selector = AppLanguageSelector.create(options);\n    if (!window.localStorage) {\n      return selector;\n    }\n    const storedLanguage = window.localStorage.getItem(STORAGE_KEY);\n    const { languages } = selector.getAvailableLanguages();\n    if (storedLanguage && languages.includes(storedLanguage)) {\n      selector.setLanguage(storedLanguage);\n    }\n    selector.language$().subscribe(({ language }) => {\n      if (language !== window.localStorage.getItem(STORAGE_KEY)) {\n        window.localStorage.setItem(STORAGE_KEY, language);\n      }\n    });\n    window.addEventListener(\"storage\", (event) => {\n      if (event.key === STORAGE_KEY) {\n        const language = localStorage.getItem(STORAGE_KEY) ?? void 0;\n        if (language) {\n          selector.setLanguage(language);\n        }\n      }\n    });\n    return selector;\n  }\n  #languages;\n  #language;\n  #subject;\n  constructor(languages, initialLanguage) {\n    this.#languages = languages;\n    this.#language = initialLanguage;\n    this.#subject = new BehaviorSubject({\n      language: this.#language\n    });\n  }\n  getAvailableLanguages() {\n    return { languages: this.#languages.slice() };\n  }\n  setLanguage(language) {\n    const lng = language ?? DEFAULT_LANGUAGE;\n    if (lng === this.#language) {\n      return;\n    }\n    if (lng && !this.#languages.includes(lng)) {\n      throw new Error(\n        `Failed to change language to '${lng}', available languages are '${this.#languages.join(\n          \"', '\"\n        )}'`\n      );\n    }\n    this.#language = lng;\n    this.#subject.next({ language: lng });\n  }\n  getLanguage() {\n    return { language: this.#language };\n  }\n  language$() {\n    return this.#subject;\n  }\n}\n\nexport { AppLanguageSelector, DEFAULT_LANGUAGE };\n//# sourceMappingURL=AppLanguageSelector.esm.js.map\n","function toInternalTranslationRef(ref) {\n  const r = ref;\n  if (r.$$type !== \"@backstage/TranslationRef\") {\n    throw new Error(`Invalid translation ref, bad type '${r.$$type}'`);\n  }\n  if (r.version !== \"v1\") {\n    throw new Error(`Invalid translation ref, bad version '${r.version}'`);\n  }\n  return r;\n}\n\nexport { toInternalTranslationRef };\n//# sourceMappingURL=TranslationRef.esm.js.map\n","import { createInstance } from 'i18next';\nimport ObservableImpl from 'zen-observable';\nimport { toInternalTranslationResource } from '../../../core-plugin-api/src/translation/TranslationResource.esm.js';\nimport { toInternalTranslationRef } from '../../../core-plugin-api/src/translation/TranslationRef.esm.js';\nimport { DEFAULT_LANGUAGE } from '../AppLanguageApi/AppLanguageSelector.esm.js';\nimport { isValidElement, createElement, Fragment } from 'react';\n\nfunction removeNulls(messages) {\n  return Object.fromEntries(\n    Object.entries(messages).filter(\n      (e) => e[1] !== null\n    )\n  );\n}\nclass ResourceLoader {\n  constructor(onLoad) {\n    this.onLoad = onLoad;\n  }\n  /** Loaded resources by loader key */\n  #loaded = /* @__PURE__ */ new Set();\n  /** Resource loading promises by loader key */\n  #loading = /* @__PURE__ */ new Map();\n  /** Loaders for each resource language */\n  #loaders = /* @__PURE__ */ new Map();\n  addTranslationResource(resource) {\n    const internalResource = toInternalTranslationResource(resource);\n    for (const entry of internalResource.resources) {\n      const key = this.#getLoaderKey(entry.language, internalResource.id);\n      if (!this.#loaders.has(key)) {\n        this.#loaders.set(key, entry.loader);\n      }\n    }\n  }\n  #getLoaderKey(language, namespace) {\n    return `${language}/${namespace}`;\n  }\n  needsLoading(language, namespace) {\n    const key = this.#getLoaderKey(language, namespace);\n    const loader = this.#loaders.get(key);\n    if (!loader) {\n      return false;\n    }\n    return !this.#loaded.has(key);\n  }\n  async load(language, namespace) {\n    const key = this.#getLoaderKey(language, namespace);\n    const loader = this.#loaders.get(key);\n    if (!loader) {\n      return;\n    }\n    if (this.#loaded.has(key)) {\n      return;\n    }\n    const loading = this.#loading.get(key);\n    if (loading) {\n      await loading;\n      return;\n    }\n    const load = loader().then(\n      (result) => {\n        this.onLoad({ language, namespace, messages: result.messages });\n        this.#loaded.add(key);\n      },\n      (error) => {\n        this.#loaded.add(key);\n        throw error;\n      }\n    );\n    this.#loading.set(key, load);\n    await load;\n  }\n}\nclass JsxInterpolator {\n  #setFormatHook;\n  #marker;\n  #pattern;\n  static fromI18n(i18n) {\n    const interpolator = i18n.services.interpolator;\n    const originalFormat = interpolator.format;\n    let formatHook;\n    interpolator.format = (value, format, lng, formatOpts) => {\n      if (format) {\n        return originalFormat(value, format, lng, formatOpts);\n      }\n      return formatHook?.(value, format, lng, formatOpts) ?? value;\n    };\n    return new JsxInterpolator(\n      // Using a random marker to ensure it can't be misused\n      Math.random().toString(36).substring(2, 8),\n      (hook) => {\n        formatHook = hook;\n      }\n    );\n  }\n  constructor(marker, setFormatHook) {\n    this.#setFormatHook = setFormatHook;\n    this.#marker = marker;\n    this.#pattern = new RegExp(`\\\\$${marker}\\\\(([^)]+)\\\\)`);\n  }\n  wrapT(originalT) {\n    return (key, options) => {\n      let elementsMap = void 0;\n      this.#setFormatHook((value) => {\n        if (isValidElement(value)) {\n          if (!elementsMap) {\n            elementsMap = /* @__PURE__ */ new Map();\n          }\n          const elementKey = elementsMap.size.toString();\n          elementsMap.set(elementKey, value);\n          return `$${this.#marker}(${elementKey})`;\n        }\n        return value;\n      });\n      const result = originalT(key, options);\n      if (!elementsMap) {\n        return result;\n      }\n      const split = result.split(this.#pattern);\n      return createElement(\n        Fragment,\n        null,\n        ...split.map((part, index) => {\n          if (index % 2 === 0) {\n            return part;\n          }\n          return elementsMap?.get(part);\n        }).filter(Boolean)\n      );\n    };\n  }\n}\nclass I18nextTranslationApi {\n  static create(options) {\n    const { languages } = options.languageApi.getAvailableLanguages();\n    const i18n = createInstance({\n      fallbackLng: DEFAULT_LANGUAGE,\n      supportedLngs: languages,\n      interpolation: {\n        escapeValue: false,\n        // Used for the JsxInterpolator format hook\n        alwaysFormat: true\n      },\n      ns: [],\n      defaultNS: false,\n      fallbackNS: false,\n      // Disable resource loading on init, meaning i18n will be ready to use immediately\n      initImmediate: false\n    });\n    i18n.init();\n    if (!i18n.isInitialized) {\n      throw new Error(\"i18next was unexpectedly not initialized\");\n    }\n    const interpolator = JsxInterpolator.fromI18n(i18n);\n    const { language: initialLanguage } = options.languageApi.getLanguage();\n    if (initialLanguage !== DEFAULT_LANGUAGE) {\n      i18n.changeLanguage(initialLanguage);\n    }\n    const loader = new ResourceLoader((loaded) => {\n      i18n.addResourceBundle(\n        loaded.language,\n        loaded.namespace,\n        removeNulls(loaded.messages),\n        false,\n        // do not merge with existing translations\n        true\n        // overwrite translations\n      );\n    });\n    const resources = options?.resources || [];\n    for (let i = resources.length - 1; i >= 0; i--) {\n      const resource = resources[i];\n      if (resource.$$type === \"@backstage/TranslationResource\") {\n        loader.addTranslationResource(resource);\n      } else if (resource.$$type === \"@backstage/TranslationMessages\") {\n        i18n.addResourceBundle(\n          DEFAULT_LANGUAGE,\n          resource.id,\n          removeNulls(resource.messages),\n          true,\n          // merge with existing translations\n          false\n          // do not overwrite translations\n        );\n      }\n    }\n    const instance = new I18nextTranslationApi(\n      i18n,\n      loader,\n      options.languageApi.getLanguage().language,\n      interpolator\n    );\n    options.languageApi.language$().subscribe(({ language }) => {\n      instance.#changeLanguage(language);\n    });\n    return instance;\n  }\n  #i18n;\n  #loader;\n  #language;\n  #jsxInterpolator;\n  /** Keep track of which refs we have registered default resources for */\n  #registeredRefs = /* @__PURE__ */ new Set();\n  /** Notify observers when language changes */\n  #languageChangeListeners = /* @__PURE__ */ new Set();\n  constructor(i18n, loader, language, jsxInterpolator) {\n    this.#i18n = i18n;\n    this.#loader = loader;\n    this.#language = language;\n    this.#jsxInterpolator = jsxInterpolator;\n  }\n  getTranslation(translationRef) {\n    const internalRef = toInternalTranslationRef(translationRef);\n    this.#registerDefaults(internalRef);\n    return this.#createSnapshot(internalRef);\n  }\n  translation$(translationRef) {\n    const internalRef = toInternalTranslationRef(translationRef);\n    this.#registerDefaults(internalRef);\n    return new ObservableImpl((subscriber) => {\n      let loadTicket = {};\n      const loadResource = () => {\n        loadTicket = {};\n        const ticket = loadTicket;\n        this.#loader.load(this.#language, internalRef.id).then(\n          () => {\n            if (ticket === loadTicket) {\n              const snapshot = this.#createSnapshot(internalRef);\n              if (snapshot.ready) {\n                subscriber.next(snapshot);\n              }\n            }\n          },\n          (error) => {\n            if (ticket === loadTicket) {\n              subscriber.error(Array.isArray(error) ? error[0] : error);\n            }\n          }\n        );\n      };\n      const onChange = () => {\n        const snapshot = this.#createSnapshot(internalRef);\n        if (snapshot.ready) {\n          subscriber.next(snapshot);\n        } else {\n          loadResource();\n        }\n      };\n      if (this.#loader.needsLoading(this.#language, internalRef.id)) {\n        loadResource();\n      }\n      this.#languageChangeListeners.add(onChange);\n      return () => {\n        this.#languageChangeListeners.delete(onChange);\n      };\n    });\n  }\n  #changeLanguage(language) {\n    if (this.#language !== language) {\n      this.#language = language;\n      this.#i18n.changeLanguage(language);\n      this.#languageChangeListeners.forEach((listener) => listener());\n    }\n  }\n  #createSnapshot(internalRef) {\n    if (this.#loader.needsLoading(this.#language, internalRef.id)) {\n      return { ready: false };\n    }\n    const unwrappedT = this.#i18n.getFixedT(null, internalRef.id);\n    const t = this.#jsxInterpolator.wrapT(unwrappedT);\n    return {\n      ready: true,\n      t\n    };\n  }\n  #registerDefaults(internalRef) {\n    if (this.#registeredRefs.has(internalRef.id)) {\n      return;\n    }\n    this.#registeredRefs.add(internalRef.id);\n    const defaultMessages = internalRef.getDefaultMessages();\n    this.#i18n.addResourceBundle(\n      DEFAULT_LANGUAGE,\n      internalRef.id,\n      defaultMessages,\n      true,\n      // merge with existing translations\n      false\n      // do not overwrite translations\n    );\n    const defaultResource = internalRef.getDefaultResource();\n    if (defaultResource) {\n      this.#loader.addTranslationResource(defaultResource);\n    }\n  }\n}\n\nexport { I18nextTranslationApi, JsxInterpolator };\n//# sourceMappingURL=I18nextTranslationApi.esm.js.map\n","function toInternalTranslationResource(resource) {\n  const r = resource;\n  if (r.$$type !== \"@backstage/TranslationResource\") {\n    throw new Error(`Invalid translation resource, bad type '${r.$$type}'`);\n  }\n  if (r.version !== \"v1\") {\n    throw new Error(`Invalid translation resource, bad version '${r.version}'`);\n  }\n  return r;\n}\n\nexport { toInternalTranslationResource };\n//# sourceMappingURL=TranslationResource.esm.js.map\n","import { ConfigReader } from '@backstage/config';\n\nfunction createLocalBaseUrl(fullUrl) {\n  const url = new URL(fullUrl);\n  url.protocol = document.location.protocol;\n  url.hostname = document.location.hostname;\n  url.port = document.location.port;\n  return url.toString().replace(/\\/$/, \"\");\n}\nfunction overrideBaseUrlConfigs(inputConfigs) {\n  const urlConfigReader = ConfigReader.fromConfigs(inputConfigs);\n  const appBaseUrl = urlConfigReader.getOptionalString(\"app.baseUrl\");\n  const backendBaseUrl = urlConfigReader.getOptionalString(\"backend.baseUrl\");\n  let configs = inputConfigs;\n  let newBackendBaseUrl = void 0;\n  let newAppBaseUrl = void 0;\n  if (appBaseUrl && backendBaseUrl) {\n    const appOrigin = new URL(appBaseUrl).origin;\n    const backendOrigin = new URL(backendBaseUrl).origin;\n    if (appOrigin === backendOrigin) {\n      const maybeNewBackendBaseUrl = createLocalBaseUrl(backendBaseUrl);\n      if (backendBaseUrl !== maybeNewBackendBaseUrl) {\n        newBackendBaseUrl = maybeNewBackendBaseUrl;\n      }\n    }\n  }\n  if (appBaseUrl) {\n    const maybeNewAppBaseUrl = createLocalBaseUrl(appBaseUrl);\n    if (appBaseUrl !== maybeNewAppBaseUrl) {\n      newAppBaseUrl = maybeNewAppBaseUrl;\n    }\n  }\n  if (newAppBaseUrl || newBackendBaseUrl) {\n    configs = configs.concat({\n      data: {\n        app: newAppBaseUrl && {\n          baseUrl: newAppBaseUrl\n        },\n        backend: newBackendBaseUrl && {\n          baseUrl: newBackendBaseUrl\n        }\n      },\n      context: \"relative-resolver\"\n    });\n  }\n  return configs;\n}\n\nexport { overrideBaseUrlConfigs };\n//# sourceMappingURL=overrideBaseUrlConfigs.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useRef, useMemo, Suspense } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { ApiProvider } from '../apis/system/ApiProvider.esm.js';\nimport { ApiResolver } from '../apis/system/ApiResolver.esm.js';\nimport { ApiFactoryRegistry } from '../apis/system/ApiFactoryRegistry.esm.js';\nimport 'zen-observable';\nimport { appThemeApiRef, configApiRef, identityApiRef, featureFlagsApiRef, errorApiRef, fetchApiRef, discoveryApiRef } from '@backstage/core-plugin-api';\nimport '../apis/implementations/auth/saml/types.esm.js';\nimport { AppThemeSelector } from '../apis/implementations/AppThemeApi/AppThemeSelector.esm.js';\nimport { ConfigReader } from '@backstage/config';\nimport { LocalStorageFeatureFlags } from '../apis/implementations/FeatureFlagsApi/LocalStorageFeatureFlags.esm.js';\nimport { appLanguageApiRef, translationApiRef } from '@backstage/core-plugin-api/alpha';\nimport { traverseElementTree, childDiscoverer, routeElementDiscoverer } from '../extensions/traversal.esm.js';\nimport { pluginCollector } from '../plugins/collectors.esm.js';\nimport { featureFlagCollector, routingV1Collector, routingV2Collector } from '../routing/collectors.esm.js';\nimport { RoutingProvider } from '../routing/RoutingProvider.esm.js';\nimport { validateRouteParameters, validateRouteBindings } from '../routing/validation.esm.js';\nimport { AppContextProvider } from './AppContext.esm.js';\nimport { AppIdentityProxy } from '../apis/implementations/IdentityApi/AppIdentityProxy.esm.js';\nimport { AppThemeProvider } from './AppThemeProvider.esm.js';\nimport { defaultConfigLoader } from './defaultConfigLoader.esm.js';\nimport { ApiRegistry } from '../apis/system/ApiRegistry.esm.js';\nimport { resolveRouteBindings } from './resolveRouteBindings.esm.js';\nimport { isReactRouterBeta } from './isReactRouterBeta.esm.js';\nimport { InternalAppContext } from './InternalAppContext.esm.js';\nimport { AppRouter, getBasePath } from './AppRouter.esm.js';\nimport { AppLanguageSelector } from '../apis/implementations/AppLanguageApi/AppLanguageSelector.esm.js';\nimport { I18nextTranslationApi } from '../apis/implementations/TranslationApi/I18nextTranslationApi.esm.js';\nimport { overrideBaseUrlConfigs } from './overrideBaseUrlConfigs.esm.js';\nimport { isProtectedApp } from './isProtectedApp.esm.js';\n\nfunction useConfigLoader(configLoader, components, appThemeApi) {\n  const hasConfig = Boolean(configLoader);\n  const config = useAsync(configLoader || (() => Promise.resolve([])));\n  let noConfigNode = void 0;\n  if (hasConfig && config.loading) {\n    const { Progress } = components;\n    noConfigNode = /* @__PURE__ */ jsx(Progress, {});\n  } else if (config.error) {\n    const { BootErrorPage } = components;\n    noConfigNode = /* @__PURE__ */ jsx(BootErrorPage, { step: \"load-config\", error: config.error });\n  }\n  const { ThemeProvider = AppThemeProvider } = components;\n  if (noConfigNode) {\n    return {\n      node: /* @__PURE__ */ jsx(ApiProvider, { apis: ApiRegistry.with(appThemeApiRef, appThemeApi), children: /* @__PURE__ */ jsx(ThemeProvider, { children: noConfigNode }) })\n    };\n  }\n  const configReader = ConfigReader.fromConfigs(\n    config.value?.length ? overrideBaseUrlConfigs(config.value) : []\n  );\n  return { api: configReader };\n}\nclass AppContextImpl {\n  constructor(app) {\n    this.app = app;\n  }\n  getPlugins() {\n    return this.app.getPlugins();\n  }\n  getSystemIcon(key) {\n    return this.app.getSystemIcon(key);\n  }\n  getSystemIcons() {\n    return this.app.getSystemIcons();\n  }\n  getComponents() {\n    return this.app.getComponents();\n  }\n}\nclass AppManager {\n  apiHolder;\n  configApi;\n  apis;\n  icons;\n  plugins;\n  featureFlags;\n  components;\n  themes;\n  configLoader;\n  defaultApis;\n  bindRoutes;\n  appLanguageApi;\n  translationResources;\n  appIdentityProxy = new AppIdentityProxy();\n  apiFactoryRegistry;\n  constructor(options) {\n    this.apis = options.apis ?? [];\n    this.icons = options.icons;\n    this.plugins = new Set(options.plugins ?? []);\n    this.featureFlags = options.featureFlags ?? [];\n    this.components = options.components;\n    this.themes = options.themes;\n    this.configLoader = options.configLoader ?? defaultConfigLoader;\n    this.defaultApis = options.defaultApis ?? [];\n    this.bindRoutes = options.bindRoutes;\n    this.apiFactoryRegistry = new ApiFactoryRegistry();\n    this.appLanguageApi = AppLanguageSelector.createWithStorage({\n      defaultLanguage: options.__experimentalTranslations?.defaultLanguage,\n      availableLanguages: options.__experimentalTranslations?.availableLanguages\n    });\n    this.translationResources = options.__experimentalTranslations?.resources ?? [];\n  }\n  getPlugins() {\n    return Array.from(this.plugins);\n  }\n  getSystemIcon(key) {\n    return this.icons[key];\n  }\n  getSystemIcons() {\n    return this.icons;\n  }\n  getComponents() {\n    return this.components;\n  }\n  createRoot(element) {\n    const AppProvider = this.getProvider();\n    const AppRoot = () => {\n      return /* @__PURE__ */ jsx(AppProvider, { children: element });\n    };\n    return AppRoot;\n  }\n  #getProviderCalled = false;\n  getProvider() {\n    if (this.#getProviderCalled) {\n      throw new Error(\n        \"app.getProvider() or app.createRoot() has already been called, and can only be called once\"\n      );\n    }\n    this.#getProviderCalled = true;\n    const appContext = new AppContextImpl(this);\n    let routeBindings;\n    let routeValidationError = void 0;\n    const Provider = ({ children }) => {\n      const needsFeatureFlagRegistrationRef = useRef(true);\n      const appThemeApi = useMemo(\n        () => AppThemeSelector.createWithStorage(this.themes),\n        []\n      );\n      const { routing, featureFlags } = useMemo(() => {\n        const usesReactRouterBeta = isReactRouterBeta();\n        if (usesReactRouterBeta) {\n          console.warn(`\nDEPRECATION WARNING: React Router Beta is deprecated and support for it will be removed in a future release.\n                     Please migrate to use React Router v6 stable.\n                     See https://backstage.io/docs/tutorials/react-router-stable-migration\n`);\n        }\n        const result = traverseElementTree({\n          root: children,\n          discoverers: [childDiscoverer, routeElementDiscoverer],\n          collectors: {\n            routing: usesReactRouterBeta ? routingV1Collector : routingV2Collector,\n            collectedPlugins: pluginCollector,\n            featureFlags: featureFlagCollector\n          }\n        });\n        result.collectedPlugins.forEach((plugin) => this.plugins.add(plugin));\n        this.verifyPlugins(this.plugins);\n        this.getApiHolder();\n        return result;\n      }, [children]);\n      const loadedConfig = useConfigLoader(\n        this.configLoader,\n        this.components,\n        appThemeApi\n      );\n      const hasConfigApi = \"api\" in loadedConfig;\n      if (hasConfigApi) {\n        const { api } = loadedConfig;\n        this.configApi = api;\n      }\n      if (\"node\" in loadedConfig) {\n        return loadedConfig.node;\n      }\n      if (routeValidationError) {\n        throw routeValidationError;\n      } else if (!routeBindings) {\n        try {\n          routeBindings = resolveRouteBindings(\n            this.bindRoutes,\n            loadedConfig.api,\n            this.plugins\n          );\n          validateRouteParameters(routing.paths, routing.parents);\n          validateRouteBindings(routeBindings, this.plugins);\n        } catch (error) {\n          routeValidationError = error;\n          throw error;\n        }\n      }\n      if (hasConfigApi && needsFeatureFlagRegistrationRef.current) {\n        needsFeatureFlagRegistrationRef.current = false;\n        const featureFlagsApi = this.getApiHolder().get(featureFlagsApiRef);\n        if (featureFlagsApi) {\n          for (const flag of this.featureFlags) {\n            featureFlagsApi.registerFlag({\n              ...flag,\n              pluginId: \"\"\n            });\n          }\n          for (const plugin of this.plugins.values()) {\n            if (\"getFeatureFlags\" in plugin) {\n              for (const flag of plugin.getFeatureFlags()) {\n                featureFlagsApi.registerFlag({\n                  name: flag.name,\n                  pluginId: plugin.getId()\n                });\n              }\n            } else {\n              for (const output of plugin.output()) {\n                if (output.type === \"feature-flag\") {\n                  featureFlagsApi.registerFlag({\n                    name: output.name,\n                    pluginId: plugin.getId()\n                  });\n                }\n              }\n            }\n          }\n          const registeredFlags = featureFlagsApi.getRegisteredFlags();\n          const flagNames = new Set(registeredFlags.map((f) => f.name));\n          for (const name of featureFlags) {\n            if (!flagNames.has(name)) {\n              featureFlagsApi.registerFlag({ name, pluginId: \"\" });\n            }\n          }\n        }\n      }\n      const { ThemeProvider = AppThemeProvider, Progress } = this.components;\n      const apis = this.getApiHolder();\n      if (isProtectedApp()) {\n        const errorApi = apis.get(errorApiRef);\n        const fetchApi = apis.get(fetchApiRef);\n        const discoveryApi = apis.get(discoveryApiRef);\n        if (!errorApi || !fetchApi || !discoveryApi) {\n          throw new Error(\n            \"App is running in protected mode but missing required APIs\"\n          );\n        }\n        this.appIdentityProxy.enableCookieAuth({\n          errorApi,\n          fetchApi,\n          discoveryApi\n        });\n      }\n      return /* @__PURE__ */ jsx(ApiProvider, { apis, children: /* @__PURE__ */ jsx(AppContextProvider, { appContext, children: /* @__PURE__ */ jsx(ThemeProvider, { children: /* @__PURE__ */ jsx(\n        RoutingProvider,\n        {\n          routePaths: routing.paths,\n          routeParents: routing.parents,\n          routeObjects: routing.objects,\n          routeBindings,\n          basePath: getBasePath(loadedConfig.api),\n          children: /* @__PURE__ */ jsx(\n            InternalAppContext.Provider,\n            {\n              value: {\n                routeObjects: routing.objects,\n                appIdentityProxy: this.appIdentityProxy\n              },\n              children: /* @__PURE__ */ jsx(Suspense, { fallback: /* @__PURE__ */ jsx(Progress, {}), children })\n            }\n          )\n        }\n      ) }) }) });\n    };\n    return Provider;\n  }\n  getRouter() {\n    return AppRouter;\n  }\n  getApiHolder() {\n    if (this.apiHolder) {\n      for (const plugin of this.plugins) {\n        for (const factory of plugin.getApis()) {\n          if (!this.apiFactoryRegistry.get(factory.api)) {\n            this.apiFactoryRegistry.register(\"default\", factory);\n          }\n        }\n      }\n      ApiResolver.validateFactories(\n        this.apiFactoryRegistry,\n        this.apiFactoryRegistry.getAllApis()\n      );\n      return this.apiHolder;\n    }\n    this.apiFactoryRegistry.register(\"static\", {\n      api: appThemeApiRef,\n      deps: {},\n      factory: () => AppThemeSelector.createWithStorage(this.themes)\n    });\n    this.apiFactoryRegistry.register(\"static\", {\n      api: configApiRef,\n      deps: {},\n      factory: () => {\n        if (!this.configApi) {\n          throw new Error(\n            \"Tried to access config API before config was loaded\"\n          );\n        }\n        return this.configApi;\n      }\n    });\n    this.apiFactoryRegistry.register(\"static\", {\n      api: identityApiRef,\n      deps: {},\n      factory: () => this.appIdentityProxy\n    });\n    this.apiFactoryRegistry.register(\"static\", {\n      api: appLanguageApiRef,\n      deps: {},\n      factory: () => this.appLanguageApi\n    });\n    this.apiFactoryRegistry.register(\"default\", {\n      api: translationApiRef,\n      deps: { languageApi: appLanguageApiRef },\n      factory: ({ languageApi }) => I18nextTranslationApi.create({\n        languageApi,\n        resources: this.translationResources\n      })\n    });\n    this.apiFactoryRegistry.register(\"default\", {\n      api: featureFlagsApiRef,\n      deps: {},\n      factory: () => new LocalStorageFeatureFlags()\n    });\n    for (const factory of this.defaultApis) {\n      this.apiFactoryRegistry.register(\"default\", factory);\n    }\n    for (const plugin of this.plugins) {\n      for (const factory of plugin.getApis()) {\n        if (!this.apiFactoryRegistry.register(\"default\", factory)) {\n          throw new Error(\n            `Plugin ${plugin.getId()} tried to register duplicate or forbidden API factory for ${factory.api}`\n          );\n        }\n      }\n    }\n    for (const factory of this.apis) {\n      if (!this.apiFactoryRegistry.register(\"app\", factory)) {\n        throw new Error(\n          `Duplicate or forbidden API factory for ${factory.api} in app`\n        );\n      }\n    }\n    ApiResolver.validateFactories(\n      this.apiFactoryRegistry,\n      this.apiFactoryRegistry.getAllApis()\n    );\n    this.apiHolder = new ApiResolver(this.apiFactoryRegistry);\n    return this.apiHolder;\n  }\n  verifyPlugins(plugins) {\n    const pluginIds = /* @__PURE__ */ new Set();\n    for (const plugin of plugins) {\n      const id = plugin.getId();\n      if (pluginIds.has(id)) {\n        throw new Error(`Duplicate plugin found '${id}'`);\n      }\n      pluginIds.add(id);\n    }\n  }\n}\n\nexport { AppManager };\n//# sourceMappingURL=AppManager.esm.js.map\n","function isProtectedApp() {\n  const element = document.querySelector('meta[name=\"backstage-app-mode\"]');\n  const appMode = element?.getAttribute(\"content\") ?? \"public\";\n  return appMode === \"protected\";\n}\n\nexport { isProtectedApp };\n//# sourceMappingURL=isProtectedApp.esm.js.map\n","function collectRouteIds(plugins) {\n  const routesById = /* @__PURE__ */ new Map();\n  const externalRoutesById = /* @__PURE__ */ new Map();\n  for (const plugin of plugins) {\n    for (const [name, ref] of Object.entries(plugin.routes ?? {})) {\n      const refId = `${plugin.getId()}.${name}`;\n      if (routesById.has(refId)) {\n        throw new Error(`Unexpected duplicate route '${refId}'`);\n      }\n      routesById.set(refId, ref);\n    }\n    for (const [name, ref] of Object.entries(plugin.externalRoutes ?? {})) {\n      const refId = `${plugin.getId()}.${name}`;\n      if (externalRoutesById.has(refId)) {\n        throw new Error(`Unexpected duplicate external route '${refId}'`);\n      }\n      externalRoutesById.set(refId, ref);\n    }\n  }\n  return { routes: routesById, externalRoutes: externalRoutesById };\n}\nfunction resolveRouteBindings(bindRoutes, config, plugins) {\n  const routesById = collectRouteIds(plugins);\n  const result = /* @__PURE__ */ new Map();\n  const disabledExternalRefs = /* @__PURE__ */ new Set();\n  if (bindRoutes) {\n    const bind = (externalRoutes, targetRoutes) => {\n      for (const [key, value] of Object.entries(targetRoutes)) {\n        const externalRoute = externalRoutes[key];\n        if (!externalRoute) {\n          throw new Error(`Key ${key} is not an existing external route`);\n        }\n        if (!value && !externalRoute.optional) {\n          throw new Error(\n            `External route ${key} is required but was ${value === false ? \"disabled\" : \"not provided\"}`\n          );\n        }\n        if (value) {\n          result.set(externalRoute, value);\n        } else if (value === false) {\n          disabledExternalRefs.add(externalRoute);\n        }\n      }\n    };\n    bindRoutes({ bind });\n  }\n  const bindings = config.getOptionalConfig(\"app.routes.bindings\")?.get();\n  if (bindings) {\n    for (const [externalRefId, targetRefId] of Object.entries(bindings)) {\n      if (!isValidTargetRefId(targetRefId)) {\n        throw new Error(\n          `Invalid config at app.routes.bindings['${externalRefId}'], value must be a non-empty string or false`\n        );\n      }\n      const externalRef = routesById.externalRoutes.get(externalRefId);\n      if (!externalRef) {\n        throw new Error(\n          `Invalid config at app.routes.bindings, '${externalRefId}' is not a valid external route`\n        );\n      }\n      if (result.has(externalRef) || disabledExternalRefs.has(externalRef)) {\n        continue;\n      }\n      if (targetRefId === false) {\n        disabledExternalRefs.add(externalRef);\n      } else {\n        const targetRef = routesById.routes.get(targetRefId);\n        if (!targetRef) {\n          throw new Error(\n            `Invalid config at app.routes.bindings['${externalRefId}'], '${targetRefId}' is not a valid route`\n          );\n        }\n        result.set(externalRef, targetRef);\n      }\n    }\n  }\n  for (const externalRef of routesById.externalRoutes.values()) {\n    if (!result.has(externalRef) && !disabledExternalRefs.has(externalRef)) {\n      const defaultRefId = \"getDefaultTarget\" in externalRef ? externalRef.getDefaultTarget() : void 0;\n      if (defaultRefId) {\n        const defaultRef = routesById.routes.get(defaultRefId);\n        if (defaultRef) {\n          result.set(externalRef, defaultRef);\n        }\n      }\n    }\n  }\n  return result;\n}\nfunction isValidTargetRefId(value) {\n  if (value === false) {\n    return true;\n  }\n  if (typeof value === \"string\" && value) {\n    return true;\n  }\n  return false;\n}\n\nexport { collectRouteIds, resolveRouteBindings };\n//# sourceMappingURL=resolveRouteBindings.esm.js.map\n","import { joinPaths } from './helpers.esm.js';\n\nfunction validateRouteParameters(routePaths, routeParents) {\n  const notLeafRoutes = new Set(routeParents.values());\n  notLeafRoutes.delete(void 0);\n  for (const route of routeParents.keys()) {\n    if (notLeafRoutes.has(route)) {\n      continue;\n    }\n    let currentRouteRef = route;\n    let fullPath = \"\";\n    while (currentRouteRef) {\n      const path = routePaths.get(currentRouteRef);\n      if (path === void 0) {\n        throw new Error(`No path for ${currentRouteRef}`);\n      }\n      fullPath = joinPaths(path, fullPath);\n      currentRouteRef = routeParents.get(currentRouteRef);\n    }\n    const params = fullPath.match(/:(\\w+)/g);\n    if (params) {\n      for (let j = 0; j < params.length; j++) {\n        for (let i = j + 1; i < params.length; i++) {\n          if (params[i] === params[j]) {\n            throw new Error(\n              `Parameter ${params[i]} is duplicated in path ${fullPath}`\n            );\n          }\n        }\n      }\n    }\n  }\n}\nfunction validateRouteBindings(routeBindings, plugins) {\n  for (const plugin of plugins) {\n    if (!plugin.externalRoutes) {\n      continue;\n    }\n    for (const [name, externalRouteRef] of Object.entries(\n      plugin.externalRoutes\n    )) {\n      if (externalRouteRef.optional) {\n        continue;\n      }\n      if (!routeBindings.has(externalRouteRef)) {\n        throw new Error(\n          `External route '${name}' of the '${plugin.getId()}' plugin must be bound to a target route. See https://backstage.io/link?bind-routes for details.`\n        );\n      }\n    }\n  }\n}\n\nexport { validateRouteBindings, validateRouteParameters };\n//# sourceMappingURL=validation.esm.js.map\n","import { apis } from './defaults/apis.esm.js';\nimport { components } from './defaults/components.esm.js';\nimport { icons } from './defaults/icons.esm.js';\nimport { themes } from './defaults/themes.esm.js';\nimport { createSpecializedApp } from '@backstage/core-app-api';\n\nfunction createApp(options) {\n  return createSpecializedApp({\n    ...options,\n    apis: options?.apis ?? [],\n    bindRoutes: options?.bindRoutes,\n    components: {\n      ...components,\n      ...options?.components\n    },\n    configLoader: options?.configLoader,\n    defaultApis: apis,\n    icons: {\n      ...icons,\n      ...options?.icons\n    },\n    plugins: options?.plugins ?? [],\n    featureFlags: options?.featureFlags ?? [],\n    themes: options?.themes ?? themes\n  });\n}\n\nexport { createApp };\n//# sourceMappingURL=createApp.esm.js.map\n","import { AppManager } from './AppManager.esm.js';\n\nfunction createSpecializedApp(options) {\n  return new AppManager(options);\n}\n\nexport { createSpecializedApp };\n//# sourceMappingURL=createSpecializedApp.esm.js.map\n","const CATALOG_FILTER_EXISTS = Symbol.for(\n  // Random UUID to ensure no collisions\n  \"CATALOG_FILTER_EXISTS_0e15b590c0b343a2bae3e787e84c2111\"\n);\n\nexport { CATALOG_FILTER_EXISTS };\n//# sourceMappingURL=api.esm.js.map\n","const DEFAULT_NAMESPACE = \"default\";\nconst ANNOTATION_VIEW_URL = \"backstage.io/view-url\";\nconst ANNOTATION_EDIT_URL = \"backstage.io/edit-url\";\nconst ANNOTATION_KUBERNETES_API_SERVER = \"kubernetes.io/api-server\";\nconst ANNOTATION_KUBERNETES_API_SERVER_CA = \"kubernetes.io/api-server-certificate-authority\";\nconst ANNOTATION_KUBERNETES_AUTH_PROVIDER = \"kubernetes.io/auth-provider\";\n\nexport { ANNOTATION_EDIT_URL, ANNOTATION_KUBERNETES_API_SERVER, ANNOTATION_KUBERNETES_API_SERVER_CA, ANNOTATION_KUBERNETES_AUTH_PROVIDER, ANNOTATION_VIEW_URL, DEFAULT_NAMESPACE };\n//# sourceMappingURL=constants.esm.js.map\n","import { DEFAULT_NAMESPACE } from './constants.esm.js';\n\nfunction parseRefString(ref) {\n  let colonI = ref.indexOf(\":\");\n  const slashI = ref.indexOf(\"/\");\n  if (slashI !== -1 && slashI < colonI) {\n    colonI = -1;\n  }\n  const kind = colonI === -1 ? void 0 : ref.slice(0, colonI);\n  const namespace = slashI === -1 ? void 0 : ref.slice(colonI + 1, slashI);\n  const name = ref.slice(Math.max(colonI + 1, slashI + 1));\n  if (kind === \"\" || namespace === \"\" || name === \"\") {\n    throw new TypeError(\n      `Entity reference \"${ref}\" was not on the form [<kind>:][<namespace>/]<name>`\n    );\n  }\n  return { kind, namespace, name };\n}\nfunction getCompoundEntityRef(entity) {\n  return {\n    kind: entity.kind,\n    namespace: entity.metadata.namespace || DEFAULT_NAMESPACE,\n    name: entity.metadata.name\n  };\n}\nfunction parseEntityRef(ref, context) {\n  if (!ref) {\n    throw new Error(`Entity reference must not be empty`);\n  }\n  const defaultKind = context?.defaultKind;\n  const defaultNamespace = context?.defaultNamespace || DEFAULT_NAMESPACE;\n  let kind;\n  let namespace;\n  let name;\n  if (typeof ref === \"string\") {\n    const parsed = parseRefString(ref);\n    kind = parsed.kind ?? defaultKind;\n    namespace = parsed.namespace ?? defaultNamespace;\n    name = parsed.name;\n  } else {\n    kind = ref.kind ?? defaultKind;\n    namespace = ref.namespace ?? defaultNamespace;\n    name = ref.name;\n  }\n  if (!kind) {\n    const textual = JSON.stringify(ref);\n    throw new Error(\n      `Entity reference ${textual} had missing or empty kind (e.g. did not start with \"component:\" or similar)`\n    );\n  } else if (!namespace) {\n    const textual = JSON.stringify(ref);\n    throw new Error(\n      `Entity reference ${textual} had missing or empty namespace`\n    );\n  } else if (!name) {\n    const textual = JSON.stringify(ref);\n    throw new Error(`Entity reference ${textual} had missing or empty name`);\n  }\n  return { kind, namespace, name };\n}\nfunction stringifyEntityRef(ref) {\n  let kind;\n  let namespace;\n  let name;\n  if (\"metadata\" in ref) {\n    kind = ref.kind;\n    namespace = ref.metadata.namespace ?? DEFAULT_NAMESPACE;\n    name = ref.metadata.name;\n  } else {\n    kind = ref.kind;\n    namespace = ref.namespace ?? DEFAULT_NAMESPACE;\n    name = ref.name;\n  }\n  return `${kind.toLocaleLowerCase(\"en-US\")}:${namespace.toLocaleLowerCase(\n    \"en-US\"\n  )}/${name.toLocaleLowerCase(\"en-US\")}`;\n}\n\nexport { getCompoundEntityRef, parseEntityRef, stringifyEntityRef };\n//# sourceMappingURL=ref.esm.js.map\n","const RELATION_OWNED_BY = \"ownedBy\";\nconst RELATION_OWNER_OF = \"ownerOf\";\nconst RELATION_CONSUMES_API = \"consumesApi\";\nconst RELATION_API_CONSUMED_BY = \"apiConsumedBy\";\nconst RELATION_PROVIDES_API = \"providesApi\";\nconst RELATION_API_PROVIDED_BY = \"apiProvidedBy\";\nconst RELATION_DEPENDS_ON = \"dependsOn\";\nconst RELATION_DEPENDENCY_OF = \"dependencyOf\";\nconst RELATION_PARENT_OF = \"parentOf\";\nconst RELATION_CHILD_OF = \"childOf\";\nconst RELATION_MEMBER_OF = \"memberOf\";\nconst RELATION_HAS_MEMBER = \"hasMember\";\nconst RELATION_PART_OF = \"partOf\";\nconst RELATION_HAS_PART = \"hasPart\";\n\nexport { RELATION_API_CONSUMED_BY, RELATION_API_PROVIDED_BY, RELATION_CHILD_OF, RELATION_CONSUMES_API, RELATION_DEPENDENCY_OF, RELATION_DEPENDS_ON, RELATION_HAS_MEMBER, RELATION_HAS_PART, RELATION_MEMBER_OF, RELATION_OWNED_BY, RELATION_OWNER_OF, RELATION_PARENT_OF, RELATION_PART_OF, RELATION_PROVIDES_API };\n//# sourceMappingURL=relations.esm.js.map\n","const ANNOTATION_LOCATION = \"backstage.io/managed-by-location\";\nconst ANNOTATION_ORIGIN_LOCATION = \"backstage.io/managed-by-origin-location\";\nconst ANNOTATION_SOURCE_LOCATION = \"backstage.io/source-location\";\n\nexport { ANNOTATION_LOCATION, ANNOTATION_ORIGIN_LOCATION, ANNOTATION_SOURCE_LOCATION };\n//# sourceMappingURL=annotation.esm.js.map\n","import { stringifyEntityRef } from '../entity/ref.esm.js';\nimport { ANNOTATION_SOURCE_LOCATION, ANNOTATION_LOCATION } from './annotation.esm.js';\n\nconst scriptProtocolPattern = (\n  // eslint-disable-next-line no-control-regex\n  /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*\\:/i\n);\nfunction parseLocationRef(ref) {\n  if (typeof ref !== \"string\") {\n    throw new TypeError(\n      `Unable to parse location ref '${ref}', unexpected argument ${typeof ref}`\n    );\n  }\n  const splitIndex = ref.indexOf(\":\");\n  if (splitIndex < 0) {\n    throw new TypeError(\n      `Unable to parse location ref '${ref}', expected '<type>:<target>', e.g. 'url:https://host/path'`\n    );\n  }\n  const type = ref.substring(0, splitIndex).trim();\n  const target = ref.substring(splitIndex + 1).trim();\n  if (!type || !target) {\n    throw new TypeError(\n      `Unable to parse location ref '${ref}', expected '<type>:<target>', e.g. 'url:https://host/path'`\n    );\n  }\n  if (type === \"http\" || type === \"https\") {\n    throw new TypeError(\n      `Invalid location ref '${ref}', please prefix it with 'url:', e.g. 'url:${ref}'`\n    );\n  }\n  if (scriptProtocolPattern.test(target)) {\n    throw new TypeError(\n      `Invalid location ref '${ref}', target is a javascript: URL`\n    );\n  }\n  return { type, target };\n}\nfunction stringifyLocationRef(ref) {\n  const { type, target } = ref;\n  if (!type) {\n    throw new TypeError(`Unable to stringify location ref, empty type`);\n  } else if (!target) {\n    throw new TypeError(`Unable to stringify location ref, empty target`);\n  }\n  if (scriptProtocolPattern.test(target)) {\n    throw new TypeError(\n      `Invalid location ref '${type}:${target}', target is a javascript: URL`\n    );\n  }\n  return `${type}:${target}`;\n}\nfunction getEntitySourceLocation(entity) {\n  const locationRef = entity.metadata?.annotations?.[ANNOTATION_SOURCE_LOCATION] ?? entity.metadata?.annotations?.[ANNOTATION_LOCATION];\n  if (!locationRef) {\n    throw new Error(\n      `Entity '${stringifyEntityRef(entity)}' is missing location`\n    );\n  }\n  return parseLocationRef(locationRef);\n}\n\nexport { getEntitySourceLocation, parseLocationRef, stringifyLocationRef };\n//# sourceMappingURL=helpers.esm.js.map\n","import lodash from 'lodash';\n\nclass CommonValidatorFunctions {\n  /**\n   * Checks that the value is on the form `<suffix>` or `<prefix><separator><suffix>`, and validates\n   * those parts separately.\n   *\n   * @param value - The value to check\n   * @param separator - The separator between parts\n   * @param isValidPrefix - Checks that the part before the separator is valid, if present\n   * @param isValidSuffix - Checks that the part after the separator (or the entire value if there is no separator) is valid\n   */\n  static isValidPrefixAndOrSuffix(value, separator, isValidPrefix, isValidSuffix) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    const parts = value.split(separator);\n    if (parts.length === 1) {\n      return isValidSuffix(parts[0]);\n    } else if (parts.length === 2) {\n      return isValidPrefix(parts[0]) && isValidSuffix(parts[1]);\n    }\n    return false;\n  }\n  /**\n   * Checks that the value can be safely transferred as JSON.\n   *\n   * @param value - The value to check\n   */\n  static isJsonSafe(value) {\n    try {\n      return lodash.isEqual(value, JSON.parse(JSON.stringify(value)));\n    } catch {\n      return false;\n    }\n  }\n  /**\n   * Checks that the value is a valid DNS subdomain name.\n   *\n   * @param value - The value to check\n   * @see https://tools.ietf.org/html/rfc1123\n   */\n  static isValidDnsSubdomain(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 253 && value.split(\".\").every(CommonValidatorFunctions.isValidDnsLabel);\n  }\n  /**\n   * Checks that the value is a valid DNS label.\n   *\n   * @param value - The value to check\n   * @see https://tools.ietf.org/html/rfc1123\n   */\n  static isValidDnsLabel(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-z0-9]+(?:\\-+[a-z0-9]+)*$/.test(value);\n  }\n  /**\n   * Checks that the value is a valid tag.\n   *\n   * @deprecated This will be removed in a future release\n   * @param value - The value to check\n   */\n  static isValidTag(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-z0-9+#]+(\\-[a-z0-9+#]+)*$/.test(value);\n  }\n  /**\n   * Checks that the value is a valid string URL.\n   *\n   * @param value - The value to check\n   */\n  static isValidUrl(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    try {\n      new URL(value);\n      return true;\n    } catch {\n      return false;\n    }\n  }\n  /**\n   * Checks that the value is a non empty string value.\n   *\n   * @deprecated use isNonEmptyString instead\n   * @param value - The value to check\n   */\n  static isValidString(value) {\n    return typeof value === \"string\" && value?.trim()?.length >= 1;\n  }\n  /**\n   * Checks that the value is a string value that's not empty.\n   *\n   * @param value - The value to check\n   */\n  static isNonEmptyString(value) {\n    return typeof value === \"string\" && value?.trim()?.length >= 1;\n  }\n}\n\nexport { CommonValidatorFunctions };\n//# sourceMappingURL=CommonValidatorFunctions.esm.js.map\n","import { CommonValidatorFunctions } from './CommonValidatorFunctions.esm.js';\n\nclass KubernetesValidatorFunctions {\n  static isValidApiVersion(value) {\n    return CommonValidatorFunctions.isValidPrefixAndOrSuffix(\n      value,\n      \"/\",\n      CommonValidatorFunctions.isValidDnsSubdomain,\n      (n) => n.length >= 1 && n.length <= 63 && /^[a-z0-9A-Z]+$/.test(n)\n    );\n  }\n  static isValidKind(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-zA-Z][a-z0-9A-Z]*$/.test(value);\n  }\n  static isValidObjectName(value) {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9]$/.test(value);\n  }\n  static isValidNamespace(value) {\n    return CommonValidatorFunctions.isValidDnsLabel(value);\n  }\n  static isValidLabelKey(value) {\n    return CommonValidatorFunctions.isValidPrefixAndOrSuffix(\n      value,\n      \"/\",\n      CommonValidatorFunctions.isValidDnsSubdomain,\n      KubernetesValidatorFunctions.isValidObjectName\n    );\n  }\n  static isValidLabelValue(value) {\n    return value === \"\" || KubernetesValidatorFunctions.isValidObjectName(value);\n  }\n  static isValidAnnotationKey(value) {\n    return CommonValidatorFunctions.isValidPrefixAndOrSuffix(\n      value,\n      \"/\",\n      CommonValidatorFunctions.isValidDnsSubdomain,\n      KubernetesValidatorFunctions.isValidObjectName\n    );\n  }\n  static isValidAnnotationValue(value) {\n    return typeof value === \"string\";\n  }\n}\n\nexport { KubernetesValidatorFunctions };\n//# sourceMappingURL=KubernetesValidatorFunctions.esm.js.map\n","/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// This script is used to pick up and set the public path of the Webpack bundle\n// at runtime. The meta tag is injected by the app build, but only present in\n// the `index.html.tmpl` file. The runtime value of the meta tag is populated by\n// the app backend, when it templates the final `index.html` file.\n//\n// This is needed for additional chunks to use the correct public path, and it\n// is not possible to set the `__webpack_public_path__` variable outside of the\n// build itself. The Webpack output also does not read any <base> tags or\n// similar, this seems to be the only way to dynamically configure the public\n// path at runtime.\nconst el = document.querySelector('meta[name=\"backstage-public-path\"]');\nconst path = el?.getAttribute('content');\nif (path) {\n  __webpack_public_path__ = path;\n}\n","import { jsx } from 'react/jsx-runtime';\nimport { useEffect } from 'react';\nimport { useLocation, matchRoutes } from 'react-router-dom';\nimport { AnalyticsContext, useAnalytics } from '@backstage/core-plugin-api';\n\nconst getExtensionContext = (pathname, routes) => {\n  try {\n    const matches = matchRoutes(routes, { pathname });\n    const routeMatch = matches?.filter((match) => match?.route.routeRefs?.size > 0).pop();\n    const routeObject = routeMatch?.route;\n    if (!routeObject) {\n      return void 0;\n    }\n    if (routeObject.path === \"\" && pathname !== \"/\") {\n      return void 0;\n    }\n    let routeRef;\n    if (routeObject.routeRefs.size === 1) {\n      routeRef = routeObject.routeRefs.values().next().value;\n    }\n    let plugin;\n    if (routeObject.plugins.size === 1) {\n      plugin = routeObject.plugins.values().next().value;\n    }\n    const params = Object.entries(\n      routeMatch?.params || {}\n    ).reduce((acc, [key, value]) => {\n      if (value !== void 0 && key !== \"*\") {\n        acc[key] = value;\n      }\n      return acc;\n    }, {});\n    return {\n      extension: \"App\",\n      pluginId: plugin?.getId() || \"root\",\n      ...routeRef ? { routeRef: routeRef.id } : {},\n      _routeNodeType: routeObject.element,\n      params\n    };\n  } catch {\n    return void 0;\n  }\n};\nconst TrackNavigation = ({\n  pathname,\n  search,\n  hash,\n  attributes\n}) => {\n  const analytics = useAnalytics();\n  useEffect(() => {\n    analytics.captureEvent(\"navigate\", `${pathname}${search}${hash}`, {\n      attributes\n    });\n  }, [analytics, pathname, search, hash, attributes]);\n  return null;\n};\nconst RouteTracker = ({\n  routeObjects\n}) => {\n  const { pathname, search, hash } = useLocation();\n  const { params, ...attributes } = getExtensionContext(\n    pathname,\n    routeObjects\n  ) || { params: {} };\n  return /* @__PURE__ */ jsx(AnalyticsContext, { attributes, children: /* @__PURE__ */ jsx(\n    TrackNavigation,\n    {\n      pathname,\n      search,\n      hash,\n      attributes: params\n    }\n  ) });\n};\n\nexport { RouteTracker };\n//# sourceMappingURL=RouteTracker.esm.js.map\n","import { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nimport { useContext, useState } from 'react';\nimport { attachComponentData, useApp, useApi, configApiRef } from '@backstage/core-plugin-api';\nimport { InternalAppContext } from './InternalAppContext.esm.js';\nimport { isReactRouterBeta } from './isReactRouterBeta.esm.js';\nimport { RouteTracker } from '../routing/RouteTracker.esm.js';\nimport { Routes, Route } from 'react-router-dom';\n\nfunction getBasePath(configApi) {\n  if (!isReactRouterBeta()) {\n    return \"\";\n  }\n  return readBasePath(configApi);\n}\nfunction readBasePath(configApi) {\n  let { pathname } = new URL(\n    configApi.getOptionalString(\"app.baseUrl\") ?? \"/\",\n    \"http://sample.dev\"\n    // baseUrl can be specified as just a path\n  );\n  pathname = pathname.replace(/\\/*$/, \"\");\n  return pathname;\n}\nfunction SignInPageWrapper({\n  component: Component,\n  appIdentityProxy,\n  children\n}) {\n  const [identityApi, setIdentityApi] = useState();\n  const configApi = useApi(configApiRef);\n  const basePath = readBasePath(configApi);\n  if (!identityApi) {\n    return /* @__PURE__ */ jsx(Component, { onSignInSuccess: setIdentityApi });\n  }\n  appIdentityProxy.setTarget(identityApi, {\n    signOutTargetUrl: basePath || \"/\"\n  });\n  return /* @__PURE__ */ jsx(Fragment, { children });\n}\nfunction AppRouter(props) {\n  const { Router: RouterComponent, SignInPage: SignInPageComponent } = useApp().getComponents();\n  const configApi = useApi(configApiRef);\n  const basePath = readBasePath(configApi);\n  const mountPath = `${basePath}/*`;\n  const internalAppContext = useContext(InternalAppContext);\n  if (!internalAppContext) {\n    throw new Error(\"AppRouter must be rendered within the AppProvider\");\n  }\n  const { routeObjects, appIdentityProxy } = internalAppContext;\n  if (!SignInPageComponent) {\n    appIdentityProxy.setTarget(\n      {\n        getUserId: () => \"guest\",\n        getIdToken: async () => void 0,\n        getProfile: () => ({\n          email: \"guest@example.com\",\n          displayName: \"Guest\"\n        }),\n        getProfileInfo: async () => ({\n          email: \"guest@example.com\",\n          displayName: \"Guest\"\n        }),\n        getBackstageIdentity: async () => ({\n          type: \"user\",\n          userEntityRef: \"user:default/guest\",\n          ownershipEntityRefs: [\"user:default/guest\"]\n        }),\n        getCredentials: async () => ({}),\n        signOut: async () => {\n        }\n      },\n      { signOutTargetUrl: basePath || \"/\" }\n    );\n    if (isReactRouterBeta()) {\n      return /* @__PURE__ */ jsxs(RouterComponent, { children: [\n        /* @__PURE__ */ jsx(RouteTracker, { routeObjects }),\n        /* @__PURE__ */ jsx(Routes, { children: /* @__PURE__ */ jsx(Route, { path: mountPath, element: /* @__PURE__ */ jsx(Fragment, { children: props.children }) }) })\n      ] });\n    }\n    return /* @__PURE__ */ jsxs(RouterComponent, { basename: basePath, children: [\n      /* @__PURE__ */ jsx(RouteTracker, { routeObjects }),\n      props.children\n    ] });\n  }\n  if (isReactRouterBeta()) {\n    return /* @__PURE__ */ jsxs(RouterComponent, { children: [\n      /* @__PURE__ */ jsx(RouteTracker, { routeObjects }),\n      /* @__PURE__ */ jsx(\n        SignInPageWrapper,\n        {\n          component: SignInPageComponent,\n          appIdentityProxy,\n          children: /* @__PURE__ */ jsx(Routes, { children: /* @__PURE__ */ jsx(Route, { path: mountPath, element: /* @__PURE__ */ jsx(Fragment, { children: props.children }) }) })\n        }\n      )\n    ] });\n  }\n  return /* @__PURE__ */ jsxs(RouterComponent, { basename: basePath, children: [\n    /* @__PURE__ */ jsx(RouteTracker, { routeObjects }),\n    /* @__PURE__ */ jsx(\n      SignInPageWrapper,\n      {\n        component: SignInPageComponent,\n        appIdentityProxy,\n        children: props.children\n      }\n    )\n  ] });\n}\nattachComponentData(AppRouter, \"core.type\", \"AppRouter\");\n\nexport { AppRouter, getBasePath };\n//# sourceMappingURL=AppRouter.esm.js.map\n","import { createContext } from 'react';\n\nconst InternalAppContext = createContext(void 0);\n\nexport { InternalAppContext };\n//# sourceMappingURL=InternalAppContext.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createRoutesFromChildren, Route } from 'react-router-dom';\n\nfunction isReactRouterBeta() {\n  const [obj] = createRoutesFromChildren(/* @__PURE__ */ jsx(Route, { index: true, element: /* @__PURE__ */ jsx(\"div\", {}) }));\n  return !obj.index;\n}\n\nexport { isReactRouterBeta };\n//# sourceMappingURL=isReactRouterBeta.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useMemo } from 'react';\nimport { useRoutes } from 'react-router-dom';\nimport { attachComponentData, useApp, useElementFilter } from '@backstage/core-plugin-api';\nimport { isReactRouterBeta } from '../app/isReactRouterBeta.esm.js';\n\nlet warned = false;\nconst FlatRoutes = (props) => {\n  const app = useApp();\n  const { NotFoundErrorPage } = app.getComponents();\n  const isBeta = useMemo(() => isReactRouterBeta(), []);\n  const routes = useElementFilter(\n    props.children,\n    (elements) => elements.getElements().flatMap((child) => {\n      let path = child.props.path;\n      if (path === \"\") {\n        return [];\n      }\n      path = path?.replace(/\\/\\*$/, \"\") ?? \"/\";\n      let element = isBeta ? child : child.props.element;\n      if (!isBeta && !element) {\n        element = child;\n        if (!warned && process.env.NODE_ENV !== \"test\") {\n          console.warn(\n            \"DEPRECATION WARNING: All elements within <FlatRoutes> must be of type <Route> with an element prop. Existing usages of <Navigate key=[path] to=[to] /> should be replaced with <Route path=[path] element={<Navigate to=[to] />} />.\"\n          );\n          warned = true;\n        }\n      }\n      return [\n        {\n          // Each route matches any sub route, except for the explicit root path\n          path,\n          element,\n          children: child.props.children ? [\n            // These are the children of each route, which we all add in under a catch-all\n            // subroute in order to make them available to `useOutlet`\n            {\n              path: path === \"/\" ? \"/\" : \"*\",\n              // The root path must require an exact match\n              element: child.props.children\n            }\n          ] : void 0\n        }\n      ];\n    }).sort((a, b) => b.path.localeCompare(a.path)).map((obj) => ({ ...obj, path: obj.path === \"/\" ? \"/\" : `${obj.path}/*` }))\n  );\n  const withNotFound = [\n    ...routes,\n    {\n      path: \"*\",\n      element: /* @__PURE__ */ jsx(NotFoundErrorPage, {})\n    }\n  ];\n  return useRoutes(withNotFound);\n};\nattachComponentData(FlatRoutes, \"core.type\", \"FlatRoutes\");\n\nexport { FlatRoutes };\n//# sourceMappingURL=FlatRoutes.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useApi, alertApiRef } from '@backstage/core-plugin-api';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport IconButton from '@material-ui/core/IconButton';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Alert from '@material-ui/lab/Alert';\nimport { useState, useEffect } from 'react';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\n\nfunction AlertDisplay(props) {\n  const [messages, setMessages] = useState([]);\n  const alertApi = useApi(alertApiRef);\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const {\n    anchorOrigin = { vertical: \"top\", horizontal: \"center\" },\n    transientTimeoutMs\n  } = props;\n  const timeoutMs = transientTimeoutMs ?? 5e3;\n  useEffect(() => {\n    const subscription = alertApi.alert$().subscribe((message) => setMessages((msgs) => msgs.concat(message)));\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [alertApi]);\n  const [firstMessage] = messages;\n  useEffect(() => {\n    if (firstMessage && firstMessage.display === \"transient\") {\n      const timeout = setTimeout(() => {\n        setMessages((msgs) => {\n          const newMsgs = msgs.filter((msg) => msg !== firstMessage);\n          return newMsgs.length === msgs.length ? msgs : newMsgs;\n        });\n      }, timeoutMs);\n      return () => clearTimeout(timeout);\n    }\n    return void 0;\n  }, [firstMessage, timeoutMs]);\n  if (messages.length === 0) {\n    return null;\n  }\n  const handleClose = () => {\n    setMessages((msgs) => msgs.filter((msg) => msg !== firstMessage));\n  };\n  return /* @__PURE__ */ jsx(Snackbar, { open: true, anchorOrigin, children: /* @__PURE__ */ jsx(\n    Alert,\n    {\n      action: /* @__PURE__ */ jsx(\n        IconButton,\n        {\n          color: \"inherit\",\n          size: \"small\",\n          onClick: handleClose,\n          \"data-testid\": \"error-button-close\",\n          children: /* @__PURE__ */ jsx(CloseIcon, {})\n        }\n      ),\n      severity: firstMessage.severity,\n      children: /* @__PURE__ */ jsxs(Typography, { component: \"span\", children: [\n        String(firstMessage.message),\n        messages.length > 1 && /* @__PURE__ */ jsxs(\"em\", { children: [\n          \" \",\n          t(\"alertDisplay.message\", {\n            count: messages.length - 1\n          })\n        ] })\n      ] })\n    }\n  ) });\n}\n\nexport { AlertDisplay };\n//# sourceMappingURL=AlertDisplay.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport { useTheme } from '@material-ui/core/styles';\nimport LightAsync from 'react-syntax-highlighter/dist/esm/light-async';\nimport dark from 'react-syntax-highlighter/dist/esm/styles/hljs/dark';\nimport docco from 'react-syntax-highlighter/dist/esm/styles/hljs/docco';\nimport { CopyTextButton } from '../CopyTextButton/CopyTextButton.esm.js';\n\nfunction CodeSnippet(props) {\n  const {\n    text,\n    language,\n    showLineNumbers = false,\n    highlightedNumbers,\n    customStyle,\n    showCopyCodeButton = false\n  } = props;\n  const theme = useTheme();\n  const mode = theme.palette.type === \"dark\" ? dark : docco;\n  const highlightColor = theme.palette.type === \"dark\" ? \"#256bf3\" : \"#e6ffed\";\n  return /* @__PURE__ */ jsxs(Box, { position: \"relative\", children: [\n    /* @__PURE__ */ jsx(\n      LightAsync,\n      {\n        customStyle,\n        language,\n        style: mode,\n        showLineNumbers,\n        wrapLines: true,\n        lineNumberStyle: { color: theme.palette.textVerySubtle },\n        lineProps: (lineNumber) => highlightedNumbers?.includes(lineNumber) ? {\n          style: {\n            backgroundColor: highlightColor\n          }\n        } : {},\n        children: text\n      }\n    ),\n    showCopyCodeButton && /* @__PURE__ */ jsx(Box, { position: \"absolute\", top: 0, right: 0, children: /* @__PURE__ */ jsx(CopyTextButton, { text }) })\n  ] });\n}\n\nexport { CodeSnippet };\n//# sourceMappingURL=CodeSnippet.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { useApi, errorApiRef } from '@backstage/core-plugin-api';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport CopyIcon from '@material-ui/icons/FileCopy';\nimport { useState, useEffect } from 'react';\nimport useCopyToClipboard from 'react-use/esm/useCopyToClipboard';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction CopyTextButton(props) {\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const {\n    text,\n    tooltipDelay = 1e3,\n    tooltipText = t(\"copyTextButton.tooltipText\"),\n    \"aria-label\": ariaLabel = \"Copy text\"\n  } = props;\n  const errorApi = useApi(errorApiRef);\n  const [open, setOpen] = useState(false);\n  const [{ error }, copyToClipboard] = useCopyToClipboard();\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n  const handleCopyClick = (e) => {\n    e.stopPropagation();\n    setOpen(true);\n    copyToClipboard(text);\n  };\n  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsx(\n    Tooltip,\n    {\n      id: \"copy-test-tooltip\",\n      title: tooltipText,\n      placement: \"top\",\n      leaveDelay: tooltipDelay,\n      onClose: () => setOpen(false),\n      open,\n      children: /* @__PURE__ */ jsx(IconButton, { onClick: handleCopyClick, \"aria-label\": ariaLabel, children: /* @__PURE__ */ jsx(CopyIcon, {}) })\n    }\n  ) });\n}\n\nexport { CopyTextButton };\n//# sourceMappingURL=CopyTextButton.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { useState, useRef, useLayoutEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    node: {\n      fill: theme.palette.primary.light,\n      stroke: theme.palette.primary.light\n    },\n    text: {\n      fill: theme.palette.primary.contrastText\n    }\n  }),\n  { name: \"BackstageDependencyGraphDefaultNode\" }\n);\nfunction DefaultNode({ node: { id } }) {\n  const classes = useStyles();\n  const [width, setWidth] = useState(0);\n  const [height, setHeight] = useState(0);\n  const idRef = useRef(null);\n  useLayoutEffect(() => {\n    if (idRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = idRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setWidth(renderedWidth);\n        setHeight(renderedHeight);\n      }\n    }\n  }, [width, height]);\n  const padding = 10;\n  const paddedWidth = width + padding * 2;\n  const paddedHeight = height + padding * 2;\n  return /* @__PURE__ */ jsxs(\"g\", { children: [\n    /* @__PURE__ */ jsx(\n      \"rect\",\n      {\n        className: classes.node,\n        width: paddedWidth,\n        height: paddedHeight,\n        rx: 10\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      \"text\",\n      {\n        ref: idRef,\n        className: classes.text,\n        y: paddedHeight / 2,\n        x: paddedWidth / 2,\n        textAnchor: \"middle\",\n        alignmentBaseline: \"middle\",\n        children: id\n      }\n    )\n  ] });\n}\n\nexport { DefaultNode };\n//# sourceMappingURL=DefaultNode.esm.js.map\n","const ARROW_MARKER_ID = \"arrow-marker\";\nconst NODE_TEST_ID = \"node\";\nconst EDGE_TEST_ID = \"edge\";\nconst LABEL_TEST_ID = \"label\";\n\nexport { ARROW_MARKER_ID, EDGE_TEST_ID, LABEL_TEST_ID, NODE_TEST_ID };\n//# sourceMappingURL=constants.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useRef, useLayoutEffect } from 'react';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport { DefaultNode } from './DefaultNode.esm.js';\nimport { NODE_TEST_ID } from './constants.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    node: {\n      transition: `${theme.transitions.duration.shortest}ms`\n    }\n  }),\n  { name: \"BackstageDependencyGraphNode\" }\n);\nconst renderDefault = (props) => /* @__PURE__ */ jsx(DefaultNode, { ...props });\nfunction Node({\n  render = renderDefault,\n  setNode,\n  node\n}) {\n  const { width, height, x = 0, y = 0 } = node;\n  const nodeProps = node;\n  const classes = useStyles();\n  const nodeRef = useRef(null);\n  useLayoutEffect(() => {\n    if (nodeRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = nodeRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setNode(node.id, {\n          ...node,\n          height: renderedHeight,\n          width: renderedWidth\n        });\n      }\n    }\n  }, [node, width, height, setNode]);\n  return /* @__PURE__ */ jsx(\n    \"g\",\n    {\n      ref: nodeRef,\n      \"data-testid\": NODE_TEST_ID,\n      className: classes.node,\n      transform: `translate(${x - width / 2},${y - height / 2})`,\n      children: render({ node: nodeProps })\n    }\n  );\n}\n\nexport { Node };\n//# sourceMappingURL=Node.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    text: {\n      fill: theme.palette.textContrast\n    }\n  }),\n  { name: \"BackstageDependencyGraphDefaultLabel\" }\n);\nfunction DefaultLabel({ edge: { label } }) {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\"text\", { className: classes.text, textAnchor: \"middle\", children: label });\n}\n\nexport { DefaultLabel };\n//# sourceMappingURL=DefaultLabel.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useRef, useLayoutEffect, useMemo } from 'react';\nimport * as d3Shape from 'd3-shape';\nimport isFinite from 'lodash/isFinite';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport { ARROW_MARKER_ID, EDGE_TEST_ID, LABEL_TEST_ID } from './constants.esm.js';\nimport { DefaultLabel } from './DefaultLabel.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    path: {\n      strokeWidth: 1.3,\n      stroke: theme.palette.textSubtle,\n      fill: \"none\",\n      transition: `${theme.transitions.duration.shortest}ms`\n    },\n    label: {\n      transition: `${theme.transitions.duration.shortest}ms`\n    }\n  }),\n  { name: \"BackstageDependencyGraphEdge\" }\n);\nconst renderDefault = (props) => /* @__PURE__ */ jsx(DefaultLabel, { ...props });\nfunction Edge({\n  render = renderDefault,\n  setEdge,\n  id,\n  edge,\n  curve,\n  showArrowHeads\n}) {\n  const { x = 0, y = 0, width, height, points } = edge;\n  const labelProps = edge;\n  const classes = useStyles();\n  const labelRef = useRef(null);\n  useLayoutEffect(() => {\n    if (labelRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = labelRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setEdge(id, {\n          ...edge,\n          height: renderedHeight,\n          width: renderedWidth\n        });\n      }\n    }\n  }, [edge, height, width, setEdge, id]);\n  let path = \"\";\n  const createPath = useMemo(\n    () => d3Shape.line().x((d) => d.x).y((d) => d.y).curve(d3Shape[curve]),\n    [curve]\n  );\n  if (points) {\n    const finitePoints = points.filter(\n      (point) => isFinite(point.x) && isFinite(point.y)\n    );\n    path = createPath(finitePoints) || \"\";\n  }\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    path && /* @__PURE__ */ jsx(\n      \"path\",\n      {\n        \"data-testid\": EDGE_TEST_ID,\n        className: classes.path,\n        markerEnd: showArrowHeads ? `url(#${ARROW_MARKER_ID})` : void 0,\n        d: path\n      }\n    ),\n    labelProps.label ? /* @__PURE__ */ jsx(\n      \"g\",\n      {\n        ref: labelRef,\n        \"data-testid\": LABEL_TEST_ID,\n        className: classes.label,\n        transform: `translate(${x},${y})`,\n        children: render({ edge: labelProps })\n      }\n    ) : null\n  ] });\n}\n\nexport { Edge };\n//# sourceMappingURL=Edge.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { useState, useRef, useMemo, useCallback, useEffect } from 'react';\nimport useMeasure from 'react-use/esm/useMeasure';\nimport classNames from 'classnames';\nimport { once } from 'lodash';\nimport * as d3Zoom from 'd3-zoom';\nimport * as d3Selection from 'd3-selection';\nimport useTheme from '@material-ui/core/styles/useTheme';\nimport dagre from '@dagrejs/dagre';\nimport debounce from 'lodash/debounce';\nimport { DependencyGraphTypes } from './types.esm.js';\nimport { Node } from './Node.esm.js';\nimport { Edge } from './Edge.esm.js';\nimport { ARROW_MARKER_ID } from './constants.esm.js';\nimport IconButton from '@material-ui/core/IconButton';\nimport FullscreenIcon from '@material-ui/icons/Fullscreen';\nimport FullscreenExitIcon from '@material-ui/icons/FullscreenExit';\nimport { useFullScreenHandle, FullScreen } from 'react-full-screen';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\n\nconst useStyles = makeStyles((theme) => ({\n  fullscreenButton: {\n    position: \"absolute\",\n    right: 0\n  },\n  root: {\n    overflow: \"hidden\",\n    minHeight: \"100%\",\n    minWidth: \"100%\"\n  },\n  fixedHeight: {\n    maxHeight: \"100%\"\n  },\n  fullscreen: {\n    backgroundColor: theme.palette.background.paper\n  }\n}));\nconst WORKSPACE_ID = \"workspace\";\nconst DEPENDENCY_GRAPH_SVG = \"dependency-graph\";\nfunction DependencyGraph(props) {\n  const {\n    edges,\n    nodes,\n    renderNode,\n    direction = DependencyGraphTypes.Direction.TOP_BOTTOM,\n    align,\n    nodeMargin = 50,\n    edgeMargin = 10,\n    rankMargin = 50,\n    paddingX = 0,\n    paddingY = 0,\n    acyclicer,\n    ranker = DependencyGraphTypes.Ranker.NETWORK_SIMPLEX,\n    labelPosition = DependencyGraphTypes.LabelPosition.RIGHT,\n    labelOffset = 10,\n    edgeRanks = 1,\n    edgeWeight = 1,\n    renderEdge,\n    renderLabel,\n    defs,\n    zoom = \"enabled\",\n    curve = \"curveMonotoneX\",\n    showArrowHeads = false,\n    fit = \"grow\",\n    allowFullscreen = true,\n    ...svgProps\n  } = props;\n  const theme = useTheme();\n  const [containerWidth, setContainerWidth] = useState(100);\n  const [containerHeight, setContainerHeight] = useState(100);\n  const fullScreenHandle = useFullScreenHandle();\n  const styles = useStyles();\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const graph = useRef(\n    new dagre.graphlib.Graph()\n  );\n  const [graphWidth, setGraphWidth] = useState(\n    graph.current.graph()?.width || 0\n  );\n  const [graphHeight, setGraphHeight] = useState(\n    graph.current.graph()?.height || 0\n  );\n  const [graphNodes, setGraphNodes] = useState([]);\n  const [graphEdges, setGraphEdges] = useState([]);\n  const maxWidth = Math.max(graphWidth, containerWidth);\n  const maxHeight = Math.max(graphHeight, containerHeight);\n  const [_measureRef] = useMeasure();\n  const measureRef = once(_measureRef);\n  const scalableHeight = fit === \"grow\" && !fullScreenHandle.active ? maxHeight : \"100%\";\n  const containerRef = useMemo(\n    () => debounce((root) => {\n      if (!root) {\n        return;\n      }\n      measureRef(root);\n      const node = root.querySelector(\n        `svg#${DEPENDENCY_GRAPH_SVG}`\n      );\n      if (!node) {\n        return;\n      }\n      const container = d3Selection.select(node);\n      const workspace = d3Selection.select(node.getElementById(WORKSPACE_ID));\n      function enableZoom() {\n        container.call(\n          d3Zoom.zoom().scaleExtent([1, Infinity]).on(\"zoom\", (event) => {\n            event.transform.x = Math.min(\n              0,\n              Math.max(\n                event.transform.x,\n                maxWidth - maxWidth * event.transform.k\n              )\n            );\n            event.transform.y = Math.min(\n              0,\n              Math.max(\n                event.transform.y,\n                maxHeight - maxHeight * event.transform.k\n              )\n            );\n            workspace.attr(\"transform\", event.transform);\n          })\n        );\n      }\n      if (zoom === \"enabled\") {\n        enableZoom();\n      } else if (zoom === \"enable-on-click\") {\n        container.on(\"click\", () => enableZoom());\n      }\n      const { width: newContainerWidth, height: newContainerHeight } = root.getBoundingClientRect();\n      if (containerWidth !== newContainerWidth && newContainerWidth <= maxWidth) {\n        setContainerWidth(newContainerWidth);\n      }\n      if (containerHeight !== newContainerHeight && newContainerHeight <= maxHeight) {\n        setContainerHeight(newContainerHeight);\n      }\n    }, 100),\n    [measureRef, containerHeight, containerWidth, maxWidth, maxHeight, zoom]\n  );\n  const setNodesAndEdges = useCallback(() => {\n    const currentGraphNodes = graph.current.nodes();\n    const currentGraphEdges = graph.current.edges();\n    currentGraphNodes.forEach((nodeId) => {\n      const remainingNode = nodes.some((node) => node.id === nodeId);\n      if (!remainingNode) {\n        graph.current.removeNode(nodeId);\n      }\n    });\n    currentGraphEdges.forEach((e) => {\n      const remainingEdge = edges.some(\n        (edge) => edge.from === e.v && edge.to === e.w\n      );\n      if (!remainingEdge) {\n        graph.current.removeEdge(e.v, e.w);\n      }\n    });\n    nodes.forEach((node) => {\n      const existingNode = graph.current.nodes().find((nodeId) => node.id === nodeId);\n      if (existingNode && graph.current.node(existingNode)) {\n        const { width, height, x, y } = graph.current.node(existingNode);\n        graph.current.setNode(existingNode, { ...node, width, height, x, y });\n      } else {\n        graph.current.setNode(node.id, { ...node, width: 0, height: 0 });\n      }\n    });\n    edges.forEach((e) => {\n      graph.current.setEdge(e.from, e.to, {\n        ...e,\n        label: e.label,\n        width: 0,\n        height: 0,\n        labelpos: labelPosition,\n        labeloffset: labelOffset,\n        weight: edgeWeight,\n        minlen: edgeRanks\n      });\n    });\n  }, [edges, nodes, labelPosition, labelOffset, edgeWeight, edgeRanks]);\n  const updateGraph = useMemo(\n    () => debounce(\n      () => {\n        dagre.layout(graph.current);\n        const { height, width } = graph.current.graph();\n        const newHeight = Math.max(0, height || 0);\n        const newWidth = Math.max(0, width || 0);\n        setGraphWidth(newWidth);\n        setGraphHeight(newHeight);\n        setGraphNodes(graph.current.nodes());\n        setGraphEdges(graph.current.edges());\n      },\n      250,\n      { leading: true }\n    ),\n    []\n  );\n  useEffect(() => {\n    graph.current.setGraph({\n      rankdir: direction,\n      align,\n      nodesep: nodeMargin,\n      edgesep: edgeMargin,\n      ranksep: rankMargin,\n      marginx: paddingX,\n      marginy: paddingY,\n      acyclicer,\n      ranker\n    });\n    setNodesAndEdges();\n    updateGraph();\n    return updateGraph.cancel;\n  }, [\n    acyclicer,\n    align,\n    direction,\n    edgeMargin,\n    paddingX,\n    paddingY,\n    nodeMargin,\n    rankMargin,\n    ranker,\n    setNodesAndEdges,\n    updateGraph\n  ]);\n  const setNode = useCallback(\n    (id, node) => {\n      graph.current.setNode(id, node);\n      updateGraph();\n      return graph.current;\n    },\n    [updateGraph]\n  );\n  const setEdge = useCallback(\n    (id, edge) => {\n      graph.current.setEdge(id, edge);\n      updateGraph();\n      return graph.current;\n    },\n    [updateGraph]\n  );\n  return /* @__PURE__ */ jsxs(\n    FullScreen,\n    {\n      handle: fullScreenHandle,\n      className: classNames(\n        fullScreenHandle.active ? styles.fullscreen : styles.root\n      ),\n      children: [\n        allowFullscreen && /* @__PURE__ */ jsx(Tooltip, { title: t(\"dependencyGraph.fullscreenTooltip\"), children: /* @__PURE__ */ jsx(\n          IconButton,\n          {\n            className: styles.fullscreenButton,\n            onClick: fullScreenHandle.active ? fullScreenHandle.exit : fullScreenHandle.enter,\n            children: fullScreenHandle.active ? /* @__PURE__ */ jsx(FullscreenExitIcon, {}) : /* @__PURE__ */ jsx(FullscreenIcon, {})\n          }\n        ) }),\n        /* @__PURE__ */ jsx(\"div\", { ref: containerRef, style: { width: \"100%\", height: \"100%\" }, children: /* @__PURE__ */ jsxs(\n          \"svg\",\n          {\n            ...svgProps,\n            width: \"100%\",\n            height: scalableHeight,\n            viewBox: `0 0 ${maxWidth} ${maxHeight}`,\n            id: DEPENDENCY_GRAPH_SVG,\n            children: [\n              /* @__PURE__ */ jsxs(\"defs\", { children: [\n                /* @__PURE__ */ jsx(\n                  \"marker\",\n                  {\n                    id: ARROW_MARKER_ID,\n                    viewBox: \"0 0 24 24\",\n                    markerWidth: \"14\",\n                    markerHeight: \"14\",\n                    refX: \"16\",\n                    refY: \"12\",\n                    orient: \"auto\",\n                    markerUnits: \"strokeWidth\",\n                    children: /* @__PURE__ */ jsx(\n                      \"path\",\n                      {\n                        fill: theme.palette.textSubtle,\n                        d: \"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"\n                      }\n                    )\n                  }\n                ),\n                defs\n              ] }),\n              /* @__PURE__ */ jsx(\"g\", { id: WORKSPACE_ID, children: /* @__PURE__ */ jsxs(\n                \"svg\",\n                {\n                  width: graphWidth,\n                  height: graphHeight,\n                  y: maxHeight / 2 - graphHeight / 2,\n                  x: maxWidth / 2 - graphWidth / 2,\n                  viewBox: `0 0 ${graphWidth} ${graphHeight}`,\n                  children: [\n                    graphEdges.map((e) => {\n                      const edge = graph.current.edge(e);\n                      if (!edge) return null;\n                      if (renderEdge) return renderEdge({ edge, id: e });\n                      return /* @__PURE__ */ jsx(\n                        Edge,\n                        {\n                          id: e,\n                          setEdge,\n                          render: renderLabel,\n                          edge,\n                          curve,\n                          showArrowHeads\n                        },\n                        `${e.v}-${e.w}`\n                      );\n                    }),\n                    graphNodes.map((id) => {\n                      const node = graph.current.node(id);\n                      if (!node) return null;\n                      return /* @__PURE__ */ jsx(\n                        Node,\n                        {\n                          setNode,\n                          render: renderNode,\n                          node\n                        },\n                        id\n                      );\n                    })\n                  ]\n                }\n              ) })\n            ]\n          }\n        ) })\n      ]\n    }\n  );\n}\n\nexport { DependencyGraph };\n//# sourceMappingURL=DependencyGraph.esm.js.map\n","var DependencyGraphTypes;\n((DependencyGraphTypes2) => {\n  DependencyGraphTypes2.Direction = {\n    /**\n     * Top to Bottom\n     */\n    TOP_BOTTOM: \"TB\",\n    /**\n     * Bottom to Top\n     */\n    BOTTOM_TOP: \"BT\",\n    /**\n     * Left to Right\n     */\n    LEFT_RIGHT: \"LR\",\n    /**\n     * Right to Left\n     */\n    RIGHT_LEFT: \"RL\"\n  };\n  DependencyGraphTypes2.Alignment = {\n    /**\n     * Up Left\n     */\n    UP_LEFT: \"UL\",\n    /**\n     * Up Right\n     */\n    UP_RIGHT: \"UR\",\n    /**\n     * Down Left\n     */\n    DOWN_LEFT: \"DL\",\n    /**\n     * Down Right\n     */\n    DOWN_RIGHT: \"DR\"\n  };\n  DependencyGraphTypes2.Ranker = {\n    /**\n     * {@link https://en.wikipedia.org/wiki/Network_simplex_algorithm | Network Simplex} algorithm\n     */\n    NETWORK_SIMPLEX: \"network-simplex\",\n    /**\n     * Tight Tree algorithm\n     */\n    TIGHT_TREE: \"tight-tree\",\n    /**\n     * Longest path algorithm\n     *\n     * @remarks\n     *\n     * Simplest and fastest\n     */\n    LONGEST_PATH: \"longest-path\"\n  };\n  DependencyGraphTypes2.LabelPosition = {\n    LEFT: \"l\",\n    RIGHT: \"r\",\n    CENTER: \"c\"\n  };\n})(DependencyGraphTypes || (DependencyGraphTypes = {}));\n\nexport { DependencyGraphTypes };\n//# sourceMappingURL=types.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport missingAnnotation from './assets/missingAnnotation.svg';\nimport noInformation from './assets/noInformation.svg';\nimport createComponent from './assets/createComponent.svg';\nimport noBuild from './assets/noBuild.svg';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(\n  {\n    generalImg: {\n      width: \"95%\",\n      zIndex: 2,\n      position: \"relative\",\n      left: \"50%\",\n      top: \"50%\",\n      transform: \"translate(-50%, 15%)\"\n    }\n  },\n  { name: \"BackstageEmptyStateImage\" }\n);\nconst EmptyStateImage = ({ missing }) => {\n  const classes = useStyles();\n  switch (missing) {\n    case \"field\":\n      return /* @__PURE__ */ jsx(\n        \"img\",\n        {\n          src: missingAnnotation,\n          className: classes.generalImg,\n          alt: \"annotation is missing\"\n        }\n      );\n    case \"info\":\n      return /* @__PURE__ */ jsx(\n        \"img\",\n        {\n          src: noInformation,\n          alt: \"no Information\",\n          className: classes.generalImg\n        }\n      );\n    case \"content\":\n      return /* @__PURE__ */ jsx(\n        \"img\",\n        {\n          src: createComponent,\n          alt: \"create Component\",\n          className: classes.generalImg\n        }\n      );\n    case \"data\":\n      return /* @__PURE__ */ jsx(\"img\", { src: noBuild, alt: \"no Build\", className: classes.generalImg });\n    default:\n      return null;\n  }\n};\n\nexport { EmptyStateImage };\n//# sourceMappingURL=EmptyStateImage.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { EmptyStateImage } from './EmptyStateImage.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      backgroundColor: theme.palette.background.default,\n      padding: theme.spacing(2, 0, 0, 0)\n    },\n    action: {\n      marginTop: theme.spacing(2)\n    },\n    imageContainer: {\n      position: \"relative\"\n    }\n  }),\n  { name: \"BackstageEmptyState\" }\n);\nfunction EmptyState(props) {\n  const { title, description, missing, action } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-around\",\n      alignItems: \"flex-start\",\n      className: classes.root,\n      spacing: 2,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, md: 6, children: /* @__PURE__ */ jsxs(Grid, { container: true, direction: \"column\", children: [\n          /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: title }) }),\n          /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: description }) }),\n          /* @__PURE__ */ jsx(Grid, { item: true, xs: true, className: classes.action, children: action })\n        ] }) }),\n        /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, md: 6, className: classes.imageContainer, children: typeof missing === \"string\" ? /* @__PURE__ */ jsx(EmptyStateImage, { missing }) : missing.customImage })\n      ]\n    }\n  );\n}\n\nexport { EmptyState };\n//# sourceMappingURL=EmptyState.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { CopyTextButton } from '../CopyTextButton/CopyTextButton.esm.js';\nimport { WarningPanel } from '../WarningPanel/WarningPanel.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    text: {\n      fontFamily: \"monospace\",\n      whiteSpace: \"pre\",\n      overflowX: \"auto\",\n      marginRight: theme.spacing(2)\n    },\n    divider: {\n      margin: theme.spacing(2)\n    }\n  }),\n  { name: \"BackstageErrorPanel\" }\n);\nconst ErrorList = ({\n  error,\n  message,\n  stack,\n  children\n}) => {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsxs(List, { dense: true, children: [\n    /* @__PURE__ */ jsxs(ListItem, { alignItems: \"flex-start\", children: [\n      /* @__PURE__ */ jsx(\n        ListItemText,\n        {\n          classes: { secondary: classes.text },\n          primary: \"Error\",\n          secondary: error\n        }\n      ),\n      /* @__PURE__ */ jsx(CopyTextButton, { text: error })\n    ] }),\n    /* @__PURE__ */ jsxs(ListItem, { alignItems: \"flex-start\", children: [\n      /* @__PURE__ */ jsx(\n        ListItemText,\n        {\n          classes: { secondary: classes.text },\n          primary: \"Message\",\n          secondary: message\n        }\n      ),\n      /* @__PURE__ */ jsx(CopyTextButton, { text: message })\n    ] }),\n    stack && /* @__PURE__ */ jsxs(ListItem, { alignItems: \"flex-start\", children: [\n      /* @__PURE__ */ jsx(\n        ListItemText,\n        {\n          classes: { secondary: classes.text },\n          primary: \"Stack Trace\",\n          secondary: stack\n        }\n      ),\n      /* @__PURE__ */ jsx(CopyTextButton, { text: stack })\n    ] }),\n    children\n  ] });\n};\nfunction ErrorPanel(props) {\n  const { title, error, defaultExpanded, titleFormat, children } = props;\n  return /* @__PURE__ */ jsx(\n    WarningPanel,\n    {\n      severity: \"error\",\n      title: title ?? error.message,\n      defaultExpanded,\n      titleFormat,\n      children: /* @__PURE__ */ jsx(\n        ErrorList,\n        {\n          error: error.name,\n          message: error.message,\n          stack: error.stack,\n          children\n        }\n      )\n    }\n  );\n}\n\nexport { ErrorPanel };\n//# sourceMappingURL=ErrorPanel.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { StarIcon, UnstarredIcon } from '../../icons/icons.esm.js';\n\nconst useStyles = makeStyles(\n  () => ({\n    icon: {\n      color: \"#f3ba37\",\n      cursor: \"pointer\",\n      display: \"inline-flex\"\n    },\n    iconBorder: {\n      color: \"inherit\",\n      cursor: \"pointer\",\n      display: \"inline-flex\"\n    }\n  }),\n  { name: \"BackstageFavoriteToggleIcon\" }\n);\nfunction FavoriteToggleIcon(props) {\n  const { isFavorite } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    Typography,\n    {\n      component: \"span\",\n      className: isFavorite ? classes.icon : classes.iconBorder,\n      children: isFavorite ? /* @__PURE__ */ jsx(StarIcon, {}) : /* @__PURE__ */ jsx(UnstarredIcon, {})\n    }\n  );\n}\nfunction FavoriteToggle(props) {\n  const {\n    id,\n    title,\n    isFavorite: value,\n    onToggle: onChange,\n    ...iconButtonProps\n  } = props;\n  return /* @__PURE__ */ jsx(Tooltip, { id, title, children: /* @__PURE__ */ jsx(\n    IconButton,\n    {\n      \"aria-label\": title,\n      id,\n      onClick: () => onChange(!value),\n      color: \"inherit\",\n      ...iconButtonProps,\n      children: /* @__PURE__ */ jsx(FavoriteToggleIcon, { isFavorite: value })\n    }\n  ) });\n}\n\nexport { FavoriteToggle, FavoriteToggleIcon };\n//# sourceMappingURL=FavoriteToggle.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { useAnalytics, useApp, useApi, configApiRef } from '@backstage/core-plugin-api';\nimport MaterialLink from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport classNames from 'classnames';\nimport { trimEnd } from 'lodash';\nimport { forwardRef } from 'react';\nimport { Link as Link$1, createRoutesFromChildren, Route } from 'react-router-dom';\nimport OpenInNew from '@material-ui/icons/OpenInNew';\n\nfunction isReactRouterBeta() {\n  const [obj] = createRoutesFromChildren(/* @__PURE__ */ jsx(Route, { index: true, element: /* @__PURE__ */ jsx(\"div\", {}) }));\n  return !obj.index;\n}\nconst useStyles = makeStyles(\n  (theme) => ({\n    visuallyHidden: {\n      clip: \"rect(0 0 0 0)\",\n      clipPath: \"inset(50%)\",\n      overflow: \"hidden\",\n      position: \"absolute\",\n      userSelect: \"none\",\n      whiteSpace: \"nowrap\",\n      height: 1,\n      width: 1\n    },\n    externalLink: {\n      position: \"relative\"\n    },\n    externalLinkIcon: {\n      verticalAlign: \"bottom\",\n      marginLeft: theme.spacing(0.5)\n    }\n  }),\n  { name: \"Link\" }\n);\nconst ExternalLinkIcon = () => {\n  const app = useApp();\n  const Icon = app.getSystemIcon(\"externalLink\") || OpenInNew;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(Icon, { className: classes.externalLinkIcon });\n};\nconst isExternalUri = (uri) => /^([a-z+.-]+):/.test(uri);\nconst scriptProtocolPattern = (\n  // eslint-disable-next-line no-control-regex\n  /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*\\:/i\n);\nconst originalWindowOpen = window.open;\nif (originalWindowOpen && !originalWindowOpen.__backstage) {\n  const newOpen = function open(...args) {\n    const url = String(args[0]);\n    if (scriptProtocolPattern.test(url)) {\n      throw new Error(\n        \"Rejected window.open() with a javascript: URL as a security precaution\"\n      );\n    }\n    return originalWindowOpen.apply(this, args);\n  };\n  newOpen.__backstage = true;\n  window.open = newOpen;\n}\nconst useBaseUrl = () => {\n  try {\n    const config = useApi(configApiRef);\n    return config.getOptionalString(\"app.baseUrl\");\n  } catch {\n    return void 0;\n  }\n};\nconst useBasePath = () => {\n  const base = \"http://sample.dev\";\n  const url = useBaseUrl() ?? \"/\";\n  const { pathname } = new URL(url, base);\n  return trimEnd(pathname, \"/\");\n};\nconst useResolvedPath = (uri) => {\n  let resolvedPath = String(uri);\n  const basePath = useBasePath();\n  const external = isExternalUri(resolvedPath);\n  const startsWithBasePath = resolvedPath.startsWith(basePath);\n  if (!external && !startsWithBasePath) {\n    resolvedPath = basePath.concat(resolvedPath);\n  }\n  return resolvedPath;\n};\nconst getNodeText = (node) => {\n  if (node instanceof Array) {\n    return node.map(getNodeText).join(\" \").trim();\n  }\n  if (typeof node === \"object\" && node) {\n    return getNodeText(node?.props?.children);\n  }\n  if ([\"string\", \"number\"].includes(typeof node)) {\n    return String(node);\n  }\n  return \"\";\n};\nconst Link = forwardRef(\n  ({ onClick, noTrack, externalLinkIcon, ...props }, ref) => {\n    const classes = useStyles();\n    const analytics = useAnalytics();\n    const to = isReactRouterBeta() ? useResolvedPath(props.to) : props.to;\n    const linkText = getNodeText(props.children) || to;\n    const external = isExternalUri(to);\n    const newWindow = external && !!/^https?:/.exec(to);\n    if (scriptProtocolPattern.test(to)) {\n      throw new Error(\n        \"Link component rejected javascript: URL as a security precaution\"\n      );\n    }\n    const handleClick = (event) => {\n      onClick?.(event);\n      if (!noTrack) {\n        analytics.captureEvent(\"click\", linkText, { attributes: { to } });\n      }\n    };\n    return external ? (\n      // External links\n      /* @__PURE__ */ jsxs(\n        MaterialLink,\n        {\n          ...newWindow ? { target: \"_blank\", rel: \"noopener\" } : {},\n          ...props,\n          ...props[\"aria-label\"] ? { \"aria-label\": `${props[\"aria-label\"]}, Opens in a new window` } : {},\n          ref,\n          href: to,\n          onClick: handleClick,\n          className: classNames(classes.externalLink, props.className),\n          children: [\n            props.children,\n            externalLinkIcon && /* @__PURE__ */ jsx(ExternalLinkIcon, {}),\n            /* @__PURE__ */ jsx(Typography, { component: \"span\", className: classes.visuallyHidden, children: \", Opens in a new window\" })\n          ]\n        }\n      )\n    ) : (\n      // Interact with React Router for internal links\n      /* @__PURE__ */ jsx(\n        MaterialLink,\n        {\n          ...props,\n          ref,\n          component: Link$1,\n          to,\n          onClick: handleClick\n        }\n      )\n    );\n  }\n);\n\nexport { Link, isExternalUri, isReactRouterBeta, useResolvedPath };\n//# sourceMappingURL=Link.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Button$1 from '@material-ui/core/Button';\nimport { forwardRef } from 'react';\nimport { Link } from '../Link/Link.esm.js';\n\nconst LinkWrapper = forwardRef((props, ref) => /* @__PURE__ */ jsx(Link, { ref, ...props, color: \"initial\" }));\nconst LinkButton = forwardRef((props, ref) => /* @__PURE__ */ jsx(Button$1, { ref, component: LinkWrapper, ...props }));\nconst Button = LinkButton;\n\nexport { Button, LinkButton };\n//# sourceMappingURL=LinkButton.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { lazy, Suspense } from 'react';\nimport { useApp } from '@backstage/core-plugin-api';\n\nconst RealLogViewer = lazy(\n  () => import('./RealLogViewer.esm.js').then((m) => ({ default: m.RealLogViewer }))\n);\nfunction LogViewer(props) {\n  const { Progress } = useApp().getComponents();\n  return /* @__PURE__ */ jsx(Suspense, { fallback: /* @__PURE__ */ jsx(Progress, {}), children: /* @__PURE__ */ jsx(RealLogViewer, { ...props }) });\n}\n\nexport { LogViewer };\n//# sourceMappingURL=LogViewer.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ReactMarkdown from 'react-markdown';\nimport gfm from 'remark-gfm';\nimport { Children, createElement } from 'react';\nimport { CodeSnippet } from '../CodeSnippet/CodeSnippet.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    markdown: {\n      \"& table\": {\n        borderCollapse: \"collapse\",\n        border: `1px solid ${theme.palette.border}`\n      },\n      \"& th, & td\": {\n        border: `1px solid ${theme.palette.border}`,\n        padding: theme.spacing(1)\n      },\n      \"& td\": {\n        wordBreak: \"break-word\",\n        overflow: \"hidden\",\n        verticalAlign: \"middle\",\n        lineHeight: \"1\",\n        margin: 0,\n        padding: theme.spacing(3, 2, 3, 2.5),\n        borderBottom: 0\n      },\n      \"& th\": {\n        backgroundColor: theme.palette.background.paper\n      },\n      \"& tr\": {\n        backgroundColor: theme.palette.background.paper\n      },\n      \"& tr:nth-child(odd)\": {\n        backgroundColor: theme.palette.background.default\n      },\n      \"& a\": {\n        color: theme.palette.link\n      },\n      \"& img\": {\n        maxWidth: \"100%\"\n      }\n    }\n  }),\n  { name: \"BackstageMarkdownContent\" }\n);\nconst flatten = (text, child) => {\n  if (!child) return text;\n  return typeof child === \"string\" ? text + child : Children.toArray(child.props.children).reduce(flatten, text);\n};\nconst headingRenderer = ({ level, children }) => {\n  const childrenArray = Children.toArray(children);\n  const text = childrenArray.reduce(flatten, \"\");\n  const slug = text.toLocaleLowerCase(\"en-US\").replace(/\\W/g, \"-\");\n  return createElement(`h${level}`, { id: slug }, children);\n};\nconst components = {\n  code: ({ inline, className, children, ...props }) => {\n    const text = String(children).replace(/\\n+$/, \"\");\n    const match = /language-(\\w+)/.exec(className || \"\");\n    return !inline && match ? /* @__PURE__ */ jsx(CodeSnippet, { language: match[1], text }) : /* @__PURE__ */ jsx(\"code\", { className, ...props, children });\n  },\n  h1: headingRenderer,\n  h2: headingRenderer,\n  h3: headingRenderer,\n  h4: headingRenderer,\n  h5: headingRenderer,\n  h6: headingRenderer\n};\nfunction MarkdownContent(props) {\n  const {\n    content,\n    dialect = \"gfm\",\n    linkTarget,\n    transformLinkUri,\n    transformImageUri,\n    className\n  } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    ReactMarkdown,\n    {\n      remarkPlugins: dialect === \"gfm\" ? [gfm] : [],\n      className: `${classes.markdown} ${className ?? \"\"}`.trim(),\n      children: content,\n      components,\n      linkTarget,\n      transformLinkUri,\n      transformImageUri\n    }\n  );\n}\n\nexport { MarkdownContent };\n//# sourceMappingURL=MarkdownContent.esm.js.map\n","import { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { useState } from 'react';\nimport { isError } from '@backstage/errors';\nimport { useApi, configApiRef } from '@backstage/core-plugin-api';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport Box from '@material-ui/core/Box';\n\nconst useItemStyles = makeStyles(\n  (theme) => ({\n    root: {\n      paddingLeft: theme.spacing(2)\n    },\n    button: {\n      marginLeft: theme.spacing(2)\n    }\n  }),\n  { name: \"BackstageLoginRequestListItem\" }\n);\nconst LoginRequestListItem = ({ request, busy, setBusy }) => {\n  const classes = useItemStyles();\n  const [error, setError] = useState();\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const configApi = useApi(configApiRef);\n  const handleContinue = async () => {\n    setBusy(true);\n    try {\n      await request.trigger();\n    } catch (e) {\n      setError(isError(e) ? e.message : \"An unspecified error occurred\");\n    } finally {\n      setBusy(false);\n    }\n  };\n  const IconComponent = request.provider.icon;\n  const message = request.provider.message ?? t(\"oauthRequestDialog.message\", {\n    appTitle: configApi.getString(\"app.title\"),\n    provider: request.provider.title\n  });\n  return /* @__PURE__ */ jsxs(ListItem, { disabled: busy, classes: { root: classes.root }, children: [\n    /* @__PURE__ */ jsx(ListItemAvatar, { children: /* @__PURE__ */ jsx(IconComponent, { fontSize: \"large\" }) }),\n    /* @__PURE__ */ jsxs(Box, { display: \"flex\", alignItems: \"center\", flex: 1, children: [\n      /* @__PURE__ */ jsx(Box, { flex: 1, children: /* @__PURE__ */ jsx(\n        ListItemText,\n        {\n          primary: request.provider.title,\n          secondary: /* @__PURE__ */ jsxs(Fragment, { children: [\n            message && /* @__PURE__ */ jsx(Typography, { variant: \"subtitle2\", color: \"textSecondary\", children: message }),\n            error && /* @__PURE__ */ jsx(Typography, { color: \"error\", children: error })\n          ] })\n        }\n      ) }),\n      /* @__PURE__ */ jsx(\n        Button,\n        {\n          color: \"primary\",\n          variant: \"contained\",\n          onClick: handleContinue,\n          className: classes.button,\n          children: t(\"oauthRequestDialog.login\")\n        }\n      )\n    ] })\n  ] });\n};\n\nexport { LoginRequestListItem as default };\n//# sourceMappingURL=LoginRequestListItem.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport List from '@material-ui/core/List';\nimport Button from '@material-ui/core/Button';\nimport { useState, useMemo } from 'react';\nimport useObservable from 'react-use/esm/useObservable';\nimport LoginRequestListItem from './LoginRequestListItem.esm.js';\nimport { useApi, oauthRequestApiRef, configApiRef } from '@backstage/core-plugin-api';\nimport Typography from '@material-ui/core/Typography';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    dialog: {\n      paddingTop: theme.spacing(1)\n    },\n    title: {\n      minWidth: 0\n    },\n    titleHeading: {\n      fontSize: theme.typography.h6.fontSize\n    },\n    contentList: {\n      padding: 0\n    },\n    actionButtons: {\n      padding: theme.spacing(2, 0)\n    }\n  }),\n  { name: \"OAuthRequestDialog\" }\n);\nfunction OAuthRequestDialog(_props) {\n  const classes = useStyles();\n  const [busy, setBusy] = useState(false);\n  const oauthRequestApi = useApi(oauthRequestApiRef);\n  const configApi = useApi(configApiRef);\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const authRedirect = configApi.getOptionalBoolean(\"enableExperimentalRedirectFlow\") ?? false;\n  const requests = useObservable(\n    useMemo(() => oauthRequestApi.authRequest$(), [oauthRequestApi]),\n    []\n  );\n  const handleRejectAll = () => {\n    requests.forEach((request) => request.reject());\n  };\n  return /* @__PURE__ */ jsxs(\n    Dialog,\n    {\n      open: Boolean(requests.length),\n      fullWidth: true,\n      maxWidth: \"xs\",\n      classes: { paper: classes.dialog },\n      \"aria-labelledby\": \"oauth-req-dialog-title\",\n      children: [\n        /* @__PURE__ */ jsxs(\"main\", { children: [\n          /* @__PURE__ */ jsxs(\n            DialogTitle,\n            {\n              classes: { root: classes.title },\n              id: \"oauth-req-dialog-title\",\n              children: [\n                /* @__PURE__ */ jsx(\n                  Typography,\n                  {\n                    className: classes.titleHeading,\n                    variant: \"h1\",\n                    variantMapping: { h1: \"span\" },\n                    children: t(\"oauthRequestDialog.title\")\n                  }\n                ),\n                authRedirect ? /* @__PURE__ */ jsx(Typography, { children: t(\"oauthRequestDialog.authRedirectTitle\") }) : null\n              ]\n            }\n          ),\n          /* @__PURE__ */ jsx(DialogContent, { dividers: true, classes: { root: classes.contentList }, children: /* @__PURE__ */ jsx(List, { children: requests.map((request) => /* @__PURE__ */ jsx(\n            LoginRequestListItem,\n            {\n              request,\n              busy,\n              setBusy\n            },\n            request.provider.title\n          )) }) })\n        ] }),\n        /* @__PURE__ */ jsx(DialogActions, { classes: { root: classes.actionButtons }, children: /* @__PURE__ */ jsx(Button, { onClick: handleRejectAll, children: t(\"oauthRequestDialog.rejectAll\") }) })\n      ]\n    }\n  );\n}\n\nexport { OAuthRequestDialog };\n//# sourceMappingURL=OAuthRequestDialog.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { useTheme } from '@material-ui/core/styles';\nimport { useState, useEffect } from 'react';\n\nfunction Progress(props) {\n  const theme = useTheme();\n  const [isVisible, setIsVisible] = useState(false);\n  useEffect(() => {\n    const handle = setTimeout(\n      () => setIsVisible(true),\n      theme.transitions.duration.short\n    );\n    return () => clearTimeout(handle);\n  }, [theme.transitions.duration.short]);\n  return isVisible ? /* @__PURE__ */ jsx(LinearProgress, { ...props, \"data-testid\": \"progress\" }) : /* @__PURE__ */ jsx(Box, { display: \"none\", \"data-testid\": \"progress\" });\n}\n\nexport { Progress };\n//# sourceMappingURL=Progress.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { CodeSnippet } from '../CodeSnippet/CodeSnippet.esm.js';\nimport { CopyTextButton } from '../CopyTextButton/CopyTextButton.esm.js';\nimport { ErrorPanel } from '../ErrorPanel/ErrorPanel.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    text: {\n      fontFamily: \"monospace\",\n      whiteSpace: \"pre\",\n      overflowX: \"auto\",\n      marginRight: theme.spacing(2)\n    },\n    divider: {\n      margin: theme.spacing(2)\n    }\n  }),\n  { name: \"BackstageResponseErrorPanel\" }\n);\nfunction ResponseErrorPanel(props) {\n  const { title, error, defaultExpanded } = props;\n  const classes = useStyles();\n  if (error.name !== \"ResponseError\") {\n    return /* @__PURE__ */ jsx(\n      ErrorPanel,\n      {\n        title: title ?? error.message,\n        defaultExpanded,\n        error\n      }\n    );\n  }\n  const { body, cause } = error;\n  const { request, response } = body;\n  const errorString = `${response.statusCode}: ${cause.name}`;\n  const requestString = request && `${request.method} ${request.url}`;\n  const messageString = cause.message.replace(/\\\\n/g, \"\\n\");\n  const stackString = cause.stack?.replace(/\\\\n/g, \"\\n\");\n  const jsonString = JSON.stringify(body, void 0, 2);\n  return /* @__PURE__ */ jsxs(\n    ErrorPanel,\n    {\n      title: title ?? error.message,\n      defaultExpanded,\n      error: { name: errorString, message: messageString, stack: stackString },\n      children: [\n        requestString && /* @__PURE__ */ jsxs(ListItem, { alignItems: \"flex-start\", children: [\n          /* @__PURE__ */ jsx(\n            ListItemText,\n            {\n              classes: { secondary: classes.text },\n              primary: \"Request\",\n              secondary: request ? `${requestString}` : void 0\n            }\n          ),\n          /* @__PURE__ */ jsx(CopyTextButton, { text: requestString })\n        ] }),\n        /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(Divider, { component: \"li\", className: classes.divider }),\n          /* @__PURE__ */ jsx(ListItem, { alignItems: \"flex-start\", children: /* @__PURE__ */ jsx(\n            ListItemText,\n            {\n              classes: { secondary: classes.text },\n              primary: \"Full Error as JSON\"\n            }\n          ) }),\n          /* @__PURE__ */ jsx(CodeSnippet, { language: \"json\", text: jsonString, showCopyCodeButton: true })\n        ] })\n      ]\n    }\n  );\n}\n\nexport { ResponseErrorPanel };\n//# sourceMappingURL=ResponseErrorPanel.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst useStyles = makeStyles(\n  (theme) => createStyles({\n    icon: {\n      position: \"absolute\",\n      right: theme.spacing(0.5),\n      pointerEvents: \"none\",\n      color: \"#616161\"\n    }\n  }),\n  { name: \"BackstageClosedDropdown\" }\n);\nconst ClosedDropdown = () => {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    SvgIcon,\n    {\n      className: classes.icon,\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      children: /* @__PURE__ */ jsx(\n        \"path\",\n        {\n          d: \"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z\",\n          fill: \"currentColor\"\n        }\n      )\n    }\n  );\n};\n\nexport { ClosedDropdown as default };\n//# sourceMappingURL=ClosedDropdown.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst useStyles = makeStyles(\n  (theme) => createStyles({\n    icon: {\n      position: \"absolute\",\n      right: theme.spacing(0.5),\n      pointerEvents: \"none\",\n      color: \"#616161\"\n    }\n  }),\n  { name: \"BackstageOpenedDropdown\" }\n);\nconst OpenedDropdown = () => {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    SvgIcon,\n    {\n      className: classes.icon,\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      children: /* @__PURE__ */ jsx(\n        \"path\",\n        {\n          d: \"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z\",\n          fill: \"currentColor\"\n        }\n      )\n    }\n  );\n};\n\nexport { OpenedDropdown as default };\n//# sourceMappingURL=OpenedDropdown.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Chip from '@material-ui/core/Chip';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputBase from '@material-ui/core/InputBase';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport { withStyles, createStyles, makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { useState, useEffect } from 'react';\nimport ClosedDropdown from './static/ClosedDropdown.esm.js';\nimport OpenedDropdown from './static/OpenedDropdown.esm.js';\n\nconst BootstrapInput = withStyles(\n  (theme) => createStyles({\n    root: {\n      \"label + &\": {\n        marginTop: theme.spacing(3)\n      },\n      \"&.Mui-focused > div[role=button]\": {\n        borderColor: theme.palette.primary.main\n      }\n    },\n    input: {\n      borderRadius: theme.shape.borderRadius,\n      position: \"relative\",\n      backgroundColor: theme.palette.background.paper,\n      border: \"1px solid #ced4da\",\n      fontSize: theme.typography.body1.fontSize,\n      padding: theme.spacing(1.25, 3.25, 1.25, 1.5),\n      transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n      \"&:focus\": {\n        background: theme.palette.background.paper,\n        borderRadius: theme.shape.borderRadius\n      }\n    }\n  }),\n  { name: \"BackstageSelectInputBase\" }\n)(InputBase);\nconst useStyles = makeStyles(\n  (theme) => createStyles({\n    formControl: {\n      margin: theme.spacing(1, 0)\n    },\n    label: {\n      transform: \"initial\",\n      fontWeight: \"bold\",\n      fontSize: theme.typography.body2.fontSize,\n      fontFamily: theme.typography.fontFamily,\n      color: theme.palette.text.primary,\n      \"&.Mui-focused\": {\n        color: theme.palette.text.primary\n      }\n    },\n    formLabel: {\n      transform: \"initial\",\n      fontWeight: \"bold\",\n      fontSize: theme.typography.body2.fontSize,\n      fontFamily: theme.typography.fontFamily,\n      color: theme.palette.text.primary,\n      \"&.Mui-focused\": {\n        color: theme.palette.text.primary\n      }\n    },\n    chips: {\n      display: \"flex\",\n      flexWrap: \"wrap\"\n    },\n    chip: {\n      margin: 2\n    },\n    checkbox: {},\n    root: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    }\n  }),\n  { name: \"BackstageSelect\" }\n);\nfunction SelectComponent(props) {\n  const {\n    multiple,\n    items,\n    label,\n    placeholder,\n    selected,\n    onChange,\n    triggerReset,\n    native = false,\n    disabled = false,\n    margin,\n    \"data-testid\": dataTestId = \"select\"\n  } = props;\n  const classes = useStyles();\n  const [value, setValue] = useState(\n    selected || (multiple ? [] : \"\")\n  );\n  const [isOpen, setOpen] = useState(false);\n  useEffect(() => {\n    setValue(multiple ? [] : \"\");\n  }, [triggerReset, multiple]);\n  useEffect(() => {\n    setValue(selected || (multiple ? [] : \"\"));\n  }, [selected, multiple]);\n  const handleChange = (event) => {\n    setValue(event.target.value);\n    onChange(event.target.value);\n  };\n  const handleOpen = (event) => {\n    if (disabled) {\n      event.preventDefault();\n      return;\n    }\n    setOpen((previous) => {\n      if (multiple && !(event.target instanceof HTMLElement)) {\n        return true;\n      }\n      return !previous;\n    });\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const handleDelete = (selectedValue) => () => {\n    const newValue = value.filter((chip) => chip !== selectedValue);\n    setValue(newValue);\n    onChange(newValue);\n  };\n  return /* @__PURE__ */ jsx(Box, { className: classes.root, children: /* @__PURE__ */ jsxs(FormControl, { className: classes.formControl, children: [\n    /* @__PURE__ */ jsx(InputLabel, { className: classes.formLabel, children: label }),\n    /* @__PURE__ */ jsxs(\n      Select,\n      {\n        \"aria-label\": label,\n        value,\n        native,\n        disabled,\n        \"data-testid\": dataTestId,\n        displayEmpty: true,\n        multiple,\n        margin,\n        onChange: handleChange,\n        open: isOpen,\n        onOpen: handleOpen,\n        onClose: handleClose,\n        input: /* @__PURE__ */ jsx(BootstrapInput, {}),\n        label,\n        renderValue: (s) => multiple && value.length !== 0 ? /* @__PURE__ */ jsx(Box, { className: classes.chips, children: s.map((selectedValue) => {\n          const item = items.find((el) => el.value === selectedValue);\n          return item ? /* @__PURE__ */ jsx(\n            Chip,\n            {\n              \"data-testid\": \"chip\",\n              label: item?.label,\n              clickable: true,\n              deleteIcon: /* @__PURE__ */ jsx(\n                CancelIcon,\n                {\n                  \"data-testid\": \"cancel-icon\",\n                  onMouseDown: (event) => event.stopPropagation()\n                }\n              ),\n              onDelete: handleDelete(selectedValue),\n              className: classes.chip\n            },\n            item?.value\n          ) : false;\n        }) }) : /* @__PURE__ */ jsx(Typography, { children: value.length === 0 ? placeholder || \"\" : items.find((el) => el.value === s)?.label }),\n        IconComponent: () => !isOpen ? /* @__PURE__ */ jsx(ClosedDropdown, {}) : /* @__PURE__ */ jsx(OpenedDropdown, {}),\n        MenuProps: {\n          anchorOrigin: {\n            vertical: \"bottom\",\n            horizontal: \"left\"\n          },\n          transformOrigin: {\n            vertical: \"top\",\n            horizontal: \"left\"\n          },\n          getContentAnchorEl: null\n        },\n        children: [\n          !!placeholder && !multiple && /* @__PURE__ */ jsx(MenuItem, { value: [], children: placeholder }),\n          native ? items && items.map((item) => /* @__PURE__ */ jsx(\"option\", { value: item.value, children: item.label }, item.value)) : items && items.map((item) => /* @__PURE__ */ jsxs(MenuItem, { value: item.value, children: [\n            multiple && /* @__PURE__ */ jsx(\n              Checkbox,\n              {\n                color: \"primary\",\n                checked: value.includes(item.value) || false,\n                className: classes.checkbox\n              }\n            ),\n            item.label\n          ] }, item.value))\n        ]\n      }\n    )\n  ] }) });\n}\n\nexport { SelectComponent };\n//# sourceMappingURL=Select.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\n\nconst PendingIcon = ({\n  className,\n  dataTestId\n}) => {\n  return /* @__PURE__ */ jsx(\n    \"svg\",\n    {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 -960 960 960\",\n      className,\n      \"data-testid\": dataTestId,\n      children: /* @__PURE__ */ jsx(\"path\", { d: \"M280-420q25 0 42.5-17.5T340-480q0-25-17.5-42.5T280-540q-25 0-42.5 17.5T220-480q0 25 17.5 42.5T280-420Zm200 0q25 0 42.5-17.5T540-480q0-25-17.5-42.5T480-540q-25 0-42.5 17.5T420-480q0 25 17.5 42.5T480-420Zm200 0q25 0 42.5-17.5T740-480q0-25-17.5-42.5T680-540q-25 0-42.5 17.5T620-480q0 25 17.5 42.5T680-420ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z\" })\n    }\n  );\n};\n\nexport { PendingIcon };\n//# sourceMappingURL=PendingIcon.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\n\nconst AbortedIcon = ({\n  className,\n  dataTestId\n}) => {\n  return /* @__PURE__ */ jsx(\n    \"svg\",\n    {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 -960 960 960\",\n      className,\n      \"data-testid\": dataTestId,\n      children: /* @__PURE__ */ jsx(\"path\", { d: \"M140-440q-25 0-42.5-17.5T80-500q0-25 17.5-42.5T140-560h240q25 0 42.5 17.5T440-500q0 25-17.5 42.5T380-440H140Zm440 0q-25 0-42.5-17.5T520-500q0-25 17.5-42.5T580-560h240q25 0 42.5 17.5T880-500q0 25-17.5 42.5T820-440H580Z\" })\n    }\n  );\n};\n\nexport { AbortedIcon };\n//# sourceMappingURL=AbortedIcon.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport CheckCircleOutline from '@material-ui/icons/CheckCircleOutline';\nimport WarningOutline from '@material-ui/icons/ReportProblemOutlined';\nimport ErrorOutline from '@material-ui/icons/ErrorOutline';\nimport classNames from 'classnames';\nimport { PendingIcon } from './icons/PendingIcon.esm.js';\nimport { RunningIcon } from './icons/RunningIcon.esm.js';\nimport { AbortedIcon } from './icons/AbortedIcon.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    status: {\n      fontWeight: theme.typography.fontWeightMedium,\n      alignItems: \"baseline\",\n      display: \"flex\"\n    },\n    statusIcon: {\n      flexShrink: 0,\n      position: \"relative\",\n      top: \"0.125em\",\n      marginRight: theme.spacing(1)\n    },\n    statusIconSize: {\n      width: \"0.8em\",\n      height: \"0.8em\"\n    },\n    statusIconSizeForImg: {\n      width: \"1.2em\",\n      height: \"1.2em\"\n    },\n    ok: {\n      fill: theme.palette.status.ok || \"#3E8635\"\n    },\n    warning: {\n      fill: theme.palette.status.warning || \"#F0AB00\"\n    },\n    error: {\n      fill: theme.palette.status.error || \"#C9190B\"\n    },\n    pending: {\n      fill: theme.palette.status.aborted || \"#6A6E73\"\n    },\n    running: {\n      fill: theme.palette.status.aborted || \"#6A6E73\"\n    },\n    aborted: {\n      fill: theme.palette.status.aborted || \"#6A6E73\"\n    }\n  }),\n  { name: \"BackstageStatus\" }\n);\nfunction StatusOK(props) {\n  const { children, ...otherProps } = props;\n  const classes = useStyles(otherProps);\n  return /* @__PURE__ */ jsxs(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status),\n      \"aria-label\": \"Status ok\",\n      \"aria-hidden\": \"true\",\n      ...otherProps,\n      children: [\n        /* @__PURE__ */ jsx(\n          CheckCircleOutline,\n          {\n            \"data-testid\": \"status-ok\",\n            className: classNames(\n              classes.ok,\n              classes.statusIconSize,\n              classes.statusIcon\n            )\n          }\n        ),\n        children\n      ]\n    }\n  );\n}\nfunction StatusWarning(props) {\n  const { children, ...otherProps } = props;\n  const classes = useStyles(otherProps);\n  return /* @__PURE__ */ jsxs(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status),\n      \"aria-label\": \"Status warning\",\n      \"aria-hidden\": \"true\",\n      ...otherProps,\n      children: [\n        /* @__PURE__ */ jsx(\n          WarningOutline,\n          {\n            \"data-testid\": \"status-warning\",\n            className: classNames(\n              classes.warning,\n              classes.statusIconSize,\n              classes.statusIcon\n            )\n          }\n        ),\n        children\n      ]\n    }\n  );\n}\nfunction StatusError(props) {\n  const { children, ...otherProps } = props;\n  const classes = useStyles(otherProps);\n  return /* @__PURE__ */ jsxs(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status),\n      \"aria-label\": \"Status error\",\n      \"aria-hidden\": \"true\",\n      ...otherProps,\n      children: [\n        /* @__PURE__ */ jsx(\n          ErrorOutline,\n          {\n            \"data-testid\": \"status-error\",\n            className: classNames(\n              classes.error,\n              classes.statusIconSize,\n              classes.statusIcon\n            )\n          }\n        ),\n        children\n      ]\n    }\n  );\n}\nfunction StatusPending(props) {\n  const { children, ...otherProps } = props;\n  const classes = useStyles(otherProps);\n  return /* @__PURE__ */ jsxs(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status),\n      \"aria-label\": \"Status pending\",\n      \"aria-hidden\": \"true\",\n      ...otherProps,\n      children: [\n        /* @__PURE__ */ jsx(\n          PendingIcon,\n          {\n            dataTestId: \"status-pending\",\n            className: classNames(\n              classes.pending,\n              classes.statusIconSizeForImg,\n              classes.statusIcon\n            )\n          }\n        ),\n        children\n      ]\n    }\n  );\n}\nfunction StatusRunning(props) {\n  const { children, ...otherProps } = props;\n  const classes = useStyles(otherProps);\n  return /* @__PURE__ */ jsxs(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status),\n      \"aria-label\": \"Status running\",\n      \"aria-hidden\": \"true\",\n      ...otherProps,\n      children: [\n        /* @__PURE__ */ jsx(\n          RunningIcon,\n          {\n            dataTestId: \"status-running\",\n            className: classNames(\n              classes.running,\n              classes.statusIcon,\n              classes.statusIconSizeForImg\n            )\n          }\n        ),\n        children\n      ]\n    }\n  );\n}\nfunction StatusAborted(props) {\n  const { children, ...otherProps } = props;\n  const classes = useStyles(otherProps);\n  return /* @__PURE__ */ jsxs(\n    Typography,\n    {\n      component: \"span\",\n      className: classNames(classes.status),\n      \"aria-label\": \"Status aborted\",\n      \"aria-hidden\": \"true\",\n      ...otherProps,\n      children: [\n        /* @__PURE__ */ jsx(\n          AbortedIcon,\n          {\n            dataTestId: \"status-aborted\",\n            className: classNames(\n              classes.aborted,\n              classes.statusIcon,\n              classes.statusIconSizeForImg\n            )\n          }\n        ),\n        children\n      ]\n    }\n  );\n}\n\nexport { StatusAborted, StatusError, StatusOK, StatusPending, StatusRunning, StatusWarning };\n//# sourceMappingURL=Status.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport { withStyles, createStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst tableTitleCellStyles = (theme) => createStyles({\n  root: {\n    fontWeight: theme.typography.fontWeightBold,\n    whiteSpace: \"nowrap\",\n    paddingRight: theme.spacing(4),\n    border: \"0\",\n    verticalAlign: \"top\"\n  }\n});\nconst tableContentCellStyles = {\n  root: {\n    border: \"0\",\n    verticalAlign: \"top\"\n  }\n};\nconst listStyles = (theme) => createStyles({\n  root: {\n    margin: theme.spacing(0, 0, -1, 0)\n  }\n});\nconst listItemStyles = (theme) => createStyles({\n  root: {\n    padding: theme.spacing(0, 0, 1, 0)\n  },\n  random: {}\n});\nconst TitleCell = withStyles(tableTitleCellStyles, {\n  name: \"BackstageMetadataTableTitleCell\"\n})(TableCell);\nconst ContentCell = withStyles(tableContentCellStyles, {\n  name: \"BackstageMetadataTableCell\"\n})(TableCell);\nconst MetadataTable = ({\n  dense,\n  children\n}) => /* @__PURE__ */ jsx(Table, { size: dense ? \"small\" : \"medium\", children: /* @__PURE__ */ jsx(TableBody, { children }) });\nconst MetadataTableItem = ({\n  title,\n  children,\n  ...rest\n}) => /* @__PURE__ */ jsxs(TableRow, { children: [\n  title && /* @__PURE__ */ jsx(TitleCell, { children: title }),\n  /* @__PURE__ */ jsx(ContentCell, { colSpan: title ? 1 : 2, ...rest, children })\n] });\nconst MetadataList = withStyles(listStyles, {\n  name: \"BackstageMetadataTableList\"\n})(({ classes, children }) => /* @__PURE__ */ jsx(List, { disablePadding: true, className: classes.root, children }));\nconst MetadataListItem = withStyles(listItemStyles, {\n  name: \"BackstageMetadataTableListItem\"\n})(({ classes, children }) => /* @__PURE__ */ jsx(ListItem, { className: classes.root, children }));\n\nexport { MetadataList, MetadataListItem, MetadataTable, MetadataTableItem };\n//# sourceMappingURL=MetadataTable.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { Fragment, isValidElement } from 'react';\nimport startCase from 'lodash/startCase';\nimport Typography from '@material-ui/core/Typography';\nimport { MetadataList, MetadataTable, MetadataTableItem, MetadataListItem } from './MetadataTable.esm.js';\nimport { CodeSnippet } from '../CodeSnippet/CodeSnippet.esm.js';\nimport jsyaml from 'js-yaml';\nimport { createStyles, withStyles } from '@material-ui/core/styles';\n\nconst listStyle = createStyles({\n  root: {\n    margin: \"0 0\",\n    listStyleType: \"none\"\n  }\n});\nconst nestedListStyle = (theme) => createStyles({\n  root: {\n    ...listStyle.root,\n    paddingLeft: theme.spacing(1)\n  }\n});\nconst StyledList = withStyles(listStyle, {\n  name: \"BackstageStructuredMetadataTableList\"\n})(({ classes, children }) => /* @__PURE__ */ jsx(MetadataList, { classes, children }));\nconst StyledNestedList = withStyles(nestedListStyle, {\n  name: \"BackstageStructuredMetadataTableNestedList\"\n})(({ classes, children }) => /* @__PURE__ */ jsx(MetadataList, { classes, children }));\nfunction renderList(list, options, nested) {\n  const values = list.map((item, index) => /* @__PURE__ */ jsx(MetadataListItem, { children: toValue(item, options, nested) }, index));\n  return nested ? /* @__PURE__ */ jsx(StyledNestedList, { children: values }) : /* @__PURE__ */ jsx(StyledList, { children: values });\n}\nfunction renderMap(map, options, nested) {\n  const values = Object.keys(map).map((key) => {\n    const value = toValue(map[key], options, true);\n    return /* @__PURE__ */ jsxs(MetadataListItem, { children: [\n      /* @__PURE__ */ jsx(Typography, { variant: \"body2\", component: \"span\", children: `${options.titleFormat(key)}: ` }),\n      value\n    ] }, key);\n  });\n  return nested ? /* @__PURE__ */ jsx(StyledNestedList, { children: values }) : /* @__PURE__ */ jsx(StyledList, { children: values });\n}\nfunction toValue(value, options, nested) {\n  if (isValidElement(value)) {\n    return /* @__PURE__ */ jsx(Fragment, { children: value });\n  }\n  if (value !== null && typeof value === \"object\") {\n    if (options.nestedValuesAsYaml) {\n      return /* @__PURE__ */ jsx(\n        CodeSnippet,\n        {\n          language: \"yaml\",\n          text: jsyaml.dump(value),\n          customStyle: {\n            background: \"transparent\",\n            lineHeight: \"1.4\",\n            padding: \"0\",\n            margin: 0\n          }\n        }\n      );\n    }\n    if (!Array.isArray(value)) {\n      return renderMap(value, options, nested);\n    }\n  }\n  if (Array.isArray(value)) {\n    return renderList(value, options, nested);\n  }\n  if (typeof value === \"boolean\") {\n    return /* @__PURE__ */ jsx(Fragment, { children: value ? \"\\u2705\" : \"\\u274C\" });\n  }\n  return /* @__PURE__ */ jsx(Typography, { variant: \"body2\", component: \"span\", children: value });\n}\nconst ItemValue = ({ value, options }) => /* @__PURE__ */ jsx(Fragment, { children: toValue(value, options, false) });\nconst TableItem = ({\n  title,\n  value,\n  options\n}) => {\n  return /* @__PURE__ */ jsx(MetadataTableItem, { title: options.titleFormat(title), children: /* @__PURE__ */ jsx(ItemValue, { value, options }) });\n};\nfunction mapToItems(info, options) {\n  return Object.keys(info).map((key) => /* @__PURE__ */ jsx(TableItem, { title: key, value: info[key], options }, key));\n}\nfunction StructuredMetadataTable(props) {\n  const { metadata, dense = true, options } = props;\n  const metadataItems = mapToItems(metadata, {\n    titleFormat: startCase,\n    nestedValuesAsYaml: options?.nestedValuesAsYaml ?? false,\n    ...options\n  });\n  return /* @__PURE__ */ jsx(MetadataTable, { dense, children: metadataItems });\n}\n\nexport { StructuredMetadataTable };\n//# sourceMappingURL=StructuredMetadataTable.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useMemo } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useParams, useRoutes, matchRoutes } from 'react-router-dom';\nimport { Content } from '../../layout/Content/Content.esm.js';\nimport { HeaderTabs } from '../../layout/HeaderTabs/HeaderTabs.esm.js';\nimport { Link } from '../Link/Link.esm.js';\n\nfunction useSelectedSubRoute(subRoutes) {\n  const params = useParams();\n  const routes = subRoutes.map(({ path, children }) => ({\n    caseSensitive: false,\n    path: `${path}/*`,\n    element: children\n  }));\n  const sortedRoutes = routes.sort(\n    (a, b) => (\n      // remove \"/*\" symbols from path end before comparing\n      b.path.replace(/\\/\\*$/, \"\").localeCompare(a.path.replace(/\\/\\*$/, \"\"))\n    )\n  );\n  const element = useRoutes(sortedRoutes) ?? subRoutes[0]?.children;\n  let currentRoute = params[\"*\"] ?? \"\";\n  if (!currentRoute.startsWith(\"/\")) {\n    currentRoute = `/${currentRoute}`;\n  }\n  const [matchedRoute] = matchRoutes(sortedRoutes, currentRoute) ?? [];\n  const foundIndex = matchedRoute ? subRoutes.findIndex((t) => `${t.path}/*` === matchedRoute.route.path) : 0;\n  return {\n    index: foundIndex === -1 ? 0 : foundIndex,\n    element,\n    route: subRoutes[foundIndex] ?? subRoutes[0]\n  };\n}\nfunction RoutedTabs(props) {\n  const { routes } = props;\n  const { index, route, element } = useSelectedSubRoute(routes);\n  const headerTabs = useMemo(\n    () => routes.map((t) => {\n      const { path, title, tabProps } = t;\n      let to = path;\n      to = to.replace(/\\/\\*$/, \"\");\n      to = to.replace(/^\\//, \"\");\n      return {\n        id: path,\n        label: title,\n        tabProps: {\n          component: Link,\n          to,\n          ...tabProps\n        }\n      };\n    }),\n    [routes]\n  );\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(HeaderTabs, { tabs: headerTabs, selectedIndex: index }),\n    /* @__PURE__ */ jsxs(Content, { children: [\n      /* @__PURE__ */ jsx(Helmet, { title: route?.title }),\n      element\n    ] })\n  ] });\n}\n\nexport { RoutedTabs, useSelectedSubRoute };\n//# sourceMappingURL=RoutedTabs.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useSubvalueCellStyles = makeStyles(\n  (theme) => ({\n    value: {\n      marginBottom: theme.spacing(0.75)\n    },\n    subvalue: {\n      color: theme.palette.textSubtle,\n      fontWeight: \"normal\"\n    }\n  }),\n  { name: \"BackstageSubvalueCell\" }\n);\nfunction SubvalueCell(props) {\n  const { value, subvalue } = props;\n  const classes = useSubvalueCellStyles();\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(Box, { className: classes.value, children: value }),\n    /* @__PURE__ */ jsx(Box, { className: classes.subvalue, children: subvalue })\n  ] });\n}\n\nexport { SubvalueCell };\n//# sourceMappingURL=SubvalueCell.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useState, useEffect } from 'react';\nimport { SelectComponent } from '../Select/Select.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useFilterStyles = makeStyles(\n  (theme) => ({\n    root: {\n      height: \"100%\",\n      width: \"315px\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      marginRight: theme.spacing(3)\n    },\n    value: {\n      fontWeight: \"bold\",\n      fontSize: 18\n    },\n    header: {\n      display: \"flex\",\n      alignItems: \"center\",\n      height: theme.spacing(7.5),\n      justifyContent: \"space-between\",\n      borderBottom: `1px solid ${theme.palette.grey[500]}`\n    },\n    filters: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      \"& > *\": {\n        marginTop: theme.spacing(2)\n      }\n    }\n  }),\n  { name: \"BackstageTableFilters\" }\n);\nconst Filters = (props) => {\n  const classes = useFilterStyles();\n  const { onChangeFilters } = props;\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const [selectedFilters, setSelectedFilters] = useState({\n    ...props.selectedFilters\n  });\n  const [reset, triggerReset] = useState(false);\n  const handleClick = () => {\n    setSelectedFilters({});\n    triggerReset((el) => !el);\n  };\n  useEffect(() => {\n    onChangeFilters(selectedFilters);\n  }, [selectedFilters, onChangeFilters]);\n  return /* @__PURE__ */ jsxs(Box, { className: classes.root, children: [\n    /* @__PURE__ */ jsxs(Box, { className: classes.header, children: [\n      /* @__PURE__ */ jsx(Box, { className: classes.value, children: t(\"table.filter.title\") }),\n      /* @__PURE__ */ jsx(Button, { color: \"primary\", onClick: handleClick, children: t(\"table.filter.clearAll\") })\n    ] }),\n    /* @__PURE__ */ jsx(Box, { className: classes.filters, children: props.filters?.length && props.filters.map((filter) => /* @__PURE__ */ jsx(\n      SelectComponent,\n      {\n        triggerReset: reset,\n        ...filter.element,\n        selected: selectedFilters[filter.element.label],\n        onChange: (el) => setSelectedFilters({\n          ...selectedFilters,\n          [filter.element.label]: el\n        })\n      },\n      filter.element.label\n    )) })\n  ] });\n};\n\nexport { Filters };\n//# sourceMappingURL=Filters.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nfunction TableLoadingBody(props) {\n  return /* @__PURE__ */ jsx(\"tbody\", { \"data-testid\": \"loading-indicator\", children: /* @__PURE__ */ jsx(\"tr\", { children: /* @__PURE__ */ jsx(\"td\", { colSpan: props.colSpan, children: /* @__PURE__ */ jsx(\n    Box,\n    {\n      sx: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        width: \"100%\",\n        minHeight: \"15rem\"\n      },\n      children: /* @__PURE__ */ jsx(CircularProgress, { size: \"5rem\" })\n    }\n  ) }) }) });\n}\n\nexport { TableLoadingBody };\n//# sourceMappingURL=TableLoadingBody.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport MTable, { MTableHeader, MTableToolbar, MTableBody } from '@material-table/core';\nimport Box from '@material-ui/core/Box';\nimport IconButton from '@material-ui/core/IconButton';\nimport { withStyles, makeStyles, useTheme } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport Search from '@material-ui/icons/Search';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport { transform, isEqual } from 'lodash';\nimport { forwardRef, useState, useCallback, useEffect, useMemo } from 'react';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { Filters } from './Filters.esm.js';\nimport { TableLoadingBody } from './TableLoadingBody.esm.js';\n\nconst tableIcons = {\n  Add: forwardRef((props, ref) => /* @__PURE__ */ jsx(AddBox, { ...props, ref })),\n  Check: forwardRef((props, ref) => /* @__PURE__ */ jsx(Check, { ...props, ref })),\n  Clear: forwardRef((props, ref) => /* @__PURE__ */ jsx(Clear, { ...props, ref })),\n  Delete: forwardRef((props, ref) => /* @__PURE__ */ jsx(DeleteOutline, { ...props, ref })),\n  DetailPanel: forwardRef((props, ref) => /* @__PURE__ */ jsx(ChevronRight, { ...props, ref })),\n  Edit: forwardRef((props, ref) => /* @__PURE__ */ jsx(Edit, { ...props, ref })),\n  Export: forwardRef((props, ref) => /* @__PURE__ */ jsx(SaveAlt, { ...props, ref })),\n  Filter: forwardRef((props, ref) => /* @__PURE__ */ jsx(FilterList, { ...props, ref })),\n  FirstPage: forwardRef((props, ref) => /* @__PURE__ */ jsx(FirstPage, { ...props, ref })),\n  LastPage: forwardRef((props, ref) => /* @__PURE__ */ jsx(LastPage, { ...props, ref })),\n  NextPage: forwardRef((props, ref) => /* @__PURE__ */ jsx(ChevronRight, { ...props, ref })),\n  PreviousPage: forwardRef((props, ref) => /* @__PURE__ */ jsx(ChevronLeftIcon, { ...props, ref })),\n  ResetSearch: forwardRef((props, ref) => /* @__PURE__ */ jsx(Clear, { ...props, ref })),\n  Search: forwardRef((props, ref) => /* @__PURE__ */ jsx(Search, { ...props, ref })),\n  SortArrow: forwardRef((props, ref) => /* @__PURE__ */ jsx(ArrowUpward, { ...props, ref })),\n  ThirdStateCheck: forwardRef((props, ref) => /* @__PURE__ */ jsx(Remove, { ...props, ref })),\n  ViewColumn: forwardRef((props, ref) => /* @__PURE__ */ jsx(ViewColumn, { ...props, ref }))\n};\nfunction extractValueByField(data, field) {\n  const path = field.split(\".\");\n  let value = data[path[0]];\n  for (let i = 1; i < path.length; ++i) {\n    if (value === void 0) {\n      return value;\n    }\n    const f = path[i];\n    value = value[f];\n  }\n  return value;\n}\nconst StyledMTableHeader = withStyles(\n  (theme) => ({\n    header: {\n      padding: theme.spacing(1, 2, 1, 2.5),\n      borderTop: `1px solid ${theme.palette.grey.A100}`,\n      borderBottom: `1px solid ${theme.palette.grey.A100}`,\n      // withStyles hasn't a generic overload for theme\n      fontWeight: theme.typography.fontWeightBold,\n      position: \"static\",\n      wordBreak: \"normal\",\n      textTransform: \"uppercase\"\n    }\n  }),\n  { name: \"BackstageTableHeader\" }\n)(MTableHeader);\nconst StyledMTableToolbar = withStyles(\n  (theme) => ({\n    root: {\n      padding: theme.spacing(3, 0, 2.5, 2.5)\n    },\n    title: {\n      \"& > h6\": {\n        fontWeight: theme.typography.fontWeightBold\n      }\n    },\n    searchField: {\n      paddingRight: theme.spacing(2)\n    }\n  }),\n  { name: \"BackstageTableToolbar\" }\n)(MTableToolbar);\nconst useFilterStyles = makeStyles(\n  (theme) => ({\n    root: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\"\n    },\n    title: {\n      fontWeight: theme.typography.fontWeightBold,\n      fontSize: 18,\n      whiteSpace: \"nowrap\"\n    }\n  }),\n  { name: \"BackstageTableFiltersContainer\" }\n);\nconst useTableStyles = makeStyles(\n  () => ({\n    root: {\n      display: \"flex\",\n      alignItems: \"start\"\n    }\n  }),\n  { name: \"BackstageTable\" }\n);\nfunction convertColumns(columns, theme) {\n  return columns.map((column) => {\n    const headerStyle = column.headerStyle ?? {};\n    let cellStyle = column.cellStyle || {};\n    if (column.highlight) {\n      headerStyle.color = theme.palette.textContrast;\n      if (typeof cellStyle === \"object\") {\n        cellStyle.fontWeight = theme.typography.fontWeightBold;\n      } else {\n        const cellStyleFn = cellStyle;\n        cellStyle = (data, rowData, rowColumn) => {\n          const style = cellStyleFn(data, rowData, rowColumn);\n          return { ...style, fontWeight: theme.typography.fontWeightBold };\n        };\n      }\n    }\n    return {\n      ...column,\n      headerStyle,\n      cellStyle\n    };\n  });\n}\nfunction removeDefaultValues(state, defaultState) {\n  return transform(state, (result, value, key) => {\n    if (!isEqual(value, defaultState[key])) {\n      result[key] = value;\n    }\n  });\n}\nconst defaultInitialState = {\n  search: \"\",\n  filtersOpen: false,\n  filters: {}\n};\nfunction TableToolbar(toolbarProps) {\n  const {\n    toolbarRef,\n    setSearch,\n    hasFilters,\n    selectedFiltersLength,\n    toggleFilters\n  } = toolbarProps;\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const filtersClasses = useFilterStyles();\n  const onSearchChanged = useCallback(\n    (searchText) => {\n      toolbarProps.onSearchChanged(searchText);\n      setSearch(searchText);\n    },\n    [toolbarProps, setSearch]\n  );\n  if (hasFilters) {\n    return /* @__PURE__ */ jsxs(Box, { className: filtersClasses.root, children: [\n      /* @__PURE__ */ jsxs(Box, { className: filtersClasses.root, children: [\n        /* @__PURE__ */ jsx(IconButton, { onClick: toggleFilters, \"aria-label\": \"filter list\", children: /* @__PURE__ */ jsx(FilterList, {}) }),\n        /* @__PURE__ */ jsxs(Typography, { className: filtersClasses.title, children: [\n          t(\"table.filter.title\"),\n          \" (\",\n          selectedFiltersLength,\n          \")\"\n        ] })\n      ] }),\n      /* @__PURE__ */ jsx(\n        StyledMTableToolbar,\n        {\n          ...toolbarProps,\n          ref: toolbarRef,\n          onSearchChanged\n        }\n      )\n    ] });\n  }\n  return /* @__PURE__ */ jsx(\n    StyledMTableToolbar,\n    {\n      ...toolbarProps,\n      ref: toolbarRef,\n      onSearchChanged\n    }\n  );\n}\nfunction Table(props) {\n  const {\n    data,\n    columns,\n    emptyContent,\n    options,\n    title,\n    subtitle,\n    localization,\n    filters,\n    initialState,\n    onStateChange,\n    components,\n    isLoading: loading,\n    style,\n    ...restProps\n  } = props;\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const tableClasses = useTableStyles();\n  const theme = useTheme();\n  const calculatedInitialState = { ...defaultInitialState, ...initialState };\n  const [filtersOpen, setFiltersOpen] = useState(\n    calculatedInitialState.filtersOpen\n  );\n  const toggleFilters = useCallback(\n    () => setFiltersOpen((v) => !v),\n    [setFiltersOpen]\n  );\n  const [selectedFilters, setSelectedFilters] = useState(\n    calculatedInitialState.filters\n  );\n  const [search, setSearch] = useState(calculatedInitialState.search);\n  useEffect(() => {\n    if (onStateChange) {\n      const state = removeDefaultValues(\n        {\n          search,\n          filtersOpen,\n          filters: selectedFilters\n        },\n        defaultInitialState\n      );\n      onStateChange(state);\n    }\n  }, [search, filtersOpen, selectedFilters, onStateChange]);\n  const getFieldByTitle = useCallback(\n    (titleValue) => columns.find((el) => el.title === titleValue)?.field,\n    [columns]\n  );\n  const tableData = useMemo(() => {\n    if (typeof data === \"function\" || !selectedFilters) {\n      return data;\n    }\n    const selectedFiltersArray = Object.values(selectedFilters);\n    if (data && selectedFiltersArray.flat().length) {\n      const newData = data.filter(\n        (el) => !!Object.entries(selectedFilters).filter(([, value]) => !!value.length).every(([key, filterValue]) => {\n          const fieldValue = extractValueByField(\n            el,\n            getFieldByTitle(key)\n          );\n          if (Array.isArray(fieldValue) && Array.isArray(filterValue)) {\n            return fieldValue.some((v) => filterValue.includes(v));\n          } else if (Array.isArray(fieldValue)) {\n            return fieldValue.includes(filterValue);\n          } else if (Array.isArray(filterValue)) {\n            return filterValue.includes(fieldValue);\n          }\n          return fieldValue === filterValue;\n        })\n      );\n      return newData;\n    }\n    return data;\n  }, [data, selectedFilters, getFieldByTitle]);\n  const selectedFiltersLength = Object.values(selectedFilters).flat().length;\n  const hasFilters = !!filters?.length;\n  const Toolbar = useCallback(\n    (toolbarProps) => {\n      return /* @__PURE__ */ jsx(\n        TableToolbar,\n        {\n          setSearch,\n          hasFilters,\n          selectedFiltersLength,\n          toggleFilters,\n          ...toolbarProps\n        }\n      );\n    },\n    [toggleFilters, hasFilters, selectedFiltersLength, setSearch]\n  );\n  const hasNoRows = typeof data !== \"function\" && data.length === 0;\n  const columnCount = columns.length;\n  const Body = useMemo(\n    () => makeBody({ hasNoRows, emptyContent, columnCount, loading }),\n    [hasNoRows, emptyContent, columnCount, loading]\n  );\n  return /* @__PURE__ */ jsxs(Box, { className: tableClasses.root, children: [\n    filtersOpen && data && typeof data !== \"function\" && filters?.length && /* @__PURE__ */ jsx(\n      Filters,\n      {\n        filters: constructFilters(filters, data, columns, t),\n        selectedFilters,\n        onChangeFilters: setSelectedFilters\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      MTable,\n      {\n        components: {\n          Header: StyledMTableHeader,\n          Body,\n          Toolbar,\n          ...components\n        },\n        options,\n        columns: convertColumns(columns, theme),\n        icons: tableIcons,\n        title: /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(Typography, { variant: \"h5\", component: \"h2\", children: title }),\n          subtitle && /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"body1\", children: subtitle })\n        ] }),\n        data: tableData,\n        style: { width: \"100%\", ...style },\n        localization: {\n          ...localization,\n          body: {\n            emptyDataSourceMessage: t(\"table.body.emptyDataSourceMessage\"),\n            ...localization?.body\n          },\n          pagination: {\n            firstTooltip: t(\"table.pagination.firstTooltip\"),\n            labelDisplayedRows: t(\"table.pagination.labelDisplayedRows\"),\n            labelRowsSelect: t(\"table.pagination.labelRowsSelect\"),\n            lastTooltip: t(\"table.pagination.lastTooltip\"),\n            nextTooltip: t(\"table.pagination.nextTooltip\"),\n            previousTooltip: t(\"table.pagination.previousTooltip\"),\n            ...localization?.pagination\n          },\n          header: {\n            actions: t(\"table.header.actions\"),\n            ...localization?.header\n          },\n          toolbar: {\n            searchPlaceholder: t(\"table.toolbar.search\"),\n            searchTooltip: t(\"table.toolbar.search\"),\n            ...localization?.toolbar\n          }\n        },\n        ...restProps\n      }\n    )\n  ] });\n}\nTable.icons = Object.freeze(tableIcons);\nfunction makeBody({\n  columnCount,\n  emptyContent,\n  hasNoRows,\n  loading\n}) {\n  return (bodyProps) => {\n    if (loading) {\n      return /* @__PURE__ */ jsx(TableLoadingBody, { colSpan: columnCount });\n    }\n    if (emptyContent && hasNoRows) {\n      return /* @__PURE__ */ jsx(\"tbody\", { children: /* @__PURE__ */ jsx(\"tr\", { children: /* @__PURE__ */ jsx(\"td\", { colSpan: columnCount, children: emptyContent }) }) });\n    }\n    return /* @__PURE__ */ jsx(MTableBody, { ...bodyProps });\n  };\n}\nfunction constructFilters(filterConfig, dataValue, columns, t) {\n  const extractDistinctValues = (field) => {\n    const distinctValues = /* @__PURE__ */ new Set();\n    const addValue = (value) => {\n      if (value !== void 0 && value !== null) {\n        distinctValues.add(value);\n      }\n    };\n    if (dataValue) {\n      dataValue.forEach((el) => {\n        const value = extractValueByField(\n          el,\n          columns.find((c) => c.title === field)?.field\n        );\n        if (Array.isArray(value)) {\n          value.forEach(addValue);\n        } else {\n          addValue(value);\n        }\n      });\n    }\n    return distinctValues;\n  };\n  const constructSelect = (filter) => {\n    return {\n      placeholder: t(\"table.filter.placeholder\"),\n      label: filter.column,\n      multiple: filter.type === \"multiple-select\",\n      items: [...extractDistinctValues(filter.column)].sort().map((value) => ({\n        label: value,\n        value\n      }))\n    };\n  };\n  return filterConfig.map((filter) => ({\n    type: filter.type,\n    element: constructSelect(filter)\n  }));\n}\n\nexport { Table, TableToolbar };\n//# sourceMappingURL=Table.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { makeStyles, darken, lighten } from '@material-ui/core/styles';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ErrorOutline from '@material-ui/icons/ErrorOutline';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { MarkdownContent } from '../MarkdownContent/MarkdownContent.esm.js';\n\nconst getWarningTextColor = (severity, theme) => {\n  const getColor = theme.palette.type === \"light\" ? darken : lighten;\n  return getColor(theme.palette[severity].light, 0.6);\n};\nconst getWarningBackgroundColor = (severity, theme) => {\n  const getBackgroundColor = theme.palette.type === \"light\" ? lighten : darken;\n  return getBackgroundColor(theme.palette[severity].light, 0.9);\n};\nconst useErrorOutlineStyles = makeStyles((theme) => ({\n  root: {\n    marginRight: theme.spacing(1),\n    fill: ({ severity }) => getWarningTextColor(\n      severity,\n      theme\n    )\n  }\n}));\nconst ErrorOutlineStyled = ({ severity }) => {\n  const classes = useErrorOutlineStyles({ severity });\n  return /* @__PURE__ */ jsx(ErrorOutline, { classes });\n};\nconst ExpandMoreIconStyled = ({ severity }) => {\n  const classes = useErrorOutlineStyles({ severity });\n  return /* @__PURE__ */ jsx(ExpandMoreIcon, { classes });\n};\nconst useStyles = makeStyles(\n  (theme) => ({\n    panel: {\n      backgroundColor: ({ severity }) => getWarningBackgroundColor(\n        severity,\n        theme\n      ),\n      color: ({ severity }) => getWarningTextColor(\n        severity,\n        theme\n      ),\n      verticalAlign: \"middle\"\n    },\n    summary: {\n      display: \"flex\",\n      flexDirection: \"row\"\n    },\n    summaryText: {\n      color: ({ severity }) => getWarningTextColor(\n        severity,\n        theme\n      ),\n      fontWeight: theme.typography.fontWeightBold\n    },\n    markdownContent: {\n      \"& p\": {\n        display: \"inline\"\n      }\n    },\n    message: {\n      width: \"100%\",\n      display: \"block\",\n      color: ({ severity }) => getWarningTextColor(\n        severity,\n        theme\n      ),\n      backgroundColor: ({ severity }) => getWarningBackgroundColor(\n        severity,\n        theme\n      )\n    },\n    details: {\n      width: \"100%\",\n      display: \"block\",\n      color: theme.palette.textContrast,\n      backgroundColor: theme.palette.background.default,\n      border: `1px solid ${theme.palette.border}`,\n      padding: theme.spacing(2),\n      fontFamily: \"sans-serif\"\n    }\n  }),\n  { name: \"BackstageWarningPanel\" }\n);\nconst capitalize = (s) => {\n  return s.charAt(0).toLocaleUpperCase(\"en-US\") + s.slice(1);\n};\nfunction WarningPanel(props) {\n  const {\n    severity = \"warning\",\n    title,\n    titleFormat,\n    message,\n    children,\n    defaultExpanded\n  } = props;\n  const classes = useStyles({ severity });\n  const subTitle = capitalize(severity) + (title ? `: ${title}` : \"\");\n  return /* @__PURE__ */ jsxs(\n    Accordion,\n    {\n      defaultExpanded: defaultExpanded ?? false,\n      className: classes.panel,\n      role: \"alert\",\n      children: [\n        /* @__PURE__ */ jsxs(\n          AccordionSummary,\n          {\n            expandIcon: /* @__PURE__ */ jsx(ExpandMoreIconStyled, { severity }),\n            className: classes.summary,\n            children: [\n              /* @__PURE__ */ jsx(ErrorOutlineStyled, { severity }),\n              /* @__PURE__ */ jsx(Typography, { className: classes.summaryText, variant: \"subtitle1\", children: titleFormat === \"markdown\" ? /* @__PURE__ */ jsx(\n                MarkdownContent,\n                {\n                  content: subTitle,\n                  className: classes.markdownContent\n                }\n              ) : subTitle })\n            ]\n          }\n        ),\n        (message || children) && /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsxs(Grid, { container: true, children: [\n          message && /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(Typography, { className: classes.message, variant: \"body1\", children: message }) }),\n          children && /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, className: classes.details, children })\n        ] }) })\n      ]\n    }\n  );\n}\n\nexport { WarningPanel };\n//# sourceMappingURL=WarningPanel.esm.js.map\n","import { useApiHolder, configApiRef } from '@backstage/core-plugin-api';\nimport { coreComponentsTranslationRef } from '../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useDefaultSupportConfig = () => {\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  return {\n    url: \"https://github.com/backstage/backstage/issues\",\n    items: [\n      {\n        title: t(\"supportConfig.default.title\"),\n        icon: \"warning\",\n        links: [\n          {\n            // TODO: Update to dedicated support page on backstage.io/docs\n            title: t(\"supportConfig.default.linkTitle\"),\n            url: \"https://github.com/backstage/backstage/blob/master/app-config.yaml\"\n          }\n        ]\n      }\n    ]\n  };\n};\nfunction useSupportConfig() {\n  const apiHolder = useApiHolder();\n  const config = apiHolder.get(configApiRef);\n  const supportConfig = config?.getOptionalConfig(\"app.support\");\n  const defaultSupportConfig = useDefaultSupportConfig();\n  if (!supportConfig) {\n    return defaultSupportConfig;\n  }\n  return {\n    url: supportConfig.getString(\"url\"),\n    items: supportConfig.getConfigArray(\"items\").flatMap((itemConf) => ({\n      title: itemConf.getString(\"title\"),\n      icon: itemConf.getOptionalString(\"icon\"),\n      links: (itemConf.getOptionalConfigArray(\"links\") ?? []).flatMap(\n        (linkConf) => ({\n          url: linkConf.getString(\"url\"),\n          title: linkConf.getOptionalString(\"title\") ?? \"\"\n        })\n      )\n    }))\n  };\n}\n\nexport { useSupportConfig };\n//# sourceMappingURL=useSupportConfig.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useApp } from '@backstage/core-plugin-api';\nimport MuiBrokenImageIcon from '@material-ui/icons/BrokenImage';\n\nfunction AppIcon(props) {\n  const { id: key, Fallback = MuiBrokenImageIcon, ...rest } = props;\n  const app = useApp();\n  const Icon = app.getSystemIcon(key) ?? Fallback;\n  return /* @__PURE__ */ jsx(Icon, { ...rest });\n}\nfunction BrokenImageIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"brokenImage\", ...props });\n}\nfunction CatalogIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"catalog\", ...props });\n}\nfunction ChatIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"chat\", ...props });\n}\nfunction DashboardIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"dashboard\", ...props });\n}\nfunction DocsIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"docs\", ...props });\n}\nfunction EmailIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"email\", ...props });\n}\nfunction GitHubIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"github\", ...props });\n}\nfunction GroupIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"group\", ...props });\n}\nfunction HelpIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"help\", ...props });\n}\nfunction UserIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"user\", ...props });\n}\nfunction WarningIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"warning\", ...props });\n}\nfunction StarIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"star\", ...props });\n}\nfunction UnstarredIcon(props) {\n  return /* @__PURE__ */ jsx(AppIcon, { id: \"unstarred\", ...props });\n}\n\nexport { AppIcon, BrokenImageIcon, CatalogIcon, ChatIcon, DashboardIcon, DocsIcon, EmailIcon, GitHubIcon, GroupIcon, HelpIcon, StarIcon, UnstarredIcon, UserIcon, WarningIcon };\n//# sourceMappingURL=icons.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport ArrowIcon from '@material-ui/icons/ArrowForward';\nimport { Link } from '../../components/Link/Link.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      maxWidth: \"fit-content\",\n      padding: theme.spacing(2, 2, 2, 2.5)\n    },\n    boxTitle: {\n      margin: 0,\n      color: theme.palette.textSubtle\n    },\n    arrow: {\n      color: theme.palette.textSubtle\n    }\n  }),\n  { name: \"BackstageBottomLink\" }\n);\nfunction BottomLink(props) {\n  const { link, title, onClick } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsxs(Box, { children: [\n    /* @__PURE__ */ jsx(Divider, {}),\n    /* @__PURE__ */ jsx(Link, { to: link, onClick, underline: \"none\", children: /* @__PURE__ */ jsxs(Box, { display: \"flex\", alignItems: \"center\", className: classes.root, children: [\n      /* @__PURE__ */ jsx(Box, { className: classes.boxTitle, fontWeight: \"fontWeightBold\", m: 1, children: /* @__PURE__ */ jsx(Typography, { children: /* @__PURE__ */ jsx(\"strong\", { children: title }) }) }),\n      /* @__PURE__ */ jsx(ArrowIcon, { className: classes.arrow })\n    ] }) })\n  ] });\n}\n\nexport { BottomLink };\n//# sourceMappingURL=BottomLink.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport MaterialBreadcrumbs from '@material-ui/core/Breadcrumbs';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Popover from '@material-ui/core/Popover';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { useState, Children, Fragment } from 'react';\n\nconst ClickableText = withStyles(\n  {\n    root: {\n      textDecoration: \"underline\",\n      cursor: \"pointer\"\n    }\n  },\n  { name: \"BackstageBreadcrumbsClickableText\" }\n)(Typography);\nconst StyledBox = withStyles(\n  {\n    root: {\n      textDecoration: \"underline\",\n      color: \"inherit\"\n    }\n  },\n  { name: \"BackstageBreadcrumbsStyledBox\" }\n)(Box);\nconst BreadcrumbsCurrentPage = withStyles(\n  {\n    root: {\n      fontStyle: \"italic\"\n    }\n  },\n  { name: \"BreadcrumbsCurrentPage\" }\n)(Box);\nfunction Breadcrumbs(props) {\n  const { children, ...restProps } = props;\n  const [anchorEl, setAnchorEl] = useState(null);\n  const childrenArray = Children.toArray(children);\n  const [firstPage, secondPage, ...expandablePages] = childrenArray;\n  const currentPage = expandablePages.length ? expandablePages.pop() : childrenArray[childrenArray.length - 1];\n  const hasHiddenBreadcrumbs = childrenArray.length > 3;\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const open = Boolean(anchorEl);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsxs(MaterialBreadcrumbs, { \"aria-label\": \"breadcrumb\", ...restProps, children: [\n      childrenArray.length > 1 && /* @__PURE__ */ jsx(StyledBox, { clone: true, children: firstPage }),\n      childrenArray.length > 2 && /* @__PURE__ */ jsx(StyledBox, { clone: true, children: secondPage }),\n      hasHiddenBreadcrumbs && /* @__PURE__ */ jsx(ClickableText, { onClick: handleClick, children: \"...\" }),\n      /* @__PURE__ */ jsx(BreadcrumbsCurrentPage, { children: currentPage })\n    ] }),\n    /* @__PURE__ */ jsx(\n      Popover,\n      {\n        open,\n        anchorEl,\n        onClose: handleClose,\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: \"left\"\n        },\n        transformOrigin: {\n          vertical: \"top\",\n          horizontal: \"left\"\n        },\n        children: /* @__PURE__ */ jsx(List, { children: expandablePages.map((pageLink, index) => /* @__PURE__ */ jsx(ListItem, { button: true, children: /* @__PURE__ */ jsx(StyledBox, { clone: true, children: pageLink }) }, index)) })\n      }\n    )\n  ] });\n}\n\nexport { Breadcrumbs };\n//# sourceMappingURL=Breadcrumbs.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classNames from 'classnames';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      gridArea: \"pageContent\",\n      minWidth: 0,\n      paddingTop: theme.spacing(3),\n      paddingBottom: theme.spacing(3),\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up(\"sm\")]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3)\n      }\n    },\n    stretch: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      flexGrow: 1\n    },\n    noPadding: {\n      padding: 0\n    }\n  }),\n  { name: \"BackstageContent\" }\n);\nfunction Content(props) {\n  const { className, stretch, noPadding, children, ...restProps } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    \"article\",\n    {\n      ...restProps,\n      className: classNames(classes.root, className, {\n        [classes.stretch]: stretch,\n        [classes.noPadding]: noPadding\n      }),\n      children\n    }\n  );\n}\n\nexport { Content };\n//# sourceMappingURL=Content.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { Helmet } from 'react-helmet';\n\nconst useStyles = (props) => makeStyles(\n  (theme) => ({\n    container: {\n      width: \"100%\",\n      display: \"flex\",\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n      justifyContent: \"flex-end\",\n      alignItems: \"center\",\n      marginBottom: theme.spacing(2),\n      textAlign: props.textAlign\n    },\n    leftItemsBox: {\n      flex: \"1 1 auto\",\n      minWidth: 0,\n      overflow: \"visible\"\n    },\n    rightItemsBox: {\n      flex: \"0 1 auto\",\n      display: \"flex\",\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n      alignItems: \"center\",\n      marginLeft: theme.spacing(1),\n      minWidth: 0,\n      overflow: \"visible\"\n    },\n    description: {},\n    title: {\n      display: \"inline-flex\",\n      marginBottom: 0\n    }\n  }),\n  { name: \"BackstageContentHeader\" }\n);\nconst ContentHeaderTitle = ({ title, className }) => /* @__PURE__ */ jsx(\n  Typography,\n  {\n    variant: \"h4\",\n    component: \"h2\",\n    className,\n    \"data-testid\": \"header-title\",\n    children: title\n  }\n);\nconst ContentHeaderDescription = ({\n  description,\n  className\n}) => description ? /* @__PURE__ */ jsx(\n  Typography,\n  {\n    variant: \"body2\",\n    className,\n    \"data-testid\": \"header-description\",\n    children: description\n  }\n) : null;\nfunction ContentHeader(props) {\n  const {\n    description,\n    title,\n    titleComponent: TitleComponent = void 0,\n    children,\n    descriptionComponent: DescriptionComponent = void 0,\n    textAlign = \"left\"\n  } = props;\n  const classes = useStyles({ textAlign })();\n  const renderedTitle = TitleComponent ? TitleComponent : /* @__PURE__ */ jsx(ContentHeaderTitle, { title, className: classes.title });\n  const renderedDescription = DescriptionComponent ? DescriptionComponent : /* @__PURE__ */ jsx(\n    ContentHeaderDescription,\n    {\n      description,\n      className: classes.description\n    }\n  );\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(Helmet, { title }),\n    /* @__PURE__ */ jsxs(Box, { className: classes.container, children: [\n      /* @__PURE__ */ jsxs(Box, { className: classes.leftItemsBox, children: [\n        renderedTitle,\n        renderedDescription\n      ] }),\n      /* @__PURE__ */ jsx(Box, { className: classes.rightItemsBox, children })\n    ] })\n  ] });\n}\n\nexport { ContentHeader };\n//# sourceMappingURL=ContentHeader.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Typography from '@material-ui/core/Typography';\nimport { Component } from 'react';\nimport { LinkButton } from '../../components/LinkButton/LinkButton.esm.js';\nimport { ErrorPanel } from '../../components/ErrorPanel/ErrorPanel.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst SlackLink = (props) => {\n  const { slackChannel } = props;\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  if (!slackChannel) {\n    return null;\n  } else if (typeof slackChannel === \"string\") {\n    return /* @__PURE__ */ jsx(Typography, { children: t(\"errorBoundary.title\", { slackChannel }) });\n  } else if (!slackChannel.href) {\n    return /* @__PURE__ */ jsx(Typography, { children: t(\"errorBoundary.title\", {\n      slackChannel: slackChannel.name\n    }) });\n  }\n  return /* @__PURE__ */ jsx(LinkButton, { to: slackChannel.href, variant: \"contained\", children: slackChannel.name });\n};\nconst ErrorBoundary = class ErrorBoundary2 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: void 0,\n      errorInfo: void 0\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(`ErrorBoundary, error: ${error}`, { error, errorInfo });\n    this.setState({ error, errorInfo });\n  }\n  render() {\n    const { slackChannel, children } = this.props;\n    const { error } = this.state;\n    if (!error) {\n      return children;\n    }\n    return /* @__PURE__ */ jsx(ErrorPanel, { title: \"Something Went Wrong\", error, children: /* @__PURE__ */ jsx(SlackLink, { slackChannel }) });\n  }\n};\n\nexport { ErrorBoundary };\n//# sourceMappingURL=ErrorBoundary.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MicDropSvgUrl from './mic-drop.svg';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    micDrop: {\n      maxWidth: \"60%\",\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n      [theme.breakpoints.down(\"xs\")]: {\n        maxWidth: \"96%\",\n        bottom: \"unset\",\n        right: \"unset\",\n        margin: theme.spacing(10, \"auto\", 4)\n      }\n    }\n  }),\n  { name: \"BackstageErrorPageMicDrop\" }\n);\nconst MicDrop = () => {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    \"img\",\n    {\n      src: MicDropSvgUrl,\n      className: classes.micDrop,\n      alt: \"Girl dropping mic from her hands\"\n    }\n  );\n};\n\nexport { MicDrop };\n//# sourceMappingURL=MicDrop.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport Typography from '@material-ui/core/Typography';\nimport { useState } from 'react';\nimport { Link } from '../../components/Link/Link.esm.js';\nimport '@backstage/core-plugin-api';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport '@material-ui/core/IconButton';\nimport '@material-ui/core/Snackbar';\nimport '@material-ui/icons/Close';\nimport '@material-ui/lab/Alert';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport 'react-idle-timer';\nimport '@material-ui/core/Button';\nimport '@material-ui/core/Dialog';\nimport '@material-ui/core/DialogActions';\nimport '@material-ui/core/DialogContent';\nimport '@material-ui/core/DialogContentText';\nimport '@material-ui/core/DialogTitle';\nimport '../../components/Avatar/Avatar.esm.js';\nimport '../../components/LinkButton/LinkButton.esm.js';\nimport { CodeSnippet } from '../../components/CodeSnippet/CodeSnippet.esm.js';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/FileCopy';\nimport 'react-use/esm/useCopyToClipboard';\nimport '@material-ui/core/useMediaQuery';\nimport 'react-router-dom';\nimport '@material-ui/icons/AddCircleOutline';\nimport '../../components/DependencyGraph/DependencyGraph.esm.js';\nimport '../../components/DependencyGraph/types.esm.js';\nimport '../../components/DismissableBanner/DismissableBanner.esm.js';\nimport '../../components/EmptyState/EmptyState.esm.js';\nimport '../../components/EmptyState/MissingAnnotationEmptyState.esm.js';\nimport '../../components/ErrorPanel/ErrorPanel.esm.js';\nimport '../../components/FavoriteToggle/FavoriteToggle.esm.js';\nimport '../../components/ResponseErrorPanel/ResponseErrorPanel.esm.js';\nimport '../../components/FeatureDiscovery/FeatureCalloutCircular.esm.js';\nimport '../../components/HeaderIconLinkRow/HeaderIconLinkRow.esm.js';\nimport '../../components/HeaderIconLinkRow/IconLinkVertical.esm.js';\nimport '../../components/HorizontalScrollGrid/HorizontalScrollGrid.esm.js';\nimport '../../components/Lifecycle/Lifecycle.esm.js';\nimport '../../components/LogViewer/LogViewer.esm.js';\nimport '../../components/MarkdownContent/MarkdownContent.esm.js';\nimport '../../components/OAuthRequestDialog/OAuthRequestDialog.esm.js';\nimport '../../components/OverflowTooltip/OverflowTooltip.esm.js';\nimport '@material-ui/core/Box';\nimport '@material-ui/core/LinearProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport '../../components/ProgressBars/GaugeCard.esm.js';\nimport '../../components/ProgressBars/Gauge.esm.js';\nimport 'rc-progress';\nimport '../../components/Select/Select.esm.js';\nimport '../../components/SimpleStepper/SimpleStepper.esm.js';\nimport '../../components/SimpleStepper/SimpleStepperStep.esm.js';\nimport '../../components/Status/Status.esm.js';\nimport '../../components/StructuredMetadataTable/StructuredMetadataTable.esm.js';\nimport '../../components/SupportButton/SupportButton.esm.js';\nimport '../../components/TabbedLayout/TabbedLayout.esm.js';\nimport 'react-helmet';\nimport '../Content/Content.esm.js';\nimport '../HeaderTabs/HeaderTabs.esm.js';\nimport '../../components/Table/SubvalueCell.esm.js';\nimport '../../components/Table/Table.esm.js';\nimport 'react-sparklines';\nimport '../../components/WarningPanel/WarningPanel.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    title: {\n      paddingBottom: theme.spacing(5),\n      [theme.breakpoints.down(\"xs\")]: {\n        paddingBottom: theme.spacing(4),\n        fontSize: theme.typography.h3.fontSize\n      }\n    }\n  }),\n  { name: \"BackstageErrorPageStackDetails\" }\n);\nfunction StackDetails(props) {\n  const { stack } = props;\n  const classes = useStyles();\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const [detailsOpen, setDetailsOpen] = useState(false);\n  if (!detailsOpen) {\n    return /* @__PURE__ */ jsx(Typography, { variant: \"h6\", className: classes.title, children: /* @__PURE__ */ jsx(Link, { to: \"#\", onClick: () => setDetailsOpen(true), children: t(\"errorPage.showMoreDetails\") }) });\n  }\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(Typography, { variant: \"h6\", className: classes.title, children: /* @__PURE__ */ jsx(Link, { to: \"#\", onClick: () => setDetailsOpen(false), children: t(\"errorPage.showLessDetails\") }) }),\n    /* @__PURE__ */ jsx(\n      CodeSnippet,\n      {\n        text: stack,\n        language: \"text\",\n        showCopyCodeButton: true,\n        showLineNumbers: true\n      }\n    )\n  ] });\n}\n\nexport { StackDetails };\n//# sourceMappingURL=StackDetails.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from '../../components/Link/Link.esm.js';\nimport 'lodash';\nimport 'qs';\nimport 'react';\nimport '@react-hookz/web';\nimport { useSupportConfig } from '../../hooks/useSupportConfig.esm.js';\nimport { MicDrop } from './MicDrop.esm.js';\nimport { StackDetails } from './StackDetails.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    container: {\n      padding: theme.spacing(8),\n      [theme.breakpoints.down(\"xs\")]: {\n        padding: theme.spacing(2)\n      }\n    },\n    title: {\n      paddingBottom: theme.spacing(5),\n      [theme.breakpoints.down(\"xs\")]: {\n        paddingBottom: theme.spacing(4),\n        fontSize: theme.typography.h3.fontSize\n      }\n    },\n    subtitle: {\n      color: theme.palette.textSubtle\n    }\n  }),\n  { name: \"BackstageErrorPage\" }\n);\nfunction ErrorPage(props) {\n  const {\n    status = \"\",\n    statusMessage,\n    additionalInfo,\n    supportUrl,\n    stack\n  } = props;\n  const classes = useStyles();\n  const navigate = useNavigate();\n  const support = useSupportConfig();\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  return /* @__PURE__ */ jsxs(Grid, { container: true, className: classes.container, children: [\n    /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, sm: 8, md: 4, children: [\n      /* @__PURE__ */ jsx(\n        Typography,\n        {\n          \"data-testid\": \"error\",\n          variant: \"body1\",\n          className: classes.subtitle,\n          children: t(\"errorPage.subtitle\", { status, statusMessage })\n        }\n      ),\n      /* @__PURE__ */ jsx(Typography, { variant: \"body1\", className: classes.subtitle, children: additionalInfo }),\n      /* @__PURE__ */ jsx(Typography, { variant: \"h2\", className: classes.title, children: t(\"errorPage.title\") }),\n      /* @__PURE__ */ jsxs(Typography, { variant: \"h6\", className: classes.title, children: [\n        /* @__PURE__ */ jsx(Link, { to: \"#\", \"data-testid\": \"go-back-link\", onClick: () => navigate(-1), children: t(\"errorPage.goBack\") }),\n        \"... or please\",\n        \" \",\n        /* @__PURE__ */ jsx(Link, { to: supportUrl || support.url, children: \"contact support\" }),\n        \" if you think this is a bug.\"\n      ] }),\n      stack && /* @__PURE__ */ jsx(StackDetails, { stack })\n    ] }),\n    /* @__PURE__ */ jsx(MicDrop, {})\n  ] });\n}\n\nexport { ErrorPage };\n//# sourceMappingURL=ErrorPage.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useApi, configApiRef } from '@backstage/core-plugin-api';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport { Helmet } from 'react-helmet';\nimport { Link } from '../../components/Link/Link.esm.js';\nimport { Breadcrumbs } from '../Breadcrumbs/Breadcrumbs.esm.js';\nimport '../Sidebar/Bar.esm.js';\nimport '../Sidebar/MobileSidebar.esm.js';\nimport '../Sidebar/SidebarGroup.esm.js';\nimport '../Sidebar/SidebarSubmenuItem.esm.js';\nimport '../Sidebar/SidebarSubmenu.esm.js';\nimport { useContent } from '../Sidebar/Page.esm.js';\nimport '../Sidebar/Items.esm.js';\nimport '../Sidebar/config.esm.js';\nimport '../Sidebar/SidebarOpenStateContext.esm.js';\nimport '../Sidebar/SidebarPinStateContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    header: {\n      gridArea: \"pageHeader\",\n      padding: theme.spacing(3),\n      width: \"100%\",\n      boxShadow: theme.shadows[4],\n      position: \"relative\",\n      zIndex: 100,\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      backgroundImage: theme.page.backgroundImage,\n      backgroundPosition: \"center\",\n      backgroundSize: \"cover\",\n      [theme.breakpoints.down(\"sm\")]: {\n        flexWrap: \"wrap\"\n      }\n    },\n    leftItemsBox: {\n      maxWidth: \"100%\",\n      flexGrow: 1\n    },\n    rightItemsBox: {\n      width: \"auto\",\n      alignItems: \"center\"\n    },\n    title: {\n      color: theme.page.fontColor,\n      wordBreak: \"break-word\",\n      fontSize: theme.typography.h3.fontSize,\n      marginBottom: 0\n    },\n    subtitle: {\n      color: theme.page.fontColor,\n      opacity: 0.8,\n      display: \"inline-block\",\n      // prevents margin collapse of adjacent siblings\n      marginTop: theme.spacing(1),\n      maxWidth: \"75ch\"\n    },\n    type: {\n      textTransform: \"uppercase\",\n      fontSize: 11,\n      opacity: 0.8,\n      marginBottom: theme.spacing(1),\n      color: theme.page.fontColor\n    },\n    breadcrumb: {\n      color: theme.page.fontColor\n    },\n    breadcrumbType: {\n      fontSize: \"inherit\",\n      opacity: 0.7,\n      marginRight: -theme.spacing(0.3),\n      marginBottom: theme.spacing(0.3)\n    },\n    breadcrumbTitle: {\n      fontSize: \"inherit\",\n      marginLeft: -theme.spacing(0.3),\n      marginBottom: theme.spacing(0.3)\n    }\n  }),\n  { name: \"BackstageHeader\" }\n);\nconst TypeFragment = ({\n  type,\n  typeLink,\n  classes,\n  pageTitle\n}) => {\n  if (!type) {\n    return null;\n  }\n  if (!typeLink) {\n    return /* @__PURE__ */ jsx(Typography, { className: classes.type, children: type });\n  }\n  return /* @__PURE__ */ jsxs(Breadcrumbs, { className: classes.breadcrumb, children: [\n    /* @__PURE__ */ jsx(Link, { to: typeLink, children: type }),\n    /* @__PURE__ */ jsx(Typography, { children: pageTitle })\n  ] });\n};\nconst TitleFragment = ({ pageTitle, classes, tooltip }) => {\n  const { contentRef } = useContent();\n  const FinalTitle = /* @__PURE__ */ jsx(\n    Typography,\n    {\n      ref: contentRef,\n      tabIndex: -1,\n      className: classes.title,\n      variant: \"h1\",\n      children: pageTitle\n    }\n  );\n  if (!tooltip) {\n    return FinalTitle;\n  }\n  return /* @__PURE__ */ jsx(Tooltip, { title: tooltip, placement: \"top-start\", children: FinalTitle });\n};\nconst SubtitleFragment = ({ classes, subtitle }) => {\n  if (!subtitle) {\n    return null;\n  }\n  if (typeof subtitle !== \"string\") {\n    return /* @__PURE__ */ jsx(Fragment, { children: subtitle });\n  }\n  return /* @__PURE__ */ jsx(\n    Typography,\n    {\n      className: classes.subtitle,\n      variant: \"subtitle2\",\n      component: \"span\",\n      children: subtitle\n    }\n  );\n};\nfunction Header(props) {\n  const {\n    children,\n    pageTitleOverride,\n    style,\n    subtitle,\n    title,\n    tooltip,\n    type,\n    typeLink\n  } = props;\n  const classes = useStyles();\n  const configApi = useApi(configApiRef);\n  const appTitle = configApi.getOptionalString(\"app.title\") || \"Backstage\";\n  const documentTitle = pageTitleOverride || title;\n  const pageTitle = title || pageTitleOverride;\n  const titleTemplate = `${documentTitle} | %s | ${appTitle}`;\n  const defaultTitle = `${documentTitle} | ${appTitle}`;\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(Helmet, { titleTemplate, defaultTitle }),\n    /* @__PURE__ */ jsxs(\"header\", { style, className: classes.header, children: [\n      /* @__PURE__ */ jsxs(Box, { className: classes.leftItemsBox, children: [\n        /* @__PURE__ */ jsx(\n          TypeFragment,\n          {\n            classes,\n            type,\n            typeLink,\n            pageTitle\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          TitleFragment,\n          {\n            classes,\n            pageTitle,\n            tooltip\n          }\n        ),\n        /* @__PURE__ */ jsx(SubtitleFragment, { classes, subtitle })\n      ] }),\n      /* @__PURE__ */ jsx(Grid, { container: true, className: classes.rightItemsBox, spacing: 4, children })\n    ] })\n  ] });\n}\n\nexport { Header };\n//# sourceMappingURL=Header.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles, alpha } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { Link } from '../../components/Link/Link.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      textAlign: \"left\"\n    },\n    label: {\n      color: theme.page.fontColor,\n      fontWeight: theme.typography.fontWeightBold,\n      letterSpacing: 0,\n      fontSize: theme.typography.fontSize,\n      marginBottom: theme.spacing(1) / 2,\n      lineHeight: 1\n    },\n    value: {\n      color: alpha(theme.page.fontColor, 0.8),\n      fontSize: theme.typography.fontSize,\n      lineHeight: 1\n    }\n  }),\n  { name: \"BackstageHeaderLabel\" }\n);\nconst HeaderLabelContent = ({\n  value,\n  className,\n  typographyRootComponent\n}) => {\n  return /* @__PURE__ */ jsx(\n    Typography,\n    {\n      component: typographyRootComponent ?? (typeof value === \"string\" ? \"p\" : \"span\"),\n      className,\n      children: value\n    }\n  );\n};\nfunction HeaderLabel(props) {\n  const { label, value, url, contentTypograpyRootComponent } = props;\n  const classes = useStyles();\n  const content = /* @__PURE__ */ jsx(\n    HeaderLabelContent,\n    {\n      className: classes.value,\n      value: value || \"<Unknown>\",\n      typographyRootComponent: contentTypograpyRootComponent\n    }\n  );\n  return /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { component: \"span\", className: classes.root, children: [\n    /* @__PURE__ */ jsx(Typography, { className: classes.label, children: label }),\n    url ? /* @__PURE__ */ jsx(Link, { to: url, children: content }) : content\n  ] }) });\n}\n\nexport { HeaderLabel };\n//# sourceMappingURL=HeaderLabel.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TabUI from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport { useState, useCallback, useEffect } from 'react';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    tabsWrapper: {\n      gridArea: \"pageSubheader\",\n      backgroundColor: theme.palette.background.paper,\n      paddingLeft: theme.spacing(3),\n      minWidth: 0\n    },\n    defaultTab: {\n      ...theme.typography.caption,\n      padding: theme.spacing(3, 3),\n      textTransform: \"uppercase\",\n      fontWeight: theme.typography.fontWeightBold,\n      color: theme.palette.text.secondary\n    },\n    selected: {\n      color: theme.palette.text.primary\n    },\n    tabRoot: {\n      \"&:hover\": {\n        backgroundColor: theme.palette.background.default,\n        color: theme.palette.text.primary\n      }\n    }\n  }),\n  { name: \"BackstageHeaderTabs\" }\n);\nfunction HeaderTabs(props) {\n  const { tabs, onChange, selectedIndex } = props;\n  const [selectedTab, setSelectedTab] = useState(selectedIndex ?? 0);\n  const styles = useStyles();\n  const handleChange = useCallback(\n    (_, index) => {\n      if (selectedIndex === void 0) {\n        setSelectedTab(index);\n      }\n      if (onChange) onChange(index);\n    },\n    [selectedIndex, onChange]\n  );\n  useEffect(() => {\n    if (selectedIndex !== void 0) {\n      setSelectedTab(selectedIndex);\n    }\n  }, [selectedIndex]);\n  return /* @__PURE__ */ jsx(Box, { className: styles.tabsWrapper, children: /* @__PURE__ */ jsx(\n    Tabs,\n    {\n      indicatorColor: \"primary\",\n      textColor: \"inherit\",\n      variant: \"scrollable\",\n      scrollButtons: \"auto\",\n      \"aria-label\": \"tabs\",\n      onChange: handleChange,\n      value: selectedTab,\n      children: tabs.map((tab, index) => /* @__PURE__ */ jsx(\n        TabUI,\n        {\n          \"data-testid\": `header-tab-${index}`,\n          label: tab.label,\n          value: index,\n          className: styles.defaultTab,\n          classes: { selected: styles.selected, root: styles.tabRoot },\n          ...tab.tabProps\n        },\n        tab.id\n      ))\n    }\n  ) });\n}\n\nexport { HeaderTabs };\n//# sourceMappingURL=HeaderTabs.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport classNames from 'classnames';\nimport { BottomLink } from '../BottomLink/BottomLink.esm.js';\nimport { ErrorBoundary } from '../ErrorBoundary/ErrorBoundary.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    noPadding: {\n      padding: 0,\n      \"&:last-child\": {\n        paddingBottom: 0\n      }\n    },\n    contentAlignBottom: {\n      display: \"flex\",\n      alignItems: \"self-end\"\n    },\n    header: {\n      padding: theme.spacing(2, 2, 2, 2.5)\n    },\n    headerTitle: {\n      fontWeight: theme.typography.fontWeightBold\n    },\n    headerSubheader: {\n      paddingTop: theme.spacing(1)\n    },\n    headerAvatar: {},\n    headerAction: {},\n    headerContent: {},\n    subheader: {\n      display: \"flex\"\n    }\n  }),\n  { name: \"BackstageInfoCard\" }\n);\nconst CardActionsTopRight = withStyles(\n  (theme) => ({\n    root: {\n      display: \"inline-block\",\n      padding: theme.spacing(8, 8, 0, 0),\n      float: \"right\"\n    }\n  }),\n  { name: \"BackstageInfoCardCardActionsTopRight\" }\n)(CardActions);\nconst VARIANT_STYLES = {\n  card: {\n    flex: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    fullHeight: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"100%\"\n    },\n    gridItem: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"calc(100% - 10px)\",\n      // for pages without content header\n      marginBottom: \"10px\",\n      breakInside: \"avoid-page\",\n      \"@media print\": {\n        height: \"auto\"\n      }\n    }\n  },\n  cardContent: {\n    fullHeight: {\n      flex: 1\n    },\n    gridItem: {\n      flex: 1\n    }\n  }\n};\nfunction InfoCard(props) {\n  const {\n    title,\n    subheader,\n    divider = true,\n    deepLink,\n    slackChannel,\n    errorBoundaryProps,\n    variant,\n    alignContent = \"normal\",\n    children,\n    headerStyle,\n    headerProps,\n    icon,\n    action,\n    actionsClassName,\n    actions,\n    cardClassName,\n    actionsTopRight,\n    className,\n    noPadding,\n    titleTypographyProps,\n    subheaderTypographyProps\n  } = props;\n  const classes = useStyles();\n  let calculatedStyle = {};\n  let calculatedCardStyle = {};\n  if (variant) {\n    const variants = variant.split(/[\\s]+/g);\n    variants.forEach((name) => {\n      calculatedStyle = {\n        ...calculatedStyle,\n        ...VARIANT_STYLES.card[name]\n      };\n      calculatedCardStyle = {\n        ...calculatedCardStyle,\n        ...VARIANT_STYLES.cardContent[name]\n      };\n    });\n  }\n  const cardSubTitle = () => {\n    if (!subheader && !icon) {\n      return null;\n    }\n    return /* @__PURE__ */ jsxs(\"div\", { \"data-testid\": \"info-card-subheader\", children: [\n      subheader && /* @__PURE__ */ jsx(\"div\", { className: classes.subheader, children: subheader }),\n      icon\n    ] });\n  };\n  const errProps = errorBoundaryProps || (slackChannel ? { slackChannel } : {});\n  return /* @__PURE__ */ jsx(Card, { style: calculatedStyle, className, children: /* @__PURE__ */ jsxs(ErrorBoundary, { ...errProps, children: [\n    title && /* @__PURE__ */ jsx(\n      CardHeader,\n      {\n        classes: {\n          root: classNames(classes.header),\n          title: classes.headerTitle,\n          subheader: classes.headerSubheader,\n          avatar: classes.headerAvatar,\n          action: classes.headerAction,\n          content: classes.headerContent\n        },\n        title,\n        subheader: cardSubTitle(),\n        action,\n        style: { ...headerStyle },\n        titleTypographyProps,\n        subheaderTypographyProps,\n        ...headerProps\n      }\n    ),\n    actionsTopRight && /* @__PURE__ */ jsx(CardActionsTopRight, { children: actionsTopRight }),\n    divider && /* @__PURE__ */ jsx(Divider, {}),\n    /* @__PURE__ */ jsx(\n      CardContent,\n      {\n        className: classNames(cardClassName, {\n          [classes.noPadding]: noPadding,\n          [classes.contentAlignBottom]: alignContent === \"bottom\"\n        }),\n        style: calculatedCardStyle,\n        children\n      }\n    ),\n    actions && /* @__PURE__ */ jsx(CardActions, { className: actionsClassName, children: actions }),\n    deepLink && /* @__PURE__ */ jsx(BottomLink, { ...deepLink })\n  ] }) });\n}\n\nexport { InfoCard };\n//# sourceMappingURL=InfoCard.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\n\nconst styles = (theme) => createStyles({\n  root: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(auto-fill, minmax(22em, 1fr))\",\n    gridAutoRows: \"1fr\",\n    gridGap: theme.spacing(2)\n  }\n});\nconst useStyles = makeStyles(styles, { name: \"BackstageItemCardGrid\" });\nfunction ItemCardGrid(props) {\n  const { children, ...otherProps } = props;\n  const classes = useStyles(otherProps);\n  return /* @__PURE__ */ jsx(Box, { className: classes.root, ...otherProps, children });\n}\n\nexport { ItemCardGrid };\n//# sourceMappingURL=ItemCardGrid.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { makeStyles, ThemeProvider } from '@material-ui/core/styles';\nimport classNames from 'classnames';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      display: \"grid\",\n      gridTemplateAreas: \"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'\",\n      gridTemplateRows: \"max-content auto 1fr\",\n      gridTemplateColumns: \"auto 1fr auto\",\n      overflowY: \"auto\",\n      height: \"100vh\",\n      [theme.breakpoints.down(\"xs\")]: {\n        height: \"100%\"\n      },\n      \"@media print\": {\n        display: \"block\",\n        height: \"auto\",\n        overflowY: \"inherit\"\n      }\n    }\n  }),\n  { name: \"BackstagePage\" }\n);\nfunction Page(props) {\n  const { themeId, className, children } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    ThemeProvider,\n    {\n      theme: (baseTheme) => ({\n        ...baseTheme,\n        page: baseTheme.getPageTheme({ themeId })\n      }),\n      children: /* @__PURE__ */ jsx(\"main\", { className: classNames(classes.root, className), children })\n    }\n  );\n}\n\nexport { Page };\n//# sourceMappingURL=Page.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useElementFilter } from '@backstage/core-plugin-api';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport Box from '@material-ui/core/Box';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { orderBy } from 'lodash';\nimport { createElement, useContext, useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { SidebarOpenStateProvider } from './SidebarOpenStateContext.esm.js';\nimport { SidebarGroup } from './SidebarGroup.esm.js';\nimport { SidebarConfigContext } from './config.esm.js';\nimport { MobileSidebarContext } from './MobileSidebarContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      position: \"fixed\",\n      backgroundColor: theme.palette.navigation.background,\n      color: theme.palette.navigation.color,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      zIndex: theme.zIndex.snackbar,\n      // SidebarDivider color\n      borderTop: \"1px solid #383838\",\n      \"@media print\": {\n        display: \"none\"\n      }\n    },\n    overlay: (props) => ({\n      background: theme.palette.navigation.background,\n      width: \"100%\",\n      bottom: `${props.sidebarConfig.mobileSidebarHeight}px`,\n      height: `calc(100% - ${props.sidebarConfig.mobileSidebarHeight}px)`,\n      flex: \"0 1 auto\",\n      overflow: \"auto\"\n    }),\n    overlayHeader: {\n      display: \"flex\",\n      color: theme.palette.navigation.color,\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      padding: theme.spacing(2, 3)\n    },\n    overlayHeaderClose: {\n      color: theme.palette.navigation.color\n    },\n    marginMobileSidebar: (props) => ({\n      marginBottom: `${props.sidebarConfig.mobileSidebarHeight}px`\n    })\n  })\n);\nconst sortSidebarGroupsForPriority = (children) => orderBy(\n  children,\n  ({ props: { priority } }) => Number.isInteger(priority) ? priority : -1,\n  \"desc\"\n);\nconst sidebarGroupType = createElement(SidebarGroup).type;\nconst OverlayMenu = ({\n  children,\n  label = \"Menu\",\n  open,\n  onClose\n}) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useStyles({ sidebarConfig });\n  return /* @__PURE__ */ jsxs(\n    Drawer,\n    {\n      anchor: \"bottom\",\n      open,\n      onClose,\n      ModalProps: {\n        BackdropProps: { classes: { root: classes.marginMobileSidebar } }\n      },\n      classes: {\n        root: classes.marginMobileSidebar,\n        paperAnchorBottom: classes.overlay\n      },\n      children: [\n        /* @__PURE__ */ jsxs(Box, { className: classes.overlayHeader, children: [\n          /* @__PURE__ */ jsx(Typography, { variant: \"h3\", children: label }),\n          /* @__PURE__ */ jsx(\n            IconButton,\n            {\n              onClick: onClose,\n              classes: { root: classes.overlayHeaderClose },\n              children: /* @__PURE__ */ jsx(CloseIcon, {})\n            }\n          )\n        ] }),\n        /* @__PURE__ */ jsx(Box, { component: \"nav\", children })\n      ]\n    }\n  );\n};\nconst MobileSidebar = (props) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const { children } = props;\n  const classes = useStyles({ sidebarConfig });\n  const location = useLocation();\n  const [selectedMenuItemIndex, setSelectedMenuItemIndex] = useState(-1);\n  useEffect(() => {\n    setSelectedMenuItemIndex(-1);\n  }, [location.pathname]);\n  let sidebarGroups = useElementFilter(\n    children,\n    (elements) => elements.getElements().filter((child) => child.type === sidebarGroupType)\n  );\n  if (!children) {\n    return null;\n  } else if (!sidebarGroups.length) {\n    sidebarGroups.push(\n      /* @__PURE__ */ jsx(SidebarGroup, { icon: /* @__PURE__ */ jsx(MenuIcon, {}), children }, \"default_menu\")\n    );\n  } else {\n    sidebarGroups = sortSidebarGroupsForPriority(sidebarGroups);\n  }\n  const shouldShowGroupChildren = selectedMenuItemIndex >= 0 && !sidebarGroups[selectedMenuItemIndex].props.to;\n  return /* @__PURE__ */ jsx(SidebarOpenStateProvider, { value: { isOpen: true, setOpen: () => {\n  } }, children: /* @__PURE__ */ jsxs(\n    MobileSidebarContext.Provider,\n    {\n      value: { selectedMenuItemIndex, setSelectedMenuItemIndex },\n      children: [\n        /* @__PURE__ */ jsx(\n          OverlayMenu,\n          {\n            label: sidebarGroups[selectedMenuItemIndex] && sidebarGroups[selectedMenuItemIndex].props.label,\n            open: shouldShowGroupChildren,\n            onClose: () => setSelectedMenuItemIndex(-1),\n            children: sidebarGroups[selectedMenuItemIndex] && sidebarGroups[selectedMenuItemIndex].props.children\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          BottomNavigation,\n          {\n            className: classes.root,\n            \"data-testid\": \"mobile-sidebar-root\",\n            component: \"nav\",\n            children: sidebarGroups\n          }\n        )\n      ]\n    }\n  ) });\n};\n\nexport { MobileSidebar };\n//# sourceMappingURL=MobileSidebar.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport classNames from 'classnames';\nimport { useContext, useState, useRef } from 'react';\nimport { makeSidebarConfig, makeSidebarSubmenuConfig, SidebarConfigContext } from './config.esm.js';\nimport { MobileSidebar } from './MobileSidebar.esm.js';\nimport { useContent } from './Page.esm.js';\nimport { SidebarOpenStateProvider } from './SidebarOpenStateContext.esm.js';\nimport { useSidebarPinState } from './SidebarPinStateContext.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      left: 0,\n      top: 0,\n      bottom: 0,\n      zIndex: theme.zIndex.appBar,\n      position: \"fixed\"\n    },\n    drawer: {\n      display: \"flex\",\n      flexFlow: \"column nowrap\",\n      alignItems: \"flex-start\",\n      left: 0,\n      top: 0,\n      bottom: 0,\n      position: \"absolute\",\n      background: theme.palette.navigation.background,\n      overflowX: \"hidden\",\n      msOverflowStyle: \"none\",\n      scrollbarWidth: \"none\",\n      transition: theme.transitions.create(\"width\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.shortest\n      }),\n      \"& > *\": {\n        flexShrink: 0\n      },\n      \"&::-webkit-scrollbar\": {\n        display: \"none\"\n      },\n      \"@media print\": {\n        display: \"none\"\n      }\n    },\n    drawerWidth: (props) => ({\n      width: props.sidebarConfig.drawerWidthClosed\n    }),\n    drawerOpen: (props) => ({\n      width: props.sidebarConfig.drawerWidthOpen,\n      transition: theme.transitions.create(\"width\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.shorter\n      })\n    }),\n    visuallyHidden: {\n      top: 0,\n      position: \"absolute\",\n      zIndex: 1e3,\n      transform: \"translateY(-200%)\",\n      \"&:focus\": {\n        transform: \"translateY(5px)\"\n      }\n    }\n  }),\n  { name: \"BackstageSidebar\" }\n);\nconst State = {\n  Closed: 0,\n  Idle: 1,\n  Open: 2\n};\nconst DesktopSidebar = (props) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const {\n    openDelayMs = sidebarConfig.defaultOpenDelayMs,\n    closeDelayMs = sidebarConfig.defaultCloseDelayMs,\n    disableExpandOnHover,\n    children\n  } = props;\n  const classes = useStyles({ sidebarConfig });\n  const isSmallScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"md\"),\n    { noSsr: true }\n  );\n  const [state, setState] = useState(\n    State.Closed\n  );\n  const hoverTimerRef = useRef();\n  const { isPinned, toggleSidebarPinState } = useSidebarPinState();\n  const handleOpen = () => {\n    if (isPinned || disableExpandOnHover) {\n      return;\n    }\n    if (hoverTimerRef.current) {\n      clearTimeout(hoverTimerRef.current);\n      hoverTimerRef.current = void 0;\n    }\n    if (state !== State.Open && !isSmallScreen) {\n      hoverTimerRef.current = window.setTimeout(() => {\n        hoverTimerRef.current = void 0;\n        setState(State.Open);\n      }, openDelayMs);\n      setState(State.Idle);\n    }\n  };\n  const handleClose = () => {\n    if (isPinned || disableExpandOnHover) {\n      return;\n    }\n    if (hoverTimerRef.current) {\n      clearTimeout(hoverTimerRef.current);\n      hoverTimerRef.current = void 0;\n    }\n    if (state === State.Idle) {\n      setState(State.Closed);\n    } else if (state === State.Open) {\n      hoverTimerRef.current = window.setTimeout(() => {\n        hoverTimerRef.current = void 0;\n        setState(State.Closed);\n      }, closeDelayMs);\n    }\n  };\n  const isOpen = state === State.Open && !isSmallScreen || isPinned;\n  const setOpen = (open) => {\n    if (open) {\n      setState(State.Open);\n      toggleSidebarPinState();\n    } else {\n      setState(State.Closed);\n      toggleSidebarPinState();\n    }\n  };\n  return /* @__PURE__ */ jsxs(\"nav\", { style: {}, \"aria-label\": \"sidebar nav\", children: [\n    /* @__PURE__ */ jsx(A11ySkipSidebar, {}),\n    /* @__PURE__ */ jsx(SidebarOpenStateProvider, { value: { isOpen, setOpen }, children: /* @__PURE__ */ jsx(\n      Box,\n      {\n        className: classes.root,\n        \"data-testid\": \"sidebar-root\",\n        onMouseEnter: disableExpandOnHover ? () => {\n        } : handleOpen,\n        onFocus: disableExpandOnHover ? () => {\n        } : handleOpen,\n        onMouseLeave: disableExpandOnHover ? () => {\n        } : handleClose,\n        onBlur: disableExpandOnHover ? () => {\n        } : handleClose,\n        children: /* @__PURE__ */ jsx(\n          Box,\n          {\n            className: classNames(classes.drawer, classes.drawerWidth, {\n              [classes.drawerOpen]: isOpen\n            }),\n            children\n          }\n        )\n      }\n    ) })\n  ] });\n};\nconst Sidebar = (props) => {\n  const sidebarConfig = makeSidebarConfig(\n    props.sidebarOptions ?? {}\n  );\n  const submenuConfig = makeSidebarSubmenuConfig(\n    props.submenuOptions ?? {}\n  );\n  const { children, disableExpandOnHover, openDelayMs, closeDelayMs } = props;\n  const { isMobile } = useSidebarPinState();\n  return isMobile ? /* @__PURE__ */ jsx(MobileSidebar, { children }) : /* @__PURE__ */ jsx(SidebarConfigContext.Provider, { value: { sidebarConfig, submenuConfig }, children: /* @__PURE__ */ jsx(\n    DesktopSidebar,\n    {\n      openDelayMs,\n      closeDelayMs,\n      disableExpandOnHover,\n      children\n    }\n  ) });\n};\nfunction A11ySkipSidebar() {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const { focusContent, contentRef } = useContent();\n  const classes = useStyles({ sidebarConfig });\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  if (!contentRef?.current) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(\n    Button,\n    {\n      onClick: focusContent,\n      variant: \"contained\",\n      className: classNames(classes.visuallyHidden),\n      children: t(\"skipToContent\")\n    }\n  );\n}\n\nexport { Sidebar };\n//# sourceMappingURL=Bar.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { useAnalytics, useElementFilter } from '@backstage/core-plugin-api';\nimport Badge from '@material-ui/core/Badge';\nimport Box from '@material-ui/core/Box';\nimport { styled, makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport Search from '@material-ui/icons/Search';\nimport classNames from 'classnames';\nimport { createElement, forwardRef, useContext, useCallback, useMemo, useState } from 'react';\nimport { useLocation, useResolvedPath, Link, resolvePath } from 'react-router-dom';\nimport { SidebarConfigContext, SidebarItemWithSubmenuContext } from './config.esm.js';\nimport DoubleArrowLeft from './icons/DoubleArrowLeft.esm.js';\nimport DoubleArrowRight from './icons/DoubleArrowRight.esm.js';\nimport { useSidebarOpenState } from './SidebarOpenStateContext.esm.js';\nimport { SidebarSubmenu } from './SidebarSubmenu.esm.js';\nimport { isLocationMatch } from './utils.esm.js';\nimport Button from '@material-ui/core/Button';\n\nconst makeSidebarStyles = (sidebarConfig) => makeStyles(\n  (theme) => ({\n    root: {\n      color: theme.palette.navigation.color,\n      display: \"flex\",\n      flexFlow: \"row nowrap\",\n      alignItems: \"center\",\n      height: 48,\n      cursor: \"pointer\"\n    },\n    buttonItem: {\n      background: \"none\",\n      border: \"none\",\n      width: \"100%\",\n      margin: 0,\n      padding: 0,\n      textAlign: \"inherit\",\n      font: \"inherit\",\n      textTransform: \"none\"\n    },\n    closed: {\n      width: sidebarConfig.drawerWidthClosed,\n      justifyContent: \"center\"\n    },\n    open: {\n      [theme.breakpoints.up(\"sm\")]: {\n        width: sidebarConfig.drawerWidthOpen\n      }\n    },\n    highlightable: {\n      \"&:hover\": {\n        background: theme.palette.navigation.navItem?.hoverBackground ?? \"#404040\"\n      }\n    },\n    highlighted: {\n      background: theme.palette.navigation.navItem?.hoverBackground ?? \"#404040\"\n    },\n    label: {\n      // XXX (@koroeskohr): I can't seem to achieve the desired font-weight from the designs\n      fontWeight: \"bold\",\n      whiteSpace: \"nowrap\",\n      lineHeight: \"auto\",\n      flex: \"3 1 auto\",\n      width: \"110px\",\n      overflow: \"hidden\",\n      \"text-overflow\": \"ellipsis\"\n    },\n    iconContainer: {\n      boxSizing: \"border-box\",\n      height: \"100%\",\n      width: sidebarConfig.iconContainerWidth,\n      marginRight: -theme.spacing(2),\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      lineHeight: \"0\"\n    },\n    searchRoot: {\n      marginBottom: 12\n    },\n    searchField: {\n      color: \"#b5b5b5\",\n      fontWeight: theme.typography.fontWeightBold,\n      fontSize: theme.typography.fontSize\n    },\n    searchFieldHTMLInput: {\n      padding: theme.spacing(2, 0, 2)\n    },\n    searchContainer: {\n      width: sidebarConfig.drawerWidthOpen - sidebarConfig.iconContainerWidth\n    },\n    secondaryAction: {\n      width: theme.spacing(6),\n      textAlign: \"center\",\n      marginRight: theme.spacing(1)\n    },\n    closedItemIcon: {\n      width: \"100%\",\n      justifyContent: \"center\"\n    },\n    submenuArrow: {\n      display: \"flex\"\n    },\n    expandButton: {\n      background: \"none\",\n      border: \"none\",\n      color: theme.palette.navigation.color,\n      width: \"100%\",\n      cursor: \"pointer\",\n      position: \"relative\",\n      height: 48\n    },\n    arrows: {\n      position: \"absolute\",\n      right: 10\n    },\n    selected: {\n      \"&$root\": {\n        borderLeft: `solid ${sidebarConfig.selectedIndicatorWidth}px ${theme.palette.navigation.indicator}`,\n        color: theme.palette.navigation.selectedColor\n      },\n      \"&$closed\": {\n        width: sidebarConfig.drawerWidthClosed\n      },\n      \"& $closedItemIcon\": {\n        paddingRight: sidebarConfig.selectedIndicatorWidth\n      },\n      \"& $iconContainer\": {\n        marginLeft: -sidebarConfig.selectedIndicatorWidth\n      }\n    }\n  }),\n  { name: \"BackstageSidebarItem\" }\n);\nfunction useMemoStyles(sidebarConfig) {\n  const useStyles = useMemo(\n    () => makeSidebarStyles(sidebarConfig),\n    [sidebarConfig]\n  );\n  return useStyles();\n}\nconst useLocationMatch = (submenu, location) => useElementFilter(\n  submenu.props.children,\n  (elements) => {\n    let active = false;\n    elements.getElements().forEach(\n      ({\n        props: { to, dropdownItems }\n      }) => {\n        if (!active) {\n          if (dropdownItems?.length) {\n            dropdownItems.forEach(\n              ({ to: _to }) => active = active || isLocationMatch(location, resolvePath(_to))\n            );\n            return;\n          }\n          if (to) {\n            active = isLocationMatch(location, resolvePath(to));\n          }\n        }\n      }\n    );\n    return active;\n  },\n  [location.pathname]\n);\nfunction isButtonItem(props) {\n  return props.to === void 0;\n}\nconst sidebarSubmenuType = createElement(SidebarSubmenu).type;\nconst WorkaroundNavLink = forwardRef(function WorkaroundNavLinkWithRef({\n  to,\n  end,\n  style,\n  className,\n  activeStyle,\n  caseSensitive,\n  activeClassName = \"active\",\n  \"aria-current\": ariaCurrentProp = \"page\",\n  ...rest\n}, ref) {\n  let { pathname: locationPathname } = useLocation();\n  let { pathname: toPathname } = useResolvedPath(to);\n  if (!caseSensitive) {\n    locationPathname = locationPathname.toLocaleLowerCase(\"en-US\");\n    toPathname = toPathname.toLocaleLowerCase(\"en-US\");\n  }\n  let isActive = locationPathname === toPathname;\n  if (!isActive && !end) {\n    isActive = locationPathname.startsWith(`${toPathname}/`);\n  }\n  const ariaCurrent = isActive ? ariaCurrentProp : void 0;\n  return /* @__PURE__ */ jsx(\n    Link,\n    {\n      ...rest,\n      to,\n      ref,\n      \"aria-current\": ariaCurrent,\n      style: { ...style, ...isActive ? activeStyle : void 0 },\n      className: classNames([\n        typeof className !== \"function\" ? className : void 0,\n        isActive ? activeClassName : void 0\n      ])\n    }\n  );\n});\nconst SidebarItemBase = forwardRef((props, ref) => {\n  const {\n    icon: Icon,\n    text,\n    hasNotifications = false,\n    hasSubmenu = false,\n    disableHighlight = false,\n    onClick,\n    noTrack,\n    children,\n    className,\n    ...navLinkProps\n  } = props;\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const { isOpen } = useSidebarOpenState();\n  const divStyle = !isOpen && hasSubmenu ? { display: \"flex\", marginLeft: \"20px\" } : { lineHeight: \"0\" };\n  const displayItemIcon = /* @__PURE__ */ jsxs(Box, { style: divStyle, children: [\n    /* @__PURE__ */ jsx(Icon, { fontSize: \"small\" }),\n    !isOpen && hasSubmenu ? /* @__PURE__ */ jsx(ArrowRightIcon, { fontSize: \"small\" }) : /* @__PURE__ */ jsx(Fragment, {})\n  ] });\n  const itemIcon = /* @__PURE__ */ jsx(\n    Badge,\n    {\n      color: \"secondary\",\n      variant: \"dot\",\n      overlap: \"circular\",\n      invisible: !hasNotifications,\n      className: classNames({ [classes.closedItemIcon]: !isOpen }),\n      children: displayItemIcon\n    }\n  );\n  const openContent = /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(Box, { \"data-testid\": \"login-button\", className: classes.iconContainer, children: itemIcon }),\n    text && /* @__PURE__ */ jsx(\n      Typography,\n      {\n        variant: \"subtitle2\",\n        component: \"span\",\n        className: classes.label,\n        children: text\n      }\n    ),\n    /* @__PURE__ */ jsx(\"div\", { className: classes.secondaryAction, children })\n  ] });\n  const content = isOpen ? openContent : itemIcon;\n  const childProps = {\n    onClick,\n    className: classNames(\n      className,\n      classes.root,\n      isOpen ? classes.open : classes.closed,\n      isButtonItem(props) && classes.buttonItem,\n      { [classes.highlightable]: !disableHighlight }\n    )\n  };\n  const analyticsApi = useAnalytics();\n  const { pathname: to } = useResolvedPath(\n    !isButtonItem(props) && props.to ? props.to : \"\"\n  );\n  const handleClick = useCallback(\n    (event) => {\n      if (!noTrack) {\n        const action = \"click\";\n        const subject = text ?? \"Sidebar Item\";\n        const options = to ? { attributes: { to } } : void 0;\n        analyticsApi.captureEvent(action, subject, options);\n      }\n      onClick?.(event);\n    },\n    [analyticsApi, text, to, noTrack, onClick]\n  );\n  if (isButtonItem(props)) {\n    return /* @__PURE__ */ jsx(\n      Button,\n      {\n        role: \"button\",\n        \"aria-label\": text,\n        ...childProps,\n        ref,\n        onClick: handleClick,\n        children: content\n      }\n    );\n  }\n  return /* @__PURE__ */ jsx(\n    WorkaroundNavLink,\n    {\n      ...childProps,\n      activeClassName: classes.selected,\n      to: props.to ? props.to : \"\",\n      ref,\n      \"aria-label\": text ? text : props.to,\n      ...navLinkProps,\n      onClick: handleClick,\n      children: content\n    }\n  );\n});\nconst SidebarItemWithSubmenu = ({\n  children,\n  ...props\n}) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const [isHoveredOn, setIsHoveredOn] = useState(false);\n  const location = useLocation();\n  const isActive = useLocationMatch(children, location);\n  const isSmallScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"sm\")\n  );\n  const handleMouseEnter = () => {\n    setIsHoveredOn(true);\n  };\n  const handleMouseLeave = () => {\n    setIsHoveredOn(false);\n  };\n  const arrowIcon = () => {\n    if (isSmallScreen) {\n      return isHoveredOn ? /* @__PURE__ */ jsx(ArrowDropUpIcon, { fontSize: \"small\", className: classes.submenuArrow }) : /* @__PURE__ */ jsx(ArrowDropDownIcon, { fontSize: \"small\", className: classes.submenuArrow });\n    }\n    return !isHoveredOn && /* @__PURE__ */ jsx(ArrowRightIcon, { fontSize: \"small\", className: classes.submenuArrow });\n  };\n  return /* @__PURE__ */ jsx(\n    SidebarItemWithSubmenuContext.Provider,\n    {\n      value: {\n        isHoveredOn,\n        setIsHoveredOn\n      },\n      children: /* @__PURE__ */ jsxs(\n        \"div\",\n        {\n          \"data-testid\": \"item-with-submenu\",\n          onMouseLeave: handleMouseLeave,\n          onTouchStart: isHoveredOn ? handleMouseLeave : handleMouseEnter,\n          onMouseEnter: handleMouseEnter,\n          className: classNames(isHoveredOn && classes.highlighted),\n          children: [\n            /* @__PURE__ */ jsx(\n              SidebarItemBase,\n              {\n                hasSubmenu: true,\n                className: isActive ? classes.selected : \"\",\n                ...props,\n                children: arrowIcon()\n              }\n            ),\n            isHoveredOn && children\n          ]\n        }\n      )\n    }\n  );\n};\nconst SidebarItem = forwardRef((props, ref) => {\n  const [submenu] = useElementFilter(\n    props.children,\n    (elements) => (\n      // Directly comparing child.type with SidebarSubmenu will not work with in\n      // combination with react-hot-loader\n      //\n      // https://github.com/gaearon/react-hot-loader/issues/304#issuecomment-456569720\n      elements.getElements().filter((child) => child.type === sidebarSubmenuType)\n    )\n  );\n  if (submenu) {\n    return /* @__PURE__ */ jsx(SidebarItemWithSubmenu, { ...props, children: submenu });\n  }\n  return /* @__PURE__ */ jsx(SidebarItemBase, { ...props, ref });\n});\nfunction SidebarSearchField(props) {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const [input, setInput] = useState(\"\");\n  const classes = useMemoStyles(sidebarConfig);\n  const Icon = props.icon ? props.icon : Search;\n  const search = () => {\n    props.onSearch(input);\n    setInput(\"\");\n  };\n  const handleEnter = (ev) => {\n    if (ev.key === \"Enter\") {\n      ev.preventDefault();\n      search();\n    }\n  };\n  const handleInput = (ev) => {\n    setInput(ev.target.value);\n  };\n  const handleInputClick = (ev) => {\n    ev.preventDefault();\n    ev.stopPropagation();\n  };\n  const handleItemClick = (ev) => {\n    search();\n    ev.preventDefault();\n  };\n  return /* @__PURE__ */ jsx(Box, { className: classes.searchRoot, children: /* @__PURE__ */ jsx(\n    SidebarItem,\n    {\n      icon: Icon,\n      to: props.to,\n      onClick: handleItemClick,\n      disableHighlight: true,\n      children: /* @__PURE__ */ jsx(\n        TextField,\n        {\n          placeholder: \"Search\",\n          value: input,\n          onClick: handleInputClick,\n          onChange: handleInput,\n          onKeyDown: handleEnter,\n          className: classes.searchContainer,\n          InputProps: {\n            disableUnderline: true,\n            className: classes.searchField\n          },\n          inputProps: {\n            className: classes.searchFieldHTMLInput\n          }\n        }\n      )\n    }\n  ) });\n}\nconst SidebarSpace = styled(\"div\")(\n  {\n    flex: 1\n  },\n  { name: \"BackstageSidebarSpace\" }\n);\nconst SidebarSpacer = styled(\"div\")(\n  {\n    height: 8\n  },\n  { name: \"BackstageSidebarSpacer\" }\n);\nconst SidebarDivider = styled(\"hr\")(\n  ({ theme }) => ({\n    height: 1,\n    width: \"100%\",\n    background: \"#383838\",\n    border: \"none\",\n    margin: theme.spacing(1.2, 0)\n  }),\n  { name: \"BackstageSidebarDivider\" }\n);\nconst styledScrollbar = (theme) => ({\n  overflowY: \"auto\",\n  \"&::-webkit-scrollbar\": {\n    backgroundColor: theme.palette.background.default,\n    width: \"5px\",\n    borderRadius: \"5px\"\n  },\n  \"&::-webkit-scrollbar-thumb\": {\n    backgroundColor: theme.palette.text.secondary,\n    borderRadius: \"5px\"\n  }\n});\nconst SidebarScrollWrapper = styled(\"div\")(({ theme }) => {\n  const scrollbarStyles = styledScrollbar(theme);\n  return {\n    flex: \"0 1 auto\",\n    overflowX: \"hidden\",\n    width: \"100%\",\n    // Display at least one item in the container\n    // Question: Can this be a config/theme variable - if so, which? :/\n    minHeight: \"48px\",\n    overflowY: \"hidden\",\n    \"@media (hover: none)\": scrollbarStyles,\n    \"&:hover\": scrollbarStyles\n  };\n});\nconst SidebarExpandButton = () => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const { isOpen, setOpen } = useSidebarOpenState();\n  const isSmallScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"md\"),\n    { noSsr: true }\n  );\n  if (isSmallScreen) {\n    return null;\n  }\n  const handleClick = () => {\n    setOpen(!isOpen);\n  };\n  return /* @__PURE__ */ jsx(\n    Button,\n    {\n      role: \"button\",\n      onClick: handleClick,\n      className: classes.expandButton,\n      \"aria-label\": \"Expand Sidebar\",\n      \"data-testid\": \"sidebar-expand-button\",\n      children: /* @__PURE__ */ jsx(Box, { className: classes.arrows, children: isOpen ? /* @__PURE__ */ jsx(DoubleArrowLeft, {}) : /* @__PURE__ */ jsx(DoubleArrowRight, {}) })\n    }\n  );\n};\n\nexport { SidebarDivider, SidebarExpandButton, SidebarItem, SidebarScrollWrapper, SidebarSearchField, SidebarSpace, SidebarSpacer, WorkaroundNavLink };\n//# sourceMappingURL=Items.esm.js.map\n","import { createContext } from 'react';\n\nconst MobileSidebarContext = createContext({\n  selectedMenuItemIndex: -1,\n  setSelectedMenuItemIndex: () => {\n  }\n});\n\nexport { MobileSidebarContext };\n//# sourceMappingURL=MobileSidebarContext.esm.js.map\n","const LocalStorageKeys = {\n  SIDEBAR_PIN_STATE: \"sidebarPinState\"\n};\nconst LocalStorage = {\n  getSidebarPinState() {\n    let value;\n    try {\n      value = JSON.parse(\n        window.localStorage.getItem(LocalStorageKeys.SIDEBAR_PIN_STATE) || \"true\"\n      );\n    } catch {\n      return true;\n    }\n    return !!value;\n  },\n  setSidebarPinState(state) {\n    return window.localStorage.setItem(\n      LocalStorageKeys.SIDEBAR_PIN_STATE,\n      JSON.stringify(state)\n    );\n  }\n};\n\nexport { LocalStorage };\n//# sourceMappingURL=localStorage.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { createContext, useState, useContext, useRef, useMemo, useEffect, useCallback } from 'react';\nimport { SidebarConfigContext } from './config.esm.js';\nimport { LocalStorage } from './localStorage.esm.js';\nimport { SidebarPinStateProvider } from './SidebarPinStateContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      width: \"100%\",\n      transition: \"padding-left 0.1s ease-out\",\n      isolation: \"isolate\",\n      [theme.breakpoints.up(\"sm\")]: {\n        paddingLeft: (props) => props.isPinned ? props.sidebarConfig.drawerWidthOpen : props.sidebarConfig.drawerWidthClosed\n      },\n      [theme.breakpoints.down(\"xs\")]: {\n        paddingBottom: (props) => props.sidebarConfig.mobileSidebarHeight\n      },\n      \"@media print\": {\n        padding: \"0px !important\"\n      }\n    },\n    content: {\n      zIndex: 0,\n      isolation: \"isolate\",\n      \"&:focus\": {\n        outline: 0\n      }\n    }\n  }),\n  { name: \"BackstageSidebarPage\" }\n);\nconst PageContext = createContext({\n  content: {\n    contentRef: void 0\n  }\n});\nfunction SidebarPage(props) {\n  const [isPinned, setIsPinned] = useState(\n    () => LocalStorage.getSidebarPinState()\n  );\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const contentRef = useRef(null);\n  const pageContext = useMemo(\n    () => ({\n      content: {\n        contentRef\n      }\n    }),\n    [contentRef]\n  );\n  useEffect(() => {\n    LocalStorage.setSidebarPinState(isPinned);\n  }, [isPinned]);\n  const isMobile = useMediaQuery((theme) => theme.breakpoints.down(\"xs\"), {\n    noSsr: true\n  });\n  const toggleSidebarPinState = () => setIsPinned(!isPinned);\n  const classes = useStyles({ isPinned, sidebarConfig });\n  return /* @__PURE__ */ jsx(\n    SidebarPinStateProvider,\n    {\n      value: {\n        isPinned,\n        toggleSidebarPinState,\n        isMobile\n      },\n      children: /* @__PURE__ */ jsx(PageContext.Provider, { value: pageContext, children: /* @__PURE__ */ jsx(Box, { className: classes.root, children: props.children }) })\n    }\n  );\n}\nfunction useContent() {\n  const { content } = useContext(PageContext);\n  const focusContent = useCallback(() => {\n    content?.contentRef?.current?.focus();\n  }, [content]);\n  return { focusContent, contentRef: content?.contentRef };\n}\n\nexport { SidebarPage, useContent };\n//# sourceMappingURL=Page.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useContext } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Link } from '../../components/Link/Link.esm.js';\nimport { SidebarConfigContext } from './config.esm.js';\nimport { MobileSidebarContext } from './MobileSidebarContext.esm.js';\nimport { useSidebarPinState } from './SidebarPinStateContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      flexGrow: 0,\n      margin: theme.spacing(0, 2),\n      color: theme.palette.navigation.color\n    },\n    selected: (props) => ({\n      color: `${theme.palette.navigation.selectedColor}!important`,\n      borderTop: `solid ${props.sidebarConfig.selectedIndicatorWidth}px ${theme.palette.navigation.indicator}`,\n      marginTop: \"-1px\"\n    }),\n    label: {\n      display: \"none\"\n    }\n  })\n);\nconst MobileSidebarGroup = (props) => {\n  const { to, label, icon, value } = props;\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useStyles({ sidebarConfig });\n  const location = useLocation();\n  const { selectedMenuItemIndex, setSelectedMenuItemIndex } = useContext(MobileSidebarContext);\n  const onChange = (_, value2) => {\n    if (value2 === selectedMenuItemIndex) {\n      setSelectedMenuItemIndex(-1);\n    } else {\n      setSelectedMenuItemIndex(value2);\n    }\n  };\n  const selected = value === selectedMenuItemIndex && selectedMenuItemIndex >= 0 || !(value === selectedMenuItemIndex) && !(selectedMenuItemIndex >= 0) && to === location.pathname;\n  return (\n    // Material UI issue: https://github.com/mui-org/material-ui/issues/27820\n    /* @__PURE__ */ jsx(\n      BottomNavigationAction,\n      {\n        \"aria-label\": label,\n        label,\n        icon,\n        component: Link,\n        to: to ? to : location.pathname,\n        onChange,\n        value,\n        selected,\n        classes\n      }\n    )\n  );\n};\nconst SidebarGroup = (props) => {\n  const { children, to, label, icon, value } = props;\n  const { isMobile } = useSidebarPinState();\n  return isMobile ? /* @__PURE__ */ jsx(MobileSidebarGroup, { to, label, icon, value }) : /* @__PURE__ */ jsx(Fragment, { children });\n};\n\nexport { SidebarGroup };\n//# sourceMappingURL=SidebarGroup.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createContext, useContext } from 'react';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\n\nconst defaultSidebarOpenStateContext = {\n  isOpen: false,\n  setOpen: () => {\n  }\n};\nconst LegacySidebarContext = createContext(\n  defaultSidebarOpenStateContext\n);\nconst VersionedSidebarContext = createVersionedContext(\"sidebar-open-state-context\");\nfunction SidebarOpenStateProvider(props) {\n  const { children, value } = props;\n  return /* @__PURE__ */ jsx(LegacySidebarContext.Provider, { value, children: /* @__PURE__ */ jsx(\n    VersionedSidebarContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: value }),\n      children\n    }\n  ) });\n}\nconst useSidebarOpenState = () => {\n  const versionedOpenStateContext = useContext(VersionedSidebarContext);\n  const legacyOpenStateContext = useContext(LegacySidebarContext);\n  if (versionedOpenStateContext === void 0) {\n    return legacyOpenStateContext || defaultSidebarOpenStateContext;\n  }\n  const openStateContext = versionedOpenStateContext.atVersion(1);\n  if (openStateContext === void 0) {\n    throw new Error(\"No context found for version 1.\");\n  }\n  return openStateContext;\n};\n\nexport { LegacySidebarContext, SidebarOpenStateProvider, useSidebarOpenState };\n//# sourceMappingURL=SidebarOpenStateContext.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport { createContext, useContext } from 'react';\n\nconst defaultSidebarPinStateContext = {\n  isPinned: true,\n  toggleSidebarPinState: () => {\n  },\n  isMobile: false\n};\nconst LegacySidebarPinStateContext = createContext(defaultSidebarPinStateContext);\nconst VersionedSidebarPinStateContext = createVersionedContext(\"sidebar-pin-state-context\");\nfunction SidebarPinStateProvider(props) {\n  const { children, value } = props;\n  return /* @__PURE__ */ jsx(LegacySidebarPinStateContext.Provider, { value, children: /* @__PURE__ */ jsx(\n    VersionedSidebarPinStateContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: value }),\n      children\n    }\n  ) });\n}\nconst useSidebarPinState = () => {\n  const versionedPinStateContext = useContext(VersionedSidebarPinStateContext);\n  const legacyPinStateContext = useContext(LegacySidebarPinStateContext);\n  if (versionedPinStateContext === void 0) {\n    return legacyPinStateContext || defaultSidebarPinStateContext;\n  }\n  const pinStateContext = versionedPinStateContext.atVersion(1);\n  if (pinStateContext === void 0) {\n    throw new Error(\"No context found for version 1.\");\n  }\n  return pinStateContext;\n};\n\nexport { LegacySidebarPinStateContext, SidebarPinStateProvider, useSidebarPinState };\n//# sourceMappingURL=SidebarPinStateContext.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport classNames from 'classnames';\nimport { useContext, useState, useEffect } from 'react';\nimport { SidebarConfigContext, SidebarItemWithSubmenuContext } from './config.esm.js';\nimport { useSidebarOpenState } from './SidebarOpenStateContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      zIndex: 1e3,\n      position: \"relative\",\n      overflow: \"visible\",\n      width: theme.spacing(7) + 1\n    },\n    drawer: (props) => ({\n      display: \"flex\",\n      flexFlow: \"column nowrap\",\n      alignItems: \"flex-start\",\n      position: \"fixed\",\n      opacity: 0,\n      [theme.breakpoints.up(\"sm\")]: {\n        marginLeft: props.left,\n        transition: theme.transitions.create([\"margin-left\", \"opacity\"], {\n          easing: theme.transitions.easing.sharp,\n          duration: props.submenuConfig.defaultOpenDelayMs\n        })\n      },\n      top: 0,\n      bottom: 0,\n      padding: 0,\n      background: theme.palette.navigation.submenu?.background ?? \"#404040\",\n      overflowX: \"hidden\",\n      msOverflowStyle: \"none\",\n      scrollbarWidth: \"none\",\n      cursor: \"default\",\n      width: props.submenuConfig.drawerWidthClosed,\n      transitionDelay: `${props.submenuConfig.defaultOpenDelayMs}ms`,\n      \"& > *\": {\n        flexShrink: 0\n      },\n      \"&::-webkit-scrollbar\": {\n        display: \"none\"\n      }\n    }),\n    drawerOpen: (props) => ({\n      marginLeft: props.left,\n      opacity: 1,\n      width: props.submenuConfig.drawerWidthOpen,\n      [theme.breakpoints.down(\"xs\")]: {\n        width: \"100%\",\n        position: \"relative\",\n        paddingLeft: theme.spacing(3),\n        left: 0,\n        top: 0\n      }\n    }),\n    title: {\n      fontSize: theme.typography.h5.fontSize,\n      fontWeight: theme.typography.fontWeightMedium,\n      color: theme.palette.navigation.color,\n      padding: theme.spacing(2.5),\n      [theme.breakpoints.down(\"xs\")]: {\n        display: \"none\"\n      }\n    }\n  }),\n  { name: \"BackstageSidebarSubmenu\" }\n);\nconst SidebarSubmenu = (props) => {\n  const { isOpen } = useSidebarOpenState();\n  const { sidebarConfig, submenuConfig } = useContext(SidebarConfigContext);\n  const left = isOpen ? sidebarConfig.drawerWidthOpen : sidebarConfig.drawerWidthClosed;\n  const classes = useStyles({ left, submenuConfig });\n  const { isHoveredOn } = useContext(SidebarItemWithSubmenuContext);\n  const [isSubmenuOpen, setIsSubmenuOpen] = useState(false);\n  useEffect(() => {\n    setIsSubmenuOpen(isHoveredOn);\n  }, [isHoveredOn]);\n  return /* @__PURE__ */ jsxs(\n    Box,\n    {\n      className: classNames(classes.drawer, {\n        [classes.drawerOpen]: isSubmenuOpen\n      }),\n      children: [\n        /* @__PURE__ */ jsx(Typography, { variant: \"h5\", component: \"span\", className: classes.title, children: props.title }),\n        props.children\n      ]\n    }\n  );\n};\n\nexport { SidebarSubmenu };\n//# sourceMappingURL=SidebarSubmenu.esm.js.map\n","import { createContext } from 'react';\n\nconst drawerWidthClosed = 72;\nconst iconPadding = 24;\nconst userBadgePadding = 18;\nconst sidebarConfig = {\n  drawerWidthClosed,\n  drawerWidthOpen: 224,\n  // As per NN/g's guidance on timing for exposing hidden content\n  // See https://www.nngroup.com/articles/timing-exposing-content/\n  defaultOpenDelayMs: 100,\n  defaultCloseDelayMs: 0,\n  defaultFadeDuration: 200,\n  logoHeight: 32,\n  iconContainerWidth: drawerWidthClosed,\n  iconSize: drawerWidthClosed - iconPadding * 2,\n  iconPadding,\n  selectedIndicatorWidth: 3,\n  userBadgePadding,\n  userBadgeDiameter: drawerWidthClosed - userBadgePadding * 2,\n  mobileSidebarHeight: 56\n};\nconst makeSidebarConfig = (customSidebarConfig) => ({\n  ...sidebarConfig,\n  ...customSidebarConfig,\n  iconContainerWidth: sidebarConfig.drawerWidthClosed,\n  iconSize: sidebarConfig.drawerWidthClosed - sidebarConfig.iconPadding * 2,\n  userBadgeDiameter: sidebarConfig.drawerWidthClosed - sidebarConfig.userBadgePadding * 2\n});\nconst submenuConfig = {\n  drawerWidthClosed: 0,\n  drawerWidthOpen: 202,\n  defaultOpenDelayMs: sidebarConfig.defaultOpenDelayMs + 200\n};\nconst makeSidebarSubmenuConfig = (customSubmenuConfig) => ({\n  ...submenuConfig,\n  ...customSubmenuConfig\n});\nconst SIDEBAR_INTRO_LOCAL_STORAGE = \"@backstage/core/sidebar-intro-dismissed\";\nconst SidebarConfigContext = createContext({\n  sidebarConfig,\n  submenuConfig\n});\nconst SidebarItemWithSubmenuContext = createContext({\n  isHoveredOn: false,\n  setIsHoveredOn: () => {\n  }\n});\n\nexport { SIDEBAR_INTRO_LOCAL_STORAGE, SidebarConfigContext, SidebarItemWithSubmenuContext, makeSidebarConfig, makeSidebarSubmenuConfig, sidebarConfig, submenuConfig };\n//# sourceMappingURL=config.esm.js.map\n","import { isEqual, isMatch } from 'lodash';\nimport qs from 'qs';\n\nfunction isLocationMatch(currentLocation, toLocation, exact = false) {\n  const toDecodedSearch = new URLSearchParams(toLocation.search).toString();\n  const toQueryParameters = qs.parse(toDecodedSearch);\n  const currentDecodedSearch = new URLSearchParams(\n    currentLocation.search\n  ).toString();\n  const currentQueryParameters = qs.parse(currentDecodedSearch);\n  const queryStringMatcher = exact ? isEqual : isMatch;\n  const matching = isEqual(toLocation.pathname, currentLocation.pathname) && queryStringMatcher(currentQueryParameters, toQueryParameters);\n  return matching;\n}\n\nexport { isLocationMatch };\n//# sourceMappingURL=utils.esm.js.map\n","class GuestUserIdentity {\n  getUserId() {\n    return \"guest\";\n  }\n  async getIdToken() {\n    return void 0;\n  }\n  getProfile() {\n    return {\n      email: \"guest@example.com\",\n      displayName: \"Guest\"\n    };\n  }\n  async getProfileInfo() {\n    return {\n      email: \"guest@example.com\",\n      displayName: \"Guest\"\n    };\n  }\n  async getBackstageIdentity() {\n    const userEntityRef = `user:default/guest`;\n    return {\n      type: \"user\",\n      userEntityRef,\n      ownershipEntityRefs: [userEntityRef]\n    };\n  }\n  async getCredentials() {\n    return {};\n  }\n  async signOut() {\n  }\n}\n\nexport { GuestUserIdentity };\n//# sourceMappingURL=GuestUserIdentity.esm.js.map\n","function parseJwtPayload(token) {\n  const [_header, payload, _signature] = token.split(\".\");\n  return JSON.parse(window.atob(payload));\n}\nclass LegacyUserIdentity {\n  constructor(result) {\n    this.result = result;\n  }\n  getUserId() {\n    return this.result.userId;\n  }\n  static fromResult(result) {\n    return new LegacyUserIdentity(result);\n  }\n  async getIdToken() {\n    return this.result.getIdToken?.();\n  }\n  getProfile() {\n    return this.result.profile;\n  }\n  async getProfileInfo() {\n    return this.result.profile;\n  }\n  async getBackstageIdentity() {\n    const token = await this.getIdToken();\n    if (!token) {\n      const userEntityRef = `user:default/${this.getUserId()}`;\n      return {\n        type: \"user\",\n        userEntityRef,\n        ownershipEntityRefs: [userEntityRef]\n      };\n    }\n    const { sub, ent } = parseJwtPayload(token);\n    return {\n      type: \"user\",\n      userEntityRef: sub,\n      ownershipEntityRefs: ent ?? []\n    };\n  }\n  async getCredentials() {\n    const token = await this.result.getIdToken?.();\n    return { token };\n  }\n  async signOut() {\n    return this.result.signOut?.();\n  }\n}\n\nexport { LegacyUserIdentity };\n//# sourceMappingURL=LegacyUserIdentity.esm.js.map\n","import { GuestUserIdentity } from './GuestUserIdentity.esm.js';\nimport { LegacyUserIdentity } from './LegacyUserIdentity.esm.js';\n\nclass UserIdentity {\n  profilePromise;\n  /**\n   * Creates a new IdentityApi that acts as a Guest User.\n   *\n   * @public\n   */\n  static createGuest() {\n    return new GuestUserIdentity();\n  }\n  /**\n   * Creates a new IdentityApi using a legacy SignInResult object.\n   *\n   * @public\n   */\n  static fromLegacy(result) {\n    return LegacyUserIdentity.fromResult(result);\n  }\n  /**\n   * Creates a new IdentityApi implementation using a user identity\n   * and an auth API that will be used to request backstage tokens.\n   *\n   * @public\n   */\n  static create(options) {\n    return new UserIdentity(options.identity, options.authApi, options.profile);\n  }\n  identity;\n  authApi;\n  profile;\n  constructor(identity, authApi, profile) {\n    this.identity = identity;\n    this.authApi = authApi;\n    this.profile = profile;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getUserId} */\n  getUserId() {\n    const ref = this.identity.userEntityRef;\n    const match = /^([^:/]+:)?([^:/]+\\/)?([^:/]+)$/.exec(ref);\n    if (!match) {\n      throw new TypeError(`Invalid user entity reference \"${ref}\"`);\n    }\n    return match[3];\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getIdToken} */\n  async getIdToken() {\n    const identity = await this.authApi.getBackstageIdentity();\n    return identity.token;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getProfile} */\n  getProfile() {\n    if (!this.profile) {\n      throw new Error(\n        \"The identity API does not implement synchronous profile fetching, use getProfileInfo() instead\"\n      );\n    }\n    return this.profile;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getProfileInfo} */\n  async getProfileInfo() {\n    if (this.profilePromise) {\n      return await this.profilePromise;\n    }\n    try {\n      this.profilePromise = this.authApi.getProfile();\n      return await this.profilePromise;\n    } catch (ex) {\n      this.profilePromise = void 0;\n      throw ex;\n    }\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getBackstageIdentity} */\n  async getBackstageIdentity() {\n    return this.identity;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getCredentials} */\n  async getCredentials() {\n    const identity = await this.authApi.getBackstageIdentity();\n    return { token: identity.token };\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.signOut} */\n  async signOut() {\n    return this.authApi.signOut();\n  }\n}\n\nexport { UserIdentity };\n//# sourceMappingURL=UserIdentity.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles(\n  {\n    container: {\n      padding: 0,\n      listStyle: \"none\"\n    },\n    item: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      width: \"100%\",\n      maxWidth: \"400px\",\n      margin: 0,\n      padding: 0\n    }\n  },\n  { name: \"BackstageSignInPage\" }\n);\nconst GridItem = ({ children }) => {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(Grid, { component: \"li\", item: true, classes, children });\n};\n\nexport { GridItem, useStyles };\n//# sourceMappingURL=styles.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { InfoCard } from '../InfoCard/InfoCard.esm.js';\nimport { useApi, errorApiRef } from '@backstage/core-plugin-api';\nimport { GridItem } from './styles.esm.js';\nimport { ForwardedError } from '@backstage/errors';\nimport { UserIdentity } from './UserIdentity.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst Component = ({\n  config,\n  onSignInStarted,\n  onSignInSuccess,\n  onSignInFailure\n}) => {\n  const { apiRef, title, message } = config;\n  const authApi = useApi(apiRef);\n  const errorApi = useApi(errorApiRef);\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const handleLogin = async () => {\n    try {\n      onSignInStarted();\n      const identityResponse = await authApi.getBackstageIdentity({\n        instantPopup: true\n      });\n      if (!identityResponse) {\n        onSignInFailure();\n        throw new Error(\n          `The ${title} provider is not configured to support sign-in`\n        );\n      }\n      const profile = await authApi.getProfile();\n      onSignInSuccess(\n        UserIdentity.create({\n          identity: identityResponse.identity,\n          profile,\n          authApi\n        })\n      );\n    } catch (error) {\n      onSignInFailure();\n      errorApi.post(new ForwardedError(t(\"signIn.loginFailed\"), error));\n    }\n  };\n  return /* @__PURE__ */ jsx(GridItem, { children: /* @__PURE__ */ jsx(\n    InfoCard,\n    {\n      variant: \"fullHeight\",\n      title,\n      actions: /* @__PURE__ */ jsx(Button, { color: \"primary\", variant: \"outlined\", onClick: handleLogin, children: t(\"signIn.title\") }),\n      children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: message })\n    }\n  ) });\n};\nconst loader = async (apis, apiRef) => {\n  const authApi = apis.get(apiRef);\n  const identityResponse = await authApi.getBackstageIdentity({\n    optional: true\n  });\n  if (!identityResponse) {\n    return void 0;\n  }\n  const profile = await authApi.getProfile();\n  return UserIdentity.create({\n    identity: identityResponse.identity,\n    profile,\n    authApi\n  });\n};\nconst commonProvider = { Component, loader };\n\nexport { commonProvider };\n//# sourceMappingURL=commonProvider.esm.js.map\n","import { z } from 'zod';\n\nconst proxiedSessionSchema = z.object({\n  providerInfo: z.object({}).catchall(z.unknown()).optional(),\n  profile: z.object({\n    email: z.string().optional(),\n    displayName: z.string().optional(),\n    picture: z.string().optional()\n  }),\n  backstageIdentity: z.object({\n    token: z.string(),\n    identity: z.object({\n      type: z.literal(\"user\"),\n      userEntityRef: z.string(),\n      ownershipEntityRefs: z.array(z.string())\n    })\n  })\n});\n\nexport { proxiedSessionSchema };\n//# sourceMappingURL=types.esm.js.map\n","import { ResponseError } from '@backstage/errors';\nimport { proxiedSessionSchema } from './types.esm.js';\n\nconst DEFAULTS = {\n  // The amount of time between token refreshes, if we fail to get an actual\n  // value out of the exp claim\n  defaultTokenExpiryMillis: 5 * 60 * 1e3,\n  // The amount of time before the actual expiry of the Backstage token, that we\n  // shall start trying to get a new one\n  tokenExpiryMarginMillis: 5 * 60 * 1e3\n};\nfunction tokenToExpiry(jwtToken) {\n  const fallback = new Date(Date.now() + DEFAULTS.defaultTokenExpiryMillis);\n  if (!jwtToken) {\n    return fallback;\n  }\n  const [_header, rawPayload, _signature] = jwtToken.split(\".\");\n  const payload = JSON.parse(window.atob(rawPayload));\n  if (typeof payload.exp !== \"number\") {\n    return fallback;\n  }\n  return new Date(payload.exp * 1e3 - DEFAULTS.tokenExpiryMarginMillis);\n}\nclass ProxiedSignInIdentity {\n  options;\n  abortController;\n  state;\n  constructor(options) {\n    this.options = options;\n    this.abortController = new AbortController();\n    this.state = { type: \"empty\" };\n  }\n  async start() {\n    await this.getSessionAsync();\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getUserId} */\n  getUserId() {\n    const { backstageIdentity } = this.getSessionSync();\n    const ref = backstageIdentity.identity.userEntityRef;\n    const match = /^([^:/]+:)?([^:/]+\\/)?([^:/]+)$/.exec(ref);\n    if (!match) {\n      throw new TypeError(`Invalid user entity reference \"${ref}\"`);\n    }\n    return match[3];\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getIdToken} */\n  async getIdToken() {\n    const session = await this.getSessionAsync();\n    return session.backstageIdentity.token;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getProfile} */\n  getProfile() {\n    const session = this.getSessionSync();\n    return session.profile;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getProfileInfo} */\n  async getProfileInfo() {\n    const session = await this.getSessionAsync();\n    return session.profile;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getBackstageIdentity} */\n  async getBackstageIdentity() {\n    const session = await this.getSessionAsync();\n    return session.backstageIdentity.identity;\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.getCredentials} */\n  async getCredentials() {\n    const session = await this.getSessionAsync();\n    return {\n      token: session.backstageIdentity.token\n    };\n  }\n  /** {@inheritdoc @backstage/core-plugin-api#IdentityApi.signOut} */\n  async signOut() {\n    this.abortController.abort();\n  }\n  getSessionSync() {\n    if (this.state.type === \"active\") {\n      return this.state.session;\n    } else if (this.state.type === \"fetching\" && this.state.previous) {\n      return this.state.previous;\n    }\n    throw new Error(\"No session available. Try reloading your browser page.\");\n  }\n  async getSessionAsync() {\n    if (this.state.type === \"fetching\") {\n      return this.state.promise;\n    } else if (this.state.type === \"active\" && /* @__PURE__ */ new Date() < this.state.expiresAt) {\n      return this.state.session;\n    }\n    const previous = this.state.type === \"active\" ? this.state.session : void 0;\n    const promise = this.fetchSession().then(\n      (session) => {\n        this.state = {\n          type: \"active\",\n          session,\n          expiresAt: tokenToExpiry(session.backstageIdentity.token)\n        };\n        return session;\n      },\n      (error) => {\n        this.state = {\n          type: \"failed\",\n          error\n        };\n        throw error;\n      }\n    );\n    this.state = {\n      type: \"fetching\",\n      promise,\n      previous\n    };\n    return promise;\n  }\n  async fetchSession() {\n    const baseUrl = await this.options.discoveryApi.getBaseUrl(\"auth\");\n    const headers = typeof this.options.headers === \"function\" ? await this.options.headers() : this.options.headers;\n    const mergedHeaders = new Headers(headers);\n    mergedHeaders.set(\"X-Requested-With\", \"XMLHttpRequest\");\n    const response = await fetch(\n      `${baseUrl}/${this.options.provider}/refresh`,\n      {\n        signal: this.abortController.signal,\n        headers: mergedHeaders,\n        credentials: \"include\"\n      }\n    );\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return proxiedSessionSchema.parse(await response.json());\n  }\n}\n\nexport { DEFAULTS, ProxiedSignInIdentity, tokenToExpiry };\n//# sourceMappingURL=ProxiedSignInIdentity.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { InfoCard } from '../InfoCard/InfoCard.esm.js';\nimport { GridItem } from './styles.esm.js';\nimport { ProxiedSignInIdentity } from '../ProxiedSignInPage/ProxiedSignInIdentity.esm.js';\nimport { discoveryApiRef, useApi } from '@backstage/core-plugin-api';\nimport { GuestUserIdentity } from './GuestUserIdentity.esm.js';\nimport useLocalStorage from 'react-use/esm/useLocalStorage';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst getIdentity = async (identity) => {\n  try {\n    const identityResponse = await identity.getBackstageIdentity();\n    return identityResponse;\n  } catch (error) {\n    if (error.name === \"ResponseError\" && error.cause.name === \"NotFoundError\") {\n      return void 0;\n    }\n    throw error;\n  }\n};\nconst Component = ({\n  onSignInStarted,\n  onSignInSuccess,\n  onSignInFailure\n}) => {\n  const discoveryApi = useApi(discoveryApiRef);\n  const [_, setUseLegacyGuestToken] = useLocalStorage(\"enableLegacyGuestToken\");\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const handle = async () => {\n    onSignInStarted();\n    const identity = new ProxiedSignInIdentity({\n      provider: \"guest\",\n      discoveryApi\n    });\n    const identityResponse = await getIdentity(identity).catch((error) => {\n      console.warn(`Failed to sign in as a guest, ${error}`);\n      return void 0;\n    });\n    if (!identityResponse) {\n      const useLegacyGuestTokenResponse = confirm(\n        \"Failed to sign in as a guest using the auth backend. Do you want to fallback to the legacy guest token?\"\n      );\n      if (useLegacyGuestTokenResponse) {\n        setUseLegacyGuestToken(true);\n        onSignInSuccess(new GuestUserIdentity());\n        return;\n      }\n      onSignInFailure();\n      throw new Error(\n        `You cannot sign in as a guest, you must either enable the legacy guest token or configure the auth backend to support guest sign in.`\n      );\n    }\n    onSignInSuccess(identity);\n  };\n  return /* @__PURE__ */ jsx(GridItem, { children: /* @__PURE__ */ jsx(\n    InfoCard,\n    {\n      title: \"Guest\",\n      variant: \"fullHeight\",\n      actions: /* @__PURE__ */ jsx(Button, { color: \"primary\", variant: \"outlined\", onClick: handle, children: t(\"signIn.guestProvider.enter\") }),\n      children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", style: { whiteSpace: \"pre-line\" }, children: t(\"signIn.guestProvider.subtitle\") })\n    }\n  ) });\n};\nconst loader = async (apis) => {\n  const useLegacyGuestToken = localStorage.getItem(\"enableLegacyGuestToken\") === \"true\";\n  const identity = new ProxiedSignInIdentity({\n    provider: \"guest\",\n    discoveryApi: apis.get(discoveryApiRef)\n  });\n  const identityResponse = await getIdentity(identity).catch((error) => {\n    console.warn(`Failed to sign in as a guest, ${error}`);\n    return void 0;\n  });\n  if (!identityResponse && !useLegacyGuestToken) {\n    return void 0;\n  } else if (identityResponse && useLegacyGuestToken) {\n    const switchToNewGuestToken = confirm(\n      \"You are currently using the legacy guest token, but you have the new guest backend module installed. Do you want to use the new module?\"\n    );\n    if (switchToNewGuestToken) {\n      localStorage.removeItem(\"enableLegacyGuestToken\");\n    } else {\n      return new GuestUserIdentity();\n    }\n  } else if (useLegacyGuestToken) {\n    return new GuestUserIdentity();\n  }\n  return identity;\n};\nconst guestProvider = { Component, loader };\n\nexport { guestProvider };\n//# sourceMappingURL=guestProvider.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useForm } from 'react-hook-form';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport isEmpty from 'lodash/isEmpty';\nimport { InfoCard } from '../InfoCard/InfoCard.esm.js';\nimport { GridItem } from './styles.esm.js';\nimport { UserIdentity } from './UserIdentity.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst ID_TOKEN_REGEX = /^[a-z0-9_\\-]+\\.[a-z0-9_\\-]+\\.[a-z0-9_\\-]+$/i;\nconst useFormStyles = makeStyles(\n  (theme) => ({\n    form: {\n      display: \"flex\",\n      flexFlow: \"column nowrap\"\n    },\n    button: {\n      alignSelf: \"center\",\n      marginTop: theme.spacing(2)\n    },\n    subTitle: {\n      whiteSpace: \"pre-line\"\n    }\n  }),\n  { name: \"BackstageCustomProvider\" }\n);\nconst asInputRef = (renderResult) => {\n  const { ref, ...rest } = renderResult;\n  return {\n    inputRef: ref,\n    ...rest\n  };\n};\nconst Component = ({ onSignInStarted, onSignInSuccess }) => {\n  const classes = useFormStyles();\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const { register, handleSubmit, formState } = useForm({\n    mode: \"onChange\"\n  });\n  const { errors } = formState;\n  const handleResult = ({ userId, idToken }) => {\n    onSignInStarted();\n    onSignInSuccess(\n      UserIdentity.fromLegacy({\n        userId,\n        getIdToken: idToken !== void 0 ? async () => idToken : void 0,\n        profile: {\n          email: `${userId}@example.com`\n        }\n      })\n    );\n  };\n  return /* @__PURE__ */ jsx(GridItem, { children: /* @__PURE__ */ jsxs(InfoCard, { title: t(\"signIn.customProvider.title\"), variant: \"fullHeight\", children: [\n    /* @__PURE__ */ jsx(Typography, { variant: \"body1\", className: classes.subTitle, children: t(\"signIn.customProvider.subtitle\") }),\n    /* @__PURE__ */ jsxs(\"form\", { className: classes.form, onSubmit: handleSubmit(handleResult), children: [\n      /* @__PURE__ */ jsxs(FormControl, { children: [\n        /* @__PURE__ */ jsx(\n          TextField,\n          {\n            ...asInputRef(register(\"userId\", { required: true })),\n            label: t(\"signIn.customProvider.userId\"),\n            margin: \"normal\",\n            error: Boolean(errors.userId)\n          }\n        ),\n        errors.userId && /* @__PURE__ */ jsx(FormHelperText, { error: true, children: errors.userId.message })\n      ] }),\n      /* @__PURE__ */ jsxs(FormControl, { children: [\n        /* @__PURE__ */ jsx(\n          TextField,\n          {\n            ...asInputRef(\n              register(\"idToken\", {\n                required: false,\n                validate: (token) => !token || ID_TOKEN_REGEX.test(token) || t(\"signIn.customProvider.tokenInvalid\")\n              })\n            ),\n            label: t(\"signIn.customProvider.idToken\"),\n            margin: \"normal\",\n            autoComplete: \"off\",\n            error: Boolean(errors.idToken)\n          }\n        ),\n        errors.idToken && /* @__PURE__ */ jsx(FormHelperText, { error: true, children: errors.idToken.message })\n      ] }),\n      /* @__PURE__ */ jsx(\n        Button,\n        {\n          type: \"submit\",\n          color: \"primary\",\n          variant: \"outlined\",\n          className: classes.button,\n          disabled: !formState?.isDirty || !isEmpty(errors),\n          children: t(\"signIn.customProvider.continue\")\n        }\n      )\n    ] })\n  ] }) });\n};\nconst loader = async () => void 0;\nconst customProvider = { Component, loader };\n\nexport { customProvider };\n//# sourceMappingURL=customProvider.esm.js.map\n","class IdentityApiSignOutProxy {\n  constructor(config) {\n    this.config = config;\n  }\n  static from(config) {\n    return new IdentityApiSignOutProxy(config);\n  }\n  getUserId() {\n    if (!this.config.identityApi.getUserId) {\n      throw new Error(`SignOutProxy IdentityApi.getUserId is not implemented`);\n    }\n    return this.config.identityApi.getUserId();\n  }\n  getIdToken() {\n    if (!this.config.identityApi.getIdToken) {\n      throw new Error(`SignOutProxy IdentityApi.getIdToken is not implemented`);\n    }\n    return this.config.identityApi.getIdToken();\n  }\n  getProfile() {\n    if (!this.config.identityApi.getProfile) {\n      throw new Error(`SignOutProxy IdentityApi.getProfile is not implemented`);\n    }\n    return this.config.identityApi.getProfile();\n  }\n  getProfileInfo() {\n    return this.config.identityApi.getProfileInfo();\n  }\n  getBackstageIdentity() {\n    return this.config.identityApi.getBackstageIdentity();\n  }\n  getCredentials() {\n    return this.config.identityApi.getCredentials();\n  }\n  signOut() {\n    return this.config.signOut();\n  }\n}\n\nexport { IdentityApiSignOutProxy };\n//# sourceMappingURL=IdentityApiSignOutProxy.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useState, useCallback, useLayoutEffect, useMemo } from 'react';\nimport { useApi, errorApiRef, useApiHolder, useAnalytics } from '@backstage/core-plugin-api';\nimport { commonProvider } from './commonProvider.esm.js';\nimport { guestProvider } from './guestProvider.esm.js';\nimport { customProvider } from './customProvider.esm.js';\nimport { IdentityApiSignOutProxy } from './IdentityApiSignOutProxy.esm.js';\nimport { useSearchParams } from 'react-router-dom';\nimport { useMountEffect } from '@react-hookz/web';\nimport { ForwardedError } from '@backstage/errors';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst PROVIDER_STORAGE_KEY = \"@backstage/core:SignInPage:provider\";\nconst signInProviders = {\n  guest: guestProvider,\n  custom: customProvider,\n  common: commonProvider\n};\nfunction validateIDs(id, providers) {\n  if (id in providers)\n    throw new Error(\n      `\"${id}\" ID is duplicated. IDs of identity providers have to be unique.`\n    );\n}\nfunction getSignInProviders(identityProviders) {\n  const providers = identityProviders.reduce(\n    (acc, config) => {\n      if (typeof config === \"string\") {\n        validateIDs(config, acc);\n        acc[config] = { components: signInProviders[config], id: config };\n        return acc;\n      }\n      const { id } = config;\n      validateIDs(id, acc);\n      acc[id] = { components: signInProviders.common, id, config };\n      return acc;\n    },\n    {}\n  );\n  return providers;\n}\nconst useSignInProviders = (providers, onSignInSuccess) => {\n  const errorApi = useApi(errorApiRef);\n  const apiHolder = useApiHolder();\n  const [loading, setLoading] = useState(true);\n  const analytics = useAnalytics();\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const [searchParams, _setSearchParams] = useSearchParams();\n  useMountEffect(() => {\n    const errorParam = searchParams.get(\"error\");\n    if (errorParam) {\n      errorApi.post(\n        new ForwardedError(t(\"signIn.loginFailed\"), new Error(errorParam))\n      );\n    }\n  });\n  const handleWrappedResult = useCallback(\n    async (identityApi) => {\n      onSignInSuccess(\n        IdentityApiSignOutProxy.from({\n          identityApi,\n          signOut: async () => {\n            localStorage.removeItem(PROVIDER_STORAGE_KEY);\n            await identityApi.signOut?.();\n            analytics.captureEvent(\"signOut\", \"success\");\n          }\n        })\n      );\n      analytics.captureEvent(\"signIn\", \"success\");\n    },\n    [onSignInSuccess, analytics]\n  );\n  useLayoutEffect(() => {\n    if (!loading) {\n      return void 0;\n    }\n    const selectedProviderId = localStorage.getItem(\n      PROVIDER_STORAGE_KEY\n    );\n    if (selectedProviderId === null) {\n      setLoading(false);\n      return void 0;\n    }\n    const provider = providers[selectedProviderId];\n    if (!provider) {\n      setLoading(false);\n      return void 0;\n    }\n    let didCancel = false;\n    provider.components.loader(apiHolder, provider.config?.apiRef).then((result) => {\n      if (didCancel) {\n        localStorage.removeItem(PROVIDER_STORAGE_KEY);\n        return;\n      }\n      if (result) {\n        handleWrappedResult(result);\n      } else {\n        setLoading(false);\n      }\n    }).catch((error) => {\n      localStorage.removeItem(PROVIDER_STORAGE_KEY);\n      if (didCancel) {\n        return;\n      }\n      errorApi.post(error);\n      setLoading(false);\n    });\n    return () => {\n      didCancel = true;\n    };\n  }, [\n    loading,\n    errorApi,\n    onSignInSuccess,\n    apiHolder,\n    providers,\n    handleWrappedResult\n  ]);\n  const elements = useMemo(\n    () => Object.keys(providers).map((key) => {\n      const provider = providers[key];\n      const { Component } = provider.components;\n      const handleSignInSuccess = (result) => {\n        handleWrappedResult(result);\n      };\n      const handleSignInStarted = () => {\n        localStorage.setItem(\n          PROVIDER_STORAGE_KEY,\n          provider?.config?.id || provider.id\n        );\n      };\n      const handleSignInFailure = () => {\n        localStorage.removeItem(PROVIDER_STORAGE_KEY);\n      };\n      return /* @__PURE__ */ jsx(\n        Component,\n        {\n          config: provider.config,\n          onSignInStarted: handleSignInStarted,\n          onSignInSuccess: handleSignInSuccess,\n          onSignInFailure: handleSignInFailure\n        },\n        provider.id\n      );\n    }),\n    [providers, handleWrappedResult]\n  );\n  return [loading, elements];\n};\n\nexport { getSignInProviders, useSignInProviders };\n//# sourceMappingURL=providers.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useApi, configApiRef, useAnalytics } from '@backstage/core-plugin-api';\nimport { UserIdentity } from './UserIdentity.esm.js';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { useState } from 'react';\nimport { useMountEffect } from '@react-hookz/web';\nimport { Progress } from '../../components/Progress/Progress.esm.js';\nimport { Content } from '../Content/Content.esm.js';\nimport { ContentHeader } from '../ContentHeader/ContentHeader.esm.js';\nimport { Header } from '../Header/Header.esm.js';\nimport { InfoCard } from '../InfoCard/InfoCard.esm.js';\nimport { Page } from '../Page/Page.esm.js';\nimport { getSignInProviders, useSignInProviders } from './providers.esm.js';\nimport { useStyles, GridItem } from './styles.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { useSearchParams } from 'react-router-dom';\n\nconst MultiSignInPage = ({\n  onSignInSuccess,\n  providers = [],\n  title,\n  titleComponent,\n  align = \"left\"\n}) => {\n  const configApi = useApi(configApiRef);\n  const classes = useStyles();\n  const signInProviders = getSignInProviders(providers);\n  const [loading, providerElements] = useSignInProviders(\n    signInProviders,\n    onSignInSuccess\n  );\n  if (loading) {\n    return /* @__PURE__ */ jsx(Progress, {});\n  }\n  return /* @__PURE__ */ jsxs(Page, { themeId: \"home\", children: [\n    /* @__PURE__ */ jsx(Header, { title: configApi.getString(\"app.title\") }),\n    /* @__PURE__ */ jsxs(Content, { children: [\n      (title || titleComponent) && /* @__PURE__ */ jsx(\n        ContentHeader,\n        {\n          title,\n          titleComponent,\n          textAlign: align\n        }\n      ),\n      /* @__PURE__ */ jsx(\n        Grid,\n        {\n          container: true,\n          justifyContent: align === \"center\" ? align : \"flex-start\",\n          spacing: 2,\n          component: \"ul\",\n          classes,\n          children: providerElements\n        }\n      )\n    ] })\n  ] });\n};\nconst SingleSignInPage = ({\n  provider,\n  auto,\n  onSignInSuccess,\n  ErrorComponent\n}) => {\n  const classes = useStyles();\n  const authApi = useApi(provider.apiRef);\n  const configApi = useApi(configApiRef);\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const analytics = useAnalytics();\n  const [error, setError] = useState();\n  const [showLoginPage, setShowLoginPage] = useState(false);\n  const [searchParams, _setSearchParams] = useSearchParams();\n  const errorParam = searchParams.get(\"error\");\n  const login = async ({ checkExisting, showPopup }) => {\n    try {\n      let identityResponse;\n      if (checkExisting) {\n        identityResponse = await authApi.getBackstageIdentity({\n          optional: true\n        });\n      }\n      if (!identityResponse && (showPopup || auto) && !errorParam) {\n        setShowLoginPage(true);\n        identityResponse = await authApi.getBackstageIdentity({\n          instantPopup: true\n        });\n        if (!identityResponse) {\n          throw new Error(\n            `The ${provider.title} provider is not configured to support sign-in`\n          );\n        }\n      }\n      if (!identityResponse) {\n        setShowLoginPage(true);\n        return;\n      }\n      const profile = await authApi.getProfile();\n      onSignInSuccess(\n        UserIdentity.create({\n          identity: identityResponse.identity,\n          authApi,\n          profile\n        })\n      );\n      analytics.captureEvent(\"signIn\", \"success\");\n    } catch (err) {\n      setError(err);\n      setShowLoginPage(true);\n    }\n  };\n  useMountEffect(() => {\n    if (errorParam) {\n      setError(new Error(errorParam));\n    }\n    login({ checkExisting: true });\n  });\n  return showLoginPage ? /* @__PURE__ */ jsxs(Page, { themeId: \"home\", children: [\n    /* @__PURE__ */ jsx(Header, { title: configApi.getString(\"app.title\") }),\n    /* @__PURE__ */ jsx(Content, { children: /* @__PURE__ */ jsx(\n      Grid,\n      {\n        container: true,\n        justifyContent: \"center\",\n        spacing: 2,\n        component: \"ul\",\n        classes,\n        children: /* @__PURE__ */ jsx(GridItem, { children: /* @__PURE__ */ jsxs(\n          InfoCard,\n          {\n            variant: \"fullHeight\",\n            title: provider.title,\n            actions: /* @__PURE__ */ jsx(\n              Button,\n              {\n                color: \"primary\",\n                variant: \"outlined\",\n                onClick: () => {\n                  login({ showPopup: true });\n                },\n                children: t(\"signIn.title\")\n              }\n            ),\n            children: [\n              /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: provider.message }),\n              error && error.name !== \"PopupRejectedError\" && (ErrorComponent ? /* @__PURE__ */ jsx(ErrorComponent, { error }) : /* @__PURE__ */ jsx(Typography, { variant: \"body1\", color: \"error\", children: error.message }))\n            ]\n          }\n        ) })\n      }\n    ) })\n  ] }) : /* @__PURE__ */ jsx(Progress, {});\n};\nfunction SignInPage(props) {\n  if (\"provider\" in props) {\n    return /* @__PURE__ */ jsx(SingleSignInPage, { ...props });\n  }\n  return /* @__PURE__ */ jsx(MultiSignInPage, { ...props });\n}\n\nexport { MultiSignInPage, SignInPage, SingleSignInPage };\n//# sourceMappingURL=SignInPage.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst coreComponentsTranslationRef = createTranslationRef({\n  id: \"core-components\",\n  messages: {\n    signIn: {\n      title: \"Sign In\",\n      loginFailed: \"Login failed\",\n      customProvider: {\n        title: \"Custom User\",\n        subtitle: \"Enter your own User ID and credentials.\\n This selection will not be stored.\",\n        userId: \"User ID\",\n        tokenInvalid: \"Token is not a valid OpenID Connect JWT Token\",\n        continue: \"Continue\",\n        idToken: \"ID Token (optional)\"\n      },\n      guestProvider: {\n        title: \"Guest\",\n        subtitle: \"Enter as a Guest User.\\n You will not have a verified identity, meaning some features might be unavailable.\",\n        enter: \"Enter\"\n      }\n    },\n    skipToContent: \"Skip to content\",\n    copyTextButton: {\n      tooltipText: \"Text copied to clipboard\"\n    },\n    simpleStepper: {\n      reset: \"Reset\",\n      finish: \"Finish\",\n      next: \"Next\",\n      skip: \"Skip\",\n      back: \"Back\"\n    },\n    errorPage: {\n      subtitle: \"ERROR {{status}}: {{statusMessage}}\",\n      title: \"Looks like someone dropped the mic!\",\n      goBack: \"Go back\",\n      showMoreDetails: \"Show more details\",\n      showLessDetails: \"Show less details\"\n    },\n    emptyState: {\n      missingAnnotation: {\n        title: \"Missing Annotation\",\n        actionTitle: \"Add the annotation to your component YAML as shown in the highlighted example below:\",\n        readMore: \"Read more\"\n      }\n    },\n    supportConfig: {\n      default: {\n        title: \"Support Not Configured\",\n        linkTitle: \"Add `app.support` config key\"\n      }\n    },\n    errorBoundary: {\n      title: \"Please contact {{slackChannel}} for help.\"\n    },\n    oauthRequestDialog: {\n      title: \"Login Required\",\n      authRedirectTitle: \"This will trigger a http redirect to OAuth Login.\",\n      login: \"Log in\",\n      rejectAll: \"Reject All\",\n      message: \"Sign-in to allow {{appTitle}} access to {{provider}} APIs and identities.\"\n    },\n    supportButton: {\n      title: \"Support\",\n      close: \"Close\"\n    },\n    table: {\n      filter: {\n        title: \"Filters\",\n        clearAll: \"Clear all\",\n        placeholder: \"All results\"\n      },\n      body: {\n        emptyDataSourceMessage: \"No records to display\"\n      },\n      pagination: {\n        firstTooltip: \"First Page\",\n        labelDisplayedRows: \"{from}-{to} of {count}\",\n        labelRowsSelect: \"rows\",\n        lastTooltip: \"Last Page\",\n        nextTooltip: \"Next Page\",\n        previousTooltip: \"Previous Page\"\n      },\n      toolbar: {\n        search: \"Filter\"\n      },\n      header: {\n        actions: \"Actions\"\n      }\n    },\n    alertDisplay: {\n      message_one: \"({{ count }} newer message)\",\n      message_other: \"({{ count }} newer messages)\"\n    },\n    autoLogout: {\n      stillTherePrompt: {\n        title: \"Logging out due to inactivity\",\n        buttonText: \"Yes! Don't log me out\"\n      }\n    },\n    dependencyGraph: {\n      fullscreenTooltip: \"Toggle fullscreen\"\n    },\n    proxiedSignInPage: {\n      title: \"You do not appear to be signed in. Please try reloading the browser page.\"\n    }\n  }\n});\n\nexport { coreComponentsTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport { useContext } from 'react';\n\nconst AnalyticsReactContext = createVersionedContext(\"analytics-context\");\nconst useAnalyticsContext = () => {\n  const theContext = useContext(AnalyticsReactContext);\n  if (theContext === void 0) {\n    return {\n      routeRef: \"unknown\",\n      pluginId: \"root\",\n      extension: \"App\"\n    };\n  }\n  const theValue = theContext.atVersion(1);\n  if (theValue === void 0) {\n    throw new Error(\"No context found for version 1.\");\n  }\n  return theValue;\n};\nconst AnalyticsContext = (options) => {\n  const { attributes, children } = options;\n  const parentValues = useAnalyticsContext();\n  const combinedValue = {\n    ...parentValues,\n    ...attributes\n  };\n  const versionedCombinedValue = createVersionedValueMap({ 1: combinedValue });\n  return /* @__PURE__ */ jsx(AnalyticsReactContext.Provider, { value: versionedCombinedValue, children });\n};\n\nexport { AnalyticsContext, useAnalyticsContext };\n//# sourceMappingURL=AnalyticsContext.esm.js.map\n","import { getOrCreateGlobalSingleton } from '@backstage/version-bridge';\n\nconst globalEvents = getOrCreateGlobalSingleton(\n  \"core-plugin-api:analytics-tracker-events\",\n  () => ({\n    mostRecentGatheredNavigation: void 0,\n    mostRecentRoutableExtensionRender: void 0,\n    beforeUnloadRegistered: false\n  })\n);\nconst routableExtensionRenderedEvent = \"_ROUTABLE-EXTENSION-RENDERED\";\nclass Tracker {\n  analyticsApi;\n  context;\n  constructor(analyticsApi, context = {\n    routeRef: \"unknown\",\n    pluginId: \"root\",\n    extension: \"App\"\n  }) {\n    this.analyticsApi = analyticsApi;\n    this.context = context;\n    if (!globalEvents.beforeUnloadRegistered) {\n      addEventListener(\n        \"beforeunload\",\n        () => {\n          if (globalEvents.mostRecentGatheredNavigation) {\n            this.analyticsApi.captureEvent({\n              ...globalEvents.mostRecentGatheredNavigation,\n              ...globalEvents.mostRecentRoutableExtensionRender\n            });\n            globalEvents.mostRecentGatheredNavigation = void 0;\n            globalEvents.mostRecentRoutableExtensionRender = void 0;\n          }\n        },\n        { once: true, passive: true }\n      );\n      globalEvents.beforeUnloadRegistered = true;\n    }\n  }\n  setContext(context) {\n    this.context = context;\n  }\n  captureEvent(action, subject, {\n    value,\n    attributes\n  } = {}) {\n    const { _routeNodeType, ...context } = this.context;\n    if (action === routableExtensionRenderedEvent) {\n      if (globalEvents.mostRecentGatheredNavigation) {\n        globalEvents.mostRecentRoutableExtensionRender = {\n          context: {\n            ...context,\n            extension: \"App\"\n          }\n        };\n      }\n      return;\n    }\n    if (globalEvents.mostRecentGatheredNavigation) {\n      try {\n        this.analyticsApi.captureEvent({\n          ...globalEvents.mostRecentGatheredNavigation,\n          ...globalEvents.mostRecentRoutableExtensionRender\n        });\n      } catch (e) {\n        console.warn(\"Error during analytics event capture. %o\", e);\n      }\n      globalEvents.mostRecentGatheredNavigation = void 0;\n      globalEvents.mostRecentRoutableExtensionRender = void 0;\n    }\n    if (action === \"navigate\" && _routeNodeType === \"gathered\" && context.pluginId === \"root\") {\n      globalEvents.mostRecentGatheredNavigation = {\n        action,\n        subject,\n        value,\n        attributes,\n        context\n      };\n      return;\n    }\n    try {\n      this.analyticsApi.captureEvent({\n        action,\n        subject,\n        value,\n        attributes,\n        context\n      });\n    } catch (e) {\n      console.warn(\"Error during analytics event capture. %o\", e);\n    }\n  }\n}\n\nexport { Tracker, routableExtensionRenderedEvent };\n//# sourceMappingURL=Tracker.esm.js.map\n","import { useAnalyticsContext } from './AnalyticsContext.esm.js';\nimport { useApi } from '../apis/system/useApi.esm.js';\nimport '../apis/definitions/auth.esm.js';\nimport '../apis/definitions/AlertApi.esm.js';\nimport { analyticsApiRef } from '../apis/definitions/AnalyticsApi.esm.js';\nimport '../apis/definitions/AppThemeApi.esm.js';\nimport '../apis/definitions/ConfigApi.esm.js';\nimport '../apis/definitions/DiscoveryApi.esm.js';\nimport '../apis/definitions/ErrorApi.esm.js';\nimport '../apis/definitions/FeatureFlagsApi.esm.js';\nimport '../apis/definitions/FetchApi.esm.js';\nimport '../apis/definitions/IdentityApi.esm.js';\nimport '../apis/definitions/OAuthRequestApi.esm.js';\nimport '../apis/definitions/StorageApi.esm.js';\nimport { useRef } from 'react';\nimport { Tracker } from './Tracker.esm.js';\n\nfunction useAnalyticsApi() {\n  try {\n    return useApi(analyticsApiRef);\n  } catch {\n    return { captureEvent: () => {\n    } };\n  }\n}\nfunction useAnalytics() {\n  const trackerRef = useRef(null);\n  const context = useAnalyticsContext();\n  const analyticsApi = useAnalyticsApi();\n  function getTracker() {\n    if (trackerRef.current === null) {\n      trackerRef.current = new Tracker(analyticsApi);\n    }\n    return trackerRef.current;\n  }\n  const tracker = getTracker();\n  tracker.setContext(context);\n  return tracker;\n}\n\nexport { useAnalytics };\n//# sourceMappingURL=useAnalytics.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst alertApiRef = createApiRef({\n  id: \"core.alert\"\n});\n\nexport { alertApiRef };\n//# sourceMappingURL=AlertApi.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst analyticsApiRef = createApiRef({\n  id: \"core.analytics\"\n});\n\nexport { analyticsApiRef };\n//# sourceMappingURL=AnalyticsApi.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst appLanguageApiRef = createApiRef({\n  id: \"core.applanguage\"\n});\n\nexport { appLanguageApiRef };\n//# sourceMappingURL=AppLanguageApi.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst appThemeApiRef = createApiRef({\n  id: \"core.apptheme\"\n});\n\nexport { appThemeApiRef };\n//# sourceMappingURL=AppThemeApi.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst configApiRef = createApiRef({\n  id: \"core.config\"\n});\n\nexport { configApiRef };\n//# sourceMappingURL=ConfigApi.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst discoveryApiRef = createApiRef({\n  id: \"core.discovery\"\n});\n\nexport { discoveryApiRef };\n//# sourceMappingURL=DiscoveryApi.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst errorApiRef = createApiRef({\n  id: \"core.error\"\n});\n\nexport { errorApiRef };\n//# sourceMappingURL=ErrorApi.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst FeatureFlagState = {\n  /**\n   * Feature flag inactive (disabled).\n   */\n  None: 0,\n  /**\n   * Feature flag active (enabled).\n   */\n  Active: 1\n};\nconst featureFlagsApiRef = createApiRef({\n  id: \"core.featureflags\"\n});\n\nexport { FeatureFlagState, featureFlagsApiRef };\n//# sourceMappingURL=FeatureFlagsApi.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst fetchApiRef = createApiRef({\n  id: \"core.fetch\"\n});\n\nexport { fetchApiRef };\n//# sourceMappingURL=FetchApi.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst identityApiRef = createApiRef({\n  id: \"core.identity\"\n});\n\nexport { identityApiRef };\n//# sourceMappingURL=IdentityApi.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst oauthRequestApiRef = createApiRef({\n  id: \"core.oauthrequest\"\n});\n\nexport { oauthRequestApiRef };\n//# sourceMappingURL=OAuthRequestApi.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst storageApiRef = createApiRef({\n  id: \"core.storage\"\n});\n\nexport { storageApiRef };\n//# sourceMappingURL=StorageApi.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst translationApiRef = createApiRef({\n  id: \"core.translation\"\n});\n\nexport { translationApiRef };\n//# sourceMappingURL=TranslationApi.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/version-bridge';\nimport '@backstage/errors';\nimport { createApiRef } from '../system/ApiRef.esm.js';\n\nconst SessionState = {\n  /**\n   * User signed in.\n   */\n  SignedIn: \"SignedIn\",\n  /**\n   * User not signed in.\n   */\n  SignedOut: \"SignedOut\"\n};\nconst googleAuthApiRef = createApiRef({\n  id: \"core.auth.google\"\n});\nconst githubAuthApiRef = createApiRef({\n  id: \"core.auth.github\"\n});\nconst oktaAuthApiRef = createApiRef({\n  id: \"core.auth.okta\"\n});\nconst gitlabAuthApiRef = createApiRef({\n  id: \"core.auth.gitlab\"\n});\nconst microsoftAuthApiRef = createApiRef({\n  id: \"core.auth.microsoft\"\n});\nconst oneloginAuthApiRef = createApiRef({\n  id: \"core.auth.onelogin\"\n});\nconst bitbucketAuthApiRef = createApiRef({\n  id: \"core.auth.bitbucket\"\n});\nconst bitbucketServerAuthApiRef = createApiRef({\n  id: \"core.auth.bitbucket-server\"\n});\nconst atlassianAuthApiRef = createApiRef({\n  id: \"core.auth.atlassian\"\n});\nconst vmwareCloudAuthApiRef = createApiRef({\n  id: \"core.auth.vmware-cloud\"\n});\nconst openshiftAuthApiRef = createApiRef({\n  id: \"core.auth.openshift\"\n});\n\nexport { SessionState, atlassianAuthApiRef, bitbucketAuthApiRef, bitbucketServerAuthApiRef, githubAuthApiRef, gitlabAuthApiRef, googleAuthApiRef, microsoftAuthApiRef, oktaAuthApiRef, oneloginAuthApiRef, openshiftAuthApiRef, vmwareCloudAuthApiRef };\n//# sourceMappingURL=auth.esm.js.map\n","class ApiRefImpl {\n  constructor(config) {\n    this.config = config;\n    const valid = config.id.split(\".\").flatMap((part) => part.split(\"-\")).every((part) => part.match(/^[a-z][a-z0-9]*$/));\n    if (!valid) {\n      throw new Error(\n        `API id must only contain period separated lowercase alphanum tokens with dashes, got '${config.id}'`\n      );\n    }\n  }\n  get id() {\n    return this.config.id;\n  }\n  // Utility for getting type of an api, using `typeof apiRef.T`\n  get T() {\n    throw new Error(`tried to read ApiRef.T of ${this}`);\n  }\n  toString() {\n    return `apiRef{${this.config.id}}`;\n  }\n}\nfunction createApiRef(config) {\n  return new ApiRefImpl(config);\n}\n\nexport { createApiRef };\n//# sourceMappingURL=ApiRef.esm.js.map\n","function createApiFactory(factory, instance) {\n  if (\"id\" in factory) {\n    return {\n      api: factory,\n      deps: {},\n      factory: () => instance\n    };\n  }\n  return factory;\n}\n\nexport { createApiFactory };\n//# sourceMappingURL=helpers.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useVersionedContext } from '@backstage/version-bridge';\nimport { NotImplementedError } from '@backstage/errors';\n\nfunction useApiHolder() {\n  const versionedHolder = useVersionedContext(\"api-context\");\n  if (!versionedHolder) {\n    throw new NotImplementedError(\"API context is not available\");\n  }\n  const apiHolder = versionedHolder.atVersion(1);\n  if (!apiHolder) {\n    throw new NotImplementedError(\"ApiContext v1 not available\");\n  }\n  return apiHolder;\n}\nfunction useApi(apiRef) {\n  const apiHolder = useApiHolder();\n  const api = apiHolder.get(apiRef);\n  if (!api) {\n    throw new NotImplementedError(`No implementation available for ${apiRef}`);\n  }\n  return api;\n}\nfunction withApis(apis) {\n  return function withApisWrapper(WrappedComponent) {\n    const Hoc = (props) => {\n      const apiHolder = useApiHolder();\n      const impls = {};\n      for (const key in apis) {\n        if (apis.hasOwnProperty(key)) {\n          const ref = apis[key];\n          const api = apiHolder.get(ref);\n          if (!api) {\n            throw new NotImplementedError(\n              `No implementation available for ${ref}`\n            );\n          }\n          impls[key] = api;\n        }\n      }\n      return /* @__PURE__ */ jsx(WrappedComponent, { ...props, ...impls });\n    };\n    const displayName = WrappedComponent.displayName || WrappedComponent.name || \"Component\";\n    Hoc.displayName = `withApis(${displayName})`;\n    return Hoc;\n  };\n}\n\nexport { useApi, useApiHolder, withApis };\n//# sourceMappingURL=useApi.esm.js.map\n","import { useVersionedContext } from '@backstage/version-bridge';\n\nconst useApp = () => {\n  const versionedContext = useVersionedContext(\n    \"app-context\"\n  );\n  if (!versionedContext) {\n    throw new Error(\"App context is not available\");\n  }\n  const appContext = versionedContext.atVersion(1);\n  if (!appContext) {\n    throw new Error(\"AppContext v1 not available\");\n  }\n  return appContext;\n};\n\nexport { useApp };\n//# sourceMappingURL=useApp.esm.js.map\n","import { getOrCreateGlobalSingleton } from '@backstage/version-bridge';\n\nconst globalStore = getOrCreateGlobalSingleton(\n  \"component-data-store\",\n  () => /* @__PURE__ */ new WeakMap()\n);\nconst componentDataKey = \"__backstage_data\";\nfunction attachComponentData(component, type, data) {\n  const dataComponent = component;\n  let container = dataComponent[componentDataKey] ?? globalStore.get(component);\n  if (!container) {\n    container = { map: /* @__PURE__ */ new Map() };\n    Object.defineProperty(dataComponent, componentDataKey, {\n      enumerable: false,\n      configurable: true,\n      writable: false,\n      value: container\n    });\n    globalStore.set(component, container);\n  }\n  if (container.map.has(type)) {\n    const name = component.displayName || component.name;\n    throw new Error(\n      `Attempted to attach duplicate data \"${type}\" to component \"${name}\"`\n    );\n  }\n  container.map.set(type, data);\n}\nfunction getComponentData(node, type) {\n  if (!node) {\n    return void 0;\n  }\n  const component = node.type;\n  if (!component) {\n    return void 0;\n  }\n  const container = component[componentDataKey] ?? globalStore.get(component);\n  if (!container) {\n    return void 0;\n  }\n  return container.map.get(type);\n}\n\nexport { attachComponentData, getComponentData };\n//# sourceMappingURL=componentData.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { Component } from 'react';\n\nclass PluginErrorBoundary extends Component {\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  state = { error: void 0 };\n  handleErrorReset = () => {\n    this.setState({ error: void 0 });\n  };\n  render() {\n    const { error } = this.state;\n    const { app, plugin } = this.props;\n    const { ErrorBoundaryFallback } = app.getComponents();\n    if (error) {\n      return /* @__PURE__ */ jsx(\n        ErrorBoundaryFallback,\n        {\n          error,\n          resetError: this.handleErrorReset,\n          plugin\n        }\n      );\n    }\n    return this.props.children;\n  }\n}\n\nexport { PluginErrorBoundary };\n//# sourceMappingURL=PluginErrorBoundary.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { lazy, useEffect, Suspense } from 'react';\nimport { AnalyticsContext } from '../analytics/AnalyticsContext.esm.js';\nimport { useAnalytics } from '../analytics/useAnalytics.esm.js';\nimport { useApp } from '../app/useApp.esm.js';\nimport '../routing/types.esm.js';\nimport { useRouteRef } from '../routing/useRouteRef.esm.js';\nimport 'react-router-dom';\nimport { attachComponentData } from './componentData.esm.js';\nimport { PluginErrorBoundary } from './PluginErrorBoundary.esm.js';\nimport { routableExtensionRenderedEvent } from '../analytics/Tracker.esm.js';\nimport { ForwardedError } from '@backstage/errors';\n\nfunction createRoutableExtension(options) {\n  const { component, mountPoint, name } = options;\n  return createReactExtension({\n    component: {\n      lazy: () => component().then((InnerComponent) => {\n        const RoutableExtensionWrapper = (props) => {\n          const analytics = useAnalytics();\n          try {\n            useRouteRef(mountPoint);\n          } catch (error) {\n            if (typeof error === \"object\" && error !== null) {\n              const { message } = error;\n              if (typeof message === \"string\" && message.startsWith(\"No path for \")) {\n                throw new Error(\n                  `Routable extension component with mount point ${mountPoint} was not discovered in the app element tree. Routable extension components may not be rendered by other components and must be directly available as an element within the App provider component.`\n                );\n              }\n            }\n            throw error;\n          }\n          useEffect(() => {\n            analytics.captureEvent(routableExtensionRenderedEvent, \"\");\n          }, [analytics]);\n          return /* @__PURE__ */ jsx(InnerComponent, { ...props });\n        };\n        const componentName = name || InnerComponent.displayName || InnerComponent.name || \"LazyComponent\";\n        RoutableExtensionWrapper.displayName = `RoutableExtension(${componentName})`;\n        return RoutableExtensionWrapper;\n      })\n    },\n    data: {\n      \"core.mountPoint\": mountPoint\n    },\n    name\n  });\n}\nfunction createComponentExtension(options) {\n  const { component, name } = options;\n  return createReactExtension({ component, name });\n}\nfunction createReactExtension(options) {\n  const { data = {}, name } = options;\n  if (!name) {\n    console.warn(\n      \"Declaring extensions without name is DEPRECATED. Make sure that all usages of createReactExtension, createComponentExtension and createRoutableExtension provide a name.\"\n    );\n  }\n  let Component;\n  if (\"lazy\" in options.component) {\n    const lazyLoader = options.component.lazy;\n    Component = lazy(\n      () => lazyLoader().then(\n        (component) => ({ default: component }),\n        (error) => {\n          const ofExtension = name ? ` of the ${name} extension` : \"\";\n          throw new ForwardedError(\n            `Failed lazy loading${ofExtension}, try to reload the page`,\n            error\n          );\n        }\n      )\n    );\n  } else {\n    Component = options.component.sync;\n  }\n  const componentName = name || Component.displayName || Component.name || \"Component\";\n  return {\n    expose(plugin) {\n      const Result = (props) => {\n        const app = useApp();\n        const { Progress } = app.getComponents();\n        const mountPoint = data?.[\"core.mountPoint\"];\n        return /* @__PURE__ */ jsx(Suspense, { fallback: /* @__PURE__ */ jsx(Progress, {}), children: /* @__PURE__ */ jsx(PluginErrorBoundary, { app, plugin, children: /* @__PURE__ */ jsx(\n          AnalyticsContext,\n          {\n            attributes: {\n              pluginId: plugin.getId(),\n              ...name && { extension: name },\n              ...mountPoint && { routeRef: mountPoint.id }\n            },\n            children: /* @__PURE__ */ jsx(Component, { ...props })\n          }\n        ) }) });\n      };\n      attachComponentData(Result, \"core.plugin\", plugin);\n      attachComponentData(Result, \"core.extensionName\", name);\n      for (const [key, value] of Object.entries(data)) {\n        attachComponentData(Result, key, value);\n      }\n      Result.displayName = `Extension(${componentName})`;\n      return Result;\n    }\n  };\n}\n\nexport { createComponentExtension, createReactExtension, createRoutableExtension };\n//# sourceMappingURL=extensions.esm.js.map\n","import { useMemo, Children, isValidElement, Fragment } from 'react';\nimport { getComponentData } from './componentData.esm.js';\nimport { useApi } from '../apis/system/useApi.esm.js';\nimport '../apis/definitions/auth.esm.js';\nimport '../apis/definitions/AlertApi.esm.js';\nimport '../apis/definitions/AnalyticsApi.esm.js';\nimport '../apis/definitions/AppThemeApi.esm.js';\nimport '../apis/definitions/ConfigApi.esm.js';\nimport '../apis/definitions/DiscoveryApi.esm.js';\nimport '../apis/definitions/ErrorApi.esm.js';\nimport { featureFlagsApiRef } from '../apis/definitions/FeatureFlagsApi.esm.js';\nimport '../apis/definitions/FetchApi.esm.js';\nimport '../apis/definitions/IdentityApi.esm.js';\nimport '../apis/definitions/OAuthRequestApi.esm.js';\nimport '../apis/definitions/StorageApi.esm.js';\n\nfunction selectChildren(rootNode, featureFlagsApi, selector, strictError) {\n  return Children.toArray(rootNode).flatMap((node) => {\n    if (!isValidElement(node)) {\n      return [];\n    }\n    if (node.type === Fragment) {\n      return selectChildren(\n        node.props.children,\n        featureFlagsApi,\n        selector,\n        strictError\n      );\n    }\n    if (getComponentData(node, \"core.featureFlagged\")) {\n      const props = node.props;\n      const isEnabled = \"with\" in props ? featureFlagsApi.isActive(props.with) : !featureFlagsApi.isActive(props.without);\n      if (isEnabled) {\n        return selectChildren(\n          node.props.children,\n          featureFlagsApi,\n          selector,\n          strictError\n        );\n      }\n      return [];\n    }\n    if (selector === void 0 || selector(node)) {\n      return [node];\n    }\n    if (strictError) {\n      throw new Error(strictError);\n    }\n    return selectChildren(\n      node.props.children,\n      featureFlagsApi,\n      selector,\n      strictError\n    );\n  });\n}\nclass Collection {\n  node;\n  featureFlagsApi;\n  constructor(node, featureFlagsApi) {\n    this.node = node;\n    this.featureFlagsApi = featureFlagsApi;\n  }\n  selectByComponentData(query) {\n    const selection = selectChildren(\n      this.node,\n      this.featureFlagsApi,\n      (node) => getComponentData(node, query.key) !== void 0,\n      query.withStrictError\n    );\n    return new Collection(selection, this.featureFlagsApi);\n  }\n  findComponentData(query) {\n    const selection = selectChildren(\n      this.node,\n      this.featureFlagsApi,\n      (node) => getComponentData(node, query.key) !== void 0\n    );\n    return selection.map((node) => getComponentData(node, query.key)).filter((data) => data !== void 0);\n  }\n  getElements() {\n    return selectChildren(this.node, this.featureFlagsApi);\n  }\n}\nfunction useElementFilter(node, filterFn, dependencies = []) {\n  const featureFlagsApi = useApi(featureFlagsApiRef);\n  const elements = new Collection(node, featureFlagsApi);\n  return useMemo(() => filterFn(elements), [node, ...dependencies]);\n}\n\nexport { useElementFilter };\n//# sourceMappingURL=useElementFilter.esm.js.map\n","class PluginImpl {\n  constructor(config) {\n    this.config = config;\n  }\n  getId() {\n    return this.config.id;\n  }\n  getApis() {\n    return this.config.apis ?? [];\n  }\n  getFeatureFlags() {\n    return this.config.featureFlags?.slice() ?? [];\n  }\n  get routes() {\n    return this.config.routes ?? {};\n  }\n  get externalRoutes() {\n    return this.config.externalRoutes ?? {};\n  }\n  provide(extension) {\n    return extension.expose(this);\n  }\n  toString() {\n    return `plugin{${this.config.id}}`;\n  }\n}\nfunction createPlugin(config) {\n  return new PluginImpl(config);\n}\n\nexport { PluginImpl, createPlugin };\n//# sourceMappingURL=Plugin.esm.js.map\n","import { routeRefType } from './types.esm.js';\n\nclass ExternalRouteRefImpl {\n  [routeRefType] = \"external\";\n  id;\n  params;\n  optional;\n  defaultTarget;\n  constructor(id, params, optional, defaultTarget) {\n    this.id = id;\n    this.params = params;\n    this.optional = optional;\n    this.defaultTarget = defaultTarget;\n  }\n  toString() {\n    if (this.#nfsId) {\n      return `externalRouteRef{id=${this.#nfsId},legacyId=${this.id}}`;\n    }\n    return `routeRef{type=external,id=${this.id}}`;\n  }\n  getDefaultTarget() {\n    return this.defaultTarget;\n  }\n  // NFS implementation below\n  $$type = \"@backstage/ExternalRouteRef\";\n  version = \"v1\";\n  T = void 0;\n  #nfsId = void 0;\n  getParams() {\n    return this.params;\n  }\n  getDescription() {\n    if (this.#nfsId) {\n      return this.#nfsId;\n    }\n    return this.id;\n  }\n  setId(newId) {\n    if (!newId) {\n      throw new Error(`ExternalRouteRef id must be a non-empty string`);\n    }\n    if (this.#nfsId && this.#nfsId !== newId) {\n      throw new Error(\n        `ExternalRouteRef was referenced twice as both '${this.#nfsId}' and '${newId}'`\n      );\n    }\n    this.#nfsId = newId;\n  }\n}\nfunction createExternalRouteRef(options) {\n  return new ExternalRouteRefImpl(\n    options.id,\n    options.params ?? [],\n    Boolean(options.optional),\n    options?.defaultTarget\n  );\n}\n\nexport { ExternalRouteRefImpl, createExternalRouteRef };\n//# sourceMappingURL=ExternalRouteRef.esm.js.map\n","import { routeRefType } from './types.esm.js';\n\nclass RouteRefImpl {\n  [routeRefType] = \"absolute\";\n  id;\n  params;\n  constructor(id, params) {\n    this.id = id;\n    this.params = params;\n  }\n  get title() {\n    return this.id;\n  }\n  toString() {\n    if (this.#nfsId) {\n      return `routeRef{id=${this.#nfsId},legacyId=${this.id}}`;\n    }\n    return `routeRef{type=absolute,id=${this.id}}`;\n  }\n  // NFS implementation below\n  $$type = \"@backstage/RouteRef\";\n  version = \"v1\";\n  T = void 0;\n  alias = void 0;\n  #nfsId = void 0;\n  getParams() {\n    return this.params;\n  }\n  getDescription() {\n    if (this.#nfsId) {\n      return this.#nfsId;\n    }\n    return this.id;\n  }\n  setId(newId) {\n    if (!newId) {\n      throw new Error(`RouteRef id must be a non-empty string`);\n    }\n    if (this.#nfsId && this.#nfsId !== newId) {\n      throw new Error(\n        `RouteRef was referenced twice as both '${this.#nfsId}' and '${newId}'`\n      );\n    }\n    this.#nfsId = newId;\n  }\n}\nfunction createRouteRef(config) {\n  return new RouteRefImpl(\n    config.id,\n    config.params ?? []\n  );\n}\n\nexport { RouteRefImpl, createRouteRef };\n//# sourceMappingURL=RouteRef.esm.js.map\n","import { getOrCreateGlobalSingleton } from '@backstage/version-bridge';\n\nconst routeRefType = getOrCreateGlobalSingleton(\n  \"route-ref-type\",\n  () => Symbol(\"route-ref-type\")\n);\n\nexport { routeRefType };\n//# sourceMappingURL=types.esm.js.map\n","import { useMemo } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { useVersionedContext } from '@backstage/version-bridge';\n\nfunction useRouteRef(routeRef) {\n  const { pathname } = useLocation();\n  const versionedContext = useVersionedContext(\n    \"routing-context\"\n  );\n  if (!versionedContext) {\n    throw new Error(\"Routing context is not available\");\n  }\n  const resolver = versionedContext.atVersion(1);\n  const routeFunc = useMemo(\n    () => resolver && resolver.resolve(routeRef, { pathname }),\n    [resolver, routeRef, pathname]\n  );\n  if (!versionedContext) {\n    throw new Error(\"useRouteRef used outside of routing context\");\n  }\n  if (!resolver) {\n    throw new Error(\"RoutingContext v1 not available\");\n  }\n  const isOptional = \"optional\" in routeRef && routeRef.optional;\n  if (!routeFunc && !isOptional) {\n    throw new Error(`No path for ${routeRef}`);\n  }\n  return routeFunc;\n}\n\nexport { useRouteRef };\n//# sourceMappingURL=useRouteRef.esm.js.map\n","import { useParams } from 'react-router-dom';\n\nfunction useRouteRefParams(_routeRef) {\n  return useParams();\n}\n\nexport { useRouteRefParams };\n//# sourceMappingURL=useRouteRefParams.esm.js.map\n","import { createTranslationResource } from './TranslationResource.esm.js';\n\nfunction flattenMessages(nested) {\n  const entries = new Array();\n  function visit(obj, prefix) {\n    for (const [key, value] of Object.entries(obj)) {\n      if (typeof value === \"string\") {\n        entries.push([prefix + key, value]);\n      } else {\n        visit(value, `${prefix}${key}.`);\n      }\n    }\n  }\n  visit(nested, \"\");\n  return Object.fromEntries(entries);\n}\nclass TranslationRefImpl {\n  #id;\n  #messages;\n  #resources;\n  constructor(options) {\n    this.#id = options.id;\n    this.#messages = flattenMessages(\n      options.messages\n    );\n  }\n  $$type = \"@backstage/TranslationRef\";\n  version = \"v1\";\n  get id() {\n    return this.#id;\n  }\n  get T() {\n    throw new Error(\"Not implemented\");\n  }\n  getDefaultMessages() {\n    return this.#messages;\n  }\n  setDefaultResource(resources) {\n    this.#resources = resources;\n  }\n  getDefaultResource() {\n    return this.#resources;\n  }\n  toString() {\n    return `TranslationRef{id=${this.id}}`;\n  }\n}\nfunction createTranslationRef(config) {\n  const ref = new TranslationRefImpl(config);\n  if (config.translations) {\n    ref.setDefaultResource(\n      createTranslationResource({\n        ref,\n        translations: config.translations\n      })\n    );\n  }\n  return ref;\n}\n\nexport { createTranslationRef };\n//# sourceMappingURL=TranslationRef.esm.js.map\n","function createTranslationResource(options) {\n  return {\n    $$type: \"@backstage/TranslationResource\",\n    version: \"v1\",\n    id: options.ref.id,\n    resources: Object.entries(options.translations).map(\n      ([language, loader]) => ({\n        language,\n        loader: () => loader().then((m) => {\n          const value = m.default;\n          return {\n            messages: value?.$$type === \"@backstage/TranslationMessages\" ? value.messages : value\n          };\n        })\n      })\n    )\n  };\n}\n\nexport { createTranslationResource };\n//# sourceMappingURL=TranslationResource.esm.js.map\n","import { useState, useMemo, useCallback, useEffect, useRef } from 'react';\nimport { useApi } from '../apis/system/useApi.esm.js';\nimport '../apis/definitions/auth.esm.js';\nimport '../apis/definitions/AlertApi.esm.js';\nimport '../apis/definitions/AnalyticsApi.esm.js';\nimport '../apis/definitions/AppThemeApi.esm.js';\nimport '../apis/definitions/ConfigApi.esm.js';\nimport '../apis/definitions/DiscoveryApi.esm.js';\nimport { errorApiRef } from '../apis/definitions/ErrorApi.esm.js';\nimport '../apis/definitions/FeatureFlagsApi.esm.js';\nimport '../apis/definitions/FetchApi.esm.js';\nimport '../apis/definitions/IdentityApi.esm.js';\nimport '../apis/definitions/OAuthRequestApi.esm.js';\nimport '../apis/definitions/StorageApi.esm.js';\nimport { translationApiRef } from '../apis/definitions/TranslationApi.esm.js';\nimport '../apis/definitions/AppLanguageApi.esm.js';\n\nconst loggedRefs = /* @__PURE__ */ new WeakSet();\nconst useTranslationRef = (translationRef) => {\n  const errorApi = useApi(errorApiRef);\n  const translationApi = useApi(translationApiRef);\n  const [snapshot, setSnapshot] = useState(\n    () => translationApi.getTranslation(translationRef)\n  );\n  const observable = useMemo(\n    () => translationApi.translation$(translationRef),\n    [translationApi, translationRef]\n  );\n  const onError = useCallback(\n    (error) => {\n      if (!loggedRefs.has(translationRef)) {\n        const errMsg = `Failed to load translation resource '${translationRef.id}'; caused by ${error}`;\n        console.error(errMsg);\n        errorApi.post(new Error(errMsg));\n        loggedRefs.add(translationRef);\n      }\n    },\n    [errorApi, translationRef]\n  );\n  useEffect(() => {\n    const subscription = observable.subscribe({\n      next(next) {\n        if (next.ready) {\n          setSnapshot(next);\n        }\n      },\n      error(error) {\n        onError(error);\n      }\n    });\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [observable, onError]);\n  const initialRenderRef = useRef(true);\n  useEffect(() => {\n    if (initialRenderRef.current) {\n      initialRenderRef.current = false;\n    } else {\n      setSnapshot(translationApi.getTranslation(translationRef));\n    }\n  }, [translationApi, translationRef]);\n  if (!snapshot.ready) {\n    throw new Promise((resolve) => {\n      const subscription = observable.subscribe({\n        next(next) {\n          if (next.ready) {\n            subscription.unsubscribe();\n            resolve();\n          }\n        },\n        error(error) {\n          subscription.unsubscribe();\n          onError(error);\n          resolve();\n        }\n      });\n    });\n  }\n  return { t: snapshot.t };\n};\n\nexport { useTranslationRef };\n//# sourceMappingURL=useTranslationRef.esm.js.map\n","async function parseErrorResponseBody(response) {\n  try {\n    const text = await response.text();\n    if (text) {\n      if (response.headers.get(\"content-type\")?.startsWith(\"application/json\")) {\n        try {\n          const body = JSON.parse(text);\n          if (body.error && body.response) {\n            return body;\n          }\n        } catch {\n        }\n      }\n      return {\n        error: {\n          name: \"Error\",\n          message: `Request failed with status ${response.status} ${response.statusText}, ${text}`\n        },\n        response: {\n          statusCode: response.status\n        }\n      };\n    }\n  } catch {\n  }\n  return {\n    error: {\n      name: \"Error\",\n      message: `Request failed with status ${response.status} ${response.statusText}`\n    },\n    response: {\n      statusCode: response.status\n    }\n  };\n}\n\nexport { parseErrorResponseBody };\n//# sourceMappingURL=response.esm.js.map\n","import { deserializeError } from '../serialization/error.esm.js';\nimport { parseErrorResponseBody } from '../serialization/response.esm.js';\n\nclass ResponseError extends Error {\n  /**\n   * The actual response, as seen by the client.\n   *\n   * Note that the body of this response is always consumed. Its parsed form is\n   * in the `body` field.\n   */\n  response;\n  /**\n   * The parsed JSON error body, as sent by the server.\n   */\n  body;\n  /**\n   * The Error cause, as seen by the remote server. This is parsed out of the\n   * JSON error body.\n   *\n   * This error always has the plain Error constructor, however all\n   * serializable enumerable fields on the remote error including its name are\n   * preserved. Therefore, if you want to check the error type, use its name\n   * property rather than checking typeof or its constructor or prototype.\n   */\n  cause;\n  statusCode;\n  statusText;\n  /**\n   * Constructs a ResponseError based on a failed response.\n   *\n   * Assumes that the response has already been checked to be not ok. This\n   * function consumes the body of the response, and assumes that it hasn't\n   * been consumed before.\n   */\n  static async fromResponse(response) {\n    const data = await parseErrorResponseBody(response);\n    const statusCode = data.response.statusCode || response.status;\n    const statusText = response.statusText;\n    const message = `Request failed with ${statusCode} ${statusText}`;\n    const cause = deserializeError(data.error);\n    return new ResponseError({\n      message,\n      response,\n      data,\n      cause,\n      statusCode,\n      statusText\n    });\n  }\n  constructor(opts) {\n    super(opts.message);\n    this.name = \"ResponseError\";\n    this.response = opts.response;\n    this.body = opts.data;\n    this.cause = opts.cause;\n    this.statusCode = opts.statusCode;\n    this.statusText = opts.statusText;\n  }\n}\n\nexport { ResponseError };\n//# sourceMappingURL=ResponseError.esm.js.map\n","function isError(value) {\n  if (typeof value !== \"object\" || value === null || Array.isArray(value)) {\n    return false;\n  }\n  const maybe = value;\n  if (typeof maybe.name !== \"string\" || maybe.name === \"\") {\n    return false;\n  }\n  if (typeof maybe.message !== \"string\") {\n    return false;\n  }\n  return true;\n}\nfunction assertError(value) {\n  if (typeof value !== \"object\" || value === null || Array.isArray(value)) {\n    throw new Error(`Encountered invalid error, not an object, got '${value}'`);\n  }\n  const maybe = value;\n  if (typeof maybe.name !== \"string\" || maybe.name === \"\") {\n    throw new Error(`Encountered error object without a name, got '${value}'`);\n  }\n  if (typeof maybe.message !== \"string\") {\n    throw new Error(\n      `Encountered error object without a message, got '${value}'`\n    );\n  }\n}\n\nexport { assertError, isError };\n//# sourceMappingURL=assertion.esm.js.map\n","import { stringifyError } from '../serialization/error.esm.js';\nimport { isError } from './assertion.esm.js';\n\nclass CustomErrorBase extends Error {\n  /**\n   * An inner error that caused this error to be thrown, if any.\n   */\n  cause;\n  constructor(message, cause) {\n    let fullMessage = message;\n    if (cause !== void 0) {\n      const causeStr = stringifyError(cause);\n      if (fullMessage) {\n        fullMessage += `; caused by ${causeStr}`;\n      } else {\n        fullMessage = `caused by ${causeStr}`;\n      }\n    }\n    super(fullMessage);\n    Error.captureStackTrace?.(this, this.constructor);\n    if (!this.name || this.name === \"Error\") {\n      const baseName = this.constructor.name;\n      if (baseName !== \"Error\") {\n        this.name = this.constructor.name;\n      }\n    }\n    this.cause = isError(cause) ? cause : void 0;\n  }\n}\n\nexport { CustomErrorBase };\n//# sourceMappingURL=CustomErrorBase.esm.js.map\n","import { isError } from './assertion.esm.js';\nimport { CustomErrorBase } from './CustomErrorBase.esm.js';\n\nclass InputError extends CustomErrorBase {\n  name = \"InputError\";\n}\nclass AuthenticationError extends CustomErrorBase {\n  name = \"AuthenticationError\";\n}\nclass NotAllowedError extends CustomErrorBase {\n  name = \"NotAllowedError\";\n}\nclass NotFoundError extends CustomErrorBase {\n  name = \"NotFoundError\";\n}\nclass ConflictError extends CustomErrorBase {\n  name = \"ConflictError\";\n}\nclass NotModifiedError extends CustomErrorBase {\n  name = \"NotModifiedError\";\n}\nclass NotImplementedError extends CustomErrorBase {\n  name = \"NotImplementedError\";\n}\nclass ServiceUnavailableError extends CustomErrorBase {\n}\nclass ForwardedError extends CustomErrorBase {\n  constructor(message, cause) {\n    super(message, cause);\n    this.name = isError(cause) ? cause.name : \"Error\";\n  }\n}\n\nexport { AuthenticationError, ConflictError, ForwardedError, InputError, NotAllowedError, NotFoundError, NotImplementedError, NotModifiedError, ServiceUnavailableError };\n//# sourceMappingURL=common.esm.js.map\n","import { serializeError as serializeError$1, deserializeError as deserializeError$1 } from 'serialize-error';\nimport { isError } from '../errors/assertion.esm.js';\n\nfunction serializeError(error, options) {\n  const serialized = serializeError$1(error);\n  const result = {\n    name: \"Unknown\",\n    message: \"<no reason given>\",\n    ...serialized\n  };\n  if (!options?.includeStack) {\n    delete result.stack;\n    if (result.cause && typeof result.cause === \"object\" && \"stack\" in result.cause) {\n      delete result.cause.stack;\n    }\n  }\n  return result;\n}\nfunction deserializeError(data) {\n  const result = deserializeError$1(data);\n  if (!data.stack) {\n    result.stack = void 0;\n  }\n  return result;\n}\nfunction stringifyError(error) {\n  if (isError(error)) {\n    const str = String(error);\n    return str !== \"[object Object]\" ? str : `${error.name}: ${error.message}`;\n  }\n  return `unknown error '${error}'`;\n}\n\nexport { deserializeError, serializeError, stringifyError };\n//# sourceMappingURL=error.esm.js.map\n","import { createApiFactory, bitbucketAuthApiRef, microsoftAuthApiRef, gitlabAuthApiRef, githubAuthApiRef } from '@backstage/core-plugin-api';\nimport { scmAuthApiRef } from './ScmAuthApi.esm.js';\n\nclass ScmAuthMux {\n  #providers;\n  constructor(providers) {\n    this.#providers = providers;\n  }\n  async getCredentials(options) {\n    const url = new URL(options.url);\n    const provider = this.#providers.find((p) => p.isUrlSupported(url));\n    if (!provider) {\n      throw new Error(\n        `No auth provider available for '${options.url}', see https://backstage.io/link?scm-auth`\n      );\n    }\n    return provider.getCredentials(options);\n  }\n}\nclass ScmAuth {\n  /**\n   * Creates an API factory that enables auth for each of the default SCM providers.\n   */\n  static createDefaultApiFactory() {\n    return createApiFactory({\n      api: scmAuthApiRef,\n      deps: {\n        github: githubAuthApiRef,\n        gitlab: gitlabAuthApiRef,\n        azure: microsoftAuthApiRef,\n        bitbucket: bitbucketAuthApiRef\n      },\n      factory: ({ github, gitlab, azure, bitbucket }) => ScmAuth.merge(\n        ScmAuth.forGithub(github),\n        ScmAuth.forGitlab(gitlab),\n        ScmAuth.forAzure(azure),\n        ScmAuth.forBitbucket(bitbucket)\n      )\n    });\n  }\n  /**\n   * Creates a general purpose ScmAuth instance with a custom scope mapping.\n   */\n  static forAuthApi(authApi, options) {\n    return new ScmAuth(\"generic\", authApi, options.host, options.scopeMapping);\n  }\n  /**\n   * Creates a new ScmAuth instance that handles authentication towards GitHub.\n   *\n   * The host option determines which URLs that are handled by this instance and defaults to `github.com`.\n   *\n   * The default scopes are:\n   *\n   * `repo read:org read:user`\n   *\n   * If the additional `repoWrite` permission is requested, these scopes are added:\n   *\n   * `gist`\n   */\n  static forGithub(githubAuthApi, options) {\n    const host = options?.host ?? \"github.com\";\n    return new ScmAuth(\"github\", githubAuthApi, host, {\n      default: [\"repo\", \"read:org\", \"read:user\"],\n      repoWrite: [\"gist\"]\n    });\n  }\n  /**\n   * Creates a new ScmAuth instance that handles authentication towards GitLab.\n   *\n   * The host option determines which URLs that are handled by this instance and defaults to `gitlab.com`.\n   *\n   * The default scopes are:\n   *\n   * `read_user read_api read_repository`\n   *\n   * If the additional `repoWrite` permission is requested, these scopes are added:\n   *\n   * `write_repository api`\n   */\n  static forGitlab(gitlabAuthApi, options) {\n    const host = options?.host ?? \"gitlab.com\";\n    return new ScmAuth(\"gitlab\", gitlabAuthApi, host, {\n      default: [\"read_user\", \"read_api\", \"read_repository\"],\n      repoWrite: [\"write_repository\", \"api\"]\n    });\n  }\n  /**\n   * Creates a new ScmAuth instance that handles authentication towards Azure.\n   *\n   * The host option determines which URLs that are handled by this instance and defaults to `dev.azure.com`.\n   *\n   * The default scopes are:\n   *\n   * `vso.build vso.code vso.graph vso.project vso.profile`\n   *\n   * If the additional `repoWrite` permission is requested, these scopes are added:\n   *\n   * `vso.code_manage`\n   */\n  static forAzure(microsoftAuthApi, options) {\n    const host = options?.host ?? \"dev.azure.com\";\n    return new ScmAuth(\"azure\", microsoftAuthApi, host, {\n      default: [\n        \"499b84ac-1321-427f-aa17-267ca6975798/vso.build\",\n        \"499b84ac-1321-427f-aa17-267ca6975798/vso.code\",\n        \"499b84ac-1321-427f-aa17-267ca6975798/vso.graph\",\n        \"499b84ac-1321-427f-aa17-267ca6975798/vso.project\",\n        \"499b84ac-1321-427f-aa17-267ca6975798/vso.profile\"\n      ],\n      repoWrite: [\"499b84ac-1321-427f-aa17-267ca6975798/vso.code_manage\"]\n    });\n  }\n  /**\n   * Creates a new ScmAuth instance that handles authentication towards Bitbucket.\n   *\n   * The host option determines which URLs that are handled by this instance and defaults to `bitbucket.org`.\n   *\n   * The default scopes are:\n   *\n   * `account team pullrequest snippet issue`\n   *\n   * If the additional `repoWrite` permission is requested, these scopes are added:\n   *\n   * `pullrequest:write snippet:write issue:write`\n   */\n  static forBitbucket(bitbucketAuthApi, options) {\n    const host = options?.host ?? \"bitbucket.org\";\n    const defaultScopes = options?.scopeMapping?.default ?? [\n      \"account\",\n      \"team\",\n      \"pullrequest\",\n      \"snippet\",\n      \"issue\",\n      \"project\"\n    ];\n    const repoWriteScopes = options?.scopeMapping?.repoWrite ?? [\n      \"pullrequest:write\",\n      \"snippet:write\",\n      \"issue:write\"\n    ];\n    return new ScmAuth(\"bitbucket\", bitbucketAuthApi, host, {\n      default: defaultScopes,\n      repoWrite: repoWriteScopes\n    });\n  }\n  /**\n   * Creates a new ScmAuth instance that handles authentication towards Bitbucket Server.\n   *\n   * The host option determines which URLs that are handled by this instance.\n   *\n   * The default scopes are:\n   *\n   * `PUBLIC_REPOS REPO_READ`\n   *\n   * If the additional `repoWrite` permission is requested, these scopes are added:\n   *\n   * `REPO_WRITE`\n   */\n  static forBitbucketServer(bitbucketAuthApi, options) {\n    return this.forBitbucket(bitbucketAuthApi, {\n      host: options.host,\n      scopeMapping: {\n        default: options.scopeMapping?.default ?? [\"PUBLIC_REPOS\", \"REPO_READ\"],\n        repoWrite: options.scopeMapping?.repoWrite ?? [\"REPO_WRITE\"]\n      }\n    });\n  }\n  /**\n   * Merges together multiple ScmAuth instances into one that\n   * routes requests to the correct instance based on the URL.\n   */\n  static merge(...providers) {\n    return new ScmAuthMux(providers);\n  }\n  #api;\n  #host;\n  #scopeMapping;\n  #providerName;\n  constructor(providerName, api, host, scopeMapping) {\n    this.#api = api;\n    this.#host = host;\n    this.#scopeMapping = scopeMapping;\n    this.#providerName = providerName;\n  }\n  /**\n   * Checks whether the implementation is able to provide authentication for the given URL.\n   */\n  isUrlSupported(url) {\n    return url.host === this.#host;\n  }\n  getAdditionalScopesForProvider(additionalScopes) {\n    if (!additionalScopes?.customScopes || this.#providerName === \"generic\") {\n      return [];\n    }\n    return additionalScopes.customScopes?.[this.#providerName] ?? [];\n  }\n  /**\n   * Fetches credentials for the given resource.\n   */\n  async getCredentials(options) {\n    const { url, additionalScope, ...restOptions } = options;\n    const scopes = this.#scopeMapping.default.slice();\n    if (additionalScope?.repoWrite) {\n      scopes.push(...this.#scopeMapping.repoWrite);\n    }\n    const additionalScopes = this.getAdditionalScopesForProvider(additionalScope);\n    if (additionalScopes.length) {\n      scopes.push(...additionalScopes);\n    }\n    const uniqueScopes = [...new Set(scopes)];\n    const token = await this.#api.getAccessToken(uniqueScopes, restOptions);\n    return {\n      token,\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n  }\n}\n\nexport { ScmAuth };\n//# sourceMappingURL=ScmAuth.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst scmAuthApiRef = createApiRef({\n  id: \"core.scmauth\"\n});\n\nexport { scmAuthApiRef };\n//# sourceMappingURL=ScmAuthApi.esm.js.map\n","const AMAZON_AWS_HOST = \"amazonaws.com\";\nfunction readAwsS3IntegrationConfig(config) {\n  const endpoint = config.getOptionalString(\"endpoint\");\n  const s3ForcePathStyle = config.getOptionalBoolean(\"s3ForcePathStyle\") ?? false;\n  let host;\n  let pathname;\n  if (endpoint) {\n    try {\n      const url = new URL(endpoint);\n      host = url.host;\n      pathname = url.pathname;\n    } catch {\n      throw new Error(\n        `invalid awsS3 integration config, endpoint '${endpoint}' is not a valid URL`\n      );\n    }\n    if (pathname !== \"/\") {\n      throw new Error(\n        `invalid awsS3 integration config, endpoints cannot contain path, got '${endpoint}'`\n      );\n    }\n  } else {\n    host = AMAZON_AWS_HOST;\n  }\n  const accessKeyId = config.getOptionalString(\"accessKeyId\");\n  const secretAccessKey = config.getOptionalString(\"secretAccessKey\")?.trim();\n  const roleArn = config.getOptionalString(\"roleArn\");\n  const externalId = config.getOptionalString(\"externalId\");\n  return {\n    host,\n    endpoint,\n    s3ForcePathStyle,\n    accessKeyId,\n    secretAccessKey,\n    roleArn,\n    externalId\n  };\n}\nfunction readAwsS3IntegrationConfigs(configs) {\n  const result = configs.map(readAwsS3IntegrationConfig);\n  if (!result.some((c) => c.host === AMAZON_AWS_HOST)) {\n    result.push({\n      host: AMAZON_AWS_HOST\n    });\n  }\n  return result;\n}\n\nexport { readAwsS3IntegrationConfig, readAwsS3IntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readAwsS3IntegrationConfigs } from './config.esm.js';\n\nclass AwsS3Integration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readAwsS3IntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.awsS3\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new AwsS3Integration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"awsS3\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    return resolved;\n  }\n  resolveEditUrl(url) {\n    return url;\n  }\n}\n\nexport { AwsS3Integration };\n//# sourceMappingURL=AwsS3Integration.esm.js.map\n","const AMAZON_AWS_CODECOMMIT_HOST = \"console.aws.amazon.com\";\nfunction readAwsCodeCommitIntegrationConfig(config) {\n  const accessKeyId = config.getOptionalString(\"accessKeyId\");\n  const secretAccessKey = config.getOptionalString(\"secretAccessKey\")?.trim();\n  const roleArn = config.getOptionalString(\"roleArn\");\n  const externalId = config.getOptionalString(\"externalId\");\n  const region = config.getString(\"region\");\n  const host = config.getOptionalString(\"host\") || `${region}.${AMAZON_AWS_CODECOMMIT_HOST}`;\n  return {\n    host,\n    accessKeyId,\n    secretAccessKey,\n    roleArn,\n    externalId,\n    region\n  };\n}\nfunction readAwsCodeCommitIntegrationConfigs(configs) {\n  return configs.map(readAwsCodeCommitIntegrationConfig);\n}\n\nexport { readAwsCodeCommitIntegrationConfig, readAwsCodeCommitIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readAwsCodeCommitIntegrationConfigs } from './config.esm.js';\n\nclass AwsCodeCommitIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({\n    config\n  }) => {\n    const configs = readAwsCodeCommitIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.awsCodeCommit\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new AwsCodeCommitIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"awsCodeCommit\";\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    return resolved;\n  }\n  resolveEditUrl(url) {\n    const parsedUrl = new URL(url);\n    const pathMatch = parsedUrl.pathname.match(\n      /^\\/codesuite\\/codecommit\\/repositories\\/([^\\/]+)\\//\n    );\n    if (!pathMatch) {\n      throw new Error(``);\n    }\n    const [, repositoryName] = pathMatch;\n    return replaceCodeCommitUrlType(url, repositoryName);\n  }\n}\nfunction replaceCodeCommitUrlType(url, repositoryName, type) {\n  const newString = `files/edit` ;\n  return url.replace(\n    new RegExp(\n      `/codesuite/codecommit/repositories/${repositoryName}/(browse|files/edit)/`\n    ),\n    `/codesuite/codecommit/repositories/${repositoryName}/${newString}/`\n  );\n}\n\nexport { AwsCodeCommitIntegration, replaceCodeCommitUrlType };\n//# sourceMappingURL=AwsCodeCommitIntegration.esm.js.map\n","const VERSION_PREFIX_GIT_BRANCH = \"GB\";\nclass AzureUrl {\n  /**\n   * Parses an azure URL as copied from the browser address bar.\n   *\n   * Throws an error if the URL is not a valid azure repo URL.\n   */\n  static fromRepoUrl(repoUrl) {\n    const url = new URL(repoUrl);\n    let owner;\n    let project;\n    let repo;\n    const parts = url.pathname.split(\"/\").map((part) => decodeURIComponent(part));\n    if (parts[2] === \"_git\") {\n      owner = parts[1];\n      project = repo = parts[3];\n    } else if (parts[3] === \"_git\") {\n      owner = parts[1];\n      project = parts[2];\n      repo = parts[4];\n    } else if (parts[4] === \"_git\") {\n      owner = `${parts[1]}/${parts[2]}`;\n      project = parts[3];\n      repo = parts[5];\n    }\n    if (!owner || !project || !repo) {\n      throw new Error(\"Azure URL must point to a git repository\");\n    }\n    const path = url.searchParams.get(\"path\") ?? void 0;\n    let ref;\n    const version = url.searchParams.get(\"version\");\n    if (version) {\n      const prefix = version.slice(0, 2);\n      if (prefix !== \"GB\") {\n        throw new Error(\"Azure URL version must point to a git branch\");\n      }\n      ref = version.slice(2);\n    }\n    return new AzureUrl(url.origin, owner, project, repo, path, ref);\n  }\n  #origin;\n  #owner;\n  #project;\n  #repo;\n  #path;\n  #ref;\n  constructor(origin, owner, project, repo, path, ref) {\n    this.#origin = origin;\n    this.#owner = owner;\n    this.#project = project;\n    this.#repo = repo;\n    this.#path = path;\n    this.#ref = ref;\n  }\n  #baseUrl = (...parts) => {\n    const url = new URL(this.#origin);\n    url.pathname = parts.map((part) => encodeURIComponent(part)).join(\"/\");\n    return url;\n  };\n  /**\n   * Returns a repo URL that can be used to navigate to the resource in azure.\n   *\n   * Throws an error if the URL is not a valid azure repo URL.\n   */\n  toRepoUrl() {\n    let url;\n    if (this.#project === this.#repo) {\n      url = this.#baseUrl(this.#owner, \"_git\", this.#repo);\n    } else {\n      url = this.#baseUrl(this.#owner, this.#project, \"_git\", this.#repo);\n    }\n    if (this.#path) {\n      url.searchParams.set(\"path\", this.#path);\n    }\n    if (this.#ref) {\n      url.searchParams.set(\"version\", VERSION_PREFIX_GIT_BRANCH + this.#ref);\n    }\n    return url.toString();\n  }\n  /**\n   * Returns the file download URL for this azure resource.\n   *\n   * Throws an error if the URL does not point to a file.\n   */\n  toFileUrl() {\n    if (!this.#path) {\n      throw new Error(\n        \"Azure URL must point to a specific path to be able to download a file\"\n      );\n    }\n    const url = this.#baseUrl(\n      this.#owner,\n      this.#project,\n      \"_apis\",\n      \"git\",\n      \"repositories\",\n      this.#repo,\n      \"items\"\n    );\n    url.searchParams.set(\"api-version\", \"6.0\");\n    url.searchParams.set(\"path\", this.#path);\n    if (this.#ref) {\n      url.searchParams.set(\"version\", this.#ref);\n    }\n    return url.toString();\n  }\n  /**\n   * Returns the archive download URL for this azure resource.\n   *\n   * Throws an error if the URL does not point to a repo.\n   */\n  toArchiveUrl() {\n    const url = this.#baseUrl(\n      this.#owner,\n      this.#project,\n      \"_apis\",\n      \"git\",\n      \"repositories\",\n      this.#repo,\n      \"items\"\n    );\n    url.searchParams.set(\"recursionLevel\", \"full\");\n    url.searchParams.set(\"download\", \"true\");\n    url.searchParams.set(\"api-version\", \"6.0\");\n    if (this.#path) {\n      url.searchParams.set(\"scopePath\", this.#path);\n    }\n    if (this.#ref) {\n      url.searchParams.set(\"version\", this.#ref);\n    }\n    return url.toString();\n  }\n  /**\n   * Returns the API url for fetching commits from a branch for this azure resource.\n   *\n   * Throws an error if the URL does not point to a commit.\n   */\n  toCommitsUrl() {\n    const url = this.#baseUrl(\n      this.#owner,\n      this.#project,\n      \"_apis\",\n      \"git\",\n      \"repositories\",\n      this.#repo,\n      \"commits\"\n    );\n    url.searchParams.set(\"api-version\", \"6.0\");\n    if (this.#ref) {\n      url.searchParams.set(\"searchCriteria.itemVersion.version\", this.#ref);\n    }\n    return url.toString();\n  }\n  /**\n   * Returns the name of the owner, a user or an organization.\n   */\n  getOwner() {\n    return this.#owner;\n  }\n  /**\n   * Returns the name of the project.\n   */\n  getProject() {\n    return this.#project;\n  }\n  /**\n   * Returns the name of the repo.\n   */\n  getRepo() {\n    return this.#repo;\n  }\n  /**\n   * Returns the file path within the repo if the URL contains one.\n   */\n  getPath() {\n    return this.#path;\n  }\n  /**\n   * Returns the git ref in the repo if the URL contains one.\n   */\n  getRef() {\n    return this.#ref;\n  }\n}\n\nexport { AzureUrl };\n//# sourceMappingURL=AzureUrl.esm.js.map\n","import { isValidHost } from '../helpers.esm.js';\n\nconst AZURE_HOST = \"dev.azure.com\";\nconst AzureDevOpsCredentialFields = [\n  \"clientId\",\n  \"clientSecret\",\n  \"managedIdentityClientId\",\n  \"tenantId\",\n  \"personalAccessToken\"\n];\nconst AzureDevopsCredentialFieldMap = /* @__PURE__ */ new Map([\n  [\"ClientSecret\", [\"clientId\", \"clientSecret\", \"tenantId\"]],\n  [\"ManagedIdentity\", [\"clientId\"]],\n  [\n    \"ManagedIdentityClientAssertion\",\n    [\"clientId\", \"managedIdentityClientId\", \"tenantId\"]\n  ],\n  [\"PersonalAccessToken\", [\"personalAccessToken\"]]\n]);\nfunction asAzureDevOpsCredential(credential) {\n  for (const entry of AzureDevopsCredentialFieldMap.entries()) {\n    const [kind, requiredFields] = entry;\n    const forbiddenFields = AzureDevOpsCredentialFields.filter(\n      (field) => !requiredFields.includes(field)\n    );\n    if (requiredFields.every((field) => credential[field] !== void 0) && forbiddenFields.every((field) => credential[field] === void 0)) {\n      return {\n        kind,\n        organizations: credential.organizations,\n        ...requiredFields.reduce((acc, field) => {\n          acc[field] = credential[field];\n          return acc;\n        }, {})\n      };\n    }\n  }\n  throw new Error(\"is not a valid credential\");\n}\nfunction readAzureIntegrationConfig(config) {\n  const host = config.getOptionalString(\"host\") ?? AZURE_HOST;\n  let credentialConfigs = config.getOptionalConfigArray(\"credentials\")?.map((credential) => {\n    const result = {\n      organizations: credential.getOptionalStringArray(\"organizations\"),\n      personalAccessToken: credential.getOptionalString(\"personalAccessToken\")?.trim(),\n      tenantId: credential.getOptionalString(\"tenantId\")?.trim(),\n      clientId: credential.getOptionalString(\"clientId\")?.trim(),\n      clientSecret: credential.getOptionalString(\"clientSecret\")?.trim(),\n      managedIdentityClientId: credential.getOptionalString(\"managedIdentityClientId\")?.trim()\n    };\n    return result;\n  });\n  const token = config.getOptionalString(\"token\")?.trim();\n  if (config.getOptional(\"credential\") !== void 0 && config.getOptional(\"credentials\") !== void 0) {\n    throw new Error(\n      `Invalid Azure integration config, 'credential' and 'credentials' cannot be used together. Use 'credentials' instead.`\n    );\n  }\n  if (config.getOptional(\"token\") !== void 0 && config.getOptional(\"credentials\") !== void 0) {\n    throw new Error(\n      `Invalid Azure integration config, 'token' and 'credentials' cannot be used together. Use 'credentials' instead.`\n    );\n  }\n  if (token !== void 0) {\n    const mapped = [{ personalAccessToken: token }];\n    credentialConfigs = credentialConfigs?.concat(mapped) ?? mapped;\n  }\n  if (config.getOptional(\"credential\") !== void 0) {\n    const mapped = [\n      {\n        organizations: config.getOptionalStringArray(\n          \"credential.organizations\"\n        ),\n        token: config.getOptionalString(\"credential.token\")?.trim(),\n        tenantId: config.getOptionalString(\"credential.tenantId\"),\n        clientId: config.getOptionalString(\"credential.clientId\"),\n        clientSecret: config.getOptionalString(\"credential.clientSecret\")?.trim()\n      }\n    ];\n    credentialConfigs = credentialConfigs?.concat(mapped) ?? mapped;\n  }\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Azure integration config, '${host}' is not a valid host`\n    );\n  }\n  let credentials = void 0;\n  if (credentialConfigs !== void 0) {\n    const errors = credentialConfigs?.reduce((acc, credentialConfig, index) => {\n      let error = void 0;\n      try {\n        asAzureDevOpsCredential(credentialConfig);\n      } catch (e) {\n        error = e.message;\n      }\n      if (error !== void 0) {\n        acc.push(`credential at position ${index + 1} ${error}`);\n      }\n      return acc;\n    }, Array.of()).concat(\n      Object.entries(\n        credentialConfigs.filter(\n          (credential) => credential.organizations !== void 0 && credential.organizations.length > 0\n        ).reduce((acc, credential, index) => {\n          credential.organizations?.forEach((organization) => {\n            if (!acc[organization]) {\n              acc[organization] = [];\n            }\n            acc[organization].push(index + 1);\n          });\n          return acc;\n        }, {})\n      ).filter(([_, indexes]) => indexes.length > 1).reduce((acc, [org, indexes]) => {\n        acc.push(\n          `organization ${org} is specified multiple times in credentials at positions ${indexes.slice(0, indexes.length - 1).join(\", \")} and ${indexes[indexes.length - 1]}`\n        );\n        return acc;\n      }, Array.of())\n    );\n    if (errors?.length > 0) {\n      throw new Error(\n        `Invalid Azure integration config for ${host}: ${errors.join(\"; \")}`\n      );\n    }\n    credentials = credentialConfigs.map(\n      (credentialConfig) => asAzureDevOpsCredential(credentialConfig)\n    );\n    if (credentials.some(\n      (credential) => credential.kind !== \"PersonalAccessToken\"\n    ) && host !== AZURE_HOST) {\n      throw new Error(\n        `Invalid Azure integration config for ${host}, only personal access tokens can be used with hosts other than ${AZURE_HOST}`\n      );\n    }\n    if (credentials.filter(\n      (credential) => credential.organizations === void 0 || credential.organizations.length === 0\n    ).length > 1) {\n      throw new Error(\n        `Invalid Azure integration config for ${host}, you cannot specify multiple credentials without organizations`\n      );\n    }\n  }\n  return {\n    host,\n    credentials,\n    commitSigningKey: config.getOptionalString(\"commitSigningKey\")\n  };\n}\nfunction readAzureIntegrationConfigs(configs) {\n  const result = configs.map(readAzureIntegrationConfig);\n  if (!result.some((c) => c.host === AZURE_HOST)) {\n    result.push({ host: AZURE_HOST });\n  }\n  return result;\n}\n\nexport { readAzureIntegrationConfig, readAzureIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, isValidUrl } from '../helpers.esm.js';\nimport { AzureUrl } from './AzureUrl.esm.js';\nimport { readAzureIntegrationConfigs } from './config.esm.js';\n\nclass AzureIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readAzureIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.azure\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new AzureIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"azure\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  /*\n   * Azure repo URLs on the form with a `path` query param are treated specially.\n   *\n   * Example base URL: https://dev.azure.com/organization/project/_git/repository?path=%2Fcatalog-info.yaml\n   */\n  resolveUrl(options) {\n    const { url, base } = options;\n    if (isValidUrl(url)) {\n      return url;\n    }\n    try {\n      const azureUrl = AzureUrl.fromRepoUrl(base);\n      const newUrl = new URL(base);\n      const mockBaseUrl = new URL(`https://a.com${azureUrl.getPath() ?? \"\"}`);\n      const updatedPath = new URL(url, mockBaseUrl).pathname;\n      newUrl.searchParams.set(\"path\", updatedPath);\n      if (options.lineNumber) {\n        newUrl.searchParams.set(\"line\", String(options.lineNumber));\n        newUrl.searchParams.set(\"lineEnd\", String(options.lineNumber + 1));\n        newUrl.searchParams.set(\"lineStartColumn\", \"1\");\n        newUrl.searchParams.set(\"lineEndColumn\", \"1\");\n      }\n      return newUrl.toString();\n    } catch {\n      return new URL(url, base).toString();\n    }\n  }\n  resolveEditUrl(url) {\n    return url;\n  }\n}\n\nexport { AzureIntegration };\n//# sourceMappingURL=AzureIntegration.esm.js.map\n","const BITBUCKET_CLOUD_HOST = \"bitbucket.org\";\nconst BITBUCKET_CLOUD_API_BASE_URL = \"https://api.bitbucket.org/2.0\";\nfunction readBitbucketCloudIntegrationConfig(config) {\n  const host = BITBUCKET_CLOUD_HOST;\n  const apiBaseUrl = BITBUCKET_CLOUD_API_BASE_URL;\n  const username = config.getString(\"username\");\n  const appPassword = config.getOptionalString(\"appPassword\")?.trim();\n  const token = config.getOptionalString(\"token\");\n  if (!token && !appPassword) {\n    throw new Error(\n      `Bitbucket Cloud integration must be configured with as username and either a token or an appPassword.`\n    );\n  }\n  return {\n    host,\n    apiBaseUrl,\n    username,\n    appPassword,\n    token,\n    commitSigningKey: config.getOptionalString(\"commitSigningKey\")\n  };\n}\nfunction readBitbucketCloudIntegrationConfigs(configs) {\n  const result = configs.map(readBitbucketCloudIntegrationConfig);\n  if (result.length === 0) {\n    result.push({\n      host: BITBUCKET_CLOUD_HOST,\n      apiBaseUrl: BITBUCKET_CLOUD_API_BASE_URL\n    });\n  }\n  return result;\n}\n\nexport { readBitbucketCloudIntegrationConfig, readBitbucketCloudIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import parseGitUrl from 'git-url-parse';\nimport { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readBitbucketCloudIntegrationConfigs } from './config.esm.js';\n\nclass BitbucketCloudIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({\n    config\n  }) => {\n    const configs = readBitbucketCloudIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.bitbucketCloud\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new BitbucketCloudIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"bitbucketCloud\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    if (options.lineNumber) {\n      const url = new URL(resolved);\n      url.hash = `lines-${options.lineNumber}`;\n      return url.toString();\n    }\n    return resolved;\n  }\n  resolveEditUrl(url) {\n    const urlData = parseGitUrl(url);\n    const editUrl = new URL(url);\n    editUrl.searchParams.set(\"mode\", \"edit\");\n    editUrl.searchParams.set(\"at\", urlData.ref);\n    return editUrl.toString();\n  }\n}\n\nexport { BitbucketCloudIntegration };\n//# sourceMappingURL=BitbucketCloudIntegration.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost } from '../helpers.esm.js';\n\nconst BITBUCKET_HOST = \"bitbucket.org\";\nconst BITBUCKET_API_BASE_URL = \"https://api.bitbucket.org/2.0\";\nfunction readBitbucketIntegrationConfig(config) {\n  const host = config.getOptionalString(\"host\") ?? BITBUCKET_HOST;\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  const token = config.getOptionalString(\"token\")?.trim();\n  const username = config.getOptionalString(\"username\");\n  const appPassword = config.getOptionalString(\"appPassword\")?.trim();\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Bitbucket integration config, '${host}' is not a valid host`\n    );\n  }\n  if (apiBaseUrl) {\n    apiBaseUrl = trimEnd(apiBaseUrl, \"/\");\n  } else if (host === BITBUCKET_HOST) {\n    apiBaseUrl = BITBUCKET_API_BASE_URL;\n  } else {\n    apiBaseUrl = `https://${host}/rest/api/1.0`;\n  }\n  return {\n    host,\n    apiBaseUrl,\n    token,\n    username,\n    appPassword,\n    commitSigningKey: config.getOptionalString(\"commitSigningKey\")\n  };\n}\nfunction readBitbucketIntegrationConfigs(configs) {\n  const result = configs.map(readBitbucketIntegrationConfig);\n  if (!result.some((c) => c.host === BITBUCKET_HOST)) {\n    result.push({\n      host: BITBUCKET_HOST,\n      apiBaseUrl: BITBUCKET_API_BASE_URL\n    });\n  }\n  return result;\n}\n\nexport { readBitbucketIntegrationConfig, readBitbucketIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import parseGitUrl from 'git-url-parse';\nimport { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readBitbucketIntegrationConfigs } from './config.esm.js';\n\nclass BitbucketIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({\n    config\n  }) => {\n    const configs = readBitbucketIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.bitbucket\") ?? [\n        // if integrations.bitbucket was not used assume the use was migrated to the new configs\n        // and backport for the deprecated integration to be usable for other parts of the system\n        // until these got migrated\n        ...config.getOptionalConfigArray(\"integrations.bitbucketCloud\") ?? [],\n        ...config.getOptionalConfigArray(\"integrations.bitbucketServer\") ?? []\n      ]\n    );\n    return basicIntegrations(\n      configs.map((c) => new BitbucketIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"bitbucket\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    if (!options.lineNumber) {\n      return resolved;\n    }\n    const url = new URL(resolved);\n    if (this.integrationConfig.host === \"bitbucket.org\") {\n      url.hash = `lines-${options.lineNumber}`;\n    } else {\n      url.hash = `${options.lineNumber}`;\n    }\n    return url.toString();\n  }\n  resolveEditUrl(url) {\n    const urlData = parseGitUrl(url);\n    const editUrl = new URL(url);\n    editUrl.searchParams.set(\"mode\", \"edit\");\n    editUrl.searchParams.set(\"spa\", \"0\");\n    editUrl.searchParams.set(\"at\", urlData.ref);\n    return editUrl.toString();\n  }\n}\n\nexport { BitbucketIntegration };\n//# sourceMappingURL=BitbucketIntegration.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost } from '../helpers.esm.js';\n\nfunction readBitbucketServerIntegrationConfig(config) {\n  const host = config.getString(\"host\");\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  const token = config.getOptionalString(\"token\")?.trim();\n  const username = config.getOptionalString(\"username\");\n  const password = config.getOptionalString(\"password\");\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Bitbucket Server integration config, '${host}' is not a valid host`\n    );\n  }\n  if (apiBaseUrl) {\n    apiBaseUrl = trimEnd(apiBaseUrl, \"/\");\n  } else {\n    apiBaseUrl = `https://${host}/rest/api/1.0`;\n  }\n  return {\n    host,\n    apiBaseUrl,\n    token,\n    username,\n    password,\n    commitSigningKey: config.getOptionalString(\"commitSigningKey\")\n  };\n}\nfunction readBitbucketServerIntegrationConfigs(configs) {\n  return configs.map(readBitbucketServerIntegrationConfig);\n}\n\nexport { readBitbucketServerIntegrationConfig, readBitbucketServerIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readBitbucketServerIntegrationConfigs } from './config.esm.js';\n\nclass BitbucketServerIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({\n    config\n  }) => {\n    const configs = readBitbucketServerIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.bitbucketServer\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new BitbucketServerIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"bitbucketServer\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    if (options.lineNumber) {\n      const url = new URL(resolved);\n      url.hash = options.lineNumber.toString();\n      return url.toString();\n    }\n    return resolved;\n  }\n  resolveEditUrl(url) {\n    if (url.includes(\"?\")) {\n      return url.substring(0, url.indexOf(\"?\"));\n    }\n    return url;\n  }\n}\n\nexport { BitbucketServerIntegration };\n//# sourceMappingURL=BitbucketServerIntegration.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost, isValidUrl } from '../helpers.esm.js';\n\nfunction readGerritIntegrationConfig(config) {\n  const host = config.getString(\"host\");\n  let baseUrl = config.getOptionalString(\"baseUrl\");\n  let cloneUrl = config.getOptionalString(\"cloneUrl\");\n  const disableEditUrl = config.getOptionalBoolean(\"disableEditUrl\");\n  let gitilesBaseUrl = config.getString(\"gitilesBaseUrl\");\n  const username = config.getOptionalString(\"username\");\n  const password = config.getOptionalString(\"password\")?.trim();\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Gerrit integration config, '${host}' is not a valid host`\n    );\n  } else if (baseUrl && !isValidUrl(baseUrl)) {\n    throw new Error(\n      `Invalid Gerrit integration config, '${baseUrl}' is not a valid baseUrl`\n    );\n  } else if (cloneUrl && !isValidUrl(cloneUrl)) {\n    throw new Error(\n      `Invalid Gerrit integration config, '${cloneUrl}' is not a valid cloneUrl`\n    );\n  } else if (!isValidUrl(gitilesBaseUrl)) {\n    throw new Error(\n      `Invalid Gerrit integration config, '${gitilesBaseUrl}' is not a valid gitilesBaseUrl`\n    );\n  }\n  if (baseUrl) {\n    baseUrl = trimEnd(baseUrl, \"/\");\n  } else {\n    baseUrl = `https://${host}`;\n  }\n  if (cloneUrl) {\n    cloneUrl = trimEnd(cloneUrl, \"/\");\n  } else {\n    cloneUrl = baseUrl;\n  }\n  gitilesBaseUrl = trimEnd(gitilesBaseUrl, \"/\");\n  return {\n    host,\n    baseUrl,\n    cloneUrl,\n    disableEditUrl,\n    gitilesBaseUrl,\n    username,\n    password,\n    commitSigningKey: config.getOptionalString(\"commitSigningKey\")\n  };\n}\nfunction readGerritIntegrationConfigs(configs) {\n  return configs.map(readGerritIntegrationConfig);\n}\n\nexport { readGerritIntegrationConfig, readGerritIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { trimStart, takeWhile, join, trimEnd } from 'lodash';\n\nconst GERRIT_BODY_PREFIX = \")]}'\";\nfunction parseGerritGitilesUrl(config, url) {\n  const baseUrlParse = new URL(config.gitilesBaseUrl);\n  const urlParse = new URL(url);\n  const urlPath = urlParse.pathname.substring(urlParse.pathname.startsWith(\"/a/\") ? 2 : 0).replace(baseUrlParse.pathname, \"\");\n  const parts = urlPath.split(\"/\").filter((p) => !!p);\n  const projectEndIndex = parts.indexOf(\"+\");\n  if (projectEndIndex <= 0) {\n    throw new Error(`Unable to parse project from url: ${url}`);\n  }\n  const project = trimStart(parts.slice(0, projectEndIndex).join(\"/\"), \"/\");\n  const branchIndex = parts.indexOf(\"heads\");\n  if (branchIndex <= 0) {\n    throw new Error(`Unable to parse branch from url: ${url}`);\n  }\n  const branch = parts[branchIndex + 1];\n  const filePath = parts.slice(branchIndex + 2).join(\"/\");\n  return {\n    branch,\n    filePath: filePath === \"\" ? \"/\" : filePath,\n    project\n  };\n}\nfunction parseGitilesUrlRef(config, url) {\n  const baseUrlParse = new URL(config.gitilesBaseUrl);\n  const urlParse = new URL(url);\n  const urlPath = trimStart(\n    urlParse.pathname.substring(urlParse.pathname.startsWith(\"/a/\") ? 2 : 0).replace(baseUrlParse.pathname, \"\"),\n    \"/\"\n  );\n  const parts = urlPath.split(\"/\").filter((p) => !!p);\n  const projectParts = takeWhile(parts, (p) => p !== \"+\");\n  if (projectParts.length === 0) {\n    throw new Error(`Unable to parse gitiles url: ${url}`);\n  }\n  const rest = parts.slice(projectParts.length + 1);\n  const project = join(projectParts, \"/\");\n  if (rest.length > 0 && rest[0] === \"HEAD\") {\n    const ref = rest.shift();\n    const path = join(rest, \"/\");\n    return {\n      project,\n      ref,\n      refType: \"head\",\n      path: path || \"/\",\n      basePath: trimEnd(url.replace(path, \"\"), \"/\")\n    };\n  }\n  if (rest.length > 0 && rest[0].length === 40) {\n    const ref = rest.shift();\n    const path = join(rest, \"/\");\n    return {\n      project,\n      ref,\n      refType: \"sha\",\n      path: path || \"/\",\n      basePath: trimEnd(url.replace(path, \"\"), \"/\")\n    };\n  }\n  const remainingPath = join(rest, \"/\");\n  const refsRegexp = /^refs\\/(?<refsReference>heads|tags)\\/(?<ref>.*?)(\\/|$)/;\n  const result = refsRegexp.exec(remainingPath);\n  if (result) {\n    const matchString = result[0];\n    let refType;\n    const { refsReference, ref } = result.groups || {};\n    const path = remainingPath.replace(matchString, \"\");\n    switch (refsReference) {\n      case \"heads\":\n        refType = \"branch\";\n        break;\n      case \"tags\":\n        refType = \"tag\";\n        break;\n      default:\n        throw new Error(`Unable to parse gitiles url: ${url}`);\n    }\n    return {\n      project,\n      ref,\n      refType,\n      path: path || \"/\",\n      basePath: trimEnd(url.replace(path, \"\"), \"/\")\n    };\n  }\n  throw new Error(`Unable to parse gitiles : ${url}`);\n}\nfunction buildGerritEditUrl(config, project, branch, filePath) {\n  return `${config.baseUrl}/admin/repos/edit/repo/${project}/branch/refs/heads/${branch}/file/${trimStart(\n    filePath,\n    \"/\"\n  )}`;\n}\nfunction buildGerritGitilesArchiveUrl(config, project, branch, filePath) {\n  const archiveName = filePath === \"/\" || filePath === \"\" ? \".tar.gz\" : `/${filePath}.tar.gz`;\n  return `${getGitilesAuthenticationUrl(\n    config\n  )}/${project}/+archive/refs/heads/${branch}${archiveName}`;\n}\nfunction buildGerritGitilesArchiveUrlFromLocation(config, url) {\n  const {\n    path: filePath,\n    ref,\n    project,\n    refType\n  } = parseGitilesUrlRef(config, url);\n  const archiveName = filePath === \"/\" || filePath === \"\" ? \".tar.gz\" : `/${filePath}.tar.gz`;\n  if (refType === \"branch\") {\n    return `${getGitilesAuthenticationUrl(\n      config\n    )}/${project}/+archive/refs/heads/${ref}${archiveName}`;\n  }\n  if (refType === \"sha\") {\n    return `${getGitilesAuthenticationUrl(\n      config\n    )}/${project}/+archive/${ref}${archiveName}`;\n  }\n  throw new Error(`Unsupported gitiles ref type: ${refType}`);\n}\nfunction getAuthenticationPrefix(config) {\n  return config.password ? \"/a/\" : \"/\";\n}\nfunction getGitilesAuthenticationUrl(config) {\n  if (!config.baseUrl || !config.gitilesBaseUrl) {\n    throw new Error(\n      \"Unexpected Gerrit config values. baseUrl or gitilesBaseUrl not set.\"\n    );\n  }\n  if (config.gitilesBaseUrl.startsWith(config.baseUrl)) {\n    return config.gitilesBaseUrl.replace(\n      config.baseUrl.concat(\"/\"),\n      config.baseUrl.concat(getAuthenticationPrefix(config))\n    );\n  }\n  if (config.password) {\n    throw new Error(\n      \"Since the baseUrl (Gerrit) is not part of the gitilesBaseUrl, an authentication URL could not be constructed.\"\n    );\n  }\n  return config.gitilesBaseUrl;\n}\nfunction getGerritBranchApiUrl(config, url) {\n  const { branch, project } = parseGerritGitilesUrl(config, url);\n  return `${config.baseUrl}${getAuthenticationPrefix(\n    config\n  )}projects/${encodeURIComponent(project)}/branches/${branch}`;\n}\nfunction getGerritCloneRepoUrl(config, url) {\n  const { project } = parseGerritGitilesUrl(config, url);\n  return `${config.cloneUrl}${getAuthenticationPrefix(config)}${project}`;\n}\nfunction getGerritFileContentsApiUrl(config, url) {\n  const { ref, refType, path, project } = parseGitilesUrlRef(config, url);\n  if (refType === \"branch\") {\n    return `${config.baseUrl}${getAuthenticationPrefix(\n      config\n    )}projects/${encodeURIComponent(\n      project\n    )}/branches/${ref}/files/${encodeURIComponent(path)}/content`;\n  }\n  if (refType === \"sha\") {\n    return `${config.baseUrl}${getAuthenticationPrefix(\n      config\n    )}projects/${encodeURIComponent(\n      project\n    )}/commits/${ref}/files/${encodeURIComponent(path)}/content`;\n  }\n  throw new Error(`Unsupported gitiles ref type: ${refType}`);\n}\nfunction getGerritProjectsApiUrl(config) {\n  return `${config.baseUrl}${getAuthenticationPrefix(config)}projects/`;\n}\nfunction getGerritRequestOptions(config) {\n  const headers = {};\n  if (!config.password) {\n    return headers;\n  }\n  const buffer = Buffer.from(`${config.username}:${config.password}`, \"utf8\");\n  headers.Authorization = `Basic ${buffer.toString(\"base64\")}`;\n  return {\n    headers\n  };\n}\nasync function parseGerritJsonResponse(response) {\n  const responseBody = await response.text();\n  if (responseBody.startsWith(GERRIT_BODY_PREFIX)) {\n    try {\n      return JSON.parse(responseBody.slice(GERRIT_BODY_PREFIX.length));\n    } catch (ex) {\n      throw new Error(\n        `Invalid response from Gerrit: ${responseBody.slice(0, 10)} - ${ex}`\n      );\n    }\n  }\n  throw new Error(\n    `Gerrit JSON body prefix missing. Found: ${responseBody.slice(0, 10)}`\n  );\n}\n\nexport { buildGerritEditUrl, buildGerritGitilesArchiveUrl, buildGerritGitilesArchiveUrlFromLocation, getAuthenticationPrefix, getGerritBranchApiUrl, getGerritCloneRepoUrl, getGerritFileContentsApiUrl, getGerritProjectsApiUrl, getGerritRequestOptions, getGitilesAuthenticationUrl, parseGerritGitilesUrl, parseGerritJsonResponse, parseGitilesUrlRef };\n//# sourceMappingURL=core.esm.js.map\n","import { basicIntegrations } from '../helpers.esm.js';\nimport { readGerritIntegrationConfigs } from './config.esm.js';\nimport { parseGitilesUrlRef, buildGerritEditUrl } from './core.esm.js';\n\nclass GerritIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readGerritIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.gerrit\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new GerritIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"gerrit\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const { url, base, lineNumber } = options;\n    let updated;\n    if (url.startsWith(\"/\")) {\n      const { basePath } = parseGitilesUrlRef(this.config, base);\n      return basePath + url;\n    }\n    if (url) {\n      updated = new URL(url, base);\n    } else {\n      updated = new URL(base);\n    }\n    if (lineNumber) {\n      updated.hash = lineNumber.toString();\n    }\n    return updated.toString();\n  }\n  resolveEditUrl(url) {\n    if (this.config.disableEditUrl) {\n      return url;\n    }\n    const parsed = parseGitilesUrlRef(this.config, url);\n    return buildGerritEditUrl(\n      this.config,\n      parsed.project,\n      parsed.ref,\n      parsed.path\n    );\n  }\n}\n\nexport { GerritIntegration };\n//# sourceMappingURL=GerritIntegration.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readGiteaConfig } from './config.esm.js';\nimport { getGiteaEditContentsUrl } from './core.esm.js';\n\nclass GiteaIntegration {\n  constructor(config) {\n    this.config = config;\n  }\n  static factory = ({ config }) => {\n    const configs = config.getOptionalConfigArray(\"integrations.gitea\") ?? [];\n    const giteaConfigs = configs.map((c) => readGiteaConfig(c));\n    return basicIntegrations(\n      giteaConfigs.map((c) => new GiteaIntegration(c)),\n      (gitea) => gitea.config.host\n    );\n  };\n  get type() {\n    return \"gitea\";\n  }\n  get title() {\n    return this.config.host;\n  }\n  resolveUrl(options) {\n    return defaultScmResolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    return getGiteaEditContentsUrl(this.config, url);\n  }\n}\n\nexport { GiteaIntegration };\n//# sourceMappingURL=GiteaIntegration.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost, isValidUrl } from '../helpers.esm.js';\n\nfunction readGiteaConfig(config) {\n  const host = config.getString(\"host\");\n  let baseUrl = config.getOptionalString(\"baseUrl\");\n  const username = config.getOptionalString(\"username\");\n  const password = config.getOptionalString(\"password\")?.trim();\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Gitea integration config, '${host}' is not a valid host`\n    );\n  } else if (baseUrl && !isValidUrl(baseUrl)) {\n    throw new Error(\n      `Invalid Gitea integration config, '${baseUrl}' is not a valid baseUrl`\n    );\n  }\n  if (baseUrl) {\n    baseUrl = trimEnd(baseUrl, \"/\");\n  } else {\n    baseUrl = `https://${host}`;\n  }\n  return {\n    host,\n    baseUrl,\n    username,\n    password,\n    commitSigningKey: config.getOptionalString(\"commitSigningKey\")\n  };\n}\n\nexport { readGiteaConfig };\n//# sourceMappingURL=config.esm.js.map\n","function getGiteaEditContentsUrl(config, url) {\n  const giteaUrl = parseGiteaUrl(config, url);\n  return `${giteaUrl.url}/${giteaUrl.owner}/${giteaUrl.name}/_edit/${giteaUrl.ref}/${giteaUrl.path}`;\n}\nfunction getGiteaFileContentsUrl(config, url) {\n  const giteaUrl = parseGiteaUrl(config, url);\n  return `${giteaUrl.url}/api/v1/repos/${giteaUrl.owner}/${giteaUrl.name}/contents/${giteaUrl.path}?ref=${giteaUrl.ref}`;\n}\nfunction getGiteaArchiveUrl(config, url) {\n  const giteaUrl = parseGiteaUrl(config, url);\n  return `${giteaUrl.url}/api/v1/repos/${giteaUrl.owner}/${giteaUrl.name}/archive/${giteaUrl.ref}.tar.gz`;\n}\nfunction getGiteaLatestCommitUrl(config, url) {\n  const giteaUrl = parseGiteaUrl(config, url);\n  return `${giteaUrl.url}/api/v1/repos/${giteaUrl.owner}/${giteaUrl.name}/git/commits/${giteaUrl.ref}`;\n}\nfunction getGiteaRequestOptions(config) {\n  const headers = {};\n  const { username, password } = config;\n  if (!password) {\n    return headers;\n  }\n  if (username) {\n    headers.Authorization = `basic ${Buffer.from(\n      `${username}:${password}`\n    ).toString(\"base64\")}`;\n  } else {\n    headers.Authorization = `token ${password}`;\n  }\n  return {\n    headers\n  };\n}\nfunction parseGiteaUrl(config, url) {\n  const baseUrl = config.baseUrl ?? `https://${config.host}`;\n  try {\n    const [_blank, owner, name, _src, _branch, ref, ...path] = url.replace(baseUrl, \"\").split(\"/\");\n    const pathWithoutSlash = path.join(\"/\").replace(/^\\//, \"\");\n    return {\n      url: baseUrl,\n      owner,\n      name,\n      ref,\n      path: pathWithoutSlash\n    };\n  } catch (e) {\n    throw new Error(`Incorrect URL: ${url}, ${e}`);\n  }\n}\n\nexport { getGiteaArchiveUrl, getGiteaEditContentsUrl, getGiteaFileContentsUrl, getGiteaLatestCommitUrl, getGiteaRequestOptions, parseGiteaUrl };\n//# sourceMappingURL=core.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readHarnessConfig } from './config.esm.js';\nimport { getHarnessEditContentsUrl } from './core.esm.js';\n\nclass HarnessIntegration {\n  constructor(config) {\n    this.config = config;\n  }\n  static factory = ({ config }) => {\n    const configs = config.getOptionalConfigArray(\"integrations.harness\") ?? [];\n    const harnessConfigs = configs.map((c) => readHarnessConfig(c));\n    return basicIntegrations(\n      harnessConfigs.map((c) => new HarnessIntegration(c)),\n      (harness) => harness.config.host\n    );\n  };\n  get type() {\n    return \"harness\";\n  }\n  get title() {\n    return this.config.host;\n  }\n  resolveUrl(options) {\n    return defaultScmResolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    return getHarnessEditContentsUrl(this.config, url);\n  }\n}\n\nexport { HarnessIntegration };\n//# sourceMappingURL=HarnessIntegration.esm.js.map\n","import { isValidHost } from '../helpers.esm.js';\n\nfunction readHarnessConfig(config) {\n  const host = config.getString(\"host\");\n  const token = config.getOptionalString(\"token\");\n  const apiKey = config.getOptionalString(\"apiKey\");\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid Harness Code integration config, '${host}' is not a valid host`\n    );\n  }\n  return {\n    host,\n    apiKey,\n    token\n  };\n}\n\nexport { readHarnessConfig };\n//# sourceMappingURL=config.esm.js.map\n","function getHarnessEditContentsUrl(config, url) {\n  const parsedUrl = parseHarnessUrl(config, url);\n  return `${parsedUrl.baseUrl}/ng/account/${parsedUrl.accountId}/module/code${parsedUrl.orgName !== \"\" ? `/orgs/${parsedUrl.orgName}` : \"\"}${parsedUrl.projectName !== \"\" ? `/projects/${parsedUrl.projectName}` : \"\"}/repos/${parsedUrl.repoName}/files/${parsedUrl.branch}/~/${parsedUrl.path}`;\n}\nfunction getHarnessFileContentsUrl(config, url) {\n  const parsedUrl = parseHarnessUrl(config, url);\n  let constructedUrl = `${parsedUrl.baseUrl}/gateway/code/api/v1/repos/${parsedUrl.accountId}`;\n  if (parsedUrl.orgName) {\n    constructedUrl += `/${parsedUrl.orgName}`;\n  }\n  if (parsedUrl.projectName) {\n    constructedUrl += `/${parsedUrl.projectName}`;\n  }\n  constructedUrl += `/${parsedUrl.repoName}/+/raw/${parsedUrl.path}?routingId=${parsedUrl.accountId}&git_ref=refs/heads/${parsedUrl.refString}`;\n  return constructedUrl;\n}\nfunction getHarnessArchiveUrl(config, url) {\n  const parsedUrl = parseHarnessUrl(config, url);\n  let constructedUrl = `${parsedUrl.baseUrl}/gateway/code/api/v1/repos/${parsedUrl.accountId}`;\n  if (parsedUrl.orgName) {\n    constructedUrl += `/${parsedUrl.orgName}`;\n  }\n  if (parsedUrl.projectName) {\n    constructedUrl += `/${parsedUrl.projectName}`;\n  }\n  constructedUrl += `/${parsedUrl.repoName}/+/archive/${parsedUrl.branch}.zip?routingId=${parsedUrl.accountId}`;\n  return constructedUrl;\n}\nfunction getHarnessLatestCommitUrl(config, url) {\n  const parsedUrl = parseHarnessUrl(config, url);\n  let constructedUrl = `${parsedUrl.baseUrl}/gateway/code/api/v1/repos/${parsedUrl.accountId}`;\n  if (parsedUrl.orgName) {\n    constructedUrl += `/${parsedUrl.orgName}`;\n  }\n  if (parsedUrl.projectName) {\n    constructedUrl += `/${parsedUrl.projectName}`;\n  }\n  constructedUrl += `/${parsedUrl.repoName}/+/content?routingId=${parsedUrl.accountId}&include_commit=true&git_ref=refs/heads/${parsedUrl.branch}`;\n  return constructedUrl;\n}\nfunction getHarnessRequestOptions(config) {\n  const headers = {};\n  const { token, apiKey } = config;\n  if (apiKey) {\n    headers[\"x-api-key\"] = apiKey;\n  } else if (token) {\n    headers.Authorization = `Bearer ${token}`;\n  }\n  return {\n    headers\n  };\n}\nfunction parseHarnessUrl(config, url) {\n  const baseUrl = `https://${config.host}`;\n  try {\n    const pathUrl = new URL(url);\n    const pathSegments = pathUrl.pathname.split(\"/\").filter((segment) => segment !== \"\");\n    const urlParts = pathUrl.pathname.split(\"/\");\n    const accountIdIndex = pathSegments.findIndex((segment) => segment === \"account\") + 1;\n    const accountId = pathSegments[accountIdIndex];\n    const orgNameIndex = pathSegments.findIndex((segment) => segment === \"orgs\");\n    const orgName = orgNameIndex !== -1 ? pathSegments[orgNameIndex + 1] : \"\";\n    const projectNameIndex = pathSegments.findIndex(\n      (segment) => segment === \"projects\"\n    );\n    const projectName = projectNameIndex !== -1 ? pathSegments[projectNameIndex + 1] : \"\";\n    const repoNameIndex = pathSegments.findIndex(\n      (segment, index) => segment === \"repos\" && index > Math.max(accountIdIndex, orgNameIndex, projectNameIndex)\n    ) + 1;\n    const repoName = pathSegments[repoNameIndex];\n    const refAndPath = urlParts.slice(\n      urlParts.findIndex((i) => i === \"files\" || i === \"edit\") + 1\n    );\n    const refIndex = refAndPath.findIndex((item) => item === \"~\");\n    const refString = refAndPath.slice(0, refIndex).join(\"/\");\n    const pathWithoutSlash = refIndex !== -1 ? refAndPath.slice(refIndex + 1).join(\"/\").replace(/^\\//, \"\") : \"\";\n    return {\n      baseUrl,\n      accountId,\n      orgName,\n      projectName,\n      refString,\n      path: pathWithoutSlash,\n      repoName,\n      refDashStr: refAndPath.slice(0, refIndex).join(\"-\"),\n      branch: refIndex !== -1 ? refAndPath.slice(0, refIndex).join(\"/\") : refAndPath.join(\"/\")\n    };\n  } catch (e) {\n    throw new Error(`Incorrect URL: ${url}, ${e}`);\n  }\n}\n\nexport { getHarnessArchiveUrl, getHarnessEditContentsUrl, getHarnessFileContentsUrl, getHarnessLatestCommitUrl, getHarnessRequestOptions, parseHarnessUrl };\n//# sourceMappingURL=core.esm.js.map\n","const AZURE_HOST = \"blob.core.windows.net\";\nfunction readAzureBlobStorageIntegrationConfig(config) {\n  const endpoint = config.getOptionalString(\"endpoint\");\n  const accountName = config.getString(\"accountName\");\n  const accountKey = config.getOptionalString(\"accountKey\")?.trim();\n  const sasToken = config.getOptionalString(\"sasToken\")?.trim();\n  const connectionString = config.getOptionalString(\"connectionString\")?.trim();\n  const endpointSuffix = config.getOptionalString(\"endpointSuffix\")?.trim();\n  let host;\n  let pathname;\n  if (endpoint) {\n    try {\n      const url = new URL(endpoint);\n      host = url.host;\n      pathname = url.pathname;\n    } catch {\n      throw new Error(\n        `invalid azureBlobStorage integration config, endpoint '${endpoint}' is not a valid URL`\n      );\n    }\n    if (pathname !== \"/\") {\n      throw new Error(\n        `invalid azureBlobStorage integration config, endpoints cannot contain path, got '${endpoint}'`\n      );\n    }\n  } else {\n    host = AZURE_HOST;\n  }\n  const aadCredential = config.has(\"aadCredential\") ? {\n    clientId: config.getString(\"aadCredential.clientId\"),\n    tenantId: config.getString(\"aadCredential.tenantId\"),\n    clientSecret: config.getString(\"aadCredential.clientSecret\")?.trim()\n  } : void 0;\n  if (accountKey && sasToken) {\n    throw new Error(\n      `Invalid Azure Blob Storage config for ${accountName}: Both account key and SAS token cannot be used simultaneously.`\n    );\n  }\n  if (aadCredential && (accountKey || sasToken)) {\n    throw new Error(\n      `Invalid Azure Blob Storage config for ${accountName}: Cannot use both Azure AD credentials and account keys/SAS tokens for the same account.`\n    );\n  }\n  return {\n    host,\n    endpoint,\n    accountName,\n    accountKey,\n    sasToken,\n    connectionString,\n    endpointSuffix,\n    aadCredential\n  };\n}\nfunction readAzureBlobStorageIntegrationConfigs(configs) {\n  const result = configs.map(readAzureBlobStorageIntegrationConfig);\n  if (!result.some((c) => c.host === AZURE_HOST)) {\n    result.push({\n      host: AZURE_HOST\n    });\n  }\n  return result;\n}\n\nexport { readAzureBlobStorageIntegrationConfig, readAzureBlobStorageIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readAzureBlobStorageIntegrationConfigs } from './config.esm.js';\n\nclass AzureBlobStorageIntergation {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({\n    config\n  }) => {\n    const configs = readAzureBlobStorageIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.azureBlobStorage\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new AzureBlobStorageIntergation(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"azureBlobStorage\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    const resolved = defaultScmResolveUrl(options);\n    return resolved;\n  }\n  resolveEditUrl(url) {\n    return url;\n  }\n}\n\nexport { AzureBlobStorageIntergation };\n//# sourceMappingURL=AzureBlobStorageIntegration.esm.js.map\n","import { AwsS3Integration } from './awsS3/AwsS3Integration.esm.js';\nimport { AwsCodeCommitIntegration } from './awsCodeCommit/AwsCodeCommitIntegration.esm.js';\nimport { AzureIntegration } from './azure/AzureIntegration.esm.js';\nimport { BitbucketCloudIntegration } from './bitbucketCloud/BitbucketCloudIntegration.esm.js';\nimport { BitbucketIntegration } from './bitbucket/BitbucketIntegration.esm.js';\nimport { BitbucketServerIntegration } from './bitbucketServer/BitbucketServerIntegration.esm.js';\nimport { GerritIntegration } from './gerrit/GerritIntegration.esm.js';\nimport { GithubIntegration } from './github/GithubIntegration.esm.js';\nimport { GitLabIntegration } from './gitlab/GitLabIntegration.esm.js';\nimport { defaultScmResolveUrl } from './helpers.esm.js';\nimport { GiteaIntegration } from './gitea/GiteaIntegration.esm.js';\nimport 'lodash';\nimport { HarnessIntegration } from './harness/HarnessIntegration.esm.js';\nimport { AzureBlobStorageIntergation } from './azureBlobStorage/AzureBlobStorageIntegration.esm.js';\nimport '@azure/identity';\n\nclass ScmIntegrations {\n  byType;\n  static fromConfig(config) {\n    return new ScmIntegrations({\n      awsS3: AwsS3Integration.factory({ config }),\n      awsCodeCommit: AwsCodeCommitIntegration.factory({ config }),\n      azureBlobStorage: AzureBlobStorageIntergation.factory({ config }),\n      azure: AzureIntegration.factory({ config }),\n      bitbucket: BitbucketIntegration.factory({ config }),\n      bitbucketCloud: BitbucketCloudIntegration.factory({ config }),\n      bitbucketServer: BitbucketServerIntegration.factory({ config }),\n      gerrit: GerritIntegration.factory({ config }),\n      github: GithubIntegration.factory({ config }),\n      gitlab: GitLabIntegration.factory({ config }),\n      gitea: GiteaIntegration.factory({ config }),\n      harness: HarnessIntegration.factory({ config })\n    });\n  }\n  constructor(integrationsByType) {\n    this.byType = integrationsByType;\n  }\n  get awsS3() {\n    return this.byType.awsS3;\n  }\n  get awsCodeCommit() {\n    return this.byType.awsCodeCommit;\n  }\n  get azureBlobStorage() {\n    return this.byType.azureBlobStorage;\n  }\n  get azure() {\n    return this.byType.azure;\n  }\n  /**\n   * @deprecated in favor of `bitbucketCloud()` and `bitbucketServer()`\n   */\n  get bitbucket() {\n    return this.byType.bitbucket;\n  }\n  get bitbucketCloud() {\n    return this.byType.bitbucketCloud;\n  }\n  get bitbucketServer() {\n    return this.byType.bitbucketServer;\n  }\n  get gerrit() {\n    return this.byType.gerrit;\n  }\n  get github() {\n    return this.byType.github;\n  }\n  get gitlab() {\n    return this.byType.gitlab;\n  }\n  get gitea() {\n    return this.byType.gitea;\n  }\n  get harness() {\n    return this.byType.harness;\n  }\n  list() {\n    return Object.values(this.byType).flatMap(\n      (i) => i.list()\n    );\n  }\n  byUrl(url) {\n    let candidates = Object.values(this.byType).map((i) => i.byUrl(url)).filter(Boolean);\n    if (candidates.length > 1) {\n      const filteredCandidates = candidates.filter(\n        (x) => !(x instanceof BitbucketIntegration)\n      );\n      if (filteredCandidates.length !== 0) {\n        candidates = filteredCandidates;\n      }\n    }\n    return candidates[0];\n  }\n  byHost(host) {\n    return Object.values(this.byType).map((i) => i.byHost(host)).find(Boolean);\n  }\n  resolveUrl(options) {\n    const integration = this.byUrl(options.base);\n    if (!integration) {\n      return defaultScmResolveUrl(options);\n    }\n    return integration.resolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    const integration = this.byUrl(url);\n    if (!integration) {\n      return url;\n    }\n    return integration.resolveEditUrl(url);\n  }\n}\n\nexport { ScmIntegrations };\n//# sourceMappingURL=ScmIntegrations.esm.js.map\n","import { ScmIntegrations } from '@backstage/integration';\nimport { createApiRef } from '@backstage/core-plugin-api';\n\nclass ScmIntegrationsApi {\n  /**\n   * Instantiates an {@link @backstage/integration#ScmIntegrationRegistry}.\n   *\n   * @param config - The root of the config hierarchy.\n   */\n  static fromConfig(config) {\n    return ScmIntegrations.fromConfig(config);\n  }\n}\nconst scmIntegrationsApiRef = createApiRef({\n  id: \"integration.scmintegrations\"\n});\n\nexport { ScmIntegrationsApi, scmIntegrationsApiRef };\n//# sourceMappingURL=ScmIntegrationsApi.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost } from '../helpers.esm.js';\n\nconst GITHUB_HOST = \"github.com\";\nconst GITHUB_API_BASE_URL = \"https://api.github.com\";\nconst GITHUB_RAW_BASE_URL = \"https://raw.githubusercontent.com\";\nfunction readGithubIntegrationConfig(config) {\n  const host = config.getOptionalString(\"host\") ?? GITHUB_HOST;\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  let rawBaseUrl = config.getOptionalString(\"rawBaseUrl\");\n  const token = config.getOptionalString(\"token\")?.trim();\n  const apps = config.getOptionalConfigArray(\"apps\")?.map((c) => ({\n    appId: c.getNumber(\"appId\"),\n    clientId: c.getString(\"clientId\"),\n    clientSecret: c.getString(\"clientSecret\"),\n    webhookSecret: c.getOptionalString(\"webhookSecret\"),\n    privateKey: c.getString(\"privateKey\"),\n    allowedInstallationOwners: c.getOptionalStringArray(\n      \"allowedInstallationOwners\"\n    )\n  }));\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid GitHub integration config, '${host}' is not a valid host`\n    );\n  }\n  if (apiBaseUrl) {\n    apiBaseUrl = trimEnd(apiBaseUrl, \"/\");\n  } else if (host === GITHUB_HOST) {\n    apiBaseUrl = GITHUB_API_BASE_URL;\n  }\n  if (rawBaseUrl) {\n    rawBaseUrl = trimEnd(rawBaseUrl, \"/\");\n  } else if (host === GITHUB_HOST) {\n    rawBaseUrl = GITHUB_RAW_BASE_URL;\n  }\n  return { host, apiBaseUrl, rawBaseUrl, token, apps };\n}\nfunction readGithubIntegrationConfigs(configs) {\n  const result = configs.map(readGithubIntegrationConfig);\n  if (!result.some((c) => c.host === GITHUB_HOST)) {\n    result.push({\n      host: GITHUB_HOST,\n      apiBaseUrl: GITHUB_API_BASE_URL,\n      rawBaseUrl: GITHUB_RAW_BASE_URL\n    });\n  }\n  return result;\n}\n\nexport { readGithubIntegrationConfig, readGithubIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readGithubIntegrationConfigs } from './config.esm.js';\n\nclass GithubIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readGithubIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.github\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new GithubIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"github\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    return replaceGithubUrlType(defaultScmResolveUrl(options), \"tree\");\n  }\n  resolveEditUrl(url) {\n    return replaceGithubUrlType(url, \"edit\");\n  }\n  parseRateLimitInfo(response) {\n    return {\n      isRateLimited: response.status === 429 || response.status === 403 && response.headers.get(\"x-ratelimit-remaining\") === \"0\"\n    };\n  }\n}\nfunction replaceGithubUrlType(url, type) {\n  return url.replace(\n    /\\/\\/([^/]+)\\/([^/]+)\\/([^/]+)\\/(blob|tree|edit)\\//,\n    (_, host, owner, repo) => {\n      return `//${host}/${owner}/${repo}/${type}/`;\n    }\n  );\n}\n\nexport { GithubIntegration, replaceGithubUrlType };\n//# sourceMappingURL=GithubIntegration.esm.js.map\n","import { trimEnd } from 'lodash';\nimport { isValidHost, isValidUrl } from '../helpers.esm.js';\n\nconst GITLAB_HOST = \"gitlab.com\";\nconst GITLAB_API_BASE_URL = \"https://gitlab.com/api/v4\";\nfunction readGitLabIntegrationConfig(config) {\n  const host = config.getString(\"host\");\n  let apiBaseUrl = config.getOptionalString(\"apiBaseUrl\");\n  const token = config.getOptionalString(\"token\")?.trim();\n  let baseUrl = config.getOptionalString(\"baseUrl\");\n  if (apiBaseUrl) {\n    apiBaseUrl = trimEnd(apiBaseUrl, \"/\");\n  } else if (host === GITLAB_HOST) {\n    apiBaseUrl = GITLAB_API_BASE_URL;\n  }\n  if (baseUrl) {\n    baseUrl = trimEnd(baseUrl, \"/\");\n  } else {\n    baseUrl = `https://${host}`;\n  }\n  if (!isValidHost(host)) {\n    throw new Error(\n      `Invalid GitLab integration config, '${host}' is not a valid host`\n    );\n  } else if (!apiBaseUrl || !isValidUrl(apiBaseUrl)) {\n    throw new Error(\n      `Invalid GitLab integration config, '${apiBaseUrl}' is not a valid apiBaseUrl`\n    );\n  } else if (!isValidUrl(baseUrl)) {\n    throw new Error(\n      `Invalid GitLab integration config, '${baseUrl}' is not a valid baseUrl`\n    );\n  }\n  return {\n    host,\n    token,\n    apiBaseUrl,\n    baseUrl,\n    commitSigningKey: config.getOptionalString(\"commitSigningKey\")\n  };\n}\nfunction readGitLabIntegrationConfigs(configs) {\n  const result = configs.map(readGitLabIntegrationConfig);\n  if (!result.some((c) => c.host === GITLAB_HOST)) {\n    result.push({\n      host: GITLAB_HOST,\n      apiBaseUrl: GITLAB_API_BASE_URL,\n      baseUrl: `https://${GITLAB_HOST}`\n    });\n  }\n  return result;\n}\nfunction getGitLabIntegrationRelativePath(config) {\n  let relativePath = \"\";\n  if (config.host !== GITLAB_HOST) {\n    relativePath = new URL(config.baseUrl).pathname;\n  }\n  return trimEnd(relativePath, \"/\");\n}\n\nexport { getGitLabIntegrationRelativePath, readGitLabIntegrationConfig, readGitLabIntegrationConfigs };\n//# sourceMappingURL=config.esm.js.map\n","import { basicIntegrations, defaultScmResolveUrl } from '../helpers.esm.js';\nimport { readGitLabIntegrationConfigs } from './config.esm.js';\n\nclass GitLabIntegration {\n  constructor(integrationConfig) {\n    this.integrationConfig = integrationConfig;\n  }\n  static factory = ({ config }) => {\n    const configs = readGitLabIntegrationConfigs(\n      config.getOptionalConfigArray(\"integrations.gitlab\") ?? []\n    );\n    return basicIntegrations(\n      configs.map((c) => new GitLabIntegration(c)),\n      (i) => i.config.host\n    );\n  };\n  get type() {\n    return \"gitlab\";\n  }\n  get title() {\n    return this.integrationConfig.host;\n  }\n  get config() {\n    return this.integrationConfig;\n  }\n  resolveUrl(options) {\n    return defaultScmResolveUrl(options);\n  }\n  resolveEditUrl(url) {\n    return replaceGitLabUrlType(url, \"edit\");\n  }\n}\nfunction replaceGitLabUrlType(url, type) {\n  return url.replace(/\\/\\-\\/(blob|tree|edit)\\//, `/-/${type}/`);\n}\n\nexport { GitLabIntegration, replaceGitLabUrlType };\n//# sourceMappingURL=GitLabIntegration.esm.js.map\n","import parseGitUrl from 'git-url-parse';\nimport { trimEnd } from 'lodash';\n\nfunction isValidHost(host) {\n  const check = new URL(\"http://example.com\");\n  check.host = host;\n  return check.host === host;\n}\nfunction isValidUrl(url) {\n  try {\n    new URL(url);\n    return true;\n  } catch {\n    return false;\n  }\n}\nfunction basicIntegrations(integrations, getHost) {\n  return {\n    list() {\n      return integrations;\n    },\n    byUrl(url) {\n      try {\n        const parsed = typeof url === \"string\" ? new URL(url) : url;\n        return integrations.find((i) => getHost(i) === parsed.host);\n      } catch {\n        return void 0;\n      }\n    },\n    byHost(host) {\n      return integrations.find((i) => getHost(i) === host);\n    }\n  };\n}\nfunction defaultScmResolveUrl(options) {\n  const { url, base, lineNumber } = options;\n  try {\n    new URL(url);\n    return url;\n  } catch {\n  }\n  let updated;\n  if (url.startsWith(\"/\")) {\n    const { href, filepath } = parseGitUrl(base);\n    updated = new URL(href);\n    const repoRootPath = trimEnd(\n      updated.pathname.substring(0, updated.pathname.length - filepath.length),\n      \"/\"\n    );\n    updated.pathname = `${repoRootPath}${url}`;\n  } else {\n    updated = new URL(url, base);\n  }\n  updated.search = new URL(base).search;\n  if (lineNumber) {\n    updated.hash = `L${lineNumber}`;\n  }\n  return updated.toString();\n}\n\nexport { basicIntegrations, defaultScmResolveUrl, isValidHost, isValidUrl };\n//# sourceMappingURL=helpers.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst apiDocsConfigRef = createApiRef({\n  id: \"plugin.api-docs.config\"\n});\n\nexport { apiDocsConfigRef };\n//# sourceMappingURL=config.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { Progress } from '@backstage/core-components';\nimport { lazy, Suspense } from 'react';\n\nconst LazyAsyncApiDefinition = lazy(\n  () => import('./AsyncApiDefinition.esm.js').then((m) => ({\n    default: m.AsyncApiDefinition\n  }))\n);\nconst AsyncApiDefinitionWidget = (props) => {\n  return /* @__PURE__ */ jsx(Suspense, { fallback: /* @__PURE__ */ jsx(Progress, {}), children: /* @__PURE__ */ jsx(LazyAsyncApiDefinition, { ...props }) });\n};\n\nexport { AsyncApiDefinitionWidget };\n//# sourceMappingURL=AsyncApiDefinitionWidget.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { Progress } from '@backstage/core-components';\nimport { lazy, Suspense } from 'react';\n\nconst LazyGraphQlDefinition = lazy(\n  () => import('./GraphQlDefinition.esm.js').then((m) => ({\n    default: m.GraphQlDefinition\n  }))\n);\nconst GraphQlDefinitionWidget = (props) => {\n  return /* @__PURE__ */ jsx(Suspense, { fallback: /* @__PURE__ */ jsx(Progress, {}), children: /* @__PURE__ */ jsx(LazyGraphQlDefinition, { ...props }) });\n};\n\nexport { GraphQlDefinitionWidget };\n//# sourceMappingURL=GraphQlDefinitionWidget.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { Progress } from '@backstage/core-components';\nimport { lazy, Suspense } from 'react';\n\nconst LazyOpenApiDefinition = lazy(\n  () => import('./OpenApiDefinition.esm.js').then((m) => ({\n    default: m.OpenApiDefinition\n  }))\n);\nconst OpenApiDefinitionWidget = (props) => {\n  const validSubmitMethods = props.supportedSubmitMethods?.map(\n    (method) => method.toLocaleLowerCase()\n  );\n  return /* @__PURE__ */ jsx(Suspense, { fallback: /* @__PURE__ */ jsx(Progress, {}), children: /* @__PURE__ */ jsx(\n    LazyOpenApiDefinition,\n    {\n      ...props,\n      supportedSubmitMethods: validSubmitMethods\n    }\n  ) });\n};\n\nexport { OpenApiDefinitionWidget };\n//# sourceMappingURL=OpenApiDefinitionWidget.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { CodeSnippet } from '@backstage/core-components';\nimport { useTheme } from '@material-ui/core/styles';\n\nconst GrpcApiDefinitionWidget = (props) => {\n  const theme = useTheme();\n  return /* @__PURE__ */ jsx(\n    CodeSnippet,\n    {\n      customStyle: { backgroundColor: theme.palette.background.default },\n      text: props.definition,\n      language: \"protobuf\",\n      showCopyCodeButton: true\n    }\n  );\n};\n\nexport { GrpcApiDefinitionWidget };\n//# sourceMappingURL=GrpcApiDefinitionWidget.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { CodeSnippet } from '@backstage/core-components';\nimport { useTheme } from '@material-ui/core/styles';\n\nconst TrpcApiDefinitionWidget = (props) => {\n  const { definition } = props;\n  const theme = useTheme();\n  return /* @__PURE__ */ jsx(\n    CodeSnippet,\n    {\n      customStyle: { backgroundColor: theme.palette.background.default },\n      text: definition,\n      language: \"typescript\",\n      showCopyCodeButton: true\n    }\n  );\n};\n\nexport { TrpcApiDefinitionWidget };\n//# sourceMappingURL=TrpcApiDefinitionWidget.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/plugin-catalog-react';\nimport '@backstage/core-components';\nimport { createPlugin, createApiFactory, createRoutableExtension, createComponentExtension } from '@backstage/core-plugin-api';\nimport '@backstage/frontend-plugin-api';\nimport '@material-ui/lab/Alert';\nimport { apiDocsConfigRef } from './config.esm.js';\nimport './translation.esm.js';\nimport { defaultDefinitionWidgets } from './components/ApiDefinitionCard/ApiDefinitionWidget.esm.js';\nimport '@material-ui/core/Typography';\nimport { registerComponentRouteRef, rootRoute } from './routes.esm.js';\n\nconst apiDocsPlugin = createPlugin({\n  id: \"api-docs\",\n  routes: {\n    root: rootRoute\n  },\n  apis: [\n    createApiFactory({\n      api: apiDocsConfigRef,\n      deps: {},\n      factory: () => {\n        const definitionWidgets = defaultDefinitionWidgets();\n        return {\n          getApiDefinitionWidget: (apiEntity) => {\n            return definitionWidgets.find((d) => d.type === apiEntity.spec.type);\n          }\n        };\n      }\n    })\n  ],\n  externalRoutes: {\n    registerApi: registerComponentRouteRef\n  }\n});\nconst ApiExplorerPage = apiDocsPlugin.provide(\n  createRoutableExtension({\n    name: \"ApiExplorerPage\",\n    component: () => import('./components/ApiExplorerPage/index.esm.js').then((m) => m.ApiExplorerIndexPage),\n    mountPoint: rootRoute\n  })\n);\nconst EntityApiDefinitionCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityApiDefinitionCard\",\n    component: {\n      lazy: () => import('./components/ApiDefinitionCard/index.esm.js').then((m) => m.ApiDefinitionCard)\n    }\n  })\n);\nconst EntityConsumedApisCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityConsumedApisCard\",\n    component: {\n      lazy: () => import('./components/ApisCards/index.esm.js').then((m) => m.ConsumedApisCard)\n    }\n  })\n);\nconst EntityConsumingComponentsCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityConsumingComponentsCard\",\n    component: {\n      lazy: () => import('./components/ComponentsCards/index.esm.js').then(\n        (m) => m.ConsumingComponentsCard\n      )\n    }\n  })\n);\nconst EntityProvidedApisCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityProvidedApisCard\",\n    component: {\n      lazy: () => import('./components/ApisCards/index.esm.js').then((m) => m.ProvidedApisCard)\n    }\n  })\n);\nconst EntityProvidingComponentsCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityProvidingComponentsCard\",\n    component: {\n      lazy: () => import('./components/ComponentsCards/index.esm.js').then(\n        (m) => m.ProvidingComponentsCard\n      )\n    }\n  })\n);\nconst EntityHasApisCard = apiDocsPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasApisCard\",\n    component: {\n      lazy: () => import('./components/ApisCards/index.esm.js').then((m) => m.HasApisCard)\n    }\n  })\n);\n\nexport { ApiExplorerPage, EntityApiDefinitionCard, EntityConsumedApisCard, EntityConsumingComponentsCard, EntityHasApisCard, EntityProvidedApisCard, EntityProvidingComponentsCard, apiDocsPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { AsyncApiDefinitionWidget } from '../AsyncApiDefinitionWidget/AsyncApiDefinitionWidget.esm.js';\nimport { GraphQlDefinitionWidget } from '../GraphQlDefinitionWidget/GraphQlDefinitionWidget.esm.js';\nimport { OpenApiDefinitionWidget } from '../OpenApiDefinitionWidget/OpenApiDefinitionWidget.esm.js';\nimport { GrpcApiDefinitionWidget } from '../GrpcApiDefinitionWidget/GrpcApiDefinitionWidget.esm.js';\nimport { TrpcApiDefinitionWidget } from '../TrpcDefinitionWidget/TrpcApiDefinitionWidget.esm.js';\n\nfunction defaultDefinitionWidgets() {\n  return [\n    {\n      type: \"openapi\",\n      title: \"OpenAPI\",\n      rawLanguage: \"yaml\",\n      component: (definition) => /* @__PURE__ */ jsx(OpenApiDefinitionWidget, { definition })\n    },\n    {\n      type: \"asyncapi\",\n      title: \"AsyncAPI\",\n      rawLanguage: \"yaml\",\n      component: (definition) => /* @__PURE__ */ jsx(AsyncApiDefinitionWidget, { definition })\n    },\n    {\n      type: \"graphql\",\n      title: \"GraphQL\",\n      rawLanguage: \"graphql\",\n      component: (definition) => /* @__PURE__ */ jsx(GraphQlDefinitionWidget, { definition })\n    },\n    {\n      type: \"grpc\",\n      title: \"gRPC\",\n      component: (definition) => /* @__PURE__ */ jsx(GrpcApiDefinitionWidget, { definition })\n    },\n    {\n      type: \"trpc\",\n      title: \"tRPC\",\n      component: (definition) => /* @__PURE__ */ jsx(TrpcApiDefinitionWidget, { definition })\n    }\n  ];\n}\n\nexport { defaultDefinitionWidgets };\n//# sourceMappingURL=ApiDefinitionWidget.esm.js.map\n","import { createRouteRef, createExternalRouteRef } from '@backstage/core-plugin-api';\n\nconst rootRoute = createRouteRef({\n  id: \"api-docs\"\n});\nconst registerComponentRouteRef = createExternalRouteRef({\n  id: \"register-component\",\n  optional: true,\n  defaultTarget: \"catalog-import.importPage\"\n});\n\nexport { registerComponentRouteRef, rootRoute };\n//# sourceMappingURL=routes.esm.js.map\n","import { createPermission } from '@backstage/plugin-permission-common';\n\nconst RESOURCE_TYPE_CATALOG_ENTITY = \"catalog-entity\";\nconst catalogEntityReadPermission = createPermission({\n  name: \"catalog.entity.read\",\n  attributes: {\n    action: \"read\"\n  },\n  resourceType: RESOURCE_TYPE_CATALOG_ENTITY\n});\nconst catalogEntityCreatePermission = createPermission({\n  name: \"catalog.entity.create\",\n  attributes: {\n    action: \"create\"\n  }\n});\nconst catalogEntityDeletePermission = createPermission({\n  name: \"catalog.entity.delete\",\n  attributes: {\n    action: \"delete\"\n  },\n  resourceType: RESOURCE_TYPE_CATALOG_ENTITY\n});\nconst catalogEntityRefreshPermission = createPermission({\n  name: \"catalog.entity.refresh\",\n  attributes: {\n    action: \"update\"\n  },\n  resourceType: RESOURCE_TYPE_CATALOG_ENTITY\n});\nconst catalogEntityValidatePermission = createPermission({\n  name: \"catalog.entity.validate\",\n  attributes: {}\n});\nconst catalogLocationReadPermission = createPermission({\n  name: \"catalog.location.read\",\n  attributes: {\n    action: \"read\"\n  }\n});\nconst catalogLocationCreatePermission = createPermission({\n  name: \"catalog.location.create\",\n  attributes: {\n    action: \"create\"\n  }\n});\nconst catalogLocationAnalyzePermission = createPermission({\n  name: \"catalog.location.analyze\",\n  attributes: {}\n});\nconst catalogLocationDeletePermission = createPermission({\n  name: \"catalog.location.delete\",\n  attributes: {\n    action: \"delete\"\n  }\n});\nconst catalogPermissions = [\n  catalogEntityReadPermission,\n  catalogEntityCreatePermission,\n  catalogEntityDeletePermission,\n  catalogEntityRefreshPermission,\n  catalogEntityValidatePermission,\n  catalogLocationReadPermission,\n  catalogLocationCreatePermission,\n  catalogLocationDeletePermission,\n  catalogLocationAnalyzePermission\n];\n\nexport { RESOURCE_TYPE_CATALOG_ENTITY, catalogEntityCreatePermission, catalogEntityDeletePermission, catalogEntityReadPermission, catalogEntityRefreshPermission, catalogEntityValidatePermission, catalogLocationAnalyzePermission, catalogLocationCreatePermission, catalogLocationDeletePermission, catalogLocationReadPermission, catalogPermissions };\n//# sourceMappingURL=permissions.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst catalogGraphApiRef = createApiRef({\n  id: \"plugin.catalog-graph.service\"\n});\n\nexport { catalogGraphApiRef };\n//# sourceMappingURL=CatalogGraphApi.esm.js.map\n","import { RELATION_OWNER_OF, RELATION_OWNED_BY, RELATION_CONSUMES_API, RELATION_API_CONSUMED_BY, RELATION_API_PROVIDED_BY, RELATION_PROVIDES_API, RELATION_HAS_PART, RELATION_PART_OF, RELATION_PARENT_OF, RELATION_CHILD_OF, RELATION_HAS_MEMBER, RELATION_MEMBER_OF, RELATION_DEPENDS_ON, RELATION_DEPENDENCY_OF } from '@backstage/catalog-model';\n\nconst ALL_RELATIONS = [\n  RELATION_API_CONSUMED_BY,\n  RELATION_API_PROVIDED_BY,\n  RELATION_CHILD_OF,\n  RELATION_CONSUMES_API,\n  RELATION_DEPENDENCY_OF,\n  RELATION_DEPENDS_ON,\n  RELATION_HAS_MEMBER,\n  RELATION_HAS_PART,\n  RELATION_MEMBER_OF,\n  RELATION_OWNED_BY,\n  RELATION_OWNER_OF,\n  RELATION_PARENT_OF,\n  RELATION_PART_OF,\n  RELATION_PROVIDES_API\n];\nconst ALL_RELATION_PAIRS = [\n  [RELATION_OWNER_OF, RELATION_OWNED_BY],\n  [RELATION_CONSUMES_API, RELATION_API_CONSUMED_BY],\n  [RELATION_API_PROVIDED_BY, RELATION_PROVIDES_API],\n  [RELATION_HAS_PART, RELATION_PART_OF],\n  [RELATION_PARENT_OF, RELATION_CHILD_OF],\n  [RELATION_HAS_MEMBER, RELATION_MEMBER_OF],\n  [RELATION_DEPENDS_ON, RELATION_DEPENDENCY_OF]\n];\n\nexport { ALL_RELATIONS, ALL_RELATION_PAIRS };\n//# sourceMappingURL=relations.esm.js.map\n","import { ALL_RELATION_PAIRS, ALL_RELATIONS } from '../lib/types/relations.esm.js';\n\nclass DefaultCatalogGraphApi {\n  knownRelations;\n  knownRelationPairs;\n  defaultRelations;\n  constructor(options = {\n    knownRelations: ALL_RELATIONS,\n    knownRelationPairs: ALL_RELATION_PAIRS,\n    defaultRelationTypes: { exclude: [] }\n  }) {\n    this.knownRelations = options.knownRelations ?? ALL_RELATIONS;\n    this.knownRelationPairs = options.knownRelationPairs ?? ALL_RELATION_PAIRS;\n    const defaultRelations = options.defaultRelationTypes;\n    if (Array.isArray(defaultRelations.include)) {\n      const defaultRelationsInclude = defaultRelations;\n      this.defaultRelations = this.knownRelations.filter(\n        (rel) => defaultRelationsInclude.include.includes(rel)\n      );\n    } else {\n      const defaultRelationsExclude = defaultRelations;\n      this.defaultRelations = this.knownRelations.filter(\n        (rel) => !defaultRelationsExclude.exclude.includes(rel)\n      );\n    }\n  }\n}\n\nexport { DefaultCatalogGraphApi };\n//# sourceMappingURL=DefaultCatalogGraphApi.esm.js.map\n","import { createPlugin, createApiFactory } from '@backstage/core-plugin-api';\nimport { catalogEntityRouteRef, catalogGraphRouteRef } from './routes.esm.js';\nimport { catalogGraphApiRef } from './api/CatalogGraphApi.esm.js';\nimport { DefaultCatalogGraphApi } from './api/DefaultCatalogGraphApi.esm.js';\n\nconst catalogGraphPlugin = createPlugin({\n  id: \"catalog-graph\",\n  routes: {\n    catalogGraph: catalogGraphRouteRef\n  },\n  externalRoutes: {\n    catalogEntity: catalogEntityRouteRef\n  },\n  apis: [\n    createApiFactory({\n      api: catalogGraphApiRef,\n      deps: {},\n      factory: () => new DefaultCatalogGraphApi()\n    })\n  ]\n});\n\nexport { catalogGraphPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createComponentExtension, createRoutableExtension } from '@backstage/core-plugin-api';\nimport { catalogGraphPlugin } from './plugin.esm.js';\nimport { catalogGraphRouteRef } from './routes.esm.js';\n\nconst EntityCatalogGraphCard = catalogGraphPlugin.provide(\n  createComponentExtension({\n    name: \"EntityCatalogGraphCard\",\n    component: {\n      lazy: () => import('./components/CatalogGraphCard/index.esm.js').then((m) => m.CatalogGraphCard)\n    }\n  })\n);\nconst CatalogGraphPage = catalogGraphPlugin.provide(\n  createRoutableExtension({\n    name: \"CatalogGraphPage\",\n    component: () => import('./components/CatalogGraphPage/index.esm.js').then((m) => m.CatalogGraphPage),\n    mountPoint: catalogGraphRouteRef\n  })\n);\n\nexport { CatalogGraphPage, EntityCatalogGraphCard };\n//# sourceMappingURL=extensions.esm.js.map\n","const Direction = {\n  /**\n   * Top to bottom.\n   */\n  TOP_BOTTOM: \"TB\",\n  /**\n   * Bottom to top.\n   */\n  BOTTOM_TOP: \"BT\",\n  /**\n   * Left to right.\n   */\n  LEFT_RIGHT: \"LR\",\n  /**\n   * Right to left.\n   */\n  RIGHT_LEFT: \"RL\"\n};\n\nexport { Direction };\n//# sourceMappingURL=graph.esm.js.map\n","import { createRouteRef, createExternalRouteRef } from '@backstage/core-plugin-api';\n\nconst catalogGraphRouteRef = createRouteRef({\n  id: \"catalog-graph\"\n});\nconst catalogEntityRouteRef = createExternalRouteRef({\n  id: \"catalog-entity\",\n  params: [\"namespace\", \"kind\", \"name\"],\n  optional: true,\n  defaultTarget: \"catalog.catalogEntity\"\n});\n\nexport { catalogEntityRouteRef, catalogGraphRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst catalogImportApiRef = createApiRef({\n  id: \"plugin.catalog-import.service\"\n});\n\nexport { catalogImportApiRef };\n//# sourceMappingURL=CatalogImportApi.esm.js.map\n","function asInputRef(renderResult) {\n  const { ref, ...rest } = renderResult;\n  return {\n    inputRef: ref,\n    ...rest\n  };\n}\nfunction getCatalogFilename(config) {\n  return config.getOptionalString(\"catalog.import.entityFilename\") ?? \"catalog-info.yaml\";\n}\nfunction getBranchName(config) {\n  return config.getOptionalString(\"catalog.import.pullRequestBranchName\") ?? \"backstage-integration\";\n}\n\nexport { asInputRef, getBranchName, getCatalogFilename };\n//# sourceMappingURL=helpers.esm.js.map\n","import 'git-url-parse';\nimport { Octokit } from '@octokit/rest';\nimport { getBranchName, getCatalogFilename } from '../components/helpers.esm.js';\nimport { Base64 } from 'js-base64';\n\nasync function submitGitHubPrToRepo(options, scmAuthApi, configApi) {\n  const {\n    owner,\n    repo,\n    title,\n    body,\n    fileContent,\n    repositoryUrl,\n    githubIntegrationConfig\n  } = options;\n  const { token } = await scmAuthApi.getCredentials({\n    url: repositoryUrl,\n    additionalScope: {\n      repoWrite: true\n    }\n  });\n  const octo = new Octokit({\n    auth: token,\n    baseUrl: githubIntegrationConfig.apiBaseUrl\n  });\n  const branchName = getBranchName(configApi);\n  const fileName = getCatalogFilename(configApi);\n  const repoData = await octo.repos.get({\n    owner,\n    repo\n  }).catch((e) => {\n    throw new Error(formatHttpErrorMessage(\"Couldn't fetch repo data\", e));\n  });\n  const parentRef = await octo.git.getRef({\n    owner,\n    repo,\n    ref: `heads/${repoData.data.default_branch}`\n  }).catch((e) => {\n    throw new Error(\n      formatHttpErrorMessage(\"Couldn't fetch default branch data\", e)\n    );\n  });\n  await octo.git.createRef({\n    owner,\n    repo,\n    ref: `refs/heads/${branchName}`,\n    sha: parentRef.data.object.sha\n  }).catch((e) => {\n    throw new Error(\n      formatHttpErrorMessage(\n        `Couldn't create a new branch with name '${branchName}'`,\n        e\n      )\n    );\n  });\n  await octo.repos.createOrUpdateFileContents({\n    owner,\n    repo,\n    path: fileName,\n    message: title,\n    content: Base64.encode(fileContent),\n    branch: branchName\n  }).catch((e) => {\n    throw new Error(\n      formatHttpErrorMessage(\n        `Couldn't create a commit with ${fileName} file added`,\n        e\n      )\n    );\n  });\n  const pullRequestResponse = await octo.pulls.create({\n    owner,\n    repo,\n    title,\n    head: branchName,\n    body,\n    base: repoData.data.default_branch\n  }).catch((e) => {\n    throw new Error(\n      formatHttpErrorMessage(\n        `Couldn't create a pull request for ${branchName} branch`,\n        e\n      )\n    );\n  });\n  return {\n    link: pullRequestResponse.data.html_url,\n    location: `https://${githubIntegrationConfig.host}/${owner}/${repo}/blob/${repoData.data.default_branch}/${fileName}`\n  };\n}\nfunction formatHttpErrorMessage(message, error) {\n  return `${message}, received http response status code ${error.status}: ${error.message}`;\n}\n\nexport { submitGitHubPrToRepo };\n//# sourceMappingURL=GitHub.esm.js.map\n","const apiVersions = \"6.0\";\nclass RepoApiClient {\n  createEndpoint = (path, version, queryParams = void 0) => {\n    const url = new URL(\n      `${this._options.tenantUrl}/${this._options.project}/_apis/git/repositories`\n    );\n    url.pathname += path;\n    url.searchParams.set(\"api-version\", version);\n    Object.entries(queryParams ?? {}).forEach(\n      ([key, value]) => url.searchParams.set(key, value)\n    );\n    return url.toString();\n  };\n  _options;\n  constructor(_options) {\n    this._options = _options;\n  }\n  async get(path, version, queryParams = void 0, token) {\n    const endpoint = this.createEndpoint(path, version, queryParams);\n    const result = await fetch(endpoint, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    if (!result.ok) {\n      return result.json().then((it) => Promise.reject(new Error(it.message)));\n    }\n    return await result.json();\n  }\n  async post(path, version, payload, token) {\n    const endpoint = this.createEndpoint(path, version);\n    const result = await fetch(endpoint, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(payload)\n    });\n    if (!result.ok) {\n      return result.json().then((it) => Promise.reject(new Error(it.message)));\n    }\n    return await result.json();\n  }\n  async getRepository(repositoryName, token) {\n    return this.get(`/${repositoryName}`, apiVersions, void 0, token);\n  }\n  async getDefaultBranch(repo, token) {\n    const filter = repo.defaultBranch.replace(\"refs/\", \"\");\n    const result = await this.get(\n      `/${repo.name}/refs`,\n      apiVersions,\n      { filter },\n      token\n    );\n    if (!result.value?.length) {\n      return Promise.reject(\n        new Error(`The requested ref '${filter}' was not found`)\n      );\n    }\n    return result.value[0];\n  }\n  async pushNewBranch(options, token) {\n    const { sourceBranch, repoName } = options;\n    const push = {\n      refUpdates: [\n        {\n          name: `refs/heads/${options.branchName}`,\n          oldObjectId: sourceBranch.objectId\n        }\n      ],\n      commits: [\n        {\n          comment: options.title,\n          changes: [\n            {\n              changeType: \"add\",\n              item: {\n                path: `/${options.fileName}`\n              },\n              newContent: {\n                content: options.fileContent,\n                contentType: \"rawtext\"\n              }\n            }\n          ]\n        }\n      ]\n    };\n    const result = await this.post(\n      `/${repoName}/pushes`,\n      apiVersions,\n      push,\n      token\n    );\n    return result.refUpdates[0];\n  }\n  async createPullRequest(options, token) {\n    const { repoName, sourceName, targetName } = options;\n    const payload = {\n      title: options.title,\n      description: options.description,\n      sourceRefName: sourceName,\n      targetRefName: targetName\n    };\n    return await this.post(\n      `/${repoName}/pullrequests`,\n      apiVersions,\n      payload,\n      token\n    );\n  }\n}\nasync function createAzurePullRequest(options, client = void 0) {\n  const {\n    title,\n    repository,\n    token,\n    fileContent,\n    fileName,\n    branchName,\n    description\n  } = options;\n  const actualClient = client ?? new RepoApiClient(options);\n  const repo = await actualClient.getRepository(repository, token);\n  const defaultBranch = await actualClient.getDefaultBranch(repo, token);\n  const branchOptions = {\n    title,\n    repoName: repo.name,\n    sourceBranch: defaultBranch,\n    branchName,\n    fileContent,\n    fileName\n  };\n  const refUpdate = await actualClient.pushNewBranch(branchOptions, token);\n  const prOptions = {\n    title,\n    description,\n    repoName: repo.name,\n    sourceName: refUpdate.name,\n    targetName: defaultBranch.name\n  };\n  return actualClient.createPullRequest(prOptions, token);\n}\n\nexport { RepoApiClient, createAzurePullRequest };\n//# sourceMappingURL=AzureRepoApiClient.esm.js.map\n","import { getBranchName, getCatalogFilename } from '../components/helpers.esm.js';\nimport { createAzurePullRequest } from './AzureRepoApiClient.esm.js';\n\nfunction parseAzureUrl(repoUrl) {\n  const { org, repo, project, host } = parseRepoUrl(repoUrl);\n  if (!org || !repo || !project) {\n    throw new Error(\n      \"Invalid AzureDevops Repository. Please use a valid repository url and try again \"\n    );\n  }\n  const tenantUrl = `https://${host}/${org}`;\n  return { tenantUrl, repoName: repo, project };\n}\nasync function submitAzurePrToRepo(options, scmAuthApi, configApi) {\n  const { repositoryUrl, fileContent, title, body } = options;\n  const branchName = getBranchName(configApi);\n  const fileName = getCatalogFilename(configApi);\n  const { token } = await scmAuthApi.getCredentials({\n    url: repositoryUrl,\n    additionalScope: {\n      repoWrite: true\n    }\n  });\n  const { tenantUrl, repoName, project } = parseAzureUrl(repositoryUrl);\n  const result = await createAzurePullRequest({\n    token,\n    fileContent,\n    title,\n    description: body,\n    project,\n    repository: repoName,\n    branchName,\n    tenantUrl,\n    fileName\n  });\n  const catalogLocation = `${result.repository.webUrl}?path=/${fileName}`;\n  const prLocation = `${result.repository.webUrl}/pullrequest/${result.pullRequestId}`;\n  return {\n    link: prLocation,\n    location: catalogLocation\n  };\n}\nfunction parseRepoUrl(sourceUrl) {\n  const url = new URL(sourceUrl);\n  let host = url.host;\n  let org;\n  let project;\n  let repo;\n  const parts = url.pathname.split(\"/\").map((part) => decodeURIComponent(part));\n  if (parts[2] === \"_git\") {\n    org = parts[1];\n    project = repo = parts[3];\n  } else if (parts[3] === \"_git\") {\n    org = parts[1];\n    project = parts[2];\n    repo = parts[4];\n  } else if (parts[4] === \"_git\") {\n    host = `${host}/${parts[1]}`;\n    org = parts[2];\n    project = parts[3];\n    repo = parts[5];\n  }\n  return { host, org, project, repo };\n}\n\nexport { parseAzureUrl, parseRepoUrl, submitAzurePrToRepo };\n//# sourceMappingURL=AzureDevops.esm.js.map\n","import YAML from 'yaml';\nimport { submitGitHubPrToRepo } from './GitHub.esm.js';\nimport { getCatalogFilename } from '../components/helpers.esm.js';\nimport parseGitUrl from 'git-url-parse';\nimport { submitAzurePrToRepo } from './AzureDevops.esm.js';\n\nclass CatalogImportClient {\n  discoveryApi;\n  fetchApi;\n  scmAuthApi;\n  scmIntegrationsApi;\n  catalogApi;\n  configApi;\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.scmAuthApi = options.scmAuthApi;\n    this.fetchApi = options.fetchApi;\n    this.scmIntegrationsApi = options.scmIntegrationsApi;\n    this.catalogApi = options.catalogApi;\n    this.configApi = options.configApi;\n  }\n  async analyzeUrl(url) {\n    if (new URL(url).pathname.match(/\\.ya?ml$/) || new URL(url).searchParams.get(\"path\")?.match(/.ya?ml$/)) {\n      const location = await this.catalogApi.addLocation({\n        type: \"url\",\n        target: url,\n        dryRun: true\n      });\n      return {\n        type: \"locations\",\n        locations: [\n          {\n            exists: location.exists,\n            target: location.location.target,\n            entities: location.entities.map((e) => ({\n              kind: e.kind,\n              namespace: e.metadata.namespace ?? \"default\",\n              name: e.metadata.name\n            }))\n          }\n        ]\n      };\n    }\n    const supportedIntegrations = [\"github\", \"azure\"];\n    const foundIntegration = this.scmIntegrationsApi.byUrl(url);\n    const iSupported = !!foundIntegration && supportedIntegrations.find((it) => it === foundIntegration.type);\n    if (!iSupported) {\n      const catalogFilename = getCatalogFilename(this.configApi);\n      if (foundIntegration) {\n        throw new Error(\n          `The ${foundIntegration.title} integration only supports full URLs to ${catalogFilename} files. Did you try to pass in the URL of a directory instead?`\n        );\n      }\n      throw new Error(\n        `This URL was not recognized as a valid git URL because there was no configured integration that matched the given host name. Currently GitHub and Azure DevOps are supported. You could try to paste the full URL to a ${catalogFilename} file instead.`\n      );\n    }\n    const analyzation = await this.analyzeLocation({\n      repo: url\n    });\n    if (analyzation.existingEntityFiles.length > 0) {\n      const locations = analyzation.existingEntityFiles.reduce((state, curr) => {\n        state[curr.location.target] = {\n          target: curr.location.target,\n          exists: curr.isRegistered,\n          entities: [\n            ...curr.location.target in state ? state[curr.location.target].entities : [],\n            {\n              name: curr.entity.metadata.name,\n              namespace: curr.entity.metadata.namespace ?? \"default\",\n              kind: curr.entity.kind\n            }\n          ]\n        };\n        return state;\n      }, {});\n      return {\n        type: \"locations\",\n        locations: Object.values(locations)\n      };\n    }\n    return {\n      type: \"repository\",\n      integrationType: foundIntegration.type,\n      url,\n      generatedEntities: analyzation.generateEntities.map((x) => x.entity)\n    };\n  }\n  async preparePullRequest() {\n    const appTitle = this.configApi.getOptionalString(\"app.title\") ?? \"Backstage\";\n    const appBaseUrl = this.configApi.getString(\"app.baseUrl\");\n    const catalogFilename = getCatalogFilename(this.configApi);\n    return {\n      title: `Add ${catalogFilename} config file`,\n      body: `This pull request adds a **Backstage entity metadata file** to this repository so that the component can be added to the [${appTitle} software catalog](${appBaseUrl}).\n\nAfter this pull request is merged, the component will become available.\n\nFor more information, read an [overview of the Backstage software catalog](https://backstage.io/docs/features/software-catalog/).`\n    };\n  }\n  async submitPullRequest(options) {\n    const { repositoryUrl, fileContent, title, body } = options;\n    const parseData = YAML.parseAllDocuments(fileContent);\n    for (const document of parseData) {\n      const validationResponse = await this.catalogApi.validateEntity(\n        document.toJS(),\n        `url:${repositoryUrl}`\n      );\n      if (!validationResponse.valid) {\n        throw new Error(validationResponse.errors[0].message);\n      }\n    }\n    const provider = this.scmIntegrationsApi.byUrl(repositoryUrl);\n    switch (provider?.type) {\n      case \"github\": {\n        const { config } = provider;\n        const { name, owner } = parseGitUrl(repositoryUrl);\n        const options2 = {\n          githubIntegrationConfig: config,\n          repo: name,\n          owner,\n          repositoryUrl,\n          fileContent,\n          title,\n          body\n        };\n        return submitGitHubPrToRepo(options2, this.scmAuthApi, this.configApi);\n      }\n      case \"azure\": {\n        return submitAzurePrToRepo(\n          {\n            repositoryUrl,\n            fileContent,\n            title,\n            body\n          },\n          this.scmAuthApi,\n          this.configApi\n        );\n      }\n      default: {\n        throw new Error(\"unimplemented!\");\n      }\n    }\n  }\n  // TODO: this could be part of the catalog api\n  async analyzeLocation(options) {\n    const response = await this.fetchApi.fetch(\n      `${await this.discoveryApi.getBaseUrl(\"catalog\")}/analyze-location`,\n      {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        body: JSON.stringify({\n          location: { type: \"url\", target: options.repo },\n          ...this.configApi.getOptionalString(\n            \"catalog.import.entityFilename\"\n          ) && {\n            catalogFilename: this.configApi.getOptionalString(\n              \"catalog.import.entityFilename\"\n            )\n          }\n        })\n      }\n    ).catch((e) => {\n      throw new Error(`Failed to generate entity definitions, ${e.message}`);\n    });\n    if (!response.ok) {\n      throw new Error(\n        `Failed to generate entity definitions. Received http response ${response.status}: ${response.statusText}`\n      );\n    }\n    const payload = await response.json();\n    return payload;\n  }\n}\n\nexport { CatalogImportClient };\n//# sourceMappingURL=CatalogImportClient.esm.js.map\n","import { createRouteRef, createPlugin, createApiFactory, configApiRef, fetchApiRef, discoveryApiRef, createRoutableExtension } from '@backstage/core-plugin-api';\nimport { scmIntegrationsApiRef, scmAuthApiRef } from '@backstage/integration-react';\nimport { catalogApiRef } from '@backstage/plugin-catalog-react';\nimport { catalogImportApiRef } from './api/CatalogImportApi.esm.js';\nimport { CatalogImportClient } from './api/CatalogImportClient.esm.js';\n\nconst rootRouteRef = createRouteRef({\n  id: \"catalog-import\"\n});\nconst catalogImportPlugin = createPlugin({\n  id: \"catalog-import\",\n  apis: [\n    createApiFactory({\n      api: catalogImportApiRef,\n      deps: {\n        discoveryApi: discoveryApiRef,\n        scmAuthApi: scmAuthApiRef,\n        fetchApi: fetchApiRef,\n        scmIntegrationsApi: scmIntegrationsApiRef,\n        catalogApi: catalogApiRef,\n        configApi: configApiRef\n      },\n      factory: ({\n        discoveryApi,\n        scmAuthApi,\n        fetchApi,\n        scmIntegrationsApi,\n        catalogApi,\n        configApi\n      }) => new CatalogImportClient({\n        discoveryApi,\n        scmAuthApi,\n        scmIntegrationsApi,\n        fetchApi,\n        catalogApi,\n        configApi\n      })\n    })\n  ],\n  routes: {\n    importPage: rootRouteRef\n  }\n});\nconst CatalogImportPage = catalogImportPlugin.provide(\n  createRoutableExtension({\n    name: \"CatalogImportPage\",\n    component: () => import('./components/ImportPage/index.esm.js').then((m) => m.ImportPage),\n    mountPoint: rootRouteRef\n  })\n);\n\nexport { CatalogImportPage, catalogImportPlugin, rootRouteRef };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst catalogApiRef = createApiRef({\n  id: \"plugin.catalog.service\"\n});\n\nexport { catalogApiRef };\n//# sourceMappingURL=api.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst entityPresentationApiRef = createApiRef({\n  id: \"plugin.catalog.entity-presentation\"\n});\n\nexport { entityPresentationApiRef };\n//# sourceMappingURL=EntityPresentationApi.esm.js.map\n","import { stringifyEntityRef, DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport get from 'lodash/get';\n\nfunction defaultEntityPresentation(entityOrRef, context) {\n  const { kind, namespace, name, title, description, displayName, type } = getParts(entityOrRef);\n  const entityRef = stringifyEntityRef({\n    kind: kind || \"unknown\",\n    namespace: namespace || DEFAULT_NAMESPACE,\n    name: name || \"unknown\"\n  });\n  const shortRef = getShortRef({ kind, namespace, name, context });\n  const primary = [displayName, title, shortRef].find(\n    (candidate) => candidate && typeof candidate === \"string\"\n  );\n  const secondary = [\n    primary !== entityRef ? entityRef : void 0,\n    type,\n    description\n  ].filter((candidate) => candidate && typeof candidate === \"string\").join(\" | \");\n  return {\n    entityRef,\n    primaryTitle: primary,\n    secondaryTitle: secondary || void 0,\n    Icon: void 0\n    // leave it up to the presentation API to handle\n  };\n}\nconst isString = (value) => Boolean(value) && typeof value === \"string\";\nfunction getParts(entityOrRef) {\n  if (typeof entityOrRef === \"string\") {\n    let colonI = entityOrRef.indexOf(\":\");\n    const slashI = entityOrRef.indexOf(\"/\");\n    if (slashI !== -1 && slashI < colonI) {\n      colonI = -1;\n    }\n    const kind = colonI === -1 ? void 0 : entityOrRef.slice(0, colonI);\n    const namespace = slashI === -1 ? void 0 : entityOrRef.slice(colonI + 1, slashI);\n    const name = entityOrRef.slice(Math.max(colonI + 1, slashI + 1));\n    return { kind, namespace, name };\n  }\n  if (typeof entityOrRef === \"object\" && entityOrRef !== null) {\n    const kind = [get(entityOrRef, \"kind\")].find(isString);\n    const namespace = [\n      get(entityOrRef, \"metadata.namespace\"),\n      get(entityOrRef, \"namespace\")\n    ].find(isString);\n    const name = [\n      get(entityOrRef, \"metadata.name\"),\n      get(entityOrRef, \"name\")\n    ].find(isString);\n    const title = [get(entityOrRef, \"metadata.title\")].find(isString);\n    const description = [get(entityOrRef, \"metadata.description\")].find(\n      isString\n    );\n    const displayName = [get(entityOrRef, \"spec.profile.displayName\")].find(\n      isString\n    );\n    const type = [get(entityOrRef, \"spec.type\")].find(isString);\n    return { kind, namespace, name, title, description, displayName, type };\n  }\n  return {};\n}\nfunction getShortRef(options) {\n  const kind = options.kind?.toLocaleLowerCase(\"en-US\") || \"unknown\";\n  const namespace = options.namespace || DEFAULT_NAMESPACE;\n  const name = options.name || \"unknown\";\n  const defaultKindLower = options.context?.defaultKind?.toLocaleLowerCase(\"en-US\");\n  const defaultNamespaceLower = options.context?.defaultNamespace?.toLocaleLowerCase(\"en-US\");\n  let result = name;\n  if (defaultNamespaceLower && namespace.toLocaleLowerCase(\"en-US\") !== defaultNamespaceLower || namespace !== DEFAULT_NAMESPACE) {\n    result = `${namespace}/${result}`;\n  }\n  if (defaultKindLower && kind.toLocaleLowerCase(\"en-US\") !== defaultKindLower) {\n    result = `${kind}:${result}`;\n  }\n  return result;\n}\n\nexport { defaultEntityPresentation };\n//# sourceMappingURL=defaultEntityPresentation.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { useApiHolder } from '@backstage/core-plugin-api';\nimport { useMemo } from 'react';\nimport { entityPresentationApiRef } from './EntityPresentationApi.esm.js';\nimport { defaultEntityPresentation } from './defaultEntityPresentation.esm.js';\nimport { useUpdatingObservable } from './useUpdatingObservable.esm.js';\n\nfunction useEntityPresentation(entityOrRef, context) {\n  const apis = useApiHolder();\n  const entityPresentationApi = apis.get(entityPresentationApiRef);\n  const deps = [\n    entityPresentationApi,\n    JSON.stringify(entityOrRef),\n    JSON.stringify(context || null)\n  ];\n  const presentation = useMemo(\n    () => {\n      if (!entityPresentationApi) {\n        const fallback = defaultEntityPresentation(entityOrRef, context);\n        return { snapshot: fallback, promise: Promise.resolve(fallback) };\n      }\n      return entityPresentationApi.forEntity(\n        typeof entityOrRef === \"string\" || \"metadata\" in entityOrRef ? entityOrRef : stringifyEntityRef(entityOrRef),\n        context\n      );\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    deps\n  );\n  return useUpdatingObservable(presentation.snapshot, presentation.update$, [\n    presentation\n  ]);\n}\n\nexport { useEntityPresentation };\n//# sourceMappingURL=useEntityPresentation.esm.js.map\n","import { useState, useEffect } from 'react';\n\nfunction useUpdatingObservable(value, observable, deps) {\n  const [snapshot, setSnapshot] = useState(value);\n  useEffect(() => {\n    setSnapshot(value);\n    const subscription = observable?.subscribe({\n      next: (updatedValue) => {\n        setSnapshot(updatedValue);\n      },\n      complete: () => {\n        subscription?.unsubscribe();\n      }\n    });\n    return () => {\n      subscription?.unsubscribe();\n    };\n  }, deps);\n  return snapshot;\n}\n\nexport { useUpdatingObservable };\n//# sourceMappingURL=useUpdatingObservable.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst starredEntitiesApiRef = createApiRef({\n  id: \"catalog-react.starred-entities\"\n});\n\nexport { starredEntitiesApiRef };\n//# sourceMappingURL=StarredEntitiesApi.esm.js.map\n","import { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport '../../apis/EntityPresentationApi/EntityPresentationApi.esm.js';\nimport '@backstage/catalog-model';\nimport 'lodash/get';\nimport { useEntityPresentation } from '../../apis/EntityPresentationApi/useEntityPresentation.esm.js';\nimport '../../apis/StarredEntitiesApi/StarredEntitiesApi.esm.js';\nimport 'zen-observable';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      display: \"inline-flex\",\n      alignItems: \"center\",\n      textDecoration: \"inherit\"\n    },\n    icon: {\n      marginRight: theme.spacing(0.5),\n      color: theme.palette.text.secondary,\n      \"& svg\": {\n        verticalAlign: \"middle\"\n      }\n    }\n  }),\n  { name: \"CatalogReactEntityDisplayName\" }\n);\nconst EntityDisplayName = (props) => {\n  const { entityRef, hideIcon, disableTooltip, defaultKind, defaultNamespace } = props;\n  const classes = useStyles();\n  const { primaryTitle, secondaryTitle, Icon } = useEntityPresentation(\n    entityRef,\n    { defaultKind, defaultNamespace }\n  );\n  let content = /* @__PURE__ */ jsx(Fragment, { children: primaryTitle });\n  content = /* @__PURE__ */ jsxs(Box, { component: \"span\", className: classes.root, children: [\n    Icon && !hideIcon ? /* @__PURE__ */ jsx(Box, { component: \"span\", className: classes.icon, children: /* @__PURE__ */ jsx(Icon, { fontSize: \"inherit\" }) }) : null,\n    content\n  ] });\n  if (secondaryTitle && !disableTooltip) {\n    content = /* @__PURE__ */ jsx(Tooltip, { enterDelay: 1500, title: secondaryTitle, children: content });\n  }\n  return content;\n};\n\nexport { EntityDisplayName };\n//# sourceMappingURL=EntityDisplayName.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { Link } from '@backstage/core-components';\nimport { useRouteRef } from '@backstage/core-plugin-api';\nimport { forwardRef } from 'react';\nimport { entityRouteRef, entityRouteParams } from '../../routes.esm.js';\nimport { EntityDisplayName } from '../EntityDisplayName/EntityDisplayName.esm.js';\n\nconst EntityRefLink = forwardRef(\n  (props, ref) => {\n    const {\n      entityRef,\n      defaultKind,\n      defaultNamespace,\n      title,\n      children,\n      hideIcon,\n      disableTooltip,\n      ...linkProps\n    } = props;\n    const entityRoute = useEntityRoute(props.entityRef);\n    const content = children ?? title ?? /* @__PURE__ */ jsx(\n      EntityDisplayName,\n      {\n        entityRef,\n        defaultKind,\n        defaultNamespace,\n        hideIcon,\n        disableTooltip\n      }\n    );\n    return /* @__PURE__ */ jsx(Link, { ...linkProps, ref, to: entityRoute, children: content });\n  }\n);\nfunction useEntityRoute(entityRef) {\n  const entityRoute = useRouteRef(entityRouteRef);\n  const routeParams = entityRouteParams(entityRef, { encodeParams: true });\n  return entityRoute(routeParams);\n}\n\nexport { EntityRefLink };\n//# sourceMappingURL=EntityRefLink.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport { Fragment as Fragment$1 } from 'react';\nimport { EntityRefLink } from './EntityRefLink.esm.js';\n\nfunction EntityRefLinks(props) {\n  const { entityRefs, hideIcons, ...linkProps } = props;\n  return /* @__PURE__ */ jsx(Fragment, { children: entityRefs.map((r, i) => {\n    const entityRefString = typeof r === \"string\" ? r : stringifyEntityRef(r);\n    return /* @__PURE__ */ jsxs(Fragment$1, { children: [\n      i > 0 && \", \",\n      /* @__PURE__ */ jsx(EntityRefLink, { ...linkProps, entityRef: r, hideIcon: hideIcons })\n    ] }, `${i}.${entityRefString}`);\n  }) });\n}\n\nexport { EntityRefLinks };\n//# sourceMappingURL=EntityRefLinks.esm.js.map\n","import { DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport get from 'lodash/get';\n\nfunction humanizeEntityRef(entityRef, opts) {\n  const defaultKind = opts?.defaultKind;\n  let kind;\n  let namespace;\n  let name;\n  if (\"metadata\" in entityRef) {\n    kind = entityRef.kind;\n    namespace = entityRef.metadata.namespace;\n    name = entityRef.metadata.name;\n  } else {\n    kind = entityRef.kind;\n    namespace = entityRef.namespace;\n    name = entityRef.name;\n  }\n  if (namespace === void 0 || namespace === \"\") {\n    namespace = DEFAULT_NAMESPACE;\n  }\n  if (opts?.defaultNamespace !== void 0) {\n    if (opts?.defaultNamespace === namespace) {\n      namespace = void 0;\n    }\n  } else if (namespace === DEFAULT_NAMESPACE) {\n    namespace = void 0;\n  }\n  kind = kind.toLocaleLowerCase(\"en-US\");\n  kind = defaultKind && defaultKind.toLocaleLowerCase(\"en-US\") === kind ? void 0 : kind;\n  return `${kind ? `${kind}:` : \"\"}${namespace ? `${namespace}/` : \"\"}${name}`;\n}\nfunction humanizeEntity(entity, defaultName) {\n  for (const path of [\"spec.profile.displayName\", \"metadata.title\"]) {\n    const value = get(entity, path);\n    if (value && typeof value === \"string\") {\n      return value;\n    }\n  }\n  return defaultName;\n}\n\nexport { humanizeEntity, humanizeEntityRef };\n//# sourceMappingURL=humanize.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { useState, useEffect, useCallback } from 'react';\nimport '../apis/EntityPresentationApi/EntityPresentationApi.esm.js';\nimport 'lodash/get';\nimport { starredEntitiesApiRef } from '../apis/StarredEntitiesApi/StarredEntitiesApi.esm.js';\nimport 'zen-observable';\n\nfunction getEntityRef(entityOrRef) {\n  return typeof entityOrRef === \"string\" ? entityOrRef : stringifyEntityRef(entityOrRef);\n}\nfunction useStarredEntity(entityOrRef) {\n  const starredEntitiesApi = useApi(starredEntitiesApiRef);\n  const [isStarredEntity, setIsStarredEntity] = useState(false);\n  useEffect(() => {\n    const subscription = starredEntitiesApi.starredEntitie$().subscribe({\n      next(starredEntities) {\n        setIsStarredEntity(starredEntities.has(getEntityRef(entityOrRef)));\n      }\n    });\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [entityOrRef, starredEntitiesApi]);\n  const toggleStarredEntity = useCallback(\n    () => starredEntitiesApi.toggleStarred(getEntityRef(entityOrRef)).then(),\n    [entityOrRef, starredEntitiesApi]\n  );\n  return {\n    toggleStarredEntity,\n    isStarredEntity\n  };\n}\n\nexport { useStarredEntity };\n//# sourceMappingURL=useStarredEntity.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport { useStarredEntity } from '../../hooks/useStarredEntity.esm.js';\nimport { catalogReactTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { FavoriteToggle } from '@backstage/core-components';\n\nconst FavoriteEntity = (props) => {\n  const { toggleStarredEntity, isStarredEntity } = useStarredEntity(\n    props.entity\n  );\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  const title = isStarredEntity ? t(\"favoriteEntity.removeFromFavorites\") : t(\"favoriteEntity.addToFavorites\");\n  const id = `favorite-${stringifyEntityRef(props.entity).replace(\n    /[^a-zA-Z0-9-_]/g,\n    \"-\"\n  )}`;\n  return /* @__PURE__ */ jsx(\n    FavoriteToggle,\n    {\n      title,\n      id,\n      isFavorite: isStarredEntity,\n      onToggle: toggleStarredEntity,\n      ...props\n    }\n  );\n};\n\nexport { FavoriteEntity };\n//# sourceMappingURL=FavoriteEntity.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { EmptyState, CodeSnippet, Link } from '@backstage/core-components';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { useEntity } from '../../hooks/useEntity.esm.js';\nimport '../../hooks/useEntityListProvider.esm.js';\nimport 'react';\nimport 'react-use/esm/useAsync';\nimport 'lodash/isEqual';\nimport 'lodash/sortBy';\nimport '@backstage/core-plugin-api';\nimport '../../api.esm.js';\nimport '@backstage/catalog-model';\nimport 'react-use/esm/useObservable';\nimport '../../apis/EntityPresentationApi/EntityPresentationApi.esm.js';\nimport 'lodash/get';\nimport '../../apis/StarredEntitiesApi/StarredEntitiesApi.esm.js';\nimport 'zen-observable';\nimport { catalogReactTranslationRef } from '../../translation.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    code: {\n      borderRadius: 6,\n      margin: theme.spacing(2, 0),\n      background: theme.palette.type === \"dark\" ? \"#444\" : theme.palette.common.white\n    }\n  }),\n  { name: \"BackstageMissingAnnotationEmptyState\" }\n);\nfunction generateYamlExample(annotations, entity) {\n  const kind = entity?.kind || \"Component\";\n  const name = entity?.metadata.name || \"example\";\n  const type = entity?.spec?.type || \"website\";\n  const owner = entity?.spec?.owner || \"user:default/guest\";\n  const yamlText = `apiVersion: backstage.io/v1alpha1\nkind: ${kind}\nmetadata:\n  name: ${name}\n  annotations:${annotations.map((ann) => `\n    ${ann}: value`).join(\"\")}\nspec:\n  type: ${type}\n  owner: ${owner}`;\n  let line = 6;\n  const lineNumbers = [];\n  annotations.forEach(() => {\n    lineNumbers.push(line);\n    line++;\n  });\n  return {\n    yamlText,\n    lineNumbers\n  };\n}\nfunction generateDescription(annotations, entityKind = \"Component\", t) {\n  const annotationList = annotations.map((ann) => /* @__PURE__ */ jsx(\"code\", { children: ann }, ann)).reduce((prev, curr) => /* @__PURE__ */ jsxs(Fragment, { children: [\n    prev,\n    \", \",\n    curr\n  ] }));\n  return t(\"missingAnnotationEmptyState.generateDescription\", {\n    count: annotations.length,\n    entityKind,\n    annotations: annotationList\n  });\n}\nfunction MissingAnnotationEmptyState(props) {\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  let entity;\n  try {\n    const entityContext = useEntity();\n    entity = entityContext.entity;\n  } catch (err) {\n  }\n  const { annotation, readMoreUrl } = props;\n  const annotations = Array.isArray(annotation) ? annotation : [annotation];\n  const url = readMoreUrl || \"https://backstage.io/docs/features/software-catalog/well-known-annotations\";\n  const classes = useStyles();\n  const entityKind = entity?.kind || \"Component\";\n  const { yamlText, lineNumbers } = generateYamlExample(annotations, entity);\n  return /* @__PURE__ */ jsx(\n    EmptyState,\n    {\n      missing: \"field\",\n      title: t(\"missingAnnotationEmptyState.title\"),\n      description: generateDescription(annotations, entityKind, t),\n      action: /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: t(\"missingAnnotationEmptyState.annotationYaml\", { entityKind }) }),\n        /* @__PURE__ */ jsx(Box, { className: classes.code, children: /* @__PURE__ */ jsx(\n          CodeSnippet,\n          {\n            text: yamlText,\n            language: \"yaml\",\n            showLineNumbers: true,\n            highlightedNumbers: lineNumbers,\n            customStyle: { background: \"inherit\", fontSize: \"115%\" }\n          }\n        ) }),\n        /* @__PURE__ */ jsx(Button, { color: \"primary\", component: Link, to: url, children: t(\"missingAnnotationEmptyState.readMore\") })\n      ] })\n    }\n  );\n}\n\nexport { MissingAnnotationEmptyState };\n//# sourceMappingURL=MissingAnnotationEmptyState.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport { AnalyticsContext } from '@backstage/core-plugin-api';\nimport { createVersionedContext, useVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\n\nconst NewEntityContext = createVersionedContext(\n  \"entity-context\"\n);\nconst AsyncEntityProvider = (props) => {\n  const { children, entity, loading, error, refresh } = props;\n  const value = { entity, loading, error, refresh };\n  return /* @__PURE__ */ jsx(NewEntityContext.Provider, { value: createVersionedValueMap({ 1: value }), children: /* @__PURE__ */ jsx(\n    AnalyticsContext,\n    {\n      attributes: {\n        ...entity ? { entityRef: stringifyEntityRef(entity) } : void 0\n      },\n      children\n    }\n  ) });\n};\nconst EntityProvider = (props) => /* @__PURE__ */ jsx(\n  AsyncEntityProvider,\n  {\n    entity: props.entity,\n    loading: !Boolean(props.entity),\n    error: void 0,\n    refresh: void 0,\n    children: props.children\n  }\n);\nfunction useEntity() {\n  const versionedHolder = useVersionedContext(\n    \"entity-context\"\n  );\n  if (!versionedHolder) {\n    throw new Error(\"Entity context is not available\");\n  }\n  const value = versionedHolder.atVersion(1);\n  if (!value) {\n    throw new Error(\"EntityContext v1 not available\");\n  }\n  if (!value.entity) {\n    throw new Error(\n      \"useEntity hook is being called outside of an EntityLayout where the entity has not been loaded. If this is intentional, please use useAsyncEntity instead.\"\n    );\n  }\n  return { entity: value.entity };\n}\nfunction useAsyncEntity() {\n  const versionedHolder = useVersionedContext(\n    \"entity-context\"\n  );\n  if (!versionedHolder) {\n    throw new Error(\"Entity context is not available\");\n  }\n  const value = versionedHolder.atVersion(1);\n  if (!value) {\n    throw new Error(\"EntityContext v1 not available\");\n  }\n  const { entity, loading, error, refresh } = value;\n  return { entity, loading, error, refresh };\n}\n\nexport { AsyncEntityProvider, EntityProvider, useAsyncEntity, useEntity };\n//# sourceMappingURL=useEntity.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { usePermission } from '@backstage/plugin-permission-react';\nimport { useAsyncEntity } from './useEntity.esm.js';\n\nfunction useEntityPermission(permission) {\n  const {\n    entity,\n    loading: loadingEntity,\n    error: entityError\n  } = useAsyncEntity();\n  const {\n    allowed,\n    loading: loadingPermission,\n    error: permissionError\n  } = usePermission({\n    permission,\n    resourceRef: entity ? stringifyEntityRef(entity) : void 0\n  });\n  if (loadingEntity || loadingPermission) {\n    return { loading: true, allowed: false };\n  }\n  if (entityError) {\n    return { loading: false, allowed: false, error: entityError };\n  }\n  return { loading: false, allowed, error: permissionError };\n}\n\nexport { useEntityPermission };\n//# sourceMappingURL=useEntityPermission.esm.js.map\n","import { parseEntityRef, DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport { createRouteRef } from '@backstage/core-plugin-api';\nimport { getOrCreateGlobalSingleton } from '@backstage/version-bridge';\n\nconst entityRouteRef = getOrCreateGlobalSingleton(\n  \"catalog:entity-route-ref\",\n  () => createRouteRef({\n    id: \"catalog:entity\",\n    params: [\"namespace\", \"kind\", \"name\"]\n  })\n);\nfunction entityRouteParams(entityOrRef, options) {\n  let kind;\n  let namespace;\n  let name;\n  if (typeof entityOrRef === \"string\") {\n    const parsed = parseEntityRef(entityOrRef);\n    kind = parsed.kind;\n    namespace = parsed.namespace;\n    name = parsed.name;\n  } else if (\"metadata\" in entityOrRef) {\n    kind = entityOrRef.kind;\n    namespace = entityOrRef.metadata.namespace;\n    name = entityOrRef.metadata.name;\n  } else {\n    kind = entityOrRef.kind;\n    namespace = entityOrRef.namespace;\n    name = entityOrRef.name;\n  }\n  kind = kind.toLocaleLowerCase(\"en-US\");\n  namespace = namespace?.toLocaleLowerCase(\"en-US\") ?? DEFAULT_NAMESPACE;\n  const { encodeParams = false } = options || {};\n  if (encodeParams) {\n    kind = encodeURIComponent(kind);\n    namespace = encodeURIComponent(namespace);\n    name = encodeURIComponent(name);\n  }\n  return {\n    kind,\n    namespace,\n    name\n  };\n}\n\nexport { entityRouteParams, entityRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst catalogReactTranslationRef = createTranslationRef({\n  id: \"catalog-react\",\n  messages: {\n    catalogFilter: {\n      title: \"Filters\",\n      buttonTitle: \"Filters\"\n    },\n    entityKindPicker: {\n      title: \"Kind\",\n      errorMessage: \"Failed to load entity kinds\"\n    },\n    entityLifecyclePicker: {\n      title: \"Lifecycle\"\n    },\n    entityNamespacePicker: {\n      title: \"Namespace\"\n    },\n    entityOwnerPicker: {\n      title: \"Owner\"\n    },\n    entityProcessingStatusPicker: {\n      title: \"Processing Status\"\n    },\n    entityTagPicker: {\n      title: \"Tags\"\n    },\n    entityPeekAheadPopover: {\n      title: \"Drill into the entity to see all of the tags.\",\n      emailCardAction: {\n        title: \"Email {{email}}\",\n        subTitle: \"mailto {{email}}\",\n        ariaLabel: \"Email\"\n      },\n      entityCardActionsAriaLabel: \"Show\",\n      entityCardActionsTitle: \"Show details\"\n    },\n    entitySearchBar: {\n      placeholder: \"Search\"\n    },\n    entityTypePicker: {\n      title: \"Type\",\n      errorMessage: \"Failed to load entity types\",\n      optionAllTitle: \"all\"\n    },\n    favoriteEntity: {\n      addToFavorites: \"Add to favorites\",\n      removeFromFavorites: \"Remove from favorites\"\n    },\n    inspectEntityDialog: {\n      title: \"Entity Inspector\",\n      closeButtonTitle: \"Close\",\n      ancestryPage: {\n        title: \"Ancestry\",\n        description: \"This is the ancestry of entities above the current one - as in, the chain(s) of entities down to the current one, where {{processorsLink}} child entities that ultimately led to the current one existing. Note that this is a completely different mechanism from relations.\",\n        processorsLink: \"processors emitted\"\n      },\n      colocatedPage: {\n        title: \"Colocated\",\n        description: \"These are the entities that are colocated with this entity - as in, they originated from the same data source (e.g. came from the same YAML file), or from the same origin (e.g. the originally registered URL).\",\n        alertNoLocation: \"Entity had no location information.\",\n        alertNoEntity: \"There were no other entities on this location.\",\n        locationHeader: \"At the same location\",\n        originHeader: \"At the same origin\"\n      },\n      jsonPage: {\n        title: \"Entity as JSON\",\n        description: \"This is the raw entity data as received from the catalog, on JSON form.\"\n      },\n      overviewPage: {\n        title: \"Overview\",\n        relation: {\n          title: \"Relations\"\n        },\n        status: {\n          title: \"Status\"\n        },\n        identity: {\n          title: \"Identity\"\n        },\n        metadata: {\n          title: \"Metadata\"\n        },\n        annotations: \"Annotations\",\n        labels: \"Labels\",\n        tags: \"Tags\"\n      },\n      yamlPage: {\n        title: \"Entity as YAML\",\n        description: \"This is the raw entity data as received from the catalog, on YAML form.\"\n      },\n      tabNames: {\n        overview: \"Overview\",\n        ancestry: \"Ancestry\",\n        colocated: \"Colocated\",\n        json: \"Raw JSON\",\n        yaml: \"Raw YAML\"\n      },\n      tabsAriaLabel: \"Inspector options\"\n    },\n    unregisterEntityDialog: {\n      title: \"Are you sure you want to unregister this entity?\",\n      cancelButtonTitle: \"Cancel\",\n      deleteButtonTitle: \"Delete Entity\",\n      deleteEntitySuccessMessage: \"Removed entity {{entityName}}\",\n      bootstrapState: {\n        title: 'You cannot unregister this entity, since it originates from a protected Backstage configuration (location \"{{location}}\"). If you believe this is in error, please contact the {{appTitle}} integrator.',\n        advancedDescription: \"You have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog.\",\n        advancedOptions: \"Advanced Options\"\n      },\n      onlyDeleteStateTitle: \"This entity does not seem to originate from a registered location. You therefore only have the option to delete it outright from the catalog.\",\n      unregisterState: {\n        title: \"This action will unregister the following entities:\",\n        subTitle: \"Located at the following location:\",\n        description: \"To undo, just re-register the entity in {{appTitle}}.\",\n        unregisterButtonTitle: \"Unregister Location\",\n        advancedOptions: \"Advanced Options\",\n        advancedDescription: \"You also have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog.\"\n      },\n      errorStateTitle: \"Internal error: Unknown state\"\n    },\n    userListPicker: {\n      defaultOrgName: \"Company\",\n      personalFilter: {\n        title: \"Personal\",\n        ownedLabel: \"Owned\",\n        starredLabel: \"Starred\"\n      },\n      orgFilterAllLabel: \"All\"\n    },\n    entityTableColumnTitle: {\n      name: \"Name\",\n      system: \"System\",\n      owner: \"Owner\",\n      type: \"Type\",\n      lifecycle: \"Lifecycle\",\n      namespace: \"Namespace\",\n      description: \"Description\",\n      tags: \"Tags\",\n      targets: \"Targets\",\n      title: \"Title\",\n      label: \"Label\",\n      domain: \"Domain\"\n    },\n    missingAnnotationEmptyState: {\n      title: \"Missing Annotation\",\n      readMore: \"Read more\",\n      annotationYaml: \"Add the annotation to your {{entityKind}} YAML as shown in the highlighted example below:\",\n      generateDescription_one: \"The annotation {{annotations}} is missing. You need to add the annotation to your {{entityKind}} if you want to enable this tool.\",\n      generateDescription_other: \"The annotations {{annotations}} are missing. You need to add the annotations to your {{entityKind}} if you want to enable this tool.\"\n    }\n  }\n});\n\nexport { catalogReactTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { parseEntityRef } from '@backstage/catalog-model';\n\nfunction getEntityRelations(entity, relationType, filter) {\n  let entityNames = entity?.relations?.filter((r) => r.type === relationType).map((r) => parseEntityRef(r.targetRef)) || [];\n  if (filter?.kind) {\n    entityNames = entityNames.filter(\n      (e) => e.kind.toLocaleLowerCase(\"en-US\") === filter.kind.toLocaleLowerCase(\"en-US\")\n    );\n  }\n  return entityNames;\n}\n\nexport { getEntityRelations };\n//# sourceMappingURL=getEntityRelations.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst catalogTranslationRef = createTranslationRef({\n  id: \"catalog\",\n  messages: {\n    indexPage: {\n      title: `{{orgName}} Catalog`,\n      createButtonTitle: \"Create\",\n      supportButtonContent: \"All your software catalog entities\"\n    },\n    aboutCard: {\n      title: \"About\",\n      refreshButtonTitle: \"Schedule entity refresh\",\n      editButtonTitle: \"Edit Metadata\",\n      createSimilarButtonTitle: \"Create something similar\",\n      refreshScheduledMessage: \"Refresh scheduled\",\n      launchTemplate: \"Launch Template\",\n      viewTechdocs: \"View TechDocs\",\n      viewSource: \"View Source\",\n      descriptionField: {\n        label: \"Description\",\n        value: \"No description\"\n      },\n      ownerField: {\n        label: \"Owner\",\n        value: \"No Owner\"\n      },\n      domainField: {\n        label: \"Domain\",\n        value: \"No Domain\"\n      },\n      systemField: {\n        label: \"System\",\n        value: \"No System\"\n      },\n      parentComponentField: {\n        label: \"Parent Component\",\n        value: \"No Parent Component\"\n      },\n      typeField: {\n        label: \"Type\"\n      },\n      lifecycleField: {\n        label: \"Lifecycle\"\n      },\n      tagsField: {\n        label: \"Tags\",\n        value: \"No Tags\"\n      },\n      targetsField: {\n        label: \"Targets\"\n      }\n    },\n    searchResultItem: {\n      lifecycle: \"Lifecycle\",\n      Owner: \"Owner\"\n    },\n    catalogTable: {\n      warningPanelTitle: \"Could not fetch catalog entities.\",\n      viewActionTitle: \"View\",\n      editActionTitle: \"Edit\",\n      starActionTitle: \"Add to favorites\",\n      unStarActionTitle: \"Remove from favorites\"\n    },\n    dependencyOfComponentsCard: {\n      title: \"Dependency of components\",\n      emptyMessage: \"No component depends on this component\"\n    },\n    dependsOnComponentsCard: {\n      title: \"Depends on components\",\n      emptyMessage: \"No component is a dependency of this component\"\n    },\n    dependsOnResourcesCard: {\n      title: \"Depends on resources\",\n      emptyMessage: \"No resource is a dependency of this component\"\n    },\n    entityContextMenu: {\n      copiedMessage: \"Copied!\",\n      moreButtonTitle: \"More\",\n      inspectMenuTitle: \"Inspect entity\",\n      copyURLMenuTitle: \"Copy entity URL\",\n      unregisterMenuTitle: \"Unregister entity\"\n    },\n    entityLabelsCard: {\n      title: \"Labels\",\n      emptyDescription: \"No labels defined for this entity. You can add labels to your entity YAML as shown in the highlighted example below:\",\n      readMoreButtonTitle: \"Read more\"\n    },\n    entityLabels: {\n      warningPanelTitle: \"Entity not found\",\n      ownerLabel: \"Owner\",\n      lifecycleLabel: \"Lifecycle\"\n    },\n    entityLinksCard: {\n      title: \"Links\",\n      emptyDescription: \"No links defined for this entity. You can add links to your entity YAML as shown in the highlighted example below:\",\n      readMoreButtonTitle: \"Read more\"\n    },\n    entityNotFound: {\n      title: \"Entity was not found\",\n      description: \"Want to help us build this? Check out our Getting Started documentation.\",\n      docButtonTitle: \"DOCS\"\n    },\n    deleteEntity: {\n      dialogTitle: \"Are you sure you want to delete this entity?\",\n      deleteButtonTitle: \"Delete\",\n      cancelButtonTitle: \"Cancel\",\n      description: \"This entity is not referenced by any location and is therefore not receiving updates. Click here to delete.\"\n    },\n    entityProcessingErrorsDescription: \"The error below originates from\",\n    entityRelationWarningDescription: \"This entity has relations to other entities, which can't be found in the catalog.\\n Entities not found are: \",\n    hasComponentsCard: {\n      title: \"Has components\",\n      emptyMessage: \"No component is part of this system\"\n    },\n    hasResourcesCard: {\n      title: \"Has resources\",\n      emptyMessage: \"No resource is part of this system\"\n    },\n    hasSubcomponentsCard: {\n      title: \"Has subcomponents\",\n      emptyMessage: \"No subcomponent is part of this component\"\n    },\n    hasSubdomainsCard: {\n      title: \"Has subdomains\",\n      emptyMessage: \"No subdomain is part of this domain\"\n    },\n    hasSystemsCard: {\n      title: \"Has systems\",\n      emptyMessage: \"No system is part of this domain\"\n    },\n    relatedEntitiesCard: {\n      emptyHelpLinkTitle: \"Learn how to change this\"\n    },\n    systemDiagramCard: {\n      title: \"System Diagram\",\n      description: \"Use pinch & zoom to move around the diagram.\",\n      edgeLabels: {\n        partOf: \"part of\",\n        provides: \"provides\",\n        dependsOn: \"depends on\"\n      }\n    }\n  }\n});\n\nexport { catalogTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { parseEntityRef } from '@backstage/catalog-model';\nimport { useApp } from '@backstage/core-plugin-api';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DEFAULT_ICON = SvgIcon;\nfunction getKind(kind, entityRef) {\n  if (kind) {\n    return kind.toLocaleLowerCase(\"en-US\");\n  }\n  if (entityRef) {\n    try {\n      return parseEntityRef(entityRef).kind.toLocaleLowerCase(\"en-US\");\n    } catch {\n      return void 0;\n    }\n  }\n  return void 0;\n}\nfunction useIcon(kind, entityRef) {\n  const app = useApp();\n  const actualKind = getKind(kind, entityRef);\n  if (!actualKind) {\n    return DEFAULT_ICON;\n  }\n  const icon = app.getSystemIcon(`kind:${actualKind}`);\n  return icon || DEFAULT_ICON;\n}\nfunction EntityKindIcon(props) {\n  const { kind, entityRef, ...otherProps } = props;\n  const Icon = useIcon(kind, entityRef);\n  return /* @__PURE__ */ jsx(Icon, { ...otherProps });\n}\n\nexport { EntityKindIcon };\n//# sourceMappingURL=EntityKindIcon.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { stringifyEntityRef, DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport { Progress, ResponseErrorPanel, Link, DependencyGraph, DependencyGraphTypes } from '@backstage/core-components';\nimport { useApi, useRouteRef, useApp } from '@backstage/core-plugin-api';\nimport Box from '@material-ui/core/Box';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classNames from 'classnames';\nimport { useState, useRef, useLayoutEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport useAsync from 'react-use/esm/useAsync';\nimport { catalogApiRef } from '../../../api.esm.js';\nimport '../../EntityRefLink/EntityRefLink.esm.js';\nimport { humanizeEntityRef } from '../../EntityRefLink/humanize.esm.js';\nimport { entityRouteRef } from '../../../routes.esm.js';\nimport { EntityKindIcon } from './EntityKindIcon.esm.js';\nimport { catalogReactTranslationRef } from '../../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles((theme) => ({\n  node: {\n    fill: theme.palette.grey[300],\n    stroke: theme.palette.grey[300],\n    \"&.primary\": {\n      fill: theme.palette.primary.light,\n      stroke: theme.palette.primary.light\n    },\n    \"&.secondary\": {\n      fill: theme.palette.secondary.light,\n      stroke: theme.palette.secondary.light\n    }\n  },\n  text: {\n    fill: theme.palette.getContrastText(theme.palette.grey[300]),\n    \"&.primary\": {\n      fill: theme.palette.primary.contrastText\n    },\n    \"&.secondary\": {\n      fill: theme.palette.secondary.contrastText\n    },\n    \"&.focused\": {\n      fontWeight: \"bold\"\n    }\n  },\n  clickable: {\n    cursor: \"pointer\"\n  }\n}));\nfunction useAncestry(root) {\n  const catalogClient = useApi(catalogApiRef);\n  const entityRef = stringifyEntityRef(root);\n  const { loading, error, value } = useAsync(async () => {\n    const response = await catalogClient.getEntityAncestors({ entityRef });\n    const nodes = new Array();\n    const edges = new Array();\n    for (const current of response.items) {\n      const currentRef = stringifyEntityRef(current.entity);\n      const isRootNode = currentRef === response.rootEntityRef;\n      nodes.push({ id: currentRef, root: isRootNode, ...current.entity });\n      for (const parentRef of current.parentEntityRefs) {\n        edges.push({ from: currentRef, to: parentRef });\n      }\n    }\n    return { nodes, edges };\n  }, [entityRef]);\n  return {\n    loading,\n    error,\n    nodes: value?.nodes || [],\n    edges: value?.edges || []\n  };\n}\nfunction CustomNode({ node }) {\n  const classes = useStyles();\n  const navigate = useNavigate();\n  const entityRoute = useRouteRef(entityRouteRef);\n  const [width, setWidth] = useState(0);\n  const [height, setHeight] = useState(0);\n  const app = useApp();\n  const idRef = useRef(null);\n  useLayoutEffect(() => {\n    if (idRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = idRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setWidth(renderedWidth);\n        setHeight(renderedHeight);\n      }\n    }\n  }, [width, height]);\n  const hasKindIcon = app.getSystemIcon(\n    `kind:${node.kind.toLocaleLowerCase(\"en-US\")}`\n  );\n  const padding = 10;\n  const iconSize = height;\n  const paddedIconWidth = hasKindIcon ? iconSize + padding : 0;\n  const paddedWidth = paddedIconWidth + width + padding * 2;\n  const paddedHeight = height + padding * 2;\n  const displayTitle = node.metadata.title || (node.kind && node.metadata.name && node.metadata.namespace ? humanizeEntityRef({\n    kind: node.kind,\n    name: node.metadata.name,\n    namespace: node.metadata.namespace || \"\"\n  }) : node.id);\n  const onClick = () => {\n    navigate(\n      entityRoute({\n        kind: node.kind,\n        namespace: node.metadata.namespace || DEFAULT_NAMESPACE,\n        name: node.metadata.name\n      })\n    );\n  };\n  return /* @__PURE__ */ jsxs(\"g\", { onClick, className: classes.clickable, children: [\n    /* @__PURE__ */ jsx(\n      \"rect\",\n      {\n        className: classNames(\n          classes.node,\n          node.root ? \"secondary\" : \"primary\"\n        ),\n        width: paddedWidth,\n        height: paddedHeight,\n        rx: 10\n      }\n    ),\n    hasKindIcon && /* @__PURE__ */ jsx(\n      EntityKindIcon,\n      {\n        kind: node.kind,\n        y: padding,\n        x: padding,\n        width: iconSize,\n        height: iconSize,\n        className: classNames(\n          classes.text,\n          node.root ? \"secondary\" : \"primary\"\n        )\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      \"text\",\n      {\n        ref: idRef,\n        className: classNames(\n          classes.text,\n          node.root ? \"secondary\" : \"primary\"\n        ),\n        y: paddedHeight / 2,\n        x: paddedIconWidth + (width + padding * 2) / 2,\n        textAnchor: \"middle\",\n        alignmentBaseline: \"middle\",\n        children: displayTitle\n      }\n    )\n  ] });\n}\nfunction AncestryPage(props) {\n  const { loading, error, nodes, edges } = useAncestry(props.entity);\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  if (loading) {\n    return /* @__PURE__ */ jsx(Progress, {});\n  } else if (error) {\n    return /* @__PURE__ */ jsx(ResponseErrorPanel, { error });\n  }\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(DialogContentText, { variant: \"h2\", children: t(\"inspectEntityDialog.ancestryPage.title\") }),\n    /* @__PURE__ */ jsx(DialogContentText, { gutterBottom: true, children: t(\"inspectEntityDialog.ancestryPage.description\", {\n      processorsLink: /* @__PURE__ */ jsx(Link, { to: \"https://backstage.io/docs/features/software-catalog/life-of-an-entity\", children: t(\"inspectEntityDialog.ancestryPage.processorsLink\") })\n    }) }),\n    /* @__PURE__ */ jsx(Box, { mt: 4, children: /* @__PURE__ */ jsx(\n      DependencyGraph,\n      {\n        nodes,\n        edges,\n        renderNode: CustomNode,\n        direction: DependencyGraphTypes.Direction.BOTTOM_TOP,\n        zoom: \"enable-on-click\"\n      }\n    ) })\n  ] });\n}\n\nexport { AncestryPage };\n//# sourceMappingURL=AncestryPage.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { Link } from '@backstage/core-components';\nimport Box from '@material-ui/core/Box';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText$1 from '@material-ui/core/ListItemText';\nimport MuiListSubheader from '@material-ui/core/ListSubheader';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  marginTop: {\n    marginTop: theme.spacing(2)\n  },\n  helpIcon: {\n    marginLeft: theme.spacing(1),\n    color: theme.palette.text.disabled\n  },\n  monospace: {\n    fontFamily: \"monospace\"\n  }\n}));\nfunction ListItemText(props) {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    ListItemText$1,\n    {\n      ...props,\n      primaryTypographyProps: { className: classes.monospace },\n      secondaryTypographyProps: { className: classes.monospace }\n    }\n  );\n}\nfunction ListSubheader(props) {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(MuiListSubheader, { className: classes.monospace, children: props.children });\n}\nfunction Container(props) {\n  return /* @__PURE__ */ jsx(Box, { mt: 2, children: /* @__PURE__ */ jsx(Card, { variant: \"outlined\", children: /* @__PURE__ */ jsxs(CardContent, { children: [\n    /* @__PURE__ */ jsxs(Typography, { variant: \"h6\", gutterBottom: true, children: [\n      props.title,\n      props.helpLink && /* @__PURE__ */ jsx(HelpIcon, { to: props.helpLink })\n    ] }),\n    props.children\n  ] }) }) });\n}\nfunction findLink(value) {\n  if (value.match(/^url:https?:\\/\\//)) {\n    return value.slice(\"url:\".length);\n  }\n  if (value.match(/^https?:\\/\\//)) {\n    return value;\n  }\n  return void 0;\n}\nfunction KeyValueListItem(props) {\n  const [key, value] = props.entry;\n  const link = findLink(value);\n  return /* @__PURE__ */ jsxs(ListItem, { children: [\n    props.indent && /* @__PURE__ */ jsx(ListItemIcon, {}),\n    /* @__PURE__ */ jsx(\n      ListItemText,\n      {\n        primary: key,\n        secondary: link ? /* @__PURE__ */ jsx(Link, { to: link, children: value }) : value\n      }\n    )\n  ] });\n}\nfunction HelpIcon(props) {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(Link, { to: props.to, className: classes.helpIcon, children: /* @__PURE__ */ jsx(HelpOutlineIcon, { fontSize: \"inherit\" }) });\n}\n\nexport { Container, HelpIcon, KeyValueListItem, ListItemText, ListSubheader };\n//# sourceMappingURL=common.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { ANNOTATION_LOCATION, ANNOTATION_ORIGIN_LOCATION, stringifyEntityRef } from '@backstage/catalog-model';\nimport { Progress, ResponseErrorPanel } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\nimport useAsync from 'react-use/esm/useAsync';\nimport { catalogApiRef } from '../../../api.esm.js';\nimport { EntityRefLink } from '../../EntityRefLink/EntityRefLink.esm.js';\nimport 'react';\nimport 'lodash/get';\nimport { KeyValueListItem, ListItemText } from './common.esm.js';\nimport { catalogReactTranslationRef } from '../../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n});\nfunction useColocated(entity) {\n  const catalogApi = useApi(catalogApiRef);\n  const currentEntityRef = stringifyEntityRef(entity);\n  const location = entity.metadata.annotations?.[ANNOTATION_LOCATION];\n  const origin = entity.metadata.annotations?.[ANNOTATION_ORIGIN_LOCATION];\n  const { loading, error, value } = useAsync(async () => {\n    if (!location && !origin) {\n      return [];\n    }\n    const response = await catalogApi.getEntities({\n      filter: [\n        ...location ? [{ [`metadata.annotations.${ANNOTATION_LOCATION}`]: location }] : [],\n        ...origin ? [{ [`metadata.annotations.${ANNOTATION_ORIGIN_LOCATION}`]: origin }] : []\n      ]\n    });\n    return response.items;\n  }, [location, origin]);\n  return {\n    loading,\n    error,\n    location,\n    originLocation: origin,\n    colocatedEntities: value?.filter(\n      (colocated) => stringifyEntityRef(colocated) !== currentEntityRef\n    )\n  };\n}\nfunction EntityList(props) {\n  return /* @__PURE__ */ jsxs(List, { dense: true, children: [\n    props.header && /* @__PURE__ */ jsx(KeyValueListItem, { entry: props.header }, \"header\"),\n    props.entities.map((entity) => /* @__PURE__ */ jsx(ListItem, { children: /* @__PURE__ */ jsx(ListItemText, { primary: /* @__PURE__ */ jsx(EntityRefLink, { entityRef: entity }) }) }, stringifyEntityRef(entity)))\n  ] });\n}\nfunction Contents(props) {\n  const { entity } = props;\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  const { loading, error, location, originLocation, colocatedEntities } = useColocated(entity);\n  if (loading) {\n    return /* @__PURE__ */ jsx(Progress, {});\n  } else if (error) {\n    return /* @__PURE__ */ jsx(ResponseErrorPanel, { error });\n  }\n  if (!location && !originLocation) {\n    return /* @__PURE__ */ jsx(Alert, { severity: \"warning\", children: t(\"inspectEntityDialog.colocatedPage.alertNoLocation\") });\n  } else if (!colocatedEntities?.length) {\n    return /* @__PURE__ */ jsx(Alert, { severity: \"info\", children: t(\"inspectEntityDialog.colocatedPage.alertNoEntity\") });\n  }\n  if (location === originLocation) {\n    return /* @__PURE__ */ jsx(EntityList, { entities: colocatedEntities });\n  }\n  const atLocation = colocatedEntities.filter(\n    (e) => e.metadata.annotations?.[ANNOTATION_LOCATION] === location\n  );\n  const atOrigin = colocatedEntities.filter(\n    (e) => e.metadata.annotations?.[ANNOTATION_ORIGIN_LOCATION] === originLocation\n  );\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    atLocation.length > 0 && /* @__PURE__ */ jsx(\n      EntityList,\n      {\n        entities: atLocation,\n        header: [\n          t(\"inspectEntityDialog.colocatedPage.locationHeader\"),\n          location\n        ]\n      }\n    ),\n    atOrigin.length > 0 && /* @__PURE__ */ jsx(\n      EntityList,\n      {\n        entities: atOrigin,\n        header: [\n          t(\"inspectEntityDialog.colocatedPage.originHeader\"),\n          originLocation\n        ]\n      }\n    )\n  ] });\n}\nfunction ColocatedPage(props) {\n  const classes = useStyles();\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(DialogContentText, { variant: \"h2\", children: t(\"inspectEntityDialog.colocatedPage.title\") }),\n    /* @__PURE__ */ jsx(DialogContentText, { children: t(\"inspectEntityDialog.colocatedPage.description\") }),\n    /* @__PURE__ */ jsx(\"div\", { className: classes.root, children: /* @__PURE__ */ jsx(Contents, { entity: props.entity }) })\n  ] });\n}\n\nexport { ColocatedPage };\n//# sourceMappingURL=ColocatedPage.esm.js.map\n","function sortKeys(data) {\n  return Object.fromEntries(\n    [...Object.entries(data)].sort((a, b) => a[0] < b[0] ? -1 : 1)\n  );\n}\n\nexport { sortKeys };\n//# sourceMappingURL=util.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { CodeSnippet } from '@backstage/core-components';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport { sortKeys } from './util.esm.js';\nimport { catalogReactTranslationRef } from '../../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction JsonPage(props) {\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(DialogContentText, { variant: \"h2\", children: t(\"inspectEntityDialog.jsonPage.title\") }),\n    /* @__PURE__ */ jsx(DialogContentText, { children: t(\"inspectEntityDialog.jsonPage.description\") }),\n    /* @__PURE__ */ jsx(DialogContentText, { children: /* @__PURE__ */ jsx(\"div\", { style: { fontSize: \"75%\" }, \"data-testid\": \"code-snippet\", children: /* @__PURE__ */ jsx(\n      CodeSnippet,\n      {\n        text: JSON.stringify(sortKeys(props.entity), void 0, 2),\n        language: \"json\",\n        showCopyCodeButton: true\n      }\n    ) }) })\n  ] });\n}\n\nexport { JsonPage };\n//# sourceMappingURL=JsonPage.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport groupBy from 'lodash/groupBy';\nimport sortBy from 'lodash/sortBy';\nimport { EntityRefLink } from '../../EntityRefLink/EntityRefLink.esm.js';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport 'react';\nimport 'lodash/get';\nimport { Container, ListItemText, KeyValueListItem, ListSubheader, HelpIcon } from './common.esm.js';\nimport { CopyTextButton } from '@backstage/core-components';\nimport { catalogReactTranslationRef } from '../../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n});\nfunction OverviewPage(props) {\n  const classes = useStyles();\n  const {\n    apiVersion,\n    kind,\n    metadata,\n    spec,\n    relations = [],\n    status = {}\n  } = props.entity;\n  const groupedRelations = groupBy(\n    sortBy(relations, (r) => r.targetRef),\n    \"type\"\n  );\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  const entityRef = stringifyEntityRef(props.entity);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(DialogContentText, { variant: \"h2\", children: t(\"inspectEntityDialog.overviewPage.title\") }),\n    /* @__PURE__ */ jsxs(\"div\", { className: classes.root, children: [\n      /* @__PURE__ */ jsx(Container, { title: t(\"inspectEntityDialog.overviewPage.identity.title\"), children: /* @__PURE__ */ jsxs(List, { dense: true, children: [\n        /* @__PURE__ */ jsx(ListItem, { children: /* @__PURE__ */ jsx(ListItemText, { primary: \"apiVersion\", secondary: apiVersion }) }),\n        /* @__PURE__ */ jsx(ListItem, { children: /* @__PURE__ */ jsx(ListItemText, { primary: \"kind\", secondary: kind }) }),\n        spec?.type && /* @__PURE__ */ jsx(ListItem, { children: /* @__PURE__ */ jsx(\n          ListItemText,\n          {\n            primary: \"spec.type\",\n            secondary: spec.type?.toString()\n          }\n        ) }),\n        metadata.uid && /* @__PURE__ */ jsxs(ListItem, { children: [\n          /* @__PURE__ */ jsx(ListItemText, { primary: \"uid\", secondary: metadata.uid }),\n          /* @__PURE__ */ jsx(ListItemSecondaryAction, { children: /* @__PURE__ */ jsx(CopyTextButton, { text: metadata.uid }) })\n        ] }),\n        metadata.etag && /* @__PURE__ */ jsxs(ListItem, { children: [\n          /* @__PURE__ */ jsx(ListItemText, { primary: \"etag\", secondary: metadata.etag }),\n          /* @__PURE__ */ jsx(ListItemSecondaryAction, { children: /* @__PURE__ */ jsx(CopyTextButton, { text: metadata.etag }) })\n        ] }),\n        /* @__PURE__ */ jsxs(ListItem, { children: [\n          /* @__PURE__ */ jsx(ListItemText, { primary: \"entityRef\", secondary: entityRef }),\n          /* @__PURE__ */ jsx(ListItemSecondaryAction, { children: /* @__PURE__ */ jsx(CopyTextButton, { text: entityRef }) })\n        ] })\n      ] }) }),\n      /* @__PURE__ */ jsxs(Container, { title: t(\"inspectEntityDialog.overviewPage.metadata.title\"), children: [\n        !!Object.keys(metadata.annotations || {}).length && /* @__PURE__ */ jsx(\n          List,\n          {\n            dense: true,\n            subheader: /* @__PURE__ */ jsxs(ListSubheader, { children: [\n              t(\"inspectEntityDialog.overviewPage.annotations\"),\n              /* @__PURE__ */ jsx(HelpIcon, { to: \"https://backstage.io/docs/features/software-catalog/well-known-annotations\" })\n            ] }),\n            children: Object.entries(metadata.annotations).map((entry) => /* @__PURE__ */ jsx(KeyValueListItem, { indent: true, entry }, entry[0]))\n          }\n        ),\n        !!Object.keys(metadata.labels || {}).length && /* @__PURE__ */ jsx(\n          List,\n          {\n            dense: true,\n            subheader: /* @__PURE__ */ jsx(ListSubheader, { children: t(\"inspectEntityDialog.overviewPage.labels\") }),\n            children: Object.entries(metadata.labels).map((entry) => /* @__PURE__ */ jsx(KeyValueListItem, { indent: true, entry }, entry[0]))\n          }\n        ),\n        !!metadata.tags?.length && /* @__PURE__ */ jsx(\n          List,\n          {\n            dense: true,\n            subheader: /* @__PURE__ */ jsx(ListSubheader, { children: t(\"inspectEntityDialog.overviewPage.tags\") }),\n            children: metadata.tags.map((tag, index) => /* @__PURE__ */ jsxs(ListItem, { children: [\n              /* @__PURE__ */ jsx(ListItemIcon, {}),\n              /* @__PURE__ */ jsx(ListItemText, { primary: tag })\n            ] }, `${tag}-${index}`))\n          }\n        )\n      ] }),\n      !!relations.length && /* @__PURE__ */ jsx(\n        Container,\n        {\n          title: t(\"inspectEntityDialog.overviewPage.relation.title\"),\n          helpLink: \"https://backstage.io/docs/features/software-catalog/well-known-relations\",\n          children: Object.entries(groupedRelations).map(\n            ([type, groupRelations], index) => /* @__PURE__ */ jsx(\"div\", { children: /* @__PURE__ */ jsx(List, { dense: true, subheader: /* @__PURE__ */ jsx(ListSubheader, { children: type }), children: groupRelations.map((group) => /* @__PURE__ */ jsx(ListItem, { children: /* @__PURE__ */ jsx(\n              ListItemText,\n              {\n                primary: /* @__PURE__ */ jsx(EntityRefLink, { entityRef: group.targetRef })\n              }\n            ) }, group.targetRef)) }) }, index)\n          )\n        }\n      ),\n      !!status.items?.length && /* @__PURE__ */ jsx(\n        Container,\n        {\n          title: t(\"inspectEntityDialog.overviewPage.status.title\"),\n          helpLink: \"https://backstage.io/docs/features/software-catalog/well-known-statuses\",\n          children: status.items.map((item, index) => /* @__PURE__ */ jsxs(\"div\", { children: [\n            /* @__PURE__ */ jsxs(Typography, { children: [\n              item.level,\n              \": \",\n              item.type\n            ] }),\n            /* @__PURE__ */ jsx(Box, { ml: 2, children: item.message })\n          ] }, index))\n        }\n      )\n    ] })\n  ] });\n}\n\nexport { OverviewPage };\n//# sourceMappingURL=OverviewPage.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { CodeSnippet } from '@backstage/core-components';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport YAML from 'yaml';\nimport { sortKeys } from './util.esm.js';\nimport { catalogReactTranslationRef } from '../../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction YamlPage(props) {\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(DialogContentText, { variant: \"h2\", children: t(\"inspectEntityDialog.yamlPage.title\") }),\n    /* @__PURE__ */ jsx(DialogContentText, { children: t(\"inspectEntityDialog.yamlPage.description\") }),\n    /* @__PURE__ */ jsx(DialogContentText, { children: /* @__PURE__ */ jsx(\"div\", { style: { fontSize: \"75%\" }, \"data-testid\": \"code-snippet\", children: /* @__PURE__ */ jsx(\n      CodeSnippet,\n      {\n        text: YAML.stringify(sortKeys(props.entity)),\n        language: \"yaml\",\n        showCopyCodeButton: true\n      }\n    ) }) })\n  ] });\n}\n\nexport { YamlPage };\n//# sourceMappingURL=YamlPage.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useMemo, useState, useEffect } from 'react';\nimport { AncestryPage } from './components/AncestryPage.esm.js';\nimport { ColocatedPage } from './components/ColocatedPage.esm.js';\nimport { JsonPage } from './components/JsonPage.esm.js';\nimport { OverviewPage } from './components/OverviewPage.esm.js';\nimport { YamlPage } from './components/YamlPage.esm.js';\nimport { catalogReactTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles((theme) => ({\n  fullHeightDialog: {\n    height: \"calc(100% - 64px)\"\n  },\n  root: {\n    display: \"flex\",\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n    flexShrink: 0\n  },\n  tabContents: {\n    flexGrow: 1,\n    overflowX: \"auto\"\n  }\n}));\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(\n    \"div\",\n    {\n      role: \"tabpanel\",\n      hidden: value !== index,\n      id: `vertical-tabpanel-${index}`,\n      \"aria-labelledby\": `vertical-tab-${index}`,\n      className: classes.tabContents,\n      ...other,\n      children: value === index && /* @__PURE__ */ jsx(Box, { pl: 3, pr: 3, children })\n    }\n  );\n}\nfunction a11yProps(index) {\n  return {\n    id: `vertical-tab-${index}`,\n    \"aria-controls\": `vertical-tabpanel-${index}`\n  };\n}\nfunction InspectEntityDialog(props) {\n  const classes = useStyles();\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  const tabNames = useMemo(\n    () => ({\n      overview: t(\"inspectEntityDialog.tabNames.overview\"),\n      ancestry: t(\"inspectEntityDialog.tabNames.ancestry\"),\n      colocated: t(\"inspectEntityDialog.tabNames.colocated\"),\n      json: t(\"inspectEntityDialog.tabNames.json\"),\n      yaml: t(\"inspectEntityDialog.tabNames.yaml\")\n    }),\n    [t]\n  );\n  const tabs = Object.keys(tabNames);\n  const [activeTab, setActiveTab] = useState(\n    getTabIndex(tabs, props.initialTab)\n  );\n  useEffect(() => {\n    getTabIndex(tabs, props.initialTab);\n  }, [props.open, props.initialTab, tabs]);\n  if (!props.entity) {\n    return null;\n  }\n  return /* @__PURE__ */ jsxs(\n    Dialog,\n    {\n      fullWidth: true,\n      maxWidth: \"xl\",\n      open: props.open,\n      onClose: props.onClose,\n      \"aria-labelledby\": \"entity-inspector-dialog-title\",\n      PaperProps: { className: classes.fullHeightDialog },\n      children: [\n        /* @__PURE__ */ jsx(DialogTitle, { id: \"entity-inspector-dialog-title\", children: t(\"inspectEntityDialog.title\") }),\n        /* @__PURE__ */ jsx(DialogContent, { dividers: true, children: /* @__PURE__ */ jsxs(\"div\", { className: classes.root, children: [\n          /* @__PURE__ */ jsx(\n            Tabs,\n            {\n              orientation: \"vertical\",\n              variant: \"scrollable\",\n              value: activeTab,\n              onChange: (_, tabIndex) => {\n                setActiveTab(tabIndex);\n                props.onSelect?.(tabs[tabIndex]);\n              },\n              \"aria-label\": t(\"inspectEntityDialog.tabsAriaLabel\"),\n              className: classes.tabs,\n              children: tabs.map((tab, index) => /* @__PURE__ */ jsx(Tab, { label: tabNames[tab], ...a11yProps(index) }, tab))\n            }\n          ),\n          /* @__PURE__ */ jsx(TabPanel, { value: activeTab, index: 0, children: /* @__PURE__ */ jsx(OverviewPage, { entity: props.entity }) }),\n          /* @__PURE__ */ jsx(TabPanel, { value: activeTab, index: 1, children: /* @__PURE__ */ jsx(AncestryPage, { entity: props.entity }) }),\n          /* @__PURE__ */ jsx(TabPanel, { value: activeTab, index: 2, children: /* @__PURE__ */ jsx(ColocatedPage, { entity: props.entity }) }),\n          /* @__PURE__ */ jsx(TabPanel, { value: activeTab, index: 3, children: /* @__PURE__ */ jsx(JsonPage, { entity: props.entity }) }),\n          /* @__PURE__ */ jsx(TabPanel, { value: activeTab, index: 4, children: /* @__PURE__ */ jsx(YamlPage, { entity: props.entity }) })\n        ] }) }),\n        /* @__PURE__ */ jsx(DialogActions, { children: /* @__PURE__ */ jsx(Button, { onClick: props.onClose, color: \"primary\", children: t(\"inspectEntityDialog.closeButtonTitle\") }) })\n      ]\n    }\n  );\n}\nfunction getTabIndex(allTabs, initialTab) {\n  return initialTab ? allTabs.indexOf(initialTab) : 0;\n}\n\nexport { InspectEntityDialog };\n//# sourceMappingURL=InspectEntityDialog.esm.js.map\n","import { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nimport { EntityRefLink } from '../EntityRefLink/EntityRefLink.esm.js';\nimport '@backstage/catalog-model';\nimport { useState, useCallback } from 'react';\nimport 'lodash/get';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\nimport { useUnregisterEntityDialogState } from './useUnregisterEntityDialogState.esm.js';\nimport { useApi, alertApiRef, configApiRef } from '@backstage/core-plugin-api';\nimport { Progress, ResponseErrorPanel } from '@backstage/core-components';\nimport { assertError } from '@backstage/errors';\nimport { catalogReactTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles({\n  advancedButton: {\n    fontSize: \"0.7em\"\n  },\n  dialogActions: {\n    display: \"inline-block\"\n  }\n});\nconst Contents = ({\n  entity,\n  onConfirm,\n  onClose\n}) => {\n  const alertApi = useApi(alertApiRef);\n  const configApi = useApi(configApiRef);\n  const classes = useStyles();\n  const state = useUnregisterEntityDialogState(entity);\n  const [showDelete, setShowDelete] = useState(false);\n  const [busy, setBusy] = useState(false);\n  const appTitle = configApi.getOptionalString(\"app.title\") ?? \"Backstage\";\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  const onUnregister = useCallback(\n    async function onUnregisterFn() {\n      if (\"unregisterLocation\" in state) {\n        setBusy(true);\n        try {\n          await state.unregisterLocation();\n          onConfirm();\n        } catch (err) {\n          assertError(err);\n          alertApi.post({ message: err.message });\n        } finally {\n          setBusy(false);\n        }\n      }\n    },\n    [alertApi, onConfirm, state]\n  );\n  const onDelete = useCallback(\n    async function onDeleteFn() {\n      if (\"deleteEntity\" in state) {\n        setBusy(true);\n        try {\n          await state.deleteEntity();\n          const entityName = entity.metadata.title ?? entity.metadata.name;\n          onConfirm();\n          alertApi.post({\n            message: t(\"unregisterEntityDialog.deleteEntitySuccessMessage\", {\n              entityName\n            }),\n            severity: \"success\",\n            display: \"transient\"\n          });\n        } catch (err) {\n          assertError(err);\n          alertApi.post({ message: err.message });\n        } finally {\n          setBusy(false);\n        }\n      }\n    },\n    [alertApi, onConfirm, state, entity, t]\n  );\n  const DialogActionsPanel = () => /* @__PURE__ */ jsx(DialogActions, { className: classes.dialogActions, children: /* @__PURE__ */ jsx(Button, { onClick: onClose, color: \"primary\", children: t(\"unregisterEntityDialog.cancelButtonTitle\") }) });\n  if (state.type === \"loading\") {\n    return /* @__PURE__ */ jsx(Progress, {});\n  }\n  if (state.type === \"error\") {\n    return /* @__PURE__ */ jsx(ResponseErrorPanel, { error: state.error });\n  }\n  if (state.type === \"bootstrap\") {\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(Alert, { severity: \"info\", children: t(\"unregisterEntityDialog.bootstrapState.title\", {\n        appTitle,\n        location: state.location\n      }) }),\n      /* @__PURE__ */ jsxs(Box, { marginTop: 2, children: [\n        !showDelete && /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(\n            Button,\n            {\n              variant: \"text\",\n              size: \"small\",\n              color: \"primary\",\n              className: classes.advancedButton,\n              onClick: () => setShowDelete(true),\n              children: t(\"unregisterEntityDialog.bootstrapState.advancedOptions\")\n            }\n          ),\n          /* @__PURE__ */ jsx(DialogActionsPanel, {})\n        ] }),\n        showDelete && /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(DialogContentText, { children: t(\"unregisterEntityDialog.bootstrapState.advancedDescription\") }),\n          /* @__PURE__ */ jsx(\n            Button,\n            {\n              variant: \"contained\",\n              color: \"secondary\",\n              disabled: busy,\n              onClick: onDelete,\n              children: t(\"unregisterEntityDialog.deleteButtonTitle\")\n            }\n          ),\n          /* @__PURE__ */ jsx(DialogActionsPanel, {})\n        ] })\n      ] })\n    ] });\n  }\n  if (state.type === \"only-delete\") {\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(DialogContentText, { children: t(\"unregisterEntityDialog.onlyDeleteStateTitle\") }),\n      /* @__PURE__ */ jsx(\n        Button,\n        {\n          variant: \"contained\",\n          color: \"secondary\",\n          disabled: busy,\n          onClick: onDelete,\n          children: t(\"unregisterEntityDialog.deleteButtonTitle\")\n        }\n      ),\n      /* @__PURE__ */ jsx(DialogActionsPanel, {})\n    ] });\n  }\n  if (state.type === \"unregister\") {\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(DialogContentText, { children: t(\"unregisterEntityDialog.unregisterState.title\") }),\n      /* @__PURE__ */ jsx(DialogContentText, { component: \"ul\", children: state.colocatedEntities.map((e) => /* @__PURE__ */ jsx(\"li\", { children: /* @__PURE__ */ jsx(EntityRefLink, { entityRef: e }) }, `${e.kind}:${e.namespace}/${e.name}`)) }),\n      /* @__PURE__ */ jsx(DialogContentText, { children: t(\"unregisterEntityDialog.unregisterState.subTitle\") }),\n      /* @__PURE__ */ jsx(DialogContentText, { component: \"ul\", children: /* @__PURE__ */ jsx(\"li\", { children: state.location }) }),\n      /* @__PURE__ */ jsx(DialogContentText, { children: t(\"unregisterEntityDialog.unregisterState.description\", {\n        appTitle\n      }) }),\n      /* @__PURE__ */ jsxs(Box, { marginTop: 2, children: [\n        /* @__PURE__ */ jsx(\n          Button,\n          {\n            variant: \"contained\",\n            color: \"secondary\",\n            disabled: busy,\n            onClick: onUnregister,\n            children: t(\"unregisterEntityDialog.unregisterState.unregisterButtonTitle\")\n          }\n        ),\n        !showDelete && /* @__PURE__ */ jsx(Box, { component: \"span\", marginLeft: 2, children: /* @__PURE__ */ jsx(\n          Button,\n          {\n            variant: \"text\",\n            size: \"small\",\n            color: \"primary\",\n            className: classes.advancedButton,\n            onClick: () => setShowDelete(true),\n            children: t(\"unregisterEntityDialog.unregisterState.advancedOptions\")\n          }\n        ) })\n      ] }),\n      showDelete && /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(Box, { paddingTop: 4, paddingBottom: 4, children: /* @__PURE__ */ jsx(Divider, {}) }),\n        /* @__PURE__ */ jsx(DialogContentText, { children: t(\"unregisterEntityDialog.unregisterState.advancedDescription\") }),\n        /* @__PURE__ */ jsx(\n          Button,\n          {\n            variant: \"contained\",\n            color: \"secondary\",\n            disabled: busy,\n            onClick: onDelete,\n            children: t(\"unregisterEntityDialog.deleteButtonTitle\")\n          }\n        )\n      ] })\n    ] });\n  }\n  return /* @__PURE__ */ jsx(Alert, { severity: \"error\", children: t(\"unregisterEntityDialog.errorStateTitle\") });\n};\nconst UnregisterEntityDialog = (props) => {\n  const { open, onConfirm, onClose, entity } = props;\n  const { t } = useTranslationRef(catalogReactTranslationRef);\n  return /* @__PURE__ */ jsxs(Dialog, { open, onClose, children: [\n    /* @__PURE__ */ jsx(DialogTitle, { id: \"responsive-dialog-title\", children: t(\"unregisterEntityDialog.title\") }),\n    /* @__PURE__ */ jsx(DialogContent, { children: /* @__PURE__ */ jsx(Contents, { entity, onConfirm, onClose }) })\n  ] });\n};\n\nexport { UnregisterEntityDialog };\n//# sourceMappingURL=UnregisterEntityDialog.esm.js.map\n","import { ANNOTATION_ORIGIN_LOCATION, getCompoundEntityRef } from '@backstage/catalog-model';\nimport { catalogApiRef } from '../../api.esm.js';\nimport { useCallback } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { useApi } from '@backstage/core-plugin-api';\n\nfunction useUnregisterEntityDialogState(entity) {\n  const catalogApi = useApi(catalogApiRef);\n  const locationRef = entity.metadata.annotations?.[ANNOTATION_ORIGIN_LOCATION];\n  const uid = entity.metadata.uid;\n  const isBootstrap = locationRef === \"bootstrap:bootstrap\";\n  const prerequisites = useAsync(async () => {\n    const locationPromise = catalogApi.getLocationByRef(locationRef);\n    let colocatedEntitiesPromise;\n    if (!locationRef) {\n      colocatedEntitiesPromise = Promise.resolve([]);\n    } else {\n      const locationAnnotationFilter = `metadata.annotations.${ANNOTATION_ORIGIN_LOCATION}`;\n      colocatedEntitiesPromise = catalogApi.getEntities({\n        filter: { [locationAnnotationFilter]: locationRef },\n        fields: [\n          \"kind\",\n          \"metadata.uid\",\n          \"metadata.name\",\n          \"metadata.namespace\"\n        ]\n      }).then((response) => response.items);\n    }\n    return Promise.all([locationPromise, colocatedEntitiesPromise]).then(\n      ([location2, colocatedEntities2]) => ({\n        location: location2,\n        colocatedEntities: colocatedEntities2\n      })\n    );\n  }, [catalogApi, entity]);\n  const unregisterLocation = useCallback(\n    async function unregisterLocationFn() {\n      const { location: location2 } = prerequisites.value;\n      await catalogApi.removeLocationById(location2.id);\n    },\n    [catalogApi, prerequisites]\n  );\n  const deleteEntity = useCallback(\n    async function deleteEntityFn() {\n      await catalogApi.removeEntityByUid(uid);\n    },\n    [catalogApi, uid]\n  );\n  if (isBootstrap) {\n    return { type: \"bootstrap\", location: locationRef, deleteEntity };\n  }\n  const { loading, error, value } = prerequisites;\n  if (loading) {\n    return { type: \"loading\" };\n  } else if (error) {\n    return { type: \"error\", error };\n  }\n  const { location, colocatedEntities } = value;\n  if (!location) {\n    return { type: \"only-delete\", deleteEntity };\n  }\n  return {\n    type: \"unregister\",\n    location: locationRef,\n    colocatedEntities: colocatedEntities.map(getCompoundEntityRef),\n    unregisterLocation,\n    deleteEntity\n  };\n}\n\nexport { useUnregisterEntityDialogState };\n//# sourceMappingURL=useUnregisterEntityDialogState.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { forwardRef } from 'react';\n\nconst UnregisterEntity = forwardRef((props, ref) => {\n  const {\n    unregisterEntityOptions,\n    isUnregisterAllowed,\n    onUnregisterEntity,\n    onClose\n  } = props;\n  const { t } = useTranslationRef(catalogTranslationRef);\n  const isBoolean = typeof unregisterEntityOptions?.disableUnregister === \"boolean\";\n  const isDisabled = (!isUnregisterAllowed || (isBoolean ? !!unregisterEntityOptions?.disableUnregister : unregisterEntityOptions?.disableUnregister === \"disable\")) ?? false;\n  if (unregisterEntityOptions?.disableUnregister !== \"hidden\") {\n    return /* @__PURE__ */ jsxs(\n      MenuItem,\n      {\n        ref,\n        onClick: () => {\n          onClose();\n          onUnregisterEntity();\n        },\n        disabled: isDisabled,\n        ...props,\n        children: [\n          /* @__PURE__ */ jsx(ListItemIcon, { children: /* @__PURE__ */ jsx(CancelIcon, { fontSize: \"small\" }) }),\n          /* @__PURE__ */ jsx(ListItemText, { primary: t(\"entityContextMenu.unregisterMenuTitle\") })\n        ]\n      }\n    );\n  }\n  return null;\n});\n\nexport { UnregisterEntity };\n//# sourceMappingURL=UnregisterEntity.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\n\nconst EntityContextMenuContext = createVersionedContext(\"entity-context-menu-context\");\nconst EntityContextMenuProvider = (props) => {\n  const { children, onMenuClose } = props;\n  const value = { onMenuClose };\n  return /* @__PURE__ */ jsx(\n    EntityContextMenuContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: value }),\n      children\n    }\n  );\n};\n\nexport { EntityContextMenuProvider };\n//# sourceMappingURL=EntityContextMenuContext.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport Divider from '@material-ui/core/Divider';\nimport FileCopyTwoToneIcon from '@material-ui/icons/FileCopyTwoTone';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport Popover from '@material-ui/core/Popover';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport { useState, useEffect } from 'react';\nimport { useEntityPermission } from '@backstage/plugin-catalog-react/alpha';\nimport { catalogEntityDeletePermission } from '@backstage/plugin-catalog-common/alpha';\nimport { UnregisterEntity } from './UnregisterEntity.esm.js';\nimport { useApi, alertApiRef } from '@backstage/core-plugin-api';\nimport useCopyToClipboard from 'react-use/esm/useCopyToClipboard';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { EntityContextMenuProvider } from '../../context/EntityContextMenuContext.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => {\n    return {\n      button: {\n        color: theme.page.fontColor\n      }\n    };\n  },\n  { name: \"PluginCatalogEntityContextMenu\" }\n);\nfunction EntityContextMenu(props) {\n  const {\n    UNSTABLE_extraContextMenuItems,\n    UNSTABLE_contextMenuOptions,\n    contextMenuItems,\n    onUnregisterEntity,\n    onInspectEntity\n  } = props;\n  const { t } = useTranslationRef(catalogTranslationRef);\n  const [anchorEl, setAnchorEl] = useState();\n  const classes = useStyles();\n  const unregisterPermission = useEntityPermission(\n    catalogEntityDeletePermission\n  );\n  const isAllowed = unregisterPermission.allowed;\n  const onOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const onClose = () => {\n    setAnchorEl(void 0);\n  };\n  const alertApi = useApi(alertApiRef);\n  const [copyState, copyToClipboard] = useCopyToClipboard();\n  useEffect(() => {\n    if (!copyState.error && copyState.value) {\n      alertApi.post({\n        message: t(\"entityContextMenu.copiedMessage\"),\n        severity: \"info\",\n        display: \"transient\"\n      });\n    }\n  }, [copyState, alertApi, t]);\n  const extraItems = UNSTABLE_extraContextMenuItems?.length ? [\n    ...UNSTABLE_extraContextMenuItems.map((item) => /* @__PURE__ */ jsxs(\n      MenuItem,\n      {\n        onClick: () => {\n          onClose();\n          item.onClick();\n        },\n        children: [\n          /* @__PURE__ */ jsx(ListItemIcon, { children: /* @__PURE__ */ jsx(item.Icon, { fontSize: \"small\" }) }),\n          /* @__PURE__ */ jsx(ListItemText, { primary: item.title })\n        ]\n      },\n      item.title\n    )),\n    /* @__PURE__ */ jsx(Divider, {}, \"the divider is here!\")\n  ] : null;\n  const defaultMenuItems = [\n    /* @__PURE__ */ jsx(\n      UnregisterEntity,\n      {\n        unregisterEntityOptions: UNSTABLE_contextMenuOptions,\n        isUnregisterAllowed: isAllowed,\n        onUnregisterEntity,\n        onClose\n      },\n      \"unregister-entity\"\n    ),\n    /* @__PURE__ */ jsxs(\n      MenuItem,\n      {\n        onClick: () => {\n          onClose();\n          onInspectEntity();\n        },\n        children: [\n          /* @__PURE__ */ jsx(ListItemIcon, { children: /* @__PURE__ */ jsx(BugReportIcon, { fontSize: \"small\" }) }),\n          /* @__PURE__ */ jsx(ListItemText, { primary: t(\"entityContextMenu.inspectMenuTitle\") })\n        ]\n      },\n      \"inspect-entity\"\n    ),\n    /* @__PURE__ */ jsxs(\n      MenuItem,\n      {\n        onClick: () => {\n          onClose();\n          copyToClipboard(window.location.toString());\n        },\n        children: [\n          /* @__PURE__ */ jsx(ListItemIcon, { children: /* @__PURE__ */ jsx(FileCopyTwoToneIcon, { fontSize: \"small\" }) }),\n          /* @__PURE__ */ jsx(ListItemText, { primary: t(\"entityContextMenu.copyURLMenuTitle\") })\n        ]\n      },\n      \"copy-url\"\n    )\n  ];\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(Tooltip, { title: t(\"entityContextMenu.moreButtonTitle\"), arrow: true, children: /* @__PURE__ */ jsx(\n      IconButton,\n      {\n        \"aria-label\": \"more\",\n        \"aria-controls\": \"long-menu\",\n        \"aria-haspopup\": \"true\",\n        \"aria-expanded\": !!anchorEl,\n        role: \"button\",\n        onClick: onOpen,\n        \"data-testid\": \"menu-button\",\n        className: classes.button,\n        id: \"long-menu\",\n        children: /* @__PURE__ */ jsx(MoreVert, {})\n      }\n    ) }),\n    /* @__PURE__ */ jsx(\n      Popover,\n      {\n        open: Boolean(anchorEl),\n        onClose,\n        anchorEl,\n        anchorOrigin: { vertical: \"bottom\", horizontal: \"right\" },\n        transformOrigin: { vertical: \"top\", horizontal: \"right\" },\n        \"aria-labelledby\": \"long-menu\",\n        PaperProps: {\n          style: { minWidth: 200 }\n        },\n        children: /* @__PURE__ */ jsxs(MenuList, { autoFocusItem: Boolean(anchorEl), children: [\n          extraItems,\n          contextMenuItems === void 0 ? defaultMenuItems : /* @__PURE__ */ jsx(EntityContextMenuProvider, { onMenuClose: onClose, children: contextMenuItems })\n        ] })\n      }\n    )\n  ] });\n}\n\nexport { EntityContextMenu };\n//# sourceMappingURL=EntityContextMenu.esm.js.map\n","import { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nimport { DEFAULT_NAMESPACE, RELATION_OWNED_BY } from '@backstage/catalog-model';\nimport { Page, Header, Breadcrumbs, Progress, RoutedTabs, Content, WarningPanel, Link, HeaderLabel } from '@backstage/core-components';\nimport { attachComponentData, useRouteRefParams, useElementFilter, useRouteRef, useApi } from '@backstage/core-plugin-api';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { entityRouteRef, useAsyncEntity, catalogApiRef, EntityRefLink, InspectEntityDialog, UnregisterEntityDialog, getEntityRelations, EntityRefLinks, EntityDisplayName, FavoriteEntity } from '@backstage/plugin-catalog-react';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\nimport { useState, useEffect } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'react-router-dom';\nimport useAsync from 'react-use/esm/useAsync';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { rootRouteRef, unregisterRedirectRouteRef } from '../../routes.esm.js';\nimport { EntityContextMenu } from '../EntityContextMenu/EntityContextMenu.esm.js';\n\nconst dataKey = \"plugin.catalog.entityLayoutRoute\";\nconst Route = () => null;\nattachComponentData(Route, dataKey, true);\nattachComponentData(Route, \"core.gatherMountPoints\", true);\nfunction EntityLayoutTitle(props) {\n  const { entity, title } = props;\n  return /* @__PURE__ */ jsxs(Box, { display: \"inline-flex\", alignItems: \"center\", height: \"1em\", maxWidth: \"100%\", children: [\n    /* @__PURE__ */ jsx(\n      Box,\n      {\n        component: \"span\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        children: entity ? /* @__PURE__ */ jsx(EntityDisplayName, { entityRef: entity, hideIcon: true }) : title\n      }\n    ),\n    entity && /* @__PURE__ */ jsx(FavoriteEntity, { entity })\n  ] });\n}\nfunction headerProps(paramKind, paramNamespace, paramName, entity) {\n  const kind = paramKind ?? entity?.kind ?? \"\";\n  const namespace = paramNamespace ?? entity?.metadata.namespace ?? \"\";\n  const name = entity?.metadata.title ?? paramName ?? entity?.metadata.name ?? \"\";\n  return {\n    headerTitle: `${name}${namespace && namespace !== DEFAULT_NAMESPACE ? ` in ${namespace}` : \"\"}`,\n    headerType: (() => {\n      let t = kind.toLocaleLowerCase(\"en-US\");\n      if (entity && entity.spec && \"type\" in entity.spec) {\n        t += \" \\u2014 \";\n        t += entity.spec.type.toLocaleLowerCase(\"en-US\");\n      }\n      return t;\n    })()\n  };\n}\nfunction EntityLabels(props) {\n  const { entity } = props;\n  const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n  const { t } = useTranslationRef(catalogTranslationRef);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    ownedByRelations.length > 0 && /* @__PURE__ */ jsx(\n      HeaderLabel,\n      {\n        label: t(\"entityLabels.ownerLabel\"),\n        contentTypograpyRootComponent: \"p\",\n        value: /* @__PURE__ */ jsx(\n          EntityRefLinks,\n          {\n            entityRefs: ownedByRelations,\n            defaultKind: \"Group\",\n            color: \"inherit\"\n          }\n        )\n      }\n    ),\n    entity.spec?.lifecycle && /* @__PURE__ */ jsx(\n      HeaderLabel,\n      {\n        label: t(\"entityLabels.lifecycleLabel\"),\n        value: entity.spec.lifecycle?.toString()\n      }\n    )\n  ] });\n}\nfunction findParentRelation(entityRelations = [], relationTypes = []) {\n  for (const type of relationTypes) {\n    const foundRelation = entityRelations.find(\n      (relation) => relation.type === type\n    );\n    if (foundRelation) {\n      return foundRelation;\n    }\n  }\n  return null;\n}\nconst useStyles = makeStyles((theme) => ({\n  breadcrumbs: {\n    color: theme.page.fontColor,\n    fontSize: theme.typography.caption.fontSize,\n    textTransform: \"uppercase\",\n    marginTop: theme.spacing(1),\n    opacity: 0.8,\n    \"& span \": {\n      color: theme.page.fontColor,\n      textDecoration: \"underline\",\n      textUnderlineOffset: \"3px\"\n    }\n  }\n}));\nconst EntityLayout = (props) => {\n  const {\n    UNSTABLE_extraContextMenuItems,\n    UNSTABLE_contextMenuOptions,\n    children,\n    NotFoundComponent,\n    parentEntityRelations\n  } = props;\n  const classes = useStyles();\n  const { kind, namespace, name } = useRouteRefParams(entityRouteRef);\n  const { entity, loading, error } = useAsyncEntity();\n  const location = useLocation();\n  const routes = useElementFilter(\n    children,\n    (elements) => elements.selectByComponentData({\n      key: dataKey,\n      withStrictError: \"Child of EntityLayout must be an EntityLayout.Route\"\n    }).getElements().flatMap(({ props: elementProps }) => {\n      if (!entity) {\n        return [];\n      } else if (elementProps.if && !elementProps.if(entity)) {\n        return [];\n      }\n      return [\n        {\n          path: elementProps.path,\n          title: elementProps.title,\n          children: elementProps.children,\n          tabProps: elementProps.tabProps\n        }\n      ];\n    }),\n    [entity]\n  );\n  const { headerTitle, headerType } = headerProps(\n    kind,\n    namespace,\n    name,\n    entity\n  );\n  const [confirmationDialogOpen, setConfirmationDialogOpen] = useState(false);\n  const navigate = useNavigate();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const catalogRoute = useRouteRef(rootRouteRef);\n  const unregisterRedirectRoute = useRouteRef(unregisterRedirectRouteRef);\n  const { t } = useTranslationRef(catalogTranslationRef);\n  const cleanUpAfterRemoval = async () => {\n    setConfirmationDialogOpen(false);\n    navigate(\n      unregisterRedirectRoute ? unregisterRedirectRoute() : catalogRoute()\n    );\n  };\n  const parentEntity = findParentRelation(\n    entity?.relations ?? [],\n    parentEntityRelations ?? []\n  );\n  const catalogApi = useApi(catalogApiRef);\n  const { value: ancestorEntity } = useAsync(async () => {\n    if (parentEntity) {\n      return findParentRelation(\n        (await catalogApi.getEntityByRef(parentEntity?.targetRef))?.relations,\n        parentEntityRelations\n      );\n    }\n    return null;\n  }, [parentEntity]);\n  useEffect(() => {\n    setConfirmationDialogOpen(false);\n  }, [location.pathname]);\n  const selectedInspectTab = searchParams.get(\"inspect\");\n  const showInspectTab = typeof selectedInspectTab === \"string\";\n  return /* @__PURE__ */ jsxs(Page, { themeId: entity?.spec?.type?.toString() ?? \"home\", children: [\n    /* @__PURE__ */ jsx(\n      Header,\n      {\n        title: /* @__PURE__ */ jsx(EntityLayoutTitle, { title: headerTitle, entity }),\n        pageTitleOverride: headerTitle,\n        type: headerType,\n        subtitle: parentEntity && /* @__PURE__ */ jsxs(Breadcrumbs, { separator: \">\", className: classes.breadcrumbs, children: [\n          ancestorEntity && /* @__PURE__ */ jsx(\n            EntityRefLink,\n            {\n              entityRef: ancestorEntity.targetRef,\n              disableTooltip: true\n            }\n          ),\n          /* @__PURE__ */ jsx(\n            EntityRefLink,\n            {\n              entityRef: parentEntity.targetRef,\n              disableTooltip: true\n            }\n          ),\n          name\n        ] }),\n        children: entity && /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(EntityLabels, { entity }),\n          /* @__PURE__ */ jsx(\n            EntityContextMenu,\n            {\n              UNSTABLE_extraContextMenuItems,\n              UNSTABLE_contextMenuOptions,\n              onUnregisterEntity: () => setConfirmationDialogOpen(true),\n              onInspectEntity: () => {\n                setSearchParams((prev) => {\n                  const newParams = new URLSearchParams(prev);\n                  newParams.set(\"inspect\", \"\");\n                  return newParams;\n                });\n              }\n            }\n          )\n        ] })\n      }\n    ),\n    loading && /* @__PURE__ */ jsx(Progress, {}),\n    entity && /* @__PURE__ */ jsx(RoutedTabs, { routes }),\n    error && /* @__PURE__ */ jsx(Content, { children: /* @__PURE__ */ jsx(Alert, { severity: \"error\", children: error.toString() }) }),\n    !loading && !error && !entity && /* @__PURE__ */ jsx(Content, { children: NotFoundComponent ? NotFoundComponent : /* @__PURE__ */ jsxs(WarningPanel, { title: t(\"entityLabels.warningPanelTitle\"), children: [\n      \"There is no \",\n      kind,\n      \" with the requested\",\n      \" \",\n      /* @__PURE__ */ jsx(Link, { to: \"https://backstage.io/docs/features/software-catalog/references\", children: \"kind, namespace, and name\" }),\n      \".\"\n    ] }) }),\n    showInspectTab && /* @__PURE__ */ jsx(\n      InspectEntityDialog,\n      {\n        entity,\n        initialTab: selectedInspectTab || void 0,\n        onSelect: (newTab) => setSearchParams((prev) => {\n          const newParams = new URLSearchParams(prev);\n          newParams.set(\"inspect\", newTab);\n          return newParams;\n        }),\n        open: true,\n        onClose: () => setSearchParams((prev) => {\n          const newParams = new URLSearchParams(prev);\n          newParams.delete(\"inspect\");\n          return newParams;\n        })\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      UnregisterEntityDialog,\n      {\n        open: confirmationDialogOpen,\n        entity,\n        onConfirm: cleanUpAfterRemoval,\n        onClose: () => setConfirmationDialogOpen(false)\n      }\n    )\n  ] });\n};\nEntityLayout.Route = Route;\n\nexport { EntityLayout };\n//# sourceMappingURL=EntityLayout.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { catalogApiRef } from '@backstage/plugin-catalog-react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { useState } from 'react';\nimport { useApi, alertApiRef } from '@backstage/core-plugin-api';\nimport { assertError } from '@backstage/errors';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction DeleteEntityDialog(props) {\n  const { open, onClose, onConfirm, entity } = props;\n  const [busy, setBusy] = useState(false);\n  const catalogApi = useApi(catalogApiRef);\n  const alertApi = useApi(alertApiRef);\n  const { t } = useTranslationRef(catalogTranslationRef);\n  const onDelete = async () => {\n    setBusy(true);\n    try {\n      const uid = entity.metadata.uid;\n      await catalogApi.removeEntityByUid(uid);\n      onConfirm();\n    } catch (err) {\n      assertError(err);\n      alertApi.post({ message: err.message });\n    } finally {\n      setBusy(false);\n    }\n  };\n  return /* @__PURE__ */ jsxs(Dialog, { open, onClose, children: [\n    /* @__PURE__ */ jsx(DialogTitle, { id: \"responsive-dialog-title\", children: t(\"deleteEntity.dialogTitle\") }),\n    /* @__PURE__ */ jsxs(DialogActions, { children: [\n      /* @__PURE__ */ jsx(\n        Button,\n        {\n          variant: \"contained\",\n          color: \"secondary\",\n          disabled: busy,\n          onClick: onDelete,\n          children: t(\"deleteEntity.deleteButtonTitle\")\n        }\n      ),\n      /* @__PURE__ */ jsx(Button, { onClick: onClose, color: \"primary\", children: t(\"deleteEntity.cancelButtonTitle\") })\n    ] })\n  ] });\n}\n\nexport { DeleteEntityDialog };\n//# sourceMappingURL=DeleteEntityDialog.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport Alert from '@material-ui/lab/Alert';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { DeleteEntityDialog } from './DeleteEntityDialog.esm.js';\nimport { useRouteRef } from '@backstage/core-plugin-api';\nimport { rootRouteRef } from '../../routes.esm.js';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nfunction isOrphan(entity) {\n  return entity?.metadata?.annotations?.[\"backstage.io/orphan\"] === \"true\";\n}\nfunction EntityOrphanWarning() {\n  const navigate = useNavigate();\n  const catalogLink = useRouteRef(rootRouteRef);\n  const [confirmationDialogOpen, setConfirmationDialogOpen] = useState(false);\n  const { entity } = useEntity();\n  const { t } = useTranslationRef(catalogTranslationRef);\n  const cleanUpAfterRemoval = async () => {\n    setConfirmationDialogOpen(false);\n    navigate(catalogLink());\n  };\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(Alert, { severity: \"warning\", onClick: () => setConfirmationDialogOpen(true), children: t(\"deleteEntity.description\") }),\n    /* @__PURE__ */ jsx(\n      DeleteEntityDialog,\n      {\n        open: confirmationDialogOpen,\n        entity,\n        onConfirm: cleanUpAfterRemoval,\n        onClose: () => setConfirmationDialogOpen(false)\n      }\n    )\n  ] });\n}\n\nexport { EntityOrphanWarning, isOrphan };\n//# sourceMappingURL=EntityOrphanWarning.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport { catalogApiRef, useEntity, EntityRefLink } from '@backstage/plugin-catalog-react';\nimport Box from '@material-ui/core/Box';\nimport { ResponseErrorPanel } from '@backstage/core-components';\nimport { ENTITY_STATUS_CATALOG_PROCESSING_TYPE } from '@backstage/catalog-client';\nimport { useApi } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/esm/useAsync';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst errorFilter = (i) => i.error && i.level === \"error\" && i.type === ENTITY_STATUS_CATALOG_PROCESSING_TYPE;\nasync function getOwnAndAncestorsErrors(entityRef, catalogApi) {\n  const ancestors = await catalogApi.getEntityAncestors({ entityRef });\n  const items = ancestors.items.map((item) => {\n    const statuses = item.entity.status?.items ?? [];\n    const errors = statuses.filter(errorFilter).map((e) => e.error).filter((e) => Boolean(e));\n    return { errors, entity: item.entity };\n  }).filter((item) => item.errors.length > 0);\n  return { items };\n}\nasync function hasCatalogProcessingErrors(entity, context) {\n  const catalogApi = context.apis.get(catalogApiRef);\n  if (!catalogApi) {\n    throw new Error(`No implementation available for ${catalogApiRef}`);\n  }\n  const errors = await getOwnAndAncestorsErrors(\n    stringifyEntityRef(entity),\n    catalogApi\n  );\n  return errors.items.length > 0;\n}\nfunction EntityProcessingErrorsPanel() {\n  const { entity } = useEntity();\n  const entityRef = stringifyEntityRef(entity);\n  const catalogApi = useApi(catalogApiRef);\n  const { loading, error, value } = useAsync(async () => {\n    return getOwnAndAncestorsErrors(entityRef, catalogApi);\n  }, [entityRef, catalogApi]);\n  const { t } = useTranslationRef(catalogTranslationRef);\n  if (error) {\n    return /* @__PURE__ */ jsx(Box, { mb: 1, children: /* @__PURE__ */ jsx(ResponseErrorPanel, { error }) });\n  }\n  if (loading || !value) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(Fragment, { children: value.items.map((ancestorError, index) => /* @__PURE__ */ jsxs(Box, { mb: 1, children: [\n    stringifyEntityRef(entity) !== stringifyEntityRef(ancestorError.entity) && /* @__PURE__ */ jsxs(Box, { p: 1, children: [\n      t(\"entityProcessingErrorsDescription\"),\n      \" \",\n      /* @__PURE__ */ jsx(EntityRefLink, { entityRef: ancestorError.entity })\n    ] }),\n    ancestorError.errors.map((e, i) => /* @__PURE__ */ jsx(ResponseErrorPanel, { error: e }, i))\n  ] }, index)) });\n}\n\nexport { EntityProcessingErrorsPanel, hasCatalogProcessingErrors };\n//# sourceMappingURL=EntityProcessingErrorsPanel.esm.js.map\n","const ENTITY_STATUS_CATALOG_PROCESSING_TYPE = \"backstage.io/catalog-processing\";\n\nexport { ENTITY_STATUS_CATALOG_PROCESSING_TYPE };\n//# sourceMappingURL=status.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { catalogApiRef, useEntity } from '@backstage/plugin-catalog-react';\nimport Alert from '@material-ui/lab/Alert';\nimport useAsync from 'react-use/esm/useAsync';\nimport Box from '@material-ui/core/Box';\nimport { ResponseErrorPanel } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { catalogTranslationRef } from '../../alpha/translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nasync function getRelationWarnings(entity, catalogApi) {\n  const entityRefRelations = entity.relations?.map(\n    (relation) => relation.targetRef\n  );\n  if (!entityRefRelations || entityRefRelations?.length < 1 || entityRefRelations.length > 1e3) {\n    return [];\n  }\n  const relatedEntities = await catalogApi.getEntitiesByRefs({\n    entityRefs: entityRefRelations,\n    fields: [\"kind\", \"metadata.name\", \"metadata.namespace\"]\n  });\n  return entityRefRelations.filter(\n    (_, index) => relatedEntities.items[index] === void 0\n  );\n}\nasync function hasRelationWarnings(entity, context) {\n  const catalogApi = context.apis.get(catalogApiRef);\n  if (!catalogApi) {\n    throw new Error(`No implementation available for ${catalogApiRef}`);\n  }\n  const relatedEntitiesMissing = await getRelationWarnings(entity, catalogApi);\n  return relatedEntitiesMissing.length > 0;\n}\nfunction EntityRelationWarning() {\n  const { entity } = useEntity();\n  const catalogApi = useApi(catalogApiRef);\n  const { loading, error, value } = useAsync(async () => {\n    return getRelationWarnings(entity, catalogApi);\n  }, [entity, catalogApi]);\n  const { t } = useTranslationRef(catalogTranslationRef);\n  if (error) {\n    return /* @__PURE__ */ jsx(Box, { mb: 1, children: /* @__PURE__ */ jsx(ResponseErrorPanel, { error }) });\n  }\n  if (loading || !value || value.length === 0) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsxs(Alert, { severity: \"warning\", style: { whiteSpace: \"pre-line\" }, children: [\n    t(\"entityRelationWarningDescription\"),\n    \" \",\n    value.join(\", \")\n  ] }) });\n}\n\nexport { EntityRelationWarning, hasRelationWarnings };\n//# sourceMappingURL=EntityRelationWarning.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { useAsyncEntity } from '@backstage/plugin-catalog-react';\nimport { useApiHolder, useElementFilter, attachComponentData } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/esm/useAsync';\n\nconst ENTITY_SWITCH_KEY = \"core.backstage.entitySwitch\";\nconst EntitySwitchCaseComponent = (_props) => null;\nattachComponentData(EntitySwitchCaseComponent, ENTITY_SWITCH_KEY, true);\nconst EntitySwitch = (props) => {\n  const { entity, loading } = useAsyncEntity();\n  const apis = useApiHolder();\n  const results = useElementFilter(\n    props.children,\n    (collection) => collection.selectByComponentData({\n      key: ENTITY_SWITCH_KEY,\n      withStrictError: \"Child of EntitySwitch is not an EntitySwitch.Case\"\n    }).getElements().flatMap((element) => {\n      if (loading && !entity) {\n        return [];\n      }\n      const { if: condition, children: elementsChildren } = element.props;\n      if (!entity) {\n        return [\n          {\n            if: condition === void 0,\n            children: elementsChildren\n          }\n        ];\n      }\n      return [\n        {\n          if: condition?.(entity, { apis }),\n          children: elementsChildren\n        }\n      ];\n    }),\n    [apis, entity, loading]\n  );\n  const hasAsyncCases = results.some(\n    (r) => typeof r.if === \"object\" && \"then\" in r.if\n  );\n  if (hasAsyncCases) {\n    return /* @__PURE__ */ jsx(\n      AsyncEntitySwitch,\n      {\n        results,\n        renderMultipleMatches: props.renderMultipleMatches\n      }\n    );\n  }\n  if (props.renderMultipleMatches === \"all\") {\n    const children = results.filter((r) => r.if).map((r) => r.children);\n    if (children.length === 0) {\n      return getDefaultChildren(results);\n    }\n    return /* @__PURE__ */ jsx(Fragment, { children });\n  }\n  return results.find((r) => r.if)?.children ?? getDefaultChildren(results);\n};\nfunction AsyncEntitySwitch({\n  results,\n  renderMultipleMatches\n}) {\n  const { loading, value } = useAsync(async () => {\n    const promises = results.map(\n      async ({ if: condition, children: output }) => {\n        try {\n          if (await condition) {\n            return output;\n          }\n        } catch {\n        }\n        return null;\n      }\n    );\n    if (renderMultipleMatches === \"all\") {\n      const children = (await Promise.all(promises)).filter(Boolean);\n      if (children.length === 0) {\n        return getDefaultChildren(results);\n      }\n      return /* @__PURE__ */ jsx(Fragment, { children });\n    }\n    return (await Promise.all(promises)).find(Boolean) ?? getDefaultChildren(results);\n  }, [results]);\n  if (loading || !value) {\n    return null;\n  }\n  return value;\n}\nfunction getDefaultChildren(results) {\n  return results.filter((r) => r.if === void 0)[0]?.children ?? null;\n}\nEntitySwitch.Case = EntitySwitchCaseComponent;\n\nexport { EntitySwitch };\n//# sourceMappingURL=EntitySwitch.esm.js.map\n","function strCmp(a, b) {\n  return Boolean(\n    a && typeof a === \"string\" && a?.toLocaleLowerCase(\"en-US\") === b?.toLocaleLowerCase(\"en-US\")\n  );\n}\nfunction strCmpAll(value, cmpValues) {\n  return typeof cmpValues === \"string\" ? strCmp(value, cmpValues) : cmpValues.length === 0 || cmpValues.some((cmpVal) => strCmp(value, cmpVal));\n}\nfunction isKind(kinds) {\n  return isEntityWith({ kind: kinds });\n}\nfunction isComponentType(types) {\n  return isEntityWith({ kind: \"component\", type: types });\n}\nfunction isResourceType(types) {\n  return isEntityWith({ kind: \"resource\", type: types });\n}\nfunction isApiType(types) {\n  return isEntityWith({ kind: \"api\", type: types });\n}\nfunction isEntityWith(predicate) {\n  return (entity) => {\n    if (predicate.kind && !strCmpAll(entity.kind, predicate.kind)) {\n      return false;\n    }\n    if (predicate.type && !strCmpAll(entity.spec?.type, predicate.type)) {\n      return false;\n    }\n    return true;\n  };\n}\nfunction isNamespace(namespaces) {\n  return (entity) => strCmpAll(entity.metadata?.namespace, namespaces);\n}\n\nexport { isApiType, isComponentType, isEntityWith, isKind, isNamespace, isResourceType };\n//# sourceMappingURL=conditions.esm.js.map\n","const pluginId = \"catalog\";\n\nexport { pluginId };\n//# sourceMappingURL=pluginId.esm.js.map\n","import crossFetch from 'cross-fetch';\nimport { pluginId } from '../pluginId.esm.js';\nimport * as parser from 'uri-template';\n\nclass DefaultApiClient {\n  discoveryApi;\n  fetchApi;\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi || { fetch: crossFetch };\n  }\n  /**\n   * Delete a single entity by UID.\n   * @param uid -\n   */\n  async deleteEntityByUid(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-uid/{uid}`;\n    const uri = parser.parse(uriTemplate).expand({\n      uid: request.path.uid\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"DELETE\"\n    });\n  }\n  /**\n   * Get all entities matching a given filter.\n   * @param fields - By default the full entities are returned, but you can pass in a &#x60;fields&#x60; query parameter which selects what parts of the entity data to retain. This makes the response smaller and faster to transfer, and may allow the catalog to perform more efficient queries.  The query parameter value is a comma separated list of simplified JSON paths like above. Each path corresponds to the key of either a value, or of a subtree root that you want to keep in the output. The rest is pruned away. For example, specifying &#x60;?fields&#x3D;metadata.name,metadata.annotations,spec&#x60; retains only the &#x60;name&#x60; and &#x60;annotations&#x60; fields of the &#x60;metadata&#x60; of each entity (it&#39;ll be an object with at most two keys), keeps the entire &#x60;spec&#x60; unchanged, and cuts out all other roots such as &#x60;relations&#x60;.  Some more real world usable examples:  - Return only enough data to form the full ref of each entity:    &#x60;/entities/by-query?fields&#x3D;kind,metadata.namespace,metadata.name&#x60;\n   * @param limit - Number of records to return in the response.\n   * @param filter - You can pass in one or more filter sets that get matched against each entity. Each filter set is a number of conditions that all have to match for the condition to be true (conditions effectively have an AND between them). At least one filter set has to be true for the entity to be part of the result set (filter sets effectively have an OR between them).  Example:  &#x60;&#x60;&#x60;text /entities/by-query?filter&#x3D;kind&#x3D;user,metadata.namespace&#x3D;default&amp;filter&#x3D;kind&#x3D;group,spec.type    Return entities that match      Filter set 1:       Condition 1: kind &#x3D; user                   AND       Condition 2: metadata.namespace &#x3D; default      OR      Filter set 2:       Condition 1: kind &#x3D; group                   AND       Condition 2: spec.type exists &#x60;&#x60;&#x60;  Each condition is either on the form &#x60;&lt;key&gt;&#x60;, or on the form &#x60;&lt;key&gt;&#x3D;&lt;value&gt;&#x60;. The first form asserts on the existence of a certain key (with any value), and the second asserts that the key exists and has a certain value. All checks are always case _insensitive_.  In all cases, the key is a simplified JSON path in a given piece of entity data. Each part of the path is a key of an object, and the traversal also descends through arrays. There are two special forms:  - Array items that are simple value types (such as strings) match on a key-value   pair where the key is the item as a string, and the value is the string &#x60;true&#x60; - Relations can be matched on a &#x60;relations.&lt;type&gt;&#x3D;&lt;targetRef&gt;&#x60; form  Let&#39;s look at a simplified example to illustrate the concept:  &#x60;&#x60;&#x60;json {   \\&quot;a\\&quot;: {     \\&quot;b\\&quot;: [\\&quot;c\\&quot;, { \\&quot;d\\&quot;: 1 }],     \\&quot;e\\&quot;: 7   } } &#x60;&#x60;&#x60;  This would match any one of the following conditions:  - &#x60;a&#x60; - &#x60;a.b&#x60; - &#x60;a.b.c&#x60; - &#x60;a.b.c&#x3D;true&#x60; - &#x60;a.b.d&#x60; - &#x60;a.b.d&#x3D;1&#x60; - &#x60;a.e&#x60; - &#x60;a.e&#x3D;7&#x60;  Some more real world usable examples:  - Return all orphaned entities:    &#x60;/entities/by-query?filter&#x3D;metadata.annotations.backstage.io/orphan&#x3D;true&#x60;  - Return all users and groups:    &#x60;/entities/by-query?filter&#x3D;kind&#x3D;user&amp;filter&#x3D;kind&#x3D;group&#x60;  - Return all service components:    &#x60;/entities/by-query?filter&#x3D;kind&#x3D;component,spec.type&#x3D;service&#x60;  - Return all entities with the &#x60;java&#x60; tag:    &#x60;/entities/by-query?filter&#x3D;metadata.tags.java&#x60;  - Return all users who are members of the &#x60;ops&#x60; group (note that the full   [reference](references.md) of the group is used):    &#x60;/entities/by-query?filter&#x3D;kind&#x3D;user,relations.memberof&#x3D;group:default/ops&#x60;\n   * @param offset - Number of records to skip in the query page.\n   * @param after - Pointer to the previous page of results.\n   * @param order -\n   */\n  async getEntities(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities{?fields,limit,filter*,offset,after,order*}`;\n    const uri = parser.parse(uriTemplate).expand({\n      ...request.query\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Search for entities by a given query.\n   * @param fields - By default the full entities are returned, but you can pass in a &#x60;fields&#x60; query parameter which selects what parts of the entity data to retain. This makes the response smaller and faster to transfer, and may allow the catalog to perform more efficient queries.  The query parameter value is a comma separated list of simplified JSON paths like above. Each path corresponds to the key of either a value, or of a subtree root that you want to keep in the output. The rest is pruned away. For example, specifying &#x60;?fields&#x3D;metadata.name,metadata.annotations,spec&#x60; retains only the &#x60;name&#x60; and &#x60;annotations&#x60; fields of the &#x60;metadata&#x60; of each entity (it&#39;ll be an object with at most two keys), keeps the entire &#x60;spec&#x60; unchanged, and cuts out all other roots such as &#x60;relations&#x60;.  Some more real world usable examples:  - Return only enough data to form the full ref of each entity:    &#x60;/entities/by-query?fields&#x3D;kind,metadata.namespace,metadata.name&#x60;\n   * @param limit - Number of records to return in the response.\n   * @param offset - Number of records to skip in the query page.\n   * @param orderField - By default the entities are returned ordered by their internal uid. You can customize the &#x60;orderField&#x60; query parameters to affect that ordering.  For example, to return entities by their name:  &#x60;/entities/by-query?orderField&#x3D;metadata.name,asc&#x60;  Each parameter can be followed by &#x60;asc&#x60; for ascending lexicographical order or &#x60;desc&#x60; for descending (reverse) lexicographical order.\n   * @param cursor - You may pass the &#x60;cursor&#x60; query parameters to perform cursor based pagination through the set of entities. The value of &#x60;cursor&#x60; will be returned in the response, under the &#x60;pageInfo&#x60; property:  &#x60;&#x60;&#x60;json   \\&quot;pageInfo\\&quot;: {     \\&quot;nextCursor\\&quot;: \\&quot;a-cursor\\&quot;,     \\&quot;prevCursor\\&quot;: \\&quot;another-cursor\\&quot;   } &#x60;&#x60;&#x60;  If &#x60;nextCursor&#x60; exists, it can be used to retrieve the next batch of entities. Following the same approach, if &#x60;prevCursor&#x60; exists, it can be used to retrieve the previous batch of entities.  - [&#x60;filter&#x60;](#filtering), for selecting only a subset of all entities - [&#x60;fields&#x60;](#field-selection), for selecting only parts of the full data   structure of each entity - &#x60;limit&#x60; for limiting the number of entities returned (20 is the default) - [&#x60;orderField&#x60;](#ordering), for deciding the order of the entities - &#x60;fullTextFilter&#x60;   **NOTE**: [&#x60;filter&#x60;, &#x60;orderField&#x60;, &#x60;fullTextFilter&#x60;] and &#x60;cursor&#x60; are mutually exclusive. This means that,   it isn&#39;t possible to change any of [&#x60;filter&#x60;, &#x60;orderField&#x60;, &#x60;fullTextFilter&#x60;] when passing &#x60;cursor&#x60; as query parameters,   as changing any of these properties will affect pagination. If any of &#x60;filter&#x60;, &#x60;orderField&#x60;, &#x60;fullTextFilter&#x60; is specified together with &#x60;cursor&#x60;, only the latter is taken into consideration.\n   * @param filter - You can pass in one or more filter sets that get matched against each entity. Each filter set is a number of conditions that all have to match for the condition to be true (conditions effectively have an AND between them). At least one filter set has to be true for the entity to be part of the result set (filter sets effectively have an OR between them).  Example:  &#x60;&#x60;&#x60;text /entities/by-query?filter&#x3D;kind&#x3D;user,metadata.namespace&#x3D;default&amp;filter&#x3D;kind&#x3D;group,spec.type    Return entities that match      Filter set 1:       Condition 1: kind &#x3D; user                   AND       Condition 2: metadata.namespace &#x3D; default      OR      Filter set 2:       Condition 1: kind &#x3D; group                   AND       Condition 2: spec.type exists &#x60;&#x60;&#x60;  Each condition is either on the form &#x60;&lt;key&gt;&#x60;, or on the form &#x60;&lt;key&gt;&#x3D;&lt;value&gt;&#x60;. The first form asserts on the existence of a certain key (with any value), and the second asserts that the key exists and has a certain value. All checks are always case _insensitive_.  In all cases, the key is a simplified JSON path in a given piece of entity data. Each part of the path is a key of an object, and the traversal also descends through arrays. There are two special forms:  - Array items that are simple value types (such as strings) match on a key-value   pair where the key is the item as a string, and the value is the string &#x60;true&#x60; - Relations can be matched on a &#x60;relations.&lt;type&gt;&#x3D;&lt;targetRef&gt;&#x60; form  Let&#39;s look at a simplified example to illustrate the concept:  &#x60;&#x60;&#x60;json {   \\&quot;a\\&quot;: {     \\&quot;b\\&quot;: [\\&quot;c\\&quot;, { \\&quot;d\\&quot;: 1 }],     \\&quot;e\\&quot;: 7   } } &#x60;&#x60;&#x60;  This would match any one of the following conditions:  - &#x60;a&#x60; - &#x60;a.b&#x60; - &#x60;a.b.c&#x60; - &#x60;a.b.c&#x3D;true&#x60; - &#x60;a.b.d&#x60; - &#x60;a.b.d&#x3D;1&#x60; - &#x60;a.e&#x60; - &#x60;a.e&#x3D;7&#x60;  Some more real world usable examples:  - Return all orphaned entities:    &#x60;/entities/by-query?filter&#x3D;metadata.annotations.backstage.io/orphan&#x3D;true&#x60;  - Return all users and groups:    &#x60;/entities/by-query?filter&#x3D;kind&#x3D;user&amp;filter&#x3D;kind&#x3D;group&#x60;  - Return all service components:    &#x60;/entities/by-query?filter&#x3D;kind&#x3D;component,spec.type&#x3D;service&#x60;  - Return all entities with the &#x60;java&#x60; tag:    &#x60;/entities/by-query?filter&#x3D;metadata.tags.java&#x60;  - Return all users who are members of the &#x60;ops&#x60; group (note that the full   [reference](references.md) of the group is used):    &#x60;/entities/by-query?filter&#x3D;kind&#x3D;user,relations.memberof&#x3D;group:default/ops&#x60;\n   * @param fullTextFilterTerm - Text search term.\n   * @param fullTextFilterFields - A comma separated list of fields to sort returned results by.\n   */\n  async getEntitiesByQuery(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-query{?fields,limit,offset,orderField*,cursor,filter*,fullTextFilterTerm,fullTextFilterFields}`;\n    const uri = parser.parse(uriTemplate).expand({\n      ...request.query\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get a batch set of entities given an array of entityRefs.\n   * @param filter - You can pass in one or more filter sets that get matched against each entity. Each filter set is a number of conditions that all have to match for the condition to be true (conditions effectively have an AND between them). At least one filter set has to be true for the entity to be part of the result set (filter sets effectively have an OR between them).  Example:  &#x60;&#x60;&#x60;text /entities/by-query?filter&#x3D;kind&#x3D;user,metadata.namespace&#x3D;default&amp;filter&#x3D;kind&#x3D;group,spec.type    Return entities that match      Filter set 1:       Condition 1: kind &#x3D; user                   AND       Condition 2: metadata.namespace &#x3D; default      OR      Filter set 2:       Condition 1: kind &#x3D; group                   AND       Condition 2: spec.type exists &#x60;&#x60;&#x60;  Each condition is either on the form &#x60;&lt;key&gt;&#x60;, or on the form &#x60;&lt;key&gt;&#x3D;&lt;value&gt;&#x60;. The first form asserts on the existence of a certain key (with any value), and the second asserts that the key exists and has a certain value. All checks are always case _insensitive_.  In all cases, the key is a simplified JSON path in a given piece of entity data. Each part of the path is a key of an object, and the traversal also descends through arrays. There are two special forms:  - Array items that are simple value types (such as strings) match on a key-value   pair where the key is the item as a string, and the value is the string &#x60;true&#x60; - Relations can be matched on a &#x60;relations.&lt;type&gt;&#x3D;&lt;targetRef&gt;&#x60; form  Let&#39;s look at a simplified example to illustrate the concept:  &#x60;&#x60;&#x60;json {   \\&quot;a\\&quot;: {     \\&quot;b\\&quot;: [\\&quot;c\\&quot;, { \\&quot;d\\&quot;: 1 }],     \\&quot;e\\&quot;: 7   } } &#x60;&#x60;&#x60;  This would match any one of the following conditions:  - &#x60;a&#x60; - &#x60;a.b&#x60; - &#x60;a.b.c&#x60; - &#x60;a.b.c&#x3D;true&#x60; - &#x60;a.b.d&#x60; - &#x60;a.b.d&#x3D;1&#x60; - &#x60;a.e&#x60; - &#x60;a.e&#x3D;7&#x60;  Some more real world usable examples:  - Return all orphaned entities:    &#x60;/entities/by-query?filter&#x3D;metadata.annotations.backstage.io/orphan&#x3D;true&#x60;  - Return all users and groups:    &#x60;/entities/by-query?filter&#x3D;kind&#x3D;user&amp;filter&#x3D;kind&#x3D;group&#x60;  - Return all service components:    &#x60;/entities/by-query?filter&#x3D;kind&#x3D;component,spec.type&#x3D;service&#x60;  - Return all entities with the &#x60;java&#x60; tag:    &#x60;/entities/by-query?filter&#x3D;metadata.tags.java&#x60;  - Return all users who are members of the &#x60;ops&#x60; group (note that the full   [reference](references.md) of the group is used):    &#x60;/entities/by-query?filter&#x3D;kind&#x3D;user,relations.memberof&#x3D;group:default/ops&#x60;\n   * @param getEntitiesByRefsRequest -\n   */\n  async getEntitiesByRefs(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-refs{?filter*}`;\n    const uri = parser.parse(uriTemplate).expand({\n      ...request.query\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Get an entity's ancestry by entity ref.\n   * @param kind -\n   * @param namespace -\n   * @param name -\n   */\n  async getEntityAncestryByName(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-name/{kind}/{namespace}/{name}/ancestry`;\n    const uri = parser.parse(uriTemplate).expand({\n      kind: request.path.kind,\n      namespace: request.path.namespace,\n      name: request.path.name\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get an entity by an entity ref.\n   * @param kind -\n   * @param namespace -\n   * @param name -\n   */\n  async getEntityByName(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-name/{kind}/{namespace}/{name}`;\n    const uri = parser.parse(uriTemplate).expand({\n      kind: request.path.kind,\n      namespace: request.path.namespace,\n      name: request.path.name\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get a single entity by the UID.\n   * @param uid -\n   */\n  async getEntityByUid(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entities/by-uid/{uid}`;\n    const uri = parser.parse(uriTemplate).expand({\n      uid: request.path.uid\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get all entity facets that match the given filters.\n   * @param facet -\n   * @param filter - You can pass in one or more filter sets that get matched against each entity. Each filter set is a number of conditions that all have to match for the condition to be true (conditions effectively have an AND between them). At least one filter set has to be true for the entity to be part of the result set (filter sets effectively have an OR between them).  Example:  &#x60;&#x60;&#x60;text /entities/by-query?filter&#x3D;kind&#x3D;user,metadata.namespace&#x3D;default&amp;filter&#x3D;kind&#x3D;group,spec.type    Return entities that match      Filter set 1:       Condition 1: kind &#x3D; user                   AND       Condition 2: metadata.namespace &#x3D; default      OR      Filter set 2:       Condition 1: kind &#x3D; group                   AND       Condition 2: spec.type exists &#x60;&#x60;&#x60;  Each condition is either on the form &#x60;&lt;key&gt;&#x60;, or on the form &#x60;&lt;key&gt;&#x3D;&lt;value&gt;&#x60;. The first form asserts on the existence of a certain key (with any value), and the second asserts that the key exists and has a certain value. All checks are always case _insensitive_.  In all cases, the key is a simplified JSON path in a given piece of entity data. Each part of the path is a key of an object, and the traversal also descends through arrays. There are two special forms:  - Array items that are simple value types (such as strings) match on a key-value   pair where the key is the item as a string, and the value is the string &#x60;true&#x60; - Relations can be matched on a &#x60;relations.&lt;type&gt;&#x3D;&lt;targetRef&gt;&#x60; form  Let&#39;s look at a simplified example to illustrate the concept:  &#x60;&#x60;&#x60;json {   \\&quot;a\\&quot;: {     \\&quot;b\\&quot;: [\\&quot;c\\&quot;, { \\&quot;d\\&quot;: 1 }],     \\&quot;e\\&quot;: 7   } } &#x60;&#x60;&#x60;  This would match any one of the following conditions:  - &#x60;a&#x60; - &#x60;a.b&#x60; - &#x60;a.b.c&#x60; - &#x60;a.b.c&#x3D;true&#x60; - &#x60;a.b.d&#x60; - &#x60;a.b.d&#x3D;1&#x60; - &#x60;a.e&#x60; - &#x60;a.e&#x3D;7&#x60;  Some more real world usable examples:  - Return all orphaned entities:    &#x60;/entities/by-query?filter&#x3D;metadata.annotations.backstage.io/orphan&#x3D;true&#x60;  - Return all users and groups:    &#x60;/entities/by-query?filter&#x3D;kind&#x3D;user&amp;filter&#x3D;kind&#x3D;group&#x60;  - Return all service components:    &#x60;/entities/by-query?filter&#x3D;kind&#x3D;component,spec.type&#x3D;service&#x60;  - Return all entities with the &#x60;java&#x60; tag:    &#x60;/entities/by-query?filter&#x3D;metadata.tags.java&#x60;  - Return all users who are members of the &#x60;ops&#x60; group (note that the full   [reference](references.md) of the group is used):    &#x60;/entities/by-query?filter&#x3D;kind&#x3D;user,relations.memberof&#x3D;group:default/ops&#x60;\n   */\n  async getEntityFacets(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/entity-facets{?facet*,filter*}`;\n    const uri = parser.parse(uriTemplate).expand({\n      ...request.query\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Refresh the entity related to entityRef.\n   * @param refreshEntityRequest -\n   */\n  async refreshEntity(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/refresh`;\n    const uri = parser.parse(uriTemplate).expand({});\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Validate that a passed in entity has no errors in schema.\n   * @param validateEntityRequest -\n   */\n  async validateEntity(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/validate-entity`;\n    const uri = parser.parse(uriTemplate).expand({});\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Validate a given location.\n   * @param analyzeLocationRequest -\n   */\n  async analyzeLocation(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/analyze-location`;\n    const uri = parser.parse(uriTemplate).expand({});\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Create a location for a given target.\n   * @param createLocationRequest -\n   * @param dryRun -\n   */\n  async createLocation(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/locations{?dryRun}`;\n    const uri = parser.parse(uriTemplate).expand({\n      ...request.query\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Delete a location by id.\n   * @param id -\n   */\n  async deleteLocation(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/locations/{id}`;\n    const uri = parser.parse(uriTemplate).expand({\n      id: request.path.id\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"DELETE\"\n    });\n  }\n  /**\n   * Get a location by id.\n   * @param id -\n   */\n  async getLocation(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/locations/{id}`;\n    const uri = parser.parse(uriTemplate).expand({\n      id: request.path.id\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get a location for entity.\n   * @param kind -\n   * @param namespace -\n   * @param name -\n   */\n  async getLocationByEntity(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/locations/by-entity/{kind}/{namespace}/{name}`;\n    const uri = parser.parse(uriTemplate).expand({\n      kind: request.path.kind,\n      namespace: request.path.namespace,\n      name: request.path.name\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get all locations\n   */\n  async getLocations(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/locations`;\n    const uri = parser.parse(uriTemplate).expand({});\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n}\n\nexport { DefaultApiClient };\n//# sourceMappingURL=Api.client.esm.js.map\n","import { parseEntityRef, stringifyLocationRef } from '@backstage/catalog-model';\nimport { ResponseError } from '@backstage/errors';\nimport { CATALOG_FILTER_EXISTS } from './types/api.esm.js';\nimport { splitRefsIntoChunks, isQueryEntitiesInitialRequest } from './utils.esm.js';\nimport { DefaultApiClient } from './schema/openapi/generated/apis/Api.client.esm.js';\nimport { DEFAULT_STREAM_ENTITIES_LIMIT } from './constants.esm.js';\n\nclass CatalogClient {\n  apiClient;\n  constructor(options) {\n    this.apiClient = new DefaultApiClient(options);\n  }\n  /**\n   * {@inheritdoc CatalogApi.getEntityAncestors}\n   */\n  async getEntityAncestors(request, options) {\n    return await this.requestRequired(\n      await this.apiClient.getEntityAncestryByName(\n        { path: parseEntityRef(request.entityRef) },\n        options\n      )\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.getLocations}\n   */\n  async getLocations(request, options) {\n    const res = await this.requestRequired(\n      await this.apiClient.getLocations(request ?? {}, options)\n    );\n    return {\n      items: res.map((item) => item.data)\n    };\n  }\n  /**\n   * {@inheritdoc CatalogApi.getLocationById}\n   */\n  async getLocationById(id, options) {\n    return await this.requestOptional(\n      await this.apiClient.getLocation({ path: { id } }, options)\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.getLocationByEntity}\n   */\n  async getLocationByEntity(entityRef, options) {\n    return await this.requestOptional(\n      await this.apiClient.getLocationByEntity(\n        { path: parseEntityRef(entityRef) },\n        options\n      )\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.getEntities}\n   */\n  async getEntities(request, options) {\n    const {\n      filter = [],\n      fields = [],\n      order,\n      offset,\n      limit,\n      after\n    } = request ?? {};\n    const encodedOrder = [];\n    if (order) {\n      for (const directive of [order].flat()) {\n        if (directive) {\n          encodedOrder.push(`${directive.order}:${directive.field}`);\n        }\n      }\n    }\n    const entities = await this.requestRequired(\n      await this.apiClient.getEntities(\n        {\n          query: {\n            fields,\n            limit,\n            filter: this.getFilterValue(filter),\n            offset,\n            after,\n            order: order ? encodedOrder : void 0\n          }\n        },\n        options\n      )\n    );\n    return { items: entities };\n  }\n  /**\n   * {@inheritdoc CatalogApi.getEntitiesByRefs}\n   */\n  async getEntitiesByRefs(request, options) {\n    const getOneChunk = async (refs) => {\n      const response = await this.apiClient.getEntitiesByRefs(\n        {\n          body: { entityRefs: refs, fields: request.fields },\n          query: { filter: this.getFilterValue(request.filter) }\n        },\n        options\n      );\n      if (!response.ok) {\n        throw await ResponseError.fromResponse(response);\n      }\n      const body = await response.json();\n      return body.items.map((i) => i ?? void 0);\n    };\n    let result;\n    for (const refs of splitRefsIntoChunks(request.entityRefs)) {\n      const entities = await getOneChunk(refs);\n      if (!result) {\n        result = entities;\n      } else {\n        result.push(...entities);\n      }\n    }\n    return { items: result ?? [] };\n  }\n  /**\n   * {@inheritdoc CatalogApi.queryEntities}\n   */\n  async queryEntities(request = {}, options) {\n    const params = {};\n    if (isQueryEntitiesInitialRequest(request)) {\n      const {\n        fields = [],\n        filter,\n        limit,\n        offset,\n        orderFields,\n        fullTextFilter\n      } = request;\n      params.filter = this.getFilterValue(filter);\n      if (limit !== void 0) {\n        params.limit = limit;\n      }\n      if (offset !== void 0) {\n        params.offset = offset;\n      }\n      if (orderFields !== void 0) {\n        params.orderField = (Array.isArray(orderFields) ? orderFields : [orderFields]).map(({ field, order }) => `${field},${order}`);\n      }\n      if (fields.length) {\n        params.fields = fields;\n      }\n      const normalizedFullTextFilterTerm = fullTextFilter?.term?.trim();\n      if (normalizedFullTextFilterTerm) {\n        params.fullTextFilterTerm = normalizedFullTextFilterTerm;\n      }\n      if (fullTextFilter?.fields?.length) {\n        params.fullTextFilterFields = fullTextFilter.fields;\n      }\n    } else {\n      const { fields = [], limit, cursor } = request;\n      params.cursor = cursor;\n      if (limit !== void 0) {\n        params.limit = limit;\n      }\n      if (fields.length) {\n        params.fields = fields;\n      }\n    }\n    return this.requestRequired(\n      await this.apiClient.getEntitiesByQuery({ query: params }, options)\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.getEntityByRef}\n   */\n  async getEntityByRef(entityRef, options) {\n    return this.requestOptional(\n      await this.apiClient.getEntityByName(\n        {\n          path: parseEntityRef(entityRef)\n        },\n        options\n      )\n    );\n  }\n  // NOTE(freben): When we deprecate getEntityByName from the interface, we may\n  // still want to leave this implementation in place for quite some time\n  // longer, to minimize the risk for breakages. Suggested date for removal:\n  // August 2022\n  /**\n   * @deprecated Use getEntityByRef instead\n   */\n  async getEntityByName(compoundName, options) {\n    const { kind, namespace = \"default\", name } = compoundName;\n    return this.requestOptional(\n      await this.apiClient.getEntityByName(\n        { path: { kind, namespace, name } },\n        options\n      )\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.refreshEntity}\n   */\n  async refreshEntity(entityRef, options) {\n    const response = await this.apiClient.refreshEntity(\n      { body: { entityRef } },\n      options\n    );\n    if (response.status !== 200) {\n      throw await ResponseError.fromResponse(response);\n    }\n  }\n  /**\n   * {@inheritdoc CatalogApi.getEntityFacets}\n   */\n  async getEntityFacets(request, options) {\n    const { filter = [], facets } = request;\n    return await this.requestOptional(\n      await this.apiClient.getEntityFacets(\n        {\n          query: { facet: facets, filter: this.getFilterValue(filter) }\n        },\n        options\n      )\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.addLocation}\n   */\n  async addLocation(request, options) {\n    const { type = \"url\", target, dryRun } = request;\n    const response = await this.apiClient.createLocation(\n      {\n        body: { type, target },\n        query: { dryRun: dryRun ? \"true\" : void 0 }\n      },\n      options\n    );\n    if (response.status !== 201) {\n      throw await ResponseError.fromResponse(response);\n    }\n    const { location, entities, exists } = await response.json();\n    if (!location) {\n      throw new Error(`Location wasn't added: ${target}`);\n    }\n    return {\n      location,\n      entities,\n      exists\n    };\n  }\n  /**\n   * {@inheritdoc CatalogApi.getLocationByRef}\n   */\n  async getLocationByRef(locationRef, options) {\n    const all = await this.requestRequired(\n      await this.apiClient.getLocations({}, options)\n    );\n    return all.map((r) => r.data).find((l) => locationRef === stringifyLocationRef(l));\n  }\n  /**\n   * {@inheritdoc CatalogApi.removeLocationById}\n   */\n  async removeLocationById(id, options) {\n    await this.requestIgnored(\n      await this.apiClient.deleteLocation({ path: { id } }, options)\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.removeEntityByUid}\n   */\n  async removeEntityByUid(uid, options) {\n    await this.requestIgnored(\n      await this.apiClient.deleteEntityByUid({ path: { uid } }, options)\n    );\n  }\n  /**\n   * {@inheritdoc CatalogApi.validateEntity}\n   */\n  async validateEntity(entity, locationRef, options) {\n    const response = await this.apiClient.validateEntity(\n      { body: { entity, location: locationRef } },\n      options\n    );\n    if (response.ok) {\n      return {\n        valid: true\n      };\n    }\n    if (response.status !== 400) {\n      throw await ResponseError.fromResponse(response);\n    }\n    const { errors = [] } = await response.json();\n    return {\n      valid: false,\n      errors\n    };\n  }\n  /**\n   * {@inheritdoc CatalogApi.analyzeLocation}\n   */\n  async analyzeLocation(request, options) {\n    const response = await this.apiClient.analyzeLocation(\n      {\n        body: request\n      },\n      options\n    );\n    if (response.status !== 200) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return response.json();\n  }\n  /**\n   * {@inheritdoc CatalogApi.streamEntities}\n   */\n  async *streamEntities(request, options) {\n    let cursor = void 0;\n    const limit = request?.pageSize ?? DEFAULT_STREAM_ENTITIES_LIMIT;\n    do {\n      const res = await this.queryEntities(\n        cursor ? { ...request, cursor, limit } : { ...request, limit },\n        options\n      );\n      yield res.items;\n      cursor = res.pageInfo.nextCursor;\n    } while (cursor);\n  }\n  //\n  // Private methods\n  //\n  async requestIgnored(response) {\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n  }\n  async requestRequired(response) {\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return response.json();\n  }\n  async requestOptional(response) {\n    if (!response.ok) {\n      if (response.status === 404) {\n        return void 0;\n      }\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  getFilterValue(filter = []) {\n    const filters = [];\n    for (const filterItem of [filter].flat()) {\n      const filterParts = [];\n      for (const [key, value] of Object.entries(filterItem)) {\n        for (const v of [value].flat()) {\n          if (v === CATALOG_FILTER_EXISTS) {\n            filterParts.push(key);\n          } else if (typeof v === \"string\") {\n            filterParts.push(`${key}=${v}`);\n          }\n        }\n      }\n      if (filterParts.length) {\n        filters.push(filterParts.join(\",\"));\n      }\n    }\n    return filters;\n  }\n}\n\nexport { CatalogClient };\n//# sourceMappingURL=CatalogClient.esm.js.map\n","function isQueryEntitiesInitialRequest(request) {\n  return !request.cursor;\n}\nfunction splitRefsIntoChunks(refs, options) {\n  if (!refs.length) {\n    return [];\n  }\n  const {\n    maxCountPerChunk = 1e3,\n    maxStringLengthPerChunk = 90 * 2 ** 10,\n    extraStringLengthPerRef = 3\n  } = {};\n  const chunks = [];\n  let currentChunkStart = 0;\n  let currentChunkStringLength = 0;\n  let currentChunkSize = 0;\n  for (let i = 0; i < refs.length; ++i) {\n    const refLength = refs[i].length + extraStringLengthPerRef;\n    if (currentChunkSize > 0) {\n      if (currentChunkStringLength + refLength > maxStringLengthPerChunk || currentChunkSize + 1 > maxCountPerChunk) {\n        chunks.push(refs.slice(currentChunkStart, i));\n        currentChunkStart = i;\n        currentChunkStringLength = 0;\n        currentChunkSize = 0;\n      }\n    }\n    currentChunkStringLength += refLength;\n    currentChunkSize += 1;\n  }\n  chunks.push(refs.slice(currentChunkStart, refs.length));\n  return chunks;\n}\n\nexport { isQueryEntitiesInitialRequest, splitRefsIntoChunks };\n//# sourceMappingURL=utils.esm.js.map\n","const DEFAULT_STREAM_ENTITIES_LIMIT = 500;\n\nexport { DEFAULT_STREAM_ENTITIES_LIMIT };\n//# sourceMappingURL=constants.esm.js.map\n","function durationToMilliseconds(duration) {\n  const {\n    years = 0,\n    months = 0,\n    weeks = 0,\n    days = 0,\n    hours = 0,\n    minutes = 0,\n    seconds = 0,\n    milliseconds = 0\n  } = duration;\n  const totalDays = years * 365 + months * 30 + weeks * 7 + days;\n  const totalHours = totalDays * 24 + hours;\n  const totalMinutes = totalHours * 60 + minutes;\n  const totalSeconds = totalMinutes * 60 + seconds;\n  const totalMilliseconds = totalSeconds * 1e3 + milliseconds;\n  return totalMilliseconds;\n}\n\nexport { durationToMilliseconds };\n//# sourceMappingURL=time.esm.js.map\n","import { defaultEntityPresentation } from '@backstage/plugin-catalog-react';\nimport ApartmentIcon from '@material-ui/icons/Apartment';\nimport CategoryIcon from '@material-ui/icons/Category';\nimport ExtensionIcon from '@material-ui/icons/Extension';\nimport FeaturedPlayListIcon from '@material-ui/icons/FeaturedPlayList';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nimport MemoryIcon from '@material-ui/icons/Memory';\nimport PeopleIcon from '@material-ui/icons/People';\nimport PersonIcon from '@material-ui/icons/Person';\nimport StorageIcon from '@material-ui/icons/Storage';\n\nconst DEFAULT_CACHE_TTL = { seconds: 10 };\nconst DEFAULT_BATCH_DELAY = { milliseconds: 50 };\nconst DEFAULT_ICONS = {\n  api: ExtensionIcon,\n  component: MemoryIcon,\n  system: CategoryIcon,\n  resource: StorageIcon,\n  domain: ApartmentIcon,\n  location: LocationOnIcon,\n  user: PersonIcon,\n  group: PeopleIcon,\n  template: FeaturedPlayListIcon\n};\nfunction createDefaultRenderer(options) {\n  return {\n    async: options.async,\n    render: ({ entityRef, entity, context }) => {\n      const presentation = defaultEntityPresentation(\n        entity || entityRef,\n        context\n      );\n      return {\n        snapshot: presentation,\n        loadEntity: options.async\n      };\n    }\n  };\n}\n\nexport { DEFAULT_BATCH_DELAY, DEFAULT_CACHE_TTL, DEFAULT_ICONS, createDefaultRenderer };\n//# sourceMappingURL=defaults.esm.js.map\n","import { stringifyEntityRef, parseEntityRef } from '@backstage/catalog-model';\nimport { durationToMilliseconds } from '@backstage/types';\nimport DataLoader from 'dataloader';\nimport ObservableImpl from 'zen-observable';\nimport { createDefaultRenderer, DEFAULT_CACHE_TTL, DEFAULT_BATCH_DELAY, DEFAULT_ICONS } from './defaults.esm.js';\n\nclass ExpiryMap extends Map {\n  #ttlMs;\n  #timestamps = /* @__PURE__ */ new Map();\n  constructor(ttlMs) {\n    super();\n    this.#ttlMs = ttlMs;\n  }\n  set(key, value) {\n    const result = super.set(key, value);\n    this.#timestamps.set(key, Date.now());\n    return result;\n  }\n  get(key) {\n    if (!this.has(key)) {\n      return void 0;\n    }\n    const timestamp = this.#timestamps.get(key);\n    if (Date.now() - timestamp > this.#ttlMs) {\n      this.delete(key);\n      return void 0;\n    }\n    return super.get(key);\n  }\n  delete(key) {\n    this.#timestamps.delete(key);\n    return super.delete(key);\n  }\n  clear() {\n    this.#timestamps.clear();\n    return super.clear();\n  }\n}\nclass DefaultEntityPresentationApi {\n  /**\n   * Creates a new presentation API that does not reach out to the catalog.\n   */\n  static createLocal() {\n    return new DefaultEntityPresentationApi({\n      renderer: createDefaultRenderer({ async: false })\n    });\n  }\n  /**\n   * Creates a new presentation API that calls out to the catalog as needed to\n   * get additional information about entities.\n   */\n  static create(options) {\n    return new DefaultEntityPresentationApi(options);\n  }\n  // This cache holds on to all entity data ever loaded, no matter how old. Each\n  // entry is tagged with a timestamp of when it was inserted. We use this map\n  // to be able to always render SOME data even though the information is old.\n  // Entities change very rarely, so it's likely that the rendered information\n  // was perfectly fine in the first place.\n  #cache;\n  #cacheTtlMs;\n  #loader;\n  #kindIcons;\n  // lowercased kinds\n  #renderer;\n  constructor(options) {\n    const cacheTtl = options.cacheTtl ?? DEFAULT_CACHE_TTL;\n    const batchDelay = options.batchDelay ?? DEFAULT_BATCH_DELAY;\n    const renderer = options.renderer ?? createDefaultRenderer({ async: true });\n    const kindIcons = {};\n    Object.entries(DEFAULT_ICONS).forEach(([kind, icon]) => {\n      kindIcons[kind.toLocaleLowerCase(\"en-US\")] = icon;\n    });\n    Object.entries(options.kindIcons ?? {}).forEach(([kind, icon]) => {\n      kindIcons[kind.toLocaleLowerCase(\"en-US\")] = icon;\n    });\n    if (renderer.async) {\n      if (!options.catalogApi) {\n        throw new TypeError(`Asynchronous rendering requires a catalog API`);\n      }\n      this.#loader = this.#createLoader({\n        cacheTtl,\n        batchDelay,\n        renderer,\n        catalogApi: options.catalogApi\n      });\n    }\n    this.#cacheTtlMs = durationToMilliseconds(cacheTtl);\n    this.#cache = /* @__PURE__ */ new Map();\n    this.#kindIcons = kindIcons;\n    this.#renderer = renderer;\n  }\n  /** {@inheritdoc @backstage/plugin-catalog-react#EntityPresentationApi.forEntity} */\n  forEntity(entityOrRef, context) {\n    const { entityRef, kind, entity, needsLoad } = this.#getEntityForInitialRender(entityOrRef);\n    const render = (options) => {\n      const { snapshot } = this.#renderer.render({\n        entityRef,\n        loading: options.loading,\n        entity: options.entity,\n        context: context || {}\n      });\n      return {\n        ...snapshot,\n        entityRef,\n        Icon: this.#maybeFallbackIcon(snapshot.Icon, kind)\n      };\n    };\n    let initialSnapshot;\n    try {\n      initialSnapshot = render({\n        loading: needsLoad,\n        entity\n      });\n    } catch {\n      initialSnapshot = {\n        primaryTitle: entityRef,\n        entityRef\n      };\n    }\n    if (!needsLoad) {\n      return {\n        snapshot: initialSnapshot,\n        promise: Promise.resolve(initialSnapshot)\n      };\n    }\n    const maybeUpdatedSnapshot = Promise.resolve().then(() => {\n      return this.#loader?.load(entityRef);\n    }).then((newEntity) => {\n      return render({\n        loading: false,\n        entity: newEntity ?? entity\n      });\n    }).catch(() => {\n      return void 0;\n    });\n    const observable = new ObservableImpl(\n      (subscriber) => {\n        let aborted = false;\n        maybeUpdatedSnapshot.then((updatedSnapshot) => {\n          if (updatedSnapshot) {\n            subscriber.next(updatedSnapshot);\n          }\n        }).finally(() => {\n          if (!aborted) {\n            subscriber.complete();\n          }\n        });\n        return () => {\n          aborted = true;\n        };\n      }\n    );\n    const promise = maybeUpdatedSnapshot.then((updatedSnapshot) => {\n      return updatedSnapshot ?? initialSnapshot;\n    });\n    return {\n      snapshot: initialSnapshot,\n      update$: observable,\n      promise\n    };\n  }\n  #getEntityForInitialRender(entityOrRef) {\n    if (typeof entityOrRef !== \"string\") {\n      return {\n        entity: entityOrRef,\n        kind: entityOrRef.kind,\n        entityRef: stringifyEntityRef(entityOrRef),\n        needsLoad: false\n      };\n    }\n    const cached = this.#cache.get(entityOrRef);\n    const cachedEntity = cached?.entity;\n    const cacheNeedsUpdate = !cached || Date.now() - cached.updatedAt > this.#cacheTtlMs;\n    const needsLoad = cacheNeedsUpdate && this.#renderer.async !== false && this.#loader !== void 0;\n    return {\n      entity: cachedEntity,\n      kind: parseEntityRef(entityOrRef).kind,\n      entityRef: entityOrRef,\n      needsLoad\n    };\n  }\n  #createLoader(options) {\n    const cacheTtlMs = durationToMilliseconds(options.cacheTtl);\n    const batchDelayMs = durationToMilliseconds(options.batchDelay);\n    return new DataLoader(\n      async (entityRefs) => {\n        const { items } = await options.catalogApi.getEntitiesByRefs({\n          entityRefs,\n          fields: [\n            \"kind\",\n            \"metadata.name\",\n            \"metadata.namespace\",\n            \"metadata.title\",\n            \"metadata.description\",\n            \"spec.profile.displayName\",\n            \"spec.type\"\n          ]\n        });\n        const now = Date.now();\n        entityRefs.forEach((entityRef, index) => {\n          this.#cache.set(entityRef, {\n            updatedAt: now,\n            entity: items[index]\n          });\n        });\n        return items;\n      },\n      {\n        name: \"DefaultEntityPresentationApi\",\n        // This cache is the one that the data loader uses internally for\n        // memoizing requests; essentially what it achieves is that multiple\n        // requests for the same entity ref will be batched up into a single\n        // request and then the resulting promises are held on to. We put an\n        // expiring map here, which makes it so that it re-fetches data with the\n        // expiry cadence of that map. Otherwise it would only fetch a given ref\n        // once and then never try again. This cache does therefore not fulfill\n        // the same purpose as the one that is in the root of the class.\n        cacheMap: new ExpiryMap(cacheTtlMs),\n        maxBatchSize: 100,\n        batchScheduleFn: batchDelayMs ? (cb) => setTimeout(cb, batchDelayMs) : void 0\n      }\n    );\n  }\n  #maybeFallbackIcon(renderedIcon, kind) {\n    if (renderedIcon) {\n      return renderedIcon;\n    } else if (renderedIcon === false) {\n      return false;\n    }\n    return this.#kindIcons[kind.toLocaleLowerCase(\"en-US\")];\n  }\n}\n\nexport { DefaultEntityPresentationApi, ExpiryMap };\n//# sourceMappingURL=DefaultEntityPresentationApi.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { isArray, isString } from 'lodash';\n\nasync function performMigrationToTheNewBucket({\n  storageApi\n}) {\n  const source = storageApi.forBucket(\"settings\");\n  const target = storageApi.forBucket(\"starredEntities\");\n  const oldStarredEntities = source.snapshot(\"starredEntities\").value;\n  if (!isArray(oldStarredEntities)) {\n    return;\n  }\n  const targetEntities = new Set(\n    target.snapshot(\"entityRefs\").value ?? []\n  );\n  oldStarredEntities.filter(isString).map((old) => old.split(\":\")).filter((split) => split.length === 4 && split[0] === \"entity\").map(\n    ([_, kind, namespace, name]) => stringifyEntityRef({ kind, namespace, name })\n  ).forEach((e) => targetEntities.add(e));\n  await target.set(\"entityRefs\", Array.from(targetEntities));\n  await source.remove(\"starredEntities\");\n}\n\nexport { performMigrationToTheNewBucket };\n//# sourceMappingURL=migration.esm.js.map\n","import ObservableImpl from 'zen-observable';\nimport { performMigrationToTheNewBucket } from './migration.esm.js';\n\nclass DefaultStarredEntitiesApi {\n  settingsStore;\n  starredEntities;\n  constructor(opts) {\n    performMigrationToTheNewBucket(opts).then();\n    this.settingsStore = opts.storageApi.forBucket(\"starredEntities\");\n    this.starredEntities = new Set(\n      this.settingsStore.snapshot(\"entityRefs\").value ?? []\n    );\n    this.settingsStore.observe$(\"entityRefs\").subscribe({\n      next: (next) => {\n        this.starredEntities = new Set(next.value ?? []);\n        this.notifyChanges();\n      }\n    });\n  }\n  async toggleStarred(entityRef) {\n    if (this.starredEntities.has(entityRef)) {\n      this.starredEntities.delete(entityRef);\n    } else {\n      this.starredEntities.add(entityRef);\n    }\n    await this.settingsStore.set(\n      \"entityRefs\",\n      Array.from(this.starredEntities)\n    );\n  }\n  starredEntitie$() {\n    return this.observable;\n  }\n  subscribers = /* @__PURE__ */ new Set();\n  observable = new ObservableImpl((subscriber) => {\n    subscriber.next(new Set(this.starredEntities));\n    this.subscribers.add(subscriber);\n    return () => {\n      this.subscribers.delete(subscriber);\n    };\n  });\n  notifyChanges() {\n    for (const subscription of this.subscribers) {\n      subscription.next(new Set(this.starredEntities));\n    }\n  }\n}\n\nexport { DefaultStarredEntitiesApi };\n//# sourceMappingURL=DefaultStarredEntitiesApi.esm.js.map\n","import { CatalogClient } from '@backstage/catalog-client';\nimport { entityRouteRef, catalogApiRef, starredEntitiesApiRef, entityPresentationApiRef } from '@backstage/plugin-catalog-react';\nimport { unregisterRedirectRouteRef, createFromTemplateRouteRef, viewTechDocRouteRef, createComponentRouteRef, rootRouteRef } from './routes.esm.js';\nimport { createPlugin, createApiFactory, fetchApiRef, discoveryApiRef, storageApiRef, createRoutableExtension, createComponentExtension } from '@backstage/core-plugin-api';\nimport { createSearchResultListItemExtension } from '@backstage/plugin-search-react';\nimport { DefaultEntityPresentationApi } from './apis/EntityPresentationApi/DefaultEntityPresentationApi.esm.js';\nimport { DefaultStarredEntitiesApi } from './apis/StarredEntitiesApi/DefaultStarredEntitiesApi.esm.js';\n\nconst catalogPlugin = createPlugin({\n  id: \"catalog\",\n  apis: [\n    createApiFactory({\n      api: catalogApiRef,\n      deps: {\n        discoveryApi: discoveryApiRef,\n        fetchApi: fetchApiRef\n      },\n      factory: ({ discoveryApi, fetchApi }) => new CatalogClient({ discoveryApi, fetchApi })\n    }),\n    createApiFactory({\n      api: starredEntitiesApiRef,\n      deps: { storageApi: storageApiRef },\n      factory: ({ storageApi }) => new DefaultStarredEntitiesApi({ storageApi })\n    }),\n    createApiFactory({\n      api: entityPresentationApiRef,\n      deps: { catalogApi: catalogApiRef },\n      factory: ({ catalogApi }) => DefaultEntityPresentationApi.create({ catalogApi })\n    })\n  ],\n  routes: {\n    catalogIndex: rootRouteRef,\n    catalogEntity: entityRouteRef\n  },\n  externalRoutes: {\n    createComponent: createComponentRouteRef,\n    viewTechDoc: viewTechDocRouteRef,\n    createFromTemplate: createFromTemplateRouteRef,\n    unregisterRedirect: unregisterRedirectRouteRef\n  }\n});\nconst CatalogIndexPage = catalogPlugin.provide(\n  createRoutableExtension({\n    name: \"CatalogIndexPage\",\n    component: () => import('./components/CatalogPage/index.esm.js').then((m) => m.CatalogPage),\n    mountPoint: rootRouteRef\n  })\n);\nconst CatalogEntityPage = catalogPlugin.provide(\n  createRoutableExtension({\n    name: \"CatalogEntityPage\",\n    component: () => import('./components/CatalogEntityPage/index.esm.js').then((m) => m.CatalogEntityPage),\n    mountPoint: entityRouteRef\n  })\n);\nconst EntityAboutCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityAboutCard\",\n    component: {\n      lazy: () => import('./components/AboutCard/index.esm.js').then((m) => m.AboutCard)\n    }\n  })\n);\nconst EntityLinksCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityLinksCard\",\n    component: {\n      lazy: () => import('./components/EntityLinksCard/index.esm.js').then((m) => m.EntityLinksCard)\n    }\n  })\n);\nconst EntityLabelsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityLabelsCard\",\n    component: {\n      lazy: () => import('./components/EntityLabelsCard/index.esm.js').then((m) => m.EntityLabelsCard)\n    }\n  })\n);\nconst EntityHasSystemsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasSystemsCard\",\n    component: {\n      lazy: () => import('./components/HasSystemsCard/index.esm.js').then((m) => m.HasSystemsCard)\n    }\n  })\n);\nconst EntityHasComponentsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasComponentsCard\",\n    component: {\n      lazy: () => import('./components/HasComponentsCard/index.esm.js').then((m) => m.HasComponentsCard)\n    }\n  })\n);\nconst EntityHasSubcomponentsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasSubcomponentsCard\",\n    component: {\n      lazy: () => import('./components/HasSubcomponentsCard/index.esm.js').then(\n        (m) => m.HasSubcomponentsCard\n      )\n    }\n  })\n);\nconst EntityHasSubdomainsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasSubdomainsCard\",\n    component: {\n      lazy: () => import('./components/HasSubdomainsCard/index.esm.js').then((m) => m.HasSubdomainsCard)\n    }\n  })\n);\nconst EntityHasResourcesCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityHasResourcesCard\",\n    component: {\n      lazy: () => import('./components/HasResourcesCard/index.esm.js').then((m) => m.HasResourcesCard)\n    }\n  })\n);\nconst EntityDependsOnComponentsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityDependsOnComponentsCard\",\n    component: {\n      lazy: () => import('./components/DependsOnComponentsCard/index.esm.js').then(\n        (m) => m.DependsOnComponentsCard\n      )\n    }\n  })\n);\nconst EntityDependencyOfComponentsCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityDependencyOfComponentsCard\",\n    component: {\n      lazy: () => import('./components/DependencyOfComponentsCard/index.esm.js').then(\n        (m) => m.DependencyOfComponentsCard\n      )\n    }\n  })\n);\nconst EntityDependsOnResourcesCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"EntityDependsOnResourcesCard\",\n    component: {\n      lazy: () => import('./components/DependsOnResourcesCard/index.esm.js').then(\n        (m) => m.DependsOnResourcesCard\n      )\n    }\n  })\n);\nconst RelatedEntitiesCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: \"RelatedEntitiesCard\",\n    component: {\n      lazy: () => import('./components/RelatedEntitiesCard/index.esm.js').then(\n        (m) => m.RelatedEntitiesCard\n      )\n    }\n  })\n);\nconst CatalogSearchResultListItem = catalogPlugin.provide(\n  createSearchResultListItemExtension({\n    name: \"CatalogSearchResultListItem\",\n    component: () => import('./components/CatalogSearchResultListItem/index.esm.js').then(\n      (m) => m.CatalogSearchResultListItem\n    ),\n    predicate: (result) => result.type === \"software-catalog\"\n  })\n);\n\nexport { CatalogEntityPage, CatalogIndexPage, CatalogSearchResultListItem, EntityAboutCard, EntityDependencyOfComponentsCard, EntityDependsOnComponentsCard, EntityDependsOnResourcesCard, EntityHasComponentsCard, EntityHasResourcesCard, EntityHasSubcomponentsCard, EntityHasSubdomainsCard, EntityHasSystemsCard, EntityLabelsCard, EntityLinksCard, RelatedEntitiesCard, catalogPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createExternalRouteRef, createRouteRef } from '@backstage/core-plugin-api';\n\nconst createComponentRouteRef = createExternalRouteRef({\n  id: \"create-component\",\n  optional: true,\n  defaultTarget: \"scaffolder.root\"\n});\nconst viewTechDocRouteRef = createExternalRouteRef({\n  id: \"view-techdoc\",\n  optional: true,\n  params: [\"namespace\", \"kind\", \"name\"],\n  defaultTarget: \"techdocs.docRoot\"\n});\nconst createFromTemplateRouteRef = createExternalRouteRef({\n  id: \"create-from-template\",\n  optional: true,\n  params: [\"namespace\", \"templateName\"],\n  defaultTarget: \"scaffolder.selectedTemplate\"\n});\nconst unregisterRedirectRouteRef = createExternalRouteRef({\n  id: \"catalog:unregister-redirect\",\n  optional: true\n});\nconst rootRouteRef = createRouteRef({\n  id: \"catalog\"\n});\n\nexport { createComponentRouteRef, createFromTemplateRouteRef, rootRouteRef, unregisterRedirectRouteRef, viewTechDocRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","import { createTranslationRef } from '@backstage/frontend-plugin-api';\n\nconst homeReactTranslationRef = createTranslationRef({\n  id: \"home-react\",\n  messages: {\n    settingsModal: {\n      title: \"Settings\",\n      closeButtonTitle: \"Close\"\n    },\n    cardExtension: {\n      settingsButtonTitle: \"Settings\"\n    }\n  }\n});\n\nexport { homeReactTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { homeReactTranslationRef } from '../translation.esm.js';\n\nconst SettingsModal = (props) => {\n  const { open, close, componentName, children } = props;\n  const { t } = useTranslationRef(homeReactTranslationRef);\n  return /* @__PURE__ */ jsxs(Dialog, { open, onClose: () => close(), children: [\n    /* @__PURE__ */ jsx(DialogTitle, { children: componentName ? `${t(\"settingsModal.title\")} - ${componentName}` : t(\"settingsModal.title\") }),\n    /* @__PURE__ */ jsx(DialogContent, { children }),\n    /* @__PURE__ */ jsx(DialogActions, { children: /* @__PURE__ */ jsx(Button, { onClick: () => close(), color: \"primary\", variant: \"contained\", children: t(\"settingsModal.closeButtonTitle\") }) })\n  ] });\n};\n\nexport { SettingsModal };\n//# sourceMappingURL=SettingsModal.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useState, Suspense } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { InfoCard } from '@backstage/core-components';\nimport { SettingsModal } from './components/SettingsModal.esm.js';\nimport './components/ContentModal.esm.js';\nimport { createReactExtension, useApp } from '@backstage/core-plugin-api';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\nimport { homeReactTranslationRef } from './translation.esm.js';\n\nfunction createCardExtension(options) {\n  const { title, components, name, description, layout, settings } = options;\n  const isCustomizable = settings?.schema !== void 0;\n  return createReactExtension({\n    name,\n    data: { title, description, \"home.widget.config\": { layout, settings } },\n    component: {\n      lazy: () => components().then((componentParts) => {\n        return (props) => {\n          return /* @__PURE__ */ jsx(\n            CardExtension,\n            {\n              ...props,\n              ...componentParts,\n              title: props.title || title,\n              isCustomizable\n            }\n          );\n        };\n      })\n    }\n  });\n}\nfunction CardExtension(props) {\n  const {\n    Renderer,\n    Content,\n    Settings,\n    Actions,\n    ContextProvider,\n    isCustomizable,\n    title,\n    ...childProps\n  } = props;\n  const app = useApp();\n  const { Progress } = app.getComponents();\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const { t } = useTranslationRef(homeReactTranslationRef);\n  if (Renderer) {\n    return /* @__PURE__ */ jsx(Suspense, { fallback: /* @__PURE__ */ jsx(Progress, {}), children: /* @__PURE__ */ jsx(\n      Renderer,\n      {\n        ...title && { title },\n        ...{\n          Content,\n          ...Actions ? { Actions } : {},\n          ...Settings && !isCustomizable ? { Settings } : {},\n          ...ContextProvider ? { ContextProvider } : {},\n          ...childProps\n        }\n      }\n    ) });\n  }\n  const cardProps = {\n    divider: !!title,\n    ...title && { title },\n    ...Settings && !isCustomizable ? {\n      action: /* @__PURE__ */ jsx(IconButton, { onClick: () => setSettingsOpen(true), children: /* @__PURE__ */ jsx(SettingsIcon, { children: t(\"cardExtension.settingsButtonTitle\") }) })\n    } : {},\n    ...Actions ? {\n      actions: /* @__PURE__ */ jsx(Actions, {})\n    } : {}\n  };\n  const innerContent = /* @__PURE__ */ jsxs(InfoCard, { ...cardProps, children: [\n    Settings && !isCustomizable && /* @__PURE__ */ jsx(\n      SettingsModal,\n      {\n        open: settingsOpen,\n        componentName: title,\n        close: () => setSettingsOpen(false),\n        children: /* @__PURE__ */ jsx(Settings, {})\n      }\n    ),\n    /* @__PURE__ */ jsx(Content, { ...childProps })\n  ] });\n  return /* @__PURE__ */ jsx(Suspense, { fallback: /* @__PURE__ */ jsx(Progress, {}), children: ContextProvider ? /* @__PURE__ */ jsx(ContextProvider, { ...childProps, children: innerContent }) : innerContent });\n}\n\nexport { createCardExtension };\n//# sourceMappingURL=extensions.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst kubernetesApiRef = createApiRef({\n  id: \"plugin.kubernetes.service\"\n});\nconst kubernetesProxyApiRef = createApiRef({\n  id: \"plugin.kubernetes.proxy-service\"\n});\nconst kubernetesClusterLinkFormatterApiRef = createApiRef({\n  id: \"plugin.kubernetes.cluster-link-formatter-service\"\n});\n\nexport { kubernetesApiRef, kubernetesClusterLinkFormatterApiRef, kubernetesProxyApiRef };\n//# sourceMappingURL=types.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst kubernetesAuthProvidersApiRef = createApiRef({\n  id: \"plugin.kubernetes-auth-providers.service\"\n});\n\nexport { kubernetesAuthProvidersApiRef };\n//# sourceMappingURL=types.esm.js.map\n","const generateAuth = async (entity, kubernetesApi, kubernetesAuthProvidersApi) => {\n  const clusters = await kubernetesApi.getClusters();\n  const authProviders = [\n    ...new Set(\n      clusters.map(\n        (c) => `${c.authProvider}${c.oidcTokenProvider ? `.${c.oidcTokenProvider}` : \"\"}`\n      )\n    )\n  ];\n  let requestBody = {\n    entity\n  };\n  for (const authProviderStr of authProviders) {\n    requestBody = await kubernetesAuthProvidersApi.decorateRequestBodyForAuth(\n      authProviderStr,\n      requestBody\n    );\n  }\n  return requestBody.auth ?? {};\n};\n\nexport { generateAuth };\n//# sourceMappingURL=auth.esm.js.map\n","import { createContext, useContext } from 'react';\n\nconst DetectedErrorsContext = createContext([]);\nconst useMatchingErrors = (matcher) => {\n  const targetRef = {\n    name: matcher.metadata?.name ?? \"\",\n    namespace: matcher.metadata?.namespace ?? \"\",\n    kind: matcher.kind,\n    apiGroup: matcher.apiVersion\n  };\n  const errors = useContext(DetectedErrorsContext);\n  return errors.filter((e) => {\n    const r = e.sourceRef;\n    return targetRef.apiGroup === r.apiGroup && targetRef.kind === r.kind && targetRef.name === r.name && targetRef.namespace === r.namespace;\n  });\n};\n\nexport { DetectedErrorsContext, useMatchingErrors };\n//# sourceMappingURL=useMatchingErrors.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Typography from '@material-ui/core/Typography';\nimport { WarningPanel } from '@backstage/core-components';\n\nconst clustersWithErrorsToErrorMessage = (clustersWithErrors) => {\n  return clustersWithErrors.map((c, i) => {\n    return /* @__PURE__ */ jsxs(\"div\", { children: [\n      /* @__PURE__ */ jsx(Typography, { variant: \"body2\", children: `Cluster: ${c.cluster.title || c.cluster.name}` }),\n      c.errors.map((e, j) => {\n        return /* @__PURE__ */ jsx(Typography, { variant: \"body2\", children: e.errorType === \"FETCH_ERROR\" ? `Error communicating with Kubernetes: ${e.errorType}, message: ${e.message}` : `Error fetching Kubernetes resource: '${e.resourcePath}', error: ${e.errorType}, status code: ${e.statusCode}` }, j);\n      }),\n      /* @__PURE__ */ jsx(\"br\", {})\n    ] }, i);\n  });\n};\nconst ErrorPanel = ({\n  entityName,\n  errorMessage,\n  clustersWithErrors\n}) => /* @__PURE__ */ jsxs(\n  WarningPanel,\n  {\n    title: \"There was a problem retrieving Kubernetes objects\",\n    message: `There was a problem retrieving some Kubernetes resources for the entity: ${entityName}. This could mean that the Error Reporting card is not completely accurate.`,\n    children: [\n      clustersWithErrors && /* @__PURE__ */ jsxs(\"div\", { children: [\n        \"Errors: \",\n        clustersWithErrorsToErrorMessage(clustersWithErrors)\n      ] }),\n      errorMessage && /* @__PURE__ */ jsxs(Typography, { variant: \"body2\", children: [\n        \"Errors: \",\n        errorMessage\n      ] })\n    ]\n  }\n);\n\nexport { ErrorPanel };\n//# sourceMappingURL=ErrorPanel.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { Table } from '@backstage/core-components';\n\nconst columns = [\n  {\n    title: \"cluster\",\n    width: \"10%\",\n    render: (row) => row.cluster.title || row.cluster.name\n  },\n  {\n    title: \"namespace\",\n    width: \"10%\",\n    render: (row) => row.error.sourceRef.namespace\n  },\n  {\n    title: \"kind\",\n    width: \"10%\",\n    render: (row) => row.error.sourceRef.kind\n  },\n  {\n    title: \"name\",\n    width: \"30%\",\n    render: (row) => {\n      return /* @__PURE__ */ jsxs(Fragment, { children: [\n        row.error.sourceRef.name,\n        \" \"\n      ] });\n    }\n  },\n  {\n    title: \"messages\",\n    width: \"40%\",\n    render: (row) => row.error.message\n  }\n];\nconst sortBySeverity = (a, b) => {\n  if (a.error.severity < b.error.severity) {\n    return 1;\n  } else if (b.error.severity < a.error.severity) {\n    return -1;\n  }\n  return 0;\n};\nconst ErrorReporting = ({\n  detectedErrors,\n  clusters\n}) => {\n  const errors = Array.from(detectedErrors.entries()).flatMap(([clusterName, resourceErrors]) => {\n    return resourceErrors.map((e) => ({\n      cluster: clusters.find((c) => c.name === clusterName),\n      error: e\n    }));\n  }).sort(sortBySeverity);\n  return /* @__PURE__ */ jsx(Fragment, { children: errors.length !== 0 && /* @__PURE__ */ jsx(\n    Table,\n    {\n      title: \"Error Reporting\",\n      data: errors,\n      columns,\n      options: { paging: true, search: false, emptyRowsWhenPaging: false }\n    }\n  ) });\n};\n\nexport { ErrorReporting };\n//# sourceMappingURL=ErrorReporting.esm.js.map\n","const groupResponses = (fetchResponse) => {\n  return fetchResponse.reduce(\n    (prev, next) => {\n      switch (next.type) {\n        case \"deployments\":\n          prev.deployments.push(...next.resources);\n          break;\n        case \"pods\":\n          prev.pods.push(...next.resources);\n          break;\n        case \"replicasets\":\n          prev.replicaSets.push(...next.resources);\n          break;\n        case \"services\":\n          prev.services.push(...next.resources);\n          break;\n        case \"configmaps\":\n          prev.configMaps.push(...next.resources);\n          break;\n        case \"horizontalpodautoscalers\":\n          prev.horizontalPodAutoscalers.push(...next.resources);\n          break;\n        case \"ingresses\":\n          prev.ingresses.push(...next.resources);\n          break;\n        case \"jobs\":\n          prev.jobs.push(...next.resources);\n          break;\n        case \"cronjobs\":\n          prev.cronJobs.push(...next.resources);\n          break;\n        case \"customresources\":\n          prev.customResources.push(...next.resources);\n          break;\n        case \"statefulsets\":\n          prev.statefulsets.push(...next.resources);\n          break;\n        case \"daemonsets\":\n          prev.daemonSets.push(...next.resources);\n          break;\n      }\n      return prev;\n    },\n    {\n      pods: [],\n      replicaSets: [],\n      deployments: [],\n      services: [],\n      configMaps: [],\n      horizontalPodAutoscalers: [],\n      ingresses: [],\n      jobs: [],\n      cronJobs: [],\n      customResources: [],\n      statefulsets: [],\n      daemonSets: []\n    }\n  );\n};\n\nexport { groupResponses };\n//# sourceMappingURL=response.esm.js.map\n","import { createContext } from 'react';\n\nconst PodNamesWithErrorsContext = createContext(\n  /* @__PURE__ */ new Set()\n);\n\nexport { PodNamesWithErrorsContext };\n//# sourceMappingURL=PodNamesWithErrors.esm.js.map\n","import { createContext } from 'react';\n\nconst GroupedResponsesContext = createContext({\n  pods: [],\n  replicaSets: [],\n  deployments: [],\n  daemonSets: [],\n  services: [],\n  configMaps: [],\n  horizontalPodAutoscalers: [],\n  ingresses: [],\n  jobs: [],\n  cronJobs: [],\n  customResources: [],\n  statefulsets: []\n});\n\nexport { GroupedResponsesContext };\n//# sourceMappingURL=GroupedResponses.esm.js.map\n","const currentToDeclaredResourceToPerc = (current, resource) => {\n  if (Number(resource) === 0) return 0;\n  if (typeof current === \"number\" && typeof resource === \"number\") {\n    return Math.round(current / resource * 100);\n  }\n  const numerator = BigInt(\n    typeof current === \"number\" ? Math.round(current) : Number(current)\n  );\n  const denominator = BigInt(\n    typeof resource === \"number\" ? Math.round(resource) : Number(resource)\n  );\n  return Number(numerator * BigInt(100) / denominator);\n};\nconst bytesToMiB = (value) => {\n  return `${(parseFloat(value.toString()) / 1024 / 1024).toFixed(0)}MiB`;\n};\nconst formatMillicores = (value) => {\n  return `${(parseFloat(value.toString()) * 1e3).toFixed(0)}m`;\n};\n\nexport { bytesToMiB, currentToDeclaredResourceToPerc, formatMillicores };\n//# sourceMappingURL=resources.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useState } from 'react';\n\nconst useStyles = makeStyles(\n  (theme) => createStyles({\n    dialogPaper: { minHeight: \"calc(100% - 64px)\" },\n    dialogContent: { flexBasis: 0 },\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500]\n    }\n  })\n);\nconst KubernetesDialog = ({\n  buttonAriaLabel,\n  buttonIcon,\n  buttonText,\n  children,\n  disabled,\n  title\n}) => {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const openDialog = () => {\n    setOpen(true);\n  };\n  const closeDialog = () => {\n    setOpen(false);\n  };\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsxs(\n      Dialog,\n      {\n        maxWidth: \"xl\",\n        fullWidth: true,\n        open,\n        onClose: closeDialog,\n        PaperProps: { className: classes.dialogPaper },\n        children: [\n          /* @__PURE__ */ jsxs(DialogTitle, { id: \"dialog-title\", children: [\n            title,\n            /* @__PURE__ */ jsx(\n              IconButton,\n              {\n                \"aria-label\": \"close\",\n                className: classes.closeButton,\n                onClick: closeDialog,\n                children: /* @__PURE__ */ jsx(CloseIcon, {})\n              }\n            )\n          ] }),\n          /* @__PURE__ */ jsx(DialogContent, { className: classes.dialogContent, children })\n        ]\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      Button,\n      {\n        variant: \"outlined\",\n        \"aria-label\": buttonAriaLabel,\n        component: \"label\",\n        disabled,\n        onClick: openDialog,\n        startIcon: buttonIcon,\n        children: buttonText\n      }\n    )\n  ] });\n};\n\nexport { KubernetesDialog };\n//# sourceMappingURL=KubernetesDialog.esm.js.map\n","import { AttachAddon } from '@xterm/addon-attach';\n\nclass PodExecTerminalAttachAddon extends AttachAddon {\n  #textEncoder = new TextEncoder();\n  constructor(socket, options) {\n    super(socket, options);\n    const thisAddon = this;\n    thisAddon._sendBinary = (data) => {\n      if (!thisAddon._checkOpenSocket()) {\n        return;\n      }\n      const buffer = Uint8Array.from([0, ...this.#textEncoder.encode(data)]);\n      thisAddon._socket.send(buffer);\n    };\n    thisAddon._sendData = (data) => {\n      if (!thisAddon._checkOpenSocket()) {\n        return;\n      }\n      thisAddon._sendBinary(data);\n    };\n  }\n}\n\nexport { PodExecTerminalAttachAddon };\n//# sourceMappingURL=PodExecTerminalAttachAddon.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport '@xterm/xterm/css/xterm.css';\nimport { useApi, discoveryApiRef } from '@backstage/core-plugin-api';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport { useState, useRef, useEffect, useMemo } from 'react';\nimport { Terminal } from '@xterm/xterm';\nimport { FitAddon } from '@xterm/addon-fit';\nimport { PodExecTerminalAttachAddon } from './PodExecTerminalAttachAddon.esm.js';\n\nconst hasSocketProtocol = (url) => /wss?:\\/\\//.test(url.toString());\nconst useStyles = makeStyles(\n  (theme) => createStyles({\n    podExecTerminal: {\n      width: \"100%\",\n      height: \"100%\",\n      \"& .xterm-screen\": { padding: theme.spacing(1) }\n    }\n  })\n);\nconst PodExecTerminal = (props) => {\n  const classes = useStyles();\n  const { containerName, podNamespace, podName } = props;\n  const [baseUrl, setBaseUrl] = useState(window.location.host);\n  const terminalRef = useRef(null);\n  const discoveryApi = useApi(discoveryApiRef);\n  const namespace = podNamespace ?? \"default\";\n  useEffect(() => {\n    discoveryApi.getBaseUrl(\"kubernetes\").then((url) => url ?? window.location.host).then((url) => url.replace(/^http(s?):\\/\\//, \"ws$1://\")).then((url) => setBaseUrl(url));\n  }, [discoveryApi]);\n  const urlParams = useMemo(() => {\n    const params = new URLSearchParams({\n      container: containerName,\n      stdin: \"true\",\n      stdout: \"true\",\n      stderr: \"true\",\n      tty: \"true\",\n      command: \"/bin/sh\"\n    });\n    return params;\n  }, [containerName]);\n  const socketUrl = useMemo(() => {\n    if (!hasSocketProtocol(baseUrl)) {\n      return \"\";\n    }\n    return new URL(\n      `${baseUrl}/proxy/api/v1/namespaces/${namespace}/pods/${podName}/exec?${urlParams}`\n    );\n  }, [baseUrl, namespace, podName, urlParams]);\n  useEffect(() => {\n    if (!hasSocketProtocol(socketUrl)) {\n      return () => {\n      };\n    }\n    const terminal = new Terminal();\n    const fitAddon = new FitAddon();\n    terminal.loadAddon(fitAddon);\n    if (terminalRef.current) {\n      terminal.open(terminalRef.current);\n      fitAddon.fit();\n    }\n    terminal.writeln(\"Starting terminal, please wait...\");\n    const socket = new WebSocket(socketUrl, [\"channel.k8s.io\"]);\n    socket.onopen = () => {\n      terminal.clear();\n      const attachAddon = new PodExecTerminalAttachAddon(socket, {\n        bidirectional: true\n      });\n      terminal.loadAddon(attachAddon);\n    };\n    socket.onclose = () => {\n      terminal.writeln(\"Socket connection closed\");\n    };\n    return () => {\n      terminal?.clear();\n      socket?.close();\n    };\n  }, [baseUrl, socketUrl]);\n  return /* @__PURE__ */ jsx(\n    \"div\",\n    {\n      \"data-testid\": \"terminal\",\n      ref: terminalRef,\n      className: classes.podExecTerminal\n    }\n  );\n};\n\nexport { PodExecTerminal };\n//# sourceMappingURL=PodExecTerminal.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport OpenInBrowserIcon from '@material-ui/icons/OpenInBrowser';\nimport { KubernetesDialog } from '../KubernetesDialog/KubernetesDialog.esm.js';\nimport '@backstage/core-plugin-api';\nimport { useIsPodExecTerminalSupported } from '../../hooks/useIsPodExecTerminalSupported.esm.js';\nimport 'react';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../api/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport { PodExecTerminal } from './PodExecTerminal.esm.js';\n\nconst PodExecTerminalDialog = (props) => {\n  const { cluster, containerName, podName } = props;\n  const isPodExecTerminalSupported = useIsPodExecTerminalSupported();\n  return !isPodExecTerminalSupported.loading && isPodExecTerminalSupported.value && /* @__PURE__ */ jsx(\n    KubernetesDialog,\n    {\n      buttonAriaLabel: \"open terminal\",\n      buttonIcon: /* @__PURE__ */ jsx(OpenInBrowserIcon, {}),\n      buttonText: \"Terminal\",\n      disabled: isPodExecTerminalSupported.loading || !isPodExecTerminalSupported.value,\n      title: `${podName} - ${containerName} terminal shell on cluster ${cluster.title || cluster.name}`,\n      children: /* @__PURE__ */ jsx(PodExecTerminal, { ...props })\n    }\n  );\n};\n\nexport { PodExecTerminalDialog };\n//# sourceMappingURL=PodExecTerminalDialog.esm.js.map\n","import { useApi } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/esm/useAsync';\nimport { kubernetesApiRef } from '../api/types.esm.js';\n\nconst useIsPodExecTerminalSupported = () => {\n  const kubernetesApi = useApi(kubernetesApiRef);\n  return useAsync(async () => {\n    const clusters = await kubernetesApi.getClusters();\n    if (clusters.length !== 1) {\n      return false;\n    }\n    const { authProvider } = clusters[0];\n    const isClientAuthProvider = [\"aks\", \"google\", \"oidc\"].some(\n      (authProviderName) => authProvider.includes(authProviderName)\n    );\n    return !isClientAuthProvider;\n  });\n};\n\nexport { useIsPodExecTerminalSupported };\n//# sourceMappingURL=useIsPodExecTerminalSupported.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { Circle } from 'rc-progress';\nimport { useState, useEffect } from 'react';\nimport Box from '@material-ui/core/Box';\nimport classNames from 'classnames';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      position: \"relative\",\n      lineHeight: 0\n    },\n    overlay: {\n      position: \"absolute\",\n      top: \"50%\",\n      left: \"50%\",\n      transform: \"translate(-50%, -60%)\",\n      fontSize: theme.typography.pxToRem(45),\n      fontWeight: theme.typography.fontWeightBold,\n      color: theme.palette.textContrast\n    },\n    overlaySmall: {\n      fontSize: theme.typography.pxToRem(25)\n    },\n    description: {\n      fontSize: \"100%\",\n      top: \"50%\",\n      left: \"50%\",\n      transform: \"translate(-50%, -50%)\",\n      position: \"absolute\",\n      wordBreak: \"break-all\",\n      display: \"inline-block\"\n    },\n    circle: {\n      width: \"80%\",\n      transform: \"translate(10%, 0)\"\n    },\n    colorUnknown: {}\n  }),\n  { name: \"BackstageGauge\" }\n);\nconst defaultGaugeProps = {\n  fractional: true,\n  inverse: false,\n  unit: \"%\",\n  max: 100,\n  relativeToMax: false\n};\nconst getProgressColor = ({\n  palette,\n  value,\n  inverse,\n  max\n}) => {\n  if (isNaN(value)) {\n    return \"#ddd\";\n  }\n  const actualMax = max ? max : defaultGaugeProps.max;\n  const actualValue = inverse ? actualMax - value : value;\n  if (actualValue < actualMax / 3) {\n    return palette.status.error;\n  } else if (actualValue < actualMax * (2 / 3)) {\n    return palette.status.warning;\n  }\n  return palette.status.ok;\n};\nfunction Gauge(props) {\n  const [hoverRef, setHoverRef] = useState(null);\n  const { getColor = getProgressColor, size = \"normal\" } = props;\n  const classes = useStyles(props);\n  const { palette } = useTheme();\n  const {\n    value,\n    fractional,\n    inverse,\n    unit,\n    max,\n    description,\n    relativeToMax,\n    decimalDigits\n  } = {\n    ...defaultGaugeProps,\n    ...props\n  };\n  let asPercentage;\n  if (relativeToMax) {\n    asPercentage = value / max * 100;\n  } else {\n    asPercentage = fractional ? Math.round(value * max) : value;\n  }\n  let asActual;\n  if (relativeToMax) {\n    asActual = value;\n  } else {\n    asActual = max !== 100 ? Math.round(value) : asPercentage;\n  }\n  const asDisplay = decimalDigits === void 0 ? asActual.toString() : asActual.toFixed(decimalDigits);\n  const [isHovering, setIsHovering] = useState(false);\n  useEffect(() => {\n    const node = hoverRef;\n    const handleMouseOver = () => setIsHovering(true);\n    const handleMouseOut = () => setIsHovering(false);\n    if (node && description) {\n      node.addEventListener(\"mouseenter\", handleMouseOver);\n      node.addEventListener(\"mouseleave\", handleMouseOut);\n      return () => {\n        node.removeEventListener(\"mouseenter\", handleMouseOver);\n        node.removeEventListener(\"mouseleave\", handleMouseOut);\n      };\n    }\n    return () => {\n      setIsHovering(false);\n    };\n  }, [description, hoverRef]);\n  return /* @__PURE__ */ jsxs(Box, { ...{ ref: setHoverRef }, className: classes.root, children: [\n    /* @__PURE__ */ jsx(\n      Circle,\n      {\n        strokeLinecap: \"butt\",\n        percent: asPercentage,\n        strokeWidth: 12,\n        trailWidth: 12,\n        strokeColor: getColor({\n          palette,\n          value: asPercentage,\n          inverse,\n          max: relativeToMax ? 100 : max\n        }),\n        className: classes.circle\n      }\n    ),\n    description && isHovering ? /* @__PURE__ */ jsx(Box, { className: classes.description, children: description }) : /* @__PURE__ */ jsx(\n      Box,\n      {\n        className: classNames(classes.overlay, {\n          [classes.overlaySmall]: size === \"small\"\n        }),\n        children: isNaN(value) ? \"N/A\" : `${asDisplay}${unit}`\n      }\n    )\n  ] });\n}\n\nexport { Gauge, getProgressColor };\n//# sourceMappingURL=Gauge.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useTheme } from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport { Line } from 'rc-progress';\nimport { getProgressColor } from './Gauge.esm.js';\n\nfunction LinearGauge(props) {\n  const { value, getColor = getProgressColor, width = \"thick\" } = props;\n  const { palette } = useTheme();\n  if (isNaN(value)) {\n    return null;\n  }\n  let percent = Math.round(value * 100 * 100) / 100;\n  if (percent > 100) {\n    percent = 100;\n  }\n  const lineWidth = width === \"thick\" ? 4 : 1;\n  const strokeColor = getColor({\n    palette,\n    value: percent,\n    inverse: false,\n    max: 100\n  });\n  return /* @__PURE__ */ jsx(Tooltip, { title: `${percent}%`, children: /* @__PURE__ */ jsx(Typography, { component: \"span\", children: /* @__PURE__ */ jsx(\n    Line,\n    {\n      percent,\n      strokeWidth: lineWidth,\n      trailWidth: lineWidth,\n      strokeColor\n    }\n  ) }) });\n}\n\nexport { LinearGauge };\n//# sourceMappingURL=LinearGauge.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { LinearGauge } from '@backstage/core-components';\nimport { currentToDeclaredResourceToPerc } from '../../utils/resources.esm.js';\n\nconst getProgressColor = ({\n  palette,\n  value,\n  inverse,\n  max\n}) => {\n  if (isNaN(value)) {\n    return palette.status.pending;\n  }\n  const actualMax = max ? max : 100;\n  const actualValue = inverse ? actualMax - value : value;\n  if (actualValue >= actualMax) {\n    return palette.status.error;\n  } else if (actualValue > 90 || actualValue < 40) {\n    return palette.status.warning;\n  }\n  return palette.status.ok;\n};\nconst ResourceUtilization = ({\n  compressed = false,\n  title,\n  usage,\n  total,\n  totalFormatted\n}) => {\n  const utilization = currentToDeclaredResourceToPerc(usage, total);\n  return /* @__PURE__ */ jsxs(Grid, { container: true, spacing: 0, children: [\n    /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(\n      Typography,\n      {\n        variant: compressed ? \"caption\" : \"subtitle2\",\n        children: `${title}: ${totalFormatted}`\n      }\n    ) }),\n    /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, children: [\n      /* @__PURE__ */ jsx(\n        LinearGauge,\n        {\n          getColor: getProgressColor,\n          width: compressed ? \"thin\" : \"thick\",\n          value: utilization / 100\n        }\n      ),\n      !compressed && /* @__PURE__ */ jsxs(Typography, { variant: \"caption\", children: [\n        \"usage: \",\n        `${utilization}%`\n      ] })\n    ] })\n  ] });\n};\n\nexport { ResourceUtilization };\n//# sourceMappingURL=ResourceUtilization.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useMemo } from 'react';\nimport { useApi, storageApiRef } from '@backstage/core-plugin-api';\nimport useObservable from 'react-use/esm/useObservable';\nimport classNames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      padding: theme.spacing(0),\n      marginBottom: theme.spacing(0),\n      marginTop: theme.spacing(0),\n      display: \"flex\",\n      flexFlow: \"row nowrap\"\n    },\n    // showing on top\n    topPosition: {\n      position: \"relative\",\n      marginBottom: theme.spacing(6),\n      marginTop: -theme.spacing(3),\n      zIndex: \"unset\"\n    },\n    icon: {\n      fontSize: theme.typography.h6.fontSize\n    },\n    content: {\n      width: \"100%\",\n      maxWidth: \"inherit\",\n      flexWrap: \"nowrap\",\n      color: theme.palette.banner.text\n    },\n    message: {\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& a\": {\n        color: theme.palette.banner.link\n      }\n    },\n    button: {\n      color: theme.palette.banner.closeButtonColor ?? \"inherit\"\n    },\n    info: {\n      backgroundColor: theme.palette.banner.info\n    },\n    error: {\n      backgroundColor: theme.palette.banner.error\n    },\n    warning: {\n      backgroundColor: theme.palette.banner.warning ?? theme.palette.banner.error\n    }\n  }),\n  { name: \"BackstageDismissableBanner\" }\n);\nconst DismissableBanner = (props) => {\n  const { variant, message, id, fixed = false } = props;\n  const classes = useStyles();\n  const storageApi = useApi(storageApiRef);\n  const notificationsStore = storageApi.forBucket(\"notifications\");\n  const observedItems = useObservable(\n    notificationsStore.observe$(\"dismissedBanners\"),\n    notificationsStore.snapshot(\"dismissedBanners\")\n  );\n  const dismissedBanners = useMemo(\n    () => new Set(observedItems.value ?? []),\n    [observedItems.value]\n  );\n  const loadingSettings = observedItems.presence === \"unknown\";\n  const handleClick = () => {\n    notificationsStore.set(\"dismissedBanners\", [...dismissedBanners, id]);\n  };\n  return /* @__PURE__ */ jsx(\n    Snackbar,\n    {\n      anchorOrigin: fixed ? { vertical: \"bottom\", horizontal: \"center\" } : { vertical: \"top\", horizontal: \"center\" },\n      open: !loadingSettings && !dismissedBanners.has(id),\n      classes: {\n        root: classNames(classes.root, !fixed && classes.topPosition)\n      },\n      children: /* @__PURE__ */ jsx(\n        SnackbarContent,\n        {\n          classes: {\n            root: classNames(classes.content, classes[variant]),\n            message: classes.message\n          },\n          message,\n          action: [\n            /* @__PURE__ */ jsx(\n              IconButton,\n              {\n                title: \"Permanently dismiss this message\",\n                className: classes.button,\n                onClick: handleClick,\n                children: /* @__PURE__ */ jsx(CloseIcon, { className: classes.icon })\n              },\n              \"dismiss\"\n            )\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { DismissableBanner };\n//# sourceMappingURL=DismissableBanner.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { DismissableBanner, EmptyState, LogViewer } from '@backstage/core-components';\nimport Paper from '@material-ui/core/Paper';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { usePodLogs } from './usePodLogs.esm.js';\n\nconst PodLogs = ({\n  containerScope,\n  previous\n}) => {\n  const { value, error, loading } = usePodLogs({\n    containerScope,\n    previous\n  });\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    error && /* @__PURE__ */ jsx(\n      DismissableBanner,\n      {\n        ...{\n          message: error.message,\n          variant: \"error\",\n          fixed: false\n        },\n        id: \"pod-logs\"\n      }\n    ),\n    /* @__PURE__ */ jsxs(\n      Paper,\n      {\n        elevation: 1,\n        style: { height: \"100%\", width: \"100%\", minHeight: \"55rem\" },\n        children: [\n          loading && /* @__PURE__ */ jsx(Skeleton, { variant: \"rect\", width: \"100%\", height: \"100%\" }),\n          !loading && value !== void 0 && (value.text === \"\" ? /* @__PURE__ */ jsx(\n            EmptyState,\n            {\n              missing: \"data\",\n              title: \"No logs emitted\",\n              description: \"No logs were emitted by the container\"\n            }\n          ) : /* @__PURE__ */ jsx(LogViewer, { text: value.text }))\n        ]\n      }\n    )\n  ] });\n};\n\nexport { PodLogs };\n//# sourceMappingURL=PodLogs.esm.js.map\n","import useAsync from 'react-use/esm/useAsync';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { kubernetesProxyApiRef } from '../../../api/types.esm.js';\n\nconst usePodLogs = ({ containerScope, previous }) => {\n  const kubernetesProxyApi = useApi(kubernetesProxyApiRef);\n  return useAsync(async () => {\n    return await kubernetesProxyApi.getPodLogs({\n      podName: containerScope.podName,\n      namespace: containerScope.podNamespace,\n      containerName: containerScope.containerName,\n      clusterName: containerScope.cluster.name,\n      previous\n    });\n  }, [JSON.stringify(containerScope)]);\n};\n\nexport { usePodLogs };\n//# sourceMappingURL=usePodLogs.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport SubjectIcon from '@material-ui/icons/Subject';\nimport { KubernetesDialog } from '../../KubernetesDialog/KubernetesDialog.esm.js';\nimport { PodLogs } from './PodLogs.esm.js';\n\nconst PodLogsDialog = ({ containerScope }) => {\n  return /* @__PURE__ */ jsx(\n    KubernetesDialog,\n    {\n      buttonAriaLabel: \"get logs\",\n      buttonIcon: /* @__PURE__ */ jsx(SubjectIcon, {}),\n      buttonText: \"Logs\",\n      disabled: false,\n      title: `${containerScope.podName} - ${containerScope.containerName} logs on cluster ${containerScope.cluster.title || containerScope.cluster.name}`,\n      children: /* @__PURE__ */ jsx(PodLogs, { containerScope })\n    }\n  );\n};\n\nexport { PodLogsDialog };\n//# sourceMappingURL=PodLogsDialog.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { StructuredMetadataTable } from '@backstage/core-components';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { DateTime } from 'luxon';\nimport '@backstage/core-plugin-api';\nimport { useIsPodExecTerminalEnabled } from '../../../hooks/useIsPodExecTerminalEnabled.esm.js';\nimport 'react-use/esm/useAsync';\nimport '../../../api/types.esm.js';\nimport 'react';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../../kubernetes-auth-provider/types.esm.js';\nimport '../../../hooks/PodNamesWithErrors.esm.js';\nimport '../../../hooks/PodNamesWithMetrics.esm.js';\nimport '../../../hooks/GroupedResponses.esm.js';\nimport '../../../hooks/Cluster.esm.js';\nimport '../../../hooks/usePodMetrics.esm.js';\nimport '../../../hooks/useMatchingErrors.esm.js';\nimport { formatMillicores, bytesToMiB } from '../../../utils/resources.esm.js';\nimport { PodExecTerminalDialog } from '../../PodExecTerminal/PodExecTerminalDialog.esm.js';\nimport { ResourceUtilization } from '../../ResourceUtilization/ResourceUtilization.esm.js';\nimport '@material-ui/core/Paper';\nimport '@material-ui/lab/Skeleton';\nimport { PodLogsDialog } from '../PodLogs/PodLogsDialog.esm.js';\n\nconst getContainerHealthChecks = (containerSpec, containerStatus) => {\n  const healthCheck = {\n    \"not waiting to start\": containerStatus.state?.waiting === void 0,\n    \"no restarts\": containerStatus.restartCount === 0\n  };\n  if (containerStatus.state?.terminated?.reason === \"Completed\") {\n    return healthCheck;\n  }\n  Object.assign(\n    healthCheck,\n    { started: !!containerStatus.started },\n    { ready: containerStatus.ready },\n    { \"readiness probe set\": containerSpec?.readinessProbe !== void 0 }\n  );\n  if (containerSpec && containerSpec?.livenessProbe !== void 0) {\n    Object.assign(healthCheck, {\n      \"liveness probe set\": containerSpec.livenessProbe\n    });\n  }\n  return healthCheck;\n};\nconst getCurrentState = (containerStatus) => {\n  return containerStatus.state?.waiting?.reason || containerStatus.state?.terminated?.reason || (containerStatus.state?.running !== void 0 ? \"Running\" : \"Unknown\");\n};\nconst getStartedAtTime = (containerStatus) => {\n  return containerStatus.state?.running?.startedAt || containerStatus.state?.terminated?.startedAt;\n};\nconst ContainerDatetime = ({ prefix, dateTime }) => {\n  return /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n    prefix,\n    \":\",\n    \" \",\n    DateTime.fromISO(dateTime).toRelative({\n      locale: \"en\"\n    })\n  ] });\n};\nconst ContainerCard = ({\n  podScope,\n  containerSpec,\n  containerStatus,\n  containerMetrics\n}) => {\n  const isPodExecTerminalEnabled = useIsPodExecTerminalEnabled();\n  if (containerSpec === void 0) {\n    return /* @__PURE__ */ jsx(Typography, { children: \"error reading pod from cluster\" });\n  }\n  const containerStartedTime = getStartedAtTime(containerStatus);\n  const containerFinishedTime = containerStatus.state?.terminated?.finishedAt;\n  return /* @__PURE__ */ jsxs(Card, { children: [\n    /* @__PURE__ */ jsx(\n      CardHeader,\n      {\n        title: containerStatus.name,\n        subheader: containerStatus.image\n      }\n    ),\n    /* @__PURE__ */ jsx(CardContent, { children: /* @__PURE__ */ jsxs(Grid, { container: true, children: [\n      /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, children: [\n        containerStartedTime && /* @__PURE__ */ jsx(\n          ContainerDatetime,\n          {\n            prefix: \"Started\",\n            dateTime: containerStartedTime\n          }\n        ),\n        containerFinishedTime && /* @__PURE__ */ jsx(\n          ContainerDatetime,\n          {\n            prefix: \"Completed\",\n            dateTime: containerFinishedTime\n          }\n        ),\n        containerStartedTime && containerFinishedTime && /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n          \"Execution time:\",\n          \" \",\n          DateTime.fromISO(containerFinishedTime).diff(DateTime.fromISO(containerStartedTime), [\n            \"hours\",\n            \"minutes\",\n            \"seconds\"\n          ]).toHuman()\n        ] })\n      ] }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n        \"Status: \",\n        getCurrentState(containerStatus)\n      ] }) }),\n      containerStatus.restartCount > 0 && /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n        \"Restarts: \",\n        containerStatus.restartCount\n      ] }) }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(Typography, { variant: \"subtitle2\", children: \"Container health\" }) }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(\n        StructuredMetadataTable,\n        {\n          metadata: getContainerHealthChecks(\n            containerSpec,\n            containerStatus\n          ),\n          options: { nestedValuesAsYaml: true }\n        }\n      ) }),\n      containerMetrics && /* @__PURE__ */ jsxs(Grid, { container: true, item: true, xs: 12, spacing: 0, children: [\n        /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(Typography, { variant: \"subtitle1\", children: \"Resource utilization\" }) }),\n        /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, style: { minHeight: \"5rem\" }, children: [\n          /* @__PURE__ */ jsx(\n            ResourceUtilization,\n            {\n              compressed: true,\n              title: \"CPU requests\",\n              usage: containerMetrics.cpuUsage.currentUsage,\n              total: containerMetrics.cpuUsage.requestTotal,\n              totalFormatted: formatMillicores(\n                containerMetrics.cpuUsage.requestTotal\n              )\n            }\n          ),\n          /* @__PURE__ */ jsx(\n            ResourceUtilization,\n            {\n              compressed: true,\n              title: \"CPU limits\",\n              usage: containerMetrics.cpuUsage.currentUsage,\n              total: containerMetrics.cpuUsage.limitTotal,\n              totalFormatted: formatMillicores(\n                containerMetrics.cpuUsage.limitTotal\n              )\n            }\n          ),\n          /* @__PURE__ */ jsx(\n            ResourceUtilization,\n            {\n              compressed: true,\n              title: \"Memory requests\",\n              usage: containerMetrics.memoryUsage.currentUsage,\n              total: containerMetrics.memoryUsage.requestTotal,\n              totalFormatted: bytesToMiB(\n                containerMetrics.memoryUsage.requestTotal\n              )\n            }\n          ),\n          /* @__PURE__ */ jsx(\n            ResourceUtilization,\n            {\n              compressed: true,\n              title: \"Memory limits\",\n              usage: containerMetrics.memoryUsage.currentUsage,\n              total: containerMetrics.memoryUsage.limitTotal,\n              totalFormatted: bytesToMiB(\n                containerMetrics.memoryUsage.limitTotal\n              )\n            }\n          )\n        ] })\n      ] })\n    ] }) }),\n    /* @__PURE__ */ jsxs(CardActions, { children: [\n      /* @__PURE__ */ jsx(\n        PodLogsDialog,\n        {\n          containerScope: {\n            containerName: containerStatus.name,\n            ...podScope\n          }\n        }\n      ),\n      isPodExecTerminalEnabled && /* @__PURE__ */ jsx(\n        PodExecTerminalDialog,\n        {\n          cluster: podScope.cluster,\n          containerName: containerStatus.name,\n          podName: podScope.podName,\n          podNamespace: podScope.podNamespace\n        }\n      )\n    ] })\n  ] });\n};\n\nexport { ContainerCard };\n//# sourceMappingURL=ContainerCard.esm.js.map\n","import { useApi, configApiRef } from '@backstage/core-plugin-api';\n\nconst useIsPodExecTerminalEnabled = () => {\n  const configApi = useApi(configApiRef);\n  return configApi.getOptionalBoolean(\"kubernetes.podExecTerminal.enabled\");\n};\n\nexport { useIsPodExecTerminalEnabled };\n//# sourceMappingURL=useIsPodExecTerminalEnabled.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { CodeSnippet } from '@backstage/core-components';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport jsyaml from 'js-yaml';\nimport { useState } from 'react';\n\nconst ManifestYaml = ({ object }) => {\n  const [managedFields, setManagedFields] = useState(false);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(\n      FormControlLabel,\n      {\n        control: /* @__PURE__ */ jsx(\n          Switch,\n          {\n            checked: managedFields,\n            onChange: (event) => {\n              setManagedFields(event.target.checked);\n            },\n            name: \"Managed Fields\"\n          }\n        ),\n        label: \"Managed Fields\"\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      CodeSnippet,\n      {\n        language: \"yaml\",\n        text: jsyaml.dump(object, {\n          // NOTE: this will remove any field called `managedFields`\n          // not just the metadata one\n          // TODO: @mclarke make this only remove the `metadata.managedFields`\n          replacer: (key, value) => {\n            if (!managedFields) {\n              return key === \"managedFields\" ? void 0 : value;\n            }\n            return value;\n          }\n        })\n      }\n    )\n  ] });\n};\n\nexport { ManifestYaml };\n//# sourceMappingURL=ManifestYaml.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport Drawer from '@material-ui/core/Drawer';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Switch from '@material-ui/core/Switch';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { makeStyles, createStyles, withStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { ManifestYaml } from './ManifestYaml.esm.js';\n\nconst useDrawerContentStyles = makeStyles(\n  (_theme) => createStyles({\n    header: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\"\n    },\n    content: {\n      height: \"80%\"\n    },\n    icon: {\n      fontSize: 20\n    }\n  })\n);\nconst KubernetesDrawerContent = ({\n  children,\n  header,\n  kubernetesObject,\n  close\n}) => {\n  const classes = useDrawerContentStyles();\n  const [isYaml, setIsYaml] = useState(false);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(\"div\", { className: classes.header, children: /* @__PURE__ */ jsxs(Grid, { container: true, justifyContent: \"flex-start\", alignItems: \"flex-start\", children: [\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 11, children: /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: kubernetesObject.metadata?.name }) }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 1, children: /* @__PURE__ */ jsx(\n        IconButton,\n        {\n          title: \"Close the drawer\",\n          onClick: () => close(),\n          color: \"inherit\",\n          children: /* @__PURE__ */ jsx(CloseIcon, { className: classes.icon })\n        },\n        \"dismiss\"\n      ) }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: header }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(\n        FormControlLabel,\n        {\n          control: /* @__PURE__ */ jsx(\n            Switch,\n            {\n              checked: isYaml,\n              onChange: (event) => {\n                setIsYaml(event.target.checked);\n              },\n              name: \"YAML\"\n            }\n          ),\n          label: \"YAML\"\n        }\n      ) })\n    ] }) }),\n    /* @__PURE__ */ jsxs(\"div\", { className: classes.content, children: [\n      isYaml && /* @__PURE__ */ jsx(ManifestYaml, { object: kubernetesObject }),\n      !isYaml && children\n    ] })\n  ] });\n};\nconst useDrawerStyles = makeStyles(\n  (theme) => createStyles({\n    paper: {\n      width: \"50%\",\n      justifyContent: \"space-between\",\n      padding: theme.spacing(2.5)\n    }\n  })\n);\nconst DrawerButton = withStyles({\n  root: {\n    padding: \"6px 5px\"\n  },\n  label: {\n    textTransform: \"none\"\n  }\n})(Button);\nconst KubernetesDrawer = ({\n  open,\n  label,\n  drawerContentsHeader,\n  kubernetesObject,\n  children\n}) => {\n  const classes = useDrawerStyles();\n  const [isOpen, setIsOpen] = useState(open ?? false);\n  const toggleDrawer = (e, newValue) => {\n    e.stopPropagation();\n    setIsOpen(newValue);\n  };\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(DrawerButton, { onClick: () => setIsOpen(true), children: label }),\n    /* @__PURE__ */ jsx(\n      Drawer,\n      {\n        classes: {\n          paper: classes.paper\n        },\n        anchor: \"right\",\n        open: isOpen,\n        onClose: (e) => toggleDrawer(e, false),\n        onClick: (event) => event.stopPropagation(),\n        children: isOpen && /* @__PURE__ */ jsx(\n          KubernetesDrawerContent,\n          {\n            header: drawerContentsHeader,\n            kubernetesObject,\n            children,\n            close: () => setIsOpen(false)\n          }\n        )\n      }\n    )\n  ] });\n};\n\nexport { KubernetesDrawer };\n//# sourceMappingURL=KubernetesDrawer.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst kubernetesReactTranslationRef = createTranslationRef({\n  id: \"kubernetes-react\",\n  messages: {\n    podDrawer: {\n      buttons: {\n        delete: \"Delete Pod\"\n      }\n    }\n  }\n});\n\nexport { kubernetesReactTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { kubernetesReactTranslationRef } from '../../../translation.esm.js';\nimport { usePodDelete } from './usePodDelete.esm.js';\n\nconst PodDeleteButton = ({ podScope }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const deletePod = usePodDelete();\n  const { t } = useTranslationRef(kubernetesReactTranslationRef);\n  const buttonText = t(\"podDrawer.buttons.delete\");\n  const handleDeleteClick = async () => {\n    setIsLoading(true);\n    try {\n      await deletePod(podScope);\n    } catch (error) {\n      setHasError(true);\n      console.error(error);\n    }\n  };\n  return /* @__PURE__ */ jsx(Grid, { container: true, item: true, xs: 12, children: /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, children: [\n    /* @__PURE__ */ jsx(CardActions, { children: /* @__PURE__ */ jsx(\n      Button,\n      {\n        variant: \"outlined\",\n        \"aria-label\": buttonText,\n        component: \"label\",\n        onClick: handleDeleteClick,\n        startIcon: isLoading ? /* @__PURE__ */ jsx(CircularProgress, { size: 18 }) : /* @__PURE__ */ jsx(CloseIcon, {}),\n        disabled: isLoading,\n        children: buttonText\n      }\n    ) }),\n    hasError && /* @__PURE__ */ jsx(\n      Typography,\n      {\n        variant: \"body1\",\n        color: \"error\",\n        style: { textAlign: \"right\" },\n        children: \"Could not delete the pod. Please check the console for the full report.\"\n      }\n    )\n  ] }) });\n};\n\nexport { PodDeleteButton };\n//# sourceMappingURL=PodDeleteButton.esm.js.map\n","import { useCallback } from 'react';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { kubernetesProxyApiRef } from '../../../api/types.esm.js';\n\nconst usePodDelete = () => {\n  const kubernetesProxyApi = useApi(kubernetesProxyApiRef);\n  const deletePod = useCallback(\n    async (podScope) => {\n      return await kubernetesProxyApi.deletePod({\n        podName: podScope.podName,\n        namespace: podScope.podNamespace,\n        clusterName: podScope.cluster.name\n      });\n    },\n    [kubernetesProxyApi]\n  );\n  return deletePod;\n};\n\nexport { usePodDelete };\n//# sourceMappingURL=usePodDelete.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Typography from '@material-ui/core/Typography';\nimport { StatusError, StatusOK, StatusWarning } from '@backstage/core-components';\nimport { DateTime } from 'luxon';\n\nconst PodCondition = ({ condition }) => {\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    condition.status === \"False\" && /* @__PURE__ */ jsxs(StatusError, { children: [\n      condition.type,\n      \" - (\",\n      condition.reason,\n      \" \",\n      condition.lastTransitionTime && DateTime.fromISO(condition.lastTransitionTime).toRelative({\n        locale: \"en\"\n      }),\n      \") - \",\n      condition.message,\n      \" \"\n    ] }),\n    condition.status === \"True\" && /* @__PURE__ */ jsxs(StatusOK, { children: [\n      condition.type,\n      \" - (\",\n      condition.lastTransitionTime && DateTime.fromISO(condition.lastTransitionTime).toRelative({\n        locale: \"en\"\n      }),\n      \")\"\n    ] }),\n    condition.status === \"Unknown\" && /* @__PURE__ */ jsxs(StatusWarning, { children: [\n      condition.type,\n      \" - (\",\n      condition.lastTransitionTime && DateTime.fromISO(condition.lastTransitionTime).toRelative({\n        locale: \"en\"\n      }),\n      \") \",\n      condition.message\n    ] })\n  ] });\n};\nconst PendingPodContent = ({ pod }) => {\n  const startupConditions = [\n    pod.status?.conditions?.find((c) => c.type === \"PodScheduled\"),\n    pod.status?.conditions?.find((c) => c.type === \"Initialized\"),\n    pod.status?.conditions?.find((c) => c.type === \"ContainersReady\"),\n    pod.status?.conditions?.find((c) => c.type === \"Ready\")\n  ].filter((c) => !!c);\n  return /* @__PURE__ */ jsx(Grid, { container: true, spacing: 2, children: /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, children: [\n    /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: \"Pod is Pending. Conditions:\" }),\n    /* @__PURE__ */ jsx(List, { children: startupConditions.map((c) => /* @__PURE__ */ jsx(ListItem, { children: /* @__PURE__ */ jsx(PodCondition, { condition: c }) }, c.type)) })\n  ] }) });\n};\n\nexport { PendingPodContent };\n//# sourceMappingURL=PendingPodContent.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport Avatar from '@material-ui/core/Avatar';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport InfoIcon from '@material-ui/icons/Info';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { DateTime } from 'luxon';\nimport { useEvents } from './useEvents.esm.js';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { DismissableBanner } from '@backstage/core-components';\n\nconst getAvatarByType = (type) => {\n  return /* @__PURE__ */ jsx(ListItemAvatar, { children: /* @__PURE__ */ jsx(Avatar, { children: type === \"Warning\" ? /* @__PURE__ */ jsx(WarningIcon, {}) : /* @__PURE__ */ jsx(InfoIcon, {}) }) });\n};\nconst EventsContent = ({\n  events,\n  warningEventsOnly\n}) => {\n  if (events.length === 0) {\n    return /* @__PURE__ */ jsx(Typography, { children: \"No events found\" });\n  }\n  return /* @__PURE__ */ jsx(Container, { children: /* @__PURE__ */ jsx(Grid, { children: /* @__PURE__ */ jsx(List, { children: events.filter((event) => {\n    if (warningEventsOnly) {\n      return event.type === \"Warning\";\n    }\n    return true;\n  }).map((event, index) => {\n    const timeAgo = event.metadata.creationTimestamp ? DateTime.fromISO(event.metadata.creationTimestamp).toRelative(\n      {\n        locale: \"en\"\n      }\n    ) : \"unknown\";\n    return /* @__PURE__ */ jsxs(ListItem, { children: [\n      /* @__PURE__ */ jsx(Tooltip, { title: `${event.type ?? \"\"} event`, children: getAvatarByType(event.type) }),\n      /* @__PURE__ */ jsx(\n        ListItemText,\n        {\n          primary: `First event ${timeAgo} (count: ${event.count})`,\n          secondary: `${event.reason}: ${event.message}`\n        }\n      )\n    ] }, `${event.metadata.name}-${index}`);\n  }) }) }) });\n};\nconst Events = ({\n  involvedObjectName,\n  namespace,\n  clusterName,\n  warningEventsOnly\n}) => {\n  const { value, error, loading } = useEvents({\n    involvedObjectName,\n    namespace,\n    clusterName\n  });\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    error && /* @__PURE__ */ jsx(\n      DismissableBanner,\n      {\n        ...{\n          message: error.message,\n          variant: \"error\",\n          fixed: false\n        },\n        id: \"events\"\n      }\n    ),\n    loading && /* @__PURE__ */ jsx(Skeleton, { variant: \"rect\", width: \"100%\", height: \"100%\" }),\n    !loading && value !== void 0 && /* @__PURE__ */ jsx(EventsContent, { warningEventsOnly, events: value })\n  ] });\n};\n\nexport { Events, EventsContent };\n//# sourceMappingURL=Events.esm.js.map\n","import { useApi } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/esm/useAsync';\nimport { kubernetesProxyApiRef } from '../../../api/types.esm.js';\n\nconst useEvents = ({\n  involvedObjectName,\n  namespace,\n  clusterName\n}) => {\n  const kubernetesProxyApi = useApi(kubernetesProxyApiRef);\n  return useAsync(async () => {\n    return await kubernetesProxyApi.getEventsByInvolvedObjectName({\n      involvedObjectName,\n      namespace,\n      clusterName\n    });\n  }, [involvedObjectName, namespace, clusterName]);\n};\n\nexport { useEvents };\n//# sourceMappingURL=useEvents.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport HelpIcon from '@material-ui/icons/Help';\nimport OpenInNewIcon from '@material-ui/icons/OpenInNew';\nimport { PodLogs } from '../PodLogs/PodLogs.esm.js';\nimport '@material-ui/icons/Subject';\nimport '../../KubernetesDialog/KubernetesDialog.esm.js';\nimport 'react-use/esm/useAsync';\nimport '@backstage/core-plugin-api';\nimport '../../../api/types.esm.js';\nimport { Events } from '../Events/Events.esm.js';\nimport { LinkButton } from '@backstage/core-components';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\n\nconst useStyles = makeStyles(\n  (theme) => createStyles({\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500]\n    }\n  })\n);\nconst FixDialog = ({\n  open,\n  pod,\n  error,\n  clusterName\n}) => {\n  const [isOpen, setOpen] = useState(!!open);\n  const classes = useStyles();\n  const openDialog = () => {\n    setOpen(true);\n  };\n  const closeDialog = () => {\n    setOpen(false);\n  };\n  const pf = error.proposedFix;\n  const dialogContent = () => {\n    return /* @__PURE__ */ jsxs(Grid, { container: true, children: [\n      /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, children: [\n        /* @__PURE__ */ jsx(Typography, { variant: \"h6\", children: \"Detected error:\" }),\n        /* @__PURE__ */ jsx(Typography, { children: error.message })\n      ] }),\n      /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, children: [\n        /* @__PURE__ */ jsx(Typography, { variant: \"h6\", children: \"Cause explanation:\" }),\n        /* @__PURE__ */ jsx(Typography, { children: error.proposedFix?.rootCauseExplanation ?? \"unknown\" })\n      ] }),\n      /* @__PURE__ */ jsxs(Grid, { item: true, xs: 12, children: [\n        /* @__PURE__ */ jsx(Typography, { variant: \"h6\", children: \"Fix:\" }),\n        /* @__PURE__ */ jsx(List, { children: (error.proposedFix?.actions ?? []).map((fix, i) => {\n          return /* @__PURE__ */ jsx(ListItem, { children: fix }, `${pod.metadata?.name ?? \"unknown\"}-pf-${i}`);\n        }) })\n      ] }),\n      pf && pf.type === \"logs\" && /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(Typography, { variant: \"h6\", children: \"Crash logs:\" }) }),\n        /* @__PURE__ */ jsx(Grid, { item: true, xs: 9, children: /* @__PURE__ */ jsx(\n          PodLogs,\n          {\n            previous: true,\n            containerScope: {\n              podName: pod.metadata?.name ?? \"unknown\",\n              podNamespace: pod.metadata?.namespace ?? \"unknown\",\n              cluster: { name: clusterName },\n              containerName: pf.container\n            }\n          }\n        ) })\n      ] }),\n      pf && pf.type === \"events\" && /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(Typography, { variant: \"h6\", children: \"Events:\" }) }),\n        /* @__PURE__ */ jsx(Grid, { item: true, xs: 9, children: /* @__PURE__ */ jsx(\n          Events,\n          {\n            warningEventsOnly: true,\n            involvedObjectName: pod.metadata?.name ?? \"\",\n            namespace: pod.metadata?.namespace ?? \"\",\n            clusterName\n          }\n        ) })\n      ] })\n    ] });\n  };\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(\n      Button,\n      {\n        variant: \"outlined\",\n        \"aria-label\": \"fix issue\",\n        component: \"label\",\n        onClick: openDialog,\n        startIcon: /* @__PURE__ */ jsx(HelpIcon, {}),\n        children: \"Help\"\n      }\n    ),\n    /* @__PURE__ */ jsxs(Dialog, { maxWidth: \"xl\", fullWidth: true, open: isOpen, onClose: closeDialog, children: [\n      /* @__PURE__ */ jsxs(DialogTitle, { id: \"dialog-title\", children: [\n        pod.metadata?.name,\n        \" - \",\n        error.type,\n        /* @__PURE__ */ jsx(\n          IconButton,\n          {\n            \"aria-label\": \"close\",\n            className: classes.closeButton,\n            onClick: closeDialog,\n            children: /* @__PURE__ */ jsx(CloseIcon, {})\n          }\n        )\n      ] }),\n      /* @__PURE__ */ jsx(DialogContent, { children: dialogContent() }),\n      /* @__PURE__ */ jsx(DialogActions, { children: pf && pf.type === \"docs\" && /* @__PURE__ */ jsx(\n        LinkButton,\n        {\n          to: pf.docsLink,\n          variant: \"outlined\",\n          startIcon: /* @__PURE__ */ jsx(OpenInNewIcon, {}),\n          target: \"_blank\",\n          rel: \"noopener\",\n          children: \"Open docs\"\n        }\n      ) })\n    ] })\n  ] });\n};\n\nexport { FixDialog };\n//# sourceMappingURL=FixDialog.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { Fragment } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport { FixDialog } from '../FixDialog/FixDialog.esm.js';\n\nconst useStyles = makeStyles(\n  (_theme) => createStyles({\n    root: {\n      overflow: \"auto\"\n    },\n    list: {\n      width: \"100%\"\n    }\n  })\n);\nconst ErrorList = ({ podAndErrors }) => {\n  const classes = useStyles();\n  return /* @__PURE__ */ jsx(Paper, { className: classes.root, children: /* @__PURE__ */ jsx(List, { className: classes.list, children: podAndErrors.filter((pae) => pae.errors.length > 0).flatMap((onlyPodWithErrors) => {\n    return onlyPodWithErrors.errors.map((error, i) => {\n      return /* @__PURE__ */ jsxs(\n        Fragment,\n        {\n          children: [\n            i > 0 && /* @__PURE__ */ jsx(Divider, {}, `error-divider${i}`),\n            /* @__PURE__ */ jsx(ListItem, { children: /* @__PURE__ */ jsxs(Grid, { container: true, children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, xs: 9, children: /* @__PURE__ */ jsx(\n                ListItemText,\n                {\n                  primary: error.message,\n                  secondary: onlyPodWithErrors.pod.metadata?.name\n                }\n              ) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, xs: 3, children: /* @__PURE__ */ jsx(\n                FixDialog,\n                {\n                  pod: onlyPodWithErrors.pod,\n                  error,\n                  clusterName: onlyPodWithErrors.cluster.name\n                }\n              ) })\n            ] }) })\n          ]\n        },\n        `${onlyPodWithErrors.pod.metadata?.name ?? \"unknown\"}-eli-${i}`\n      );\n    });\n  }) }) });\n};\n\nexport { ErrorList };\n//# sourceMappingURL=ErrorList.esm.js.map\n","import { createContext, useContext } from 'react';\n\nconst PodMetricsContext = createContext(\n  /* @__PURE__ */ new Map()\n);\nconst usePodMetrics = (clusterName, matcher) => {\n  const targetRef = {\n    name: matcher.metadata?.name ?? \"\",\n    namespace: matcher.metadata?.namespace ?? \"\"\n  };\n  const metricsMap = useContext(PodMetricsContext);\n  const metrics = metricsMap.get(clusterName);\n  return metrics?.find((m) => {\n    const pod = m.pod;\n    return targetRef.name === (pod.metadata?.name ?? \"\") && targetRef.namespace === (pod.metadata?.namespace ?? \"\");\n  });\n};\n\nexport { PodMetricsContext, usePodMetrics };\n//# sourceMappingURL=usePodMetrics.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { ItemCardGrid } from '@backstage/core-components';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport { ContainerCard } from './ContainerCard.esm.js';\nimport '../../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport { KubernetesDrawer } from '../../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport { PodDeleteButton } from '../PodDelete/PodDeleteButton.esm.js';\nimport { PendingPodContent } from './PendingPodContent.esm.js';\nimport { ErrorList } from '../ErrorList/ErrorList.esm.js';\nimport { usePodMetrics } from '../../../hooks/usePodMetrics.esm.js';\nimport { ResourceUtilization } from '../../ResourceUtilization/ResourceUtilization.esm.js';\nimport { formatMillicores, bytesToMiB } from '../../../utils/resources.esm.js';\nimport { useIsPodDeleteEnabled } from '../../../hooks/useIsPodDeleteEnabled.esm.js';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../../kubernetes-auth-provider/types.esm.js';\nimport '../../../hooks/PodNamesWithErrors.esm.js';\nimport '../../../hooks/PodNamesWithMetrics.esm.js';\nimport '../../../hooks/GroupedResponses.esm.js';\nimport '../../../hooks/Cluster.esm.js';\nimport '../../../hooks/useMatchingErrors.esm.js';\n\nconst useDrawerContentStyles = makeStyles(\n  (_theme) => createStyles({\n    header: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\"\n    },\n    content: {\n      height: \"80%\"\n    },\n    icon: {\n      fontSize: 20\n    },\n    podoklist: {\n      width: \"100%\",\n      maxWidth: 360,\n      maxHeight: 360\n    }\n  })\n);\nfunction getContainerSpecByName(pod, containerName) {\n  return pod.spec?.containers.find((c) => c.name === containerName);\n}\nconst PodDrawer = ({ podAndErrors, open }) => {\n  const classes = useDrawerContentStyles();\n  const podMetrics = usePodMetrics(podAndErrors.cluster.name, podAndErrors.pod);\n  const isPodDeleteEnabled = useIsPodDeleteEnabled();\n  return /* @__PURE__ */ jsx(\n    KubernetesDrawer,\n    {\n      open,\n      drawerContentsHeader: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle1\", children: [\n        \"Pod\",\n        \" \",\n        podAndErrors.pod.status?.podIP && `(${podAndErrors.pod.status?.podIP})`\n      ] }),\n      kubernetesObject: podAndErrors.pod,\n      label: /* @__PURE__ */ jsx(Typography, { variant: \"subtitle1\", children: podAndErrors.pod.metadata?.name ?? \"unknown\" }),\n      children: /* @__PURE__ */ jsxs(\"div\", { className: classes.content, children: [\n        isPodDeleteEnabled && /* @__PURE__ */ jsx(\n          PodDeleteButton,\n          {\n            podScope: {\n              podName: podAndErrors.pod.metadata?.name ?? \"unknown\",\n              podNamespace: podAndErrors.pod.metadata?.namespace ?? \"default\",\n              cluster: podAndErrors.cluster\n            }\n          }\n        ),\n        podMetrics && /* @__PURE__ */ jsxs(Grid, { container: true, item: true, xs: 12, children: [\n          /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: \"Resource utilization\" }) }),\n          /* @__PURE__ */ jsxs(Grid, { item: true, xs: 6, children: [\n            /* @__PURE__ */ jsx(\n              ResourceUtilization,\n              {\n                title: \"CPU requests\",\n                usage: podMetrics.cpu.currentUsage,\n                total: podMetrics.cpu.requestTotal,\n                totalFormatted: formatMillicores(podMetrics.cpu.requestTotal)\n              }\n            ),\n            /* @__PURE__ */ jsx(\n              ResourceUtilization,\n              {\n                title: \"CPU limits\",\n                usage: podMetrics.cpu.currentUsage,\n                total: podMetrics.cpu.limitTotal,\n                totalFormatted: formatMillicores(podMetrics.cpu.limitTotal)\n              }\n            )\n          ] }),\n          /* @__PURE__ */ jsxs(Grid, { item: true, xs: 6, children: [\n            /* @__PURE__ */ jsx(\n              ResourceUtilization,\n              {\n                title: \"Memory requests\",\n                usage: podMetrics.memory.currentUsage,\n                total: podMetrics.memory.requestTotal,\n                totalFormatted: bytesToMiB(podMetrics.memory.requestTotal)\n              }\n            ),\n            /* @__PURE__ */ jsx(\n              ResourceUtilization,\n              {\n                title: \"Memory limits\",\n                usage: podMetrics.memory.currentUsage,\n                total: podMetrics.memory.limitTotal,\n                totalFormatted: bytesToMiB(podMetrics.memory.limitTotal)\n              }\n            )\n          ] })\n        ] }),\n        podAndErrors.pod.status?.phase === \"Pending\" && /* @__PURE__ */ jsx(PendingPodContent, { pod: podAndErrors.pod }),\n        podAndErrors.pod.status?.containerStatuses?.length && /* @__PURE__ */ jsxs(Grid, { container: true, spacing: 2, children: [\n          /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: \"Containers\" }) }),\n          /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(ItemCardGrid, { children: podAndErrors.pod.status?.containerStatuses?.map(\n            (containerStatus, i) => {\n              const containerSpec = getContainerSpecByName(\n                podAndErrors.pod,\n                containerStatus.name\n              );\n              const containerMetrics = (podMetrics?.containers ?? []).find((c) => c.container === containerStatus.name);\n              return /* @__PURE__ */ jsx(\n                ContainerCard,\n                {\n                  containerMetrics,\n                  podScope: {\n                    podName: podAndErrors.pod.metadata?.name ?? \"unknown\",\n                    podNamespace: podAndErrors.pod.metadata?.namespace ?? \"unknown\",\n                    cluster: podAndErrors.cluster\n                  },\n                  containerSpec,\n                  containerStatus\n                },\n                `container-card-${podAndErrors.pod.metadata?.name}-${i}`\n              );\n            }\n          ) }) }),\n          podAndErrors.errors.length > 0 && /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: \"Errors\" }) }),\n          podAndErrors.errors.length > 0 && /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(ErrorList, { podAndErrors: [podAndErrors] }) })\n        ] })\n      ] })\n    }\n  );\n};\n\nexport { PodDrawer };\n//# sourceMappingURL=PodDrawer.esm.js.map\n","import { useApi, configApiRef } from '@backstage/core-plugin-api';\n\nconst useIsPodDeleteEnabled = () => {\n  const configApi = useApi(configApiRef);\n  return configApi.getOptionalConfig(\"kubernetes.frontend\")?.getOptionalBoolean(\"podDelete.enabled\");\n};\n\nexport { useIsPodDeleteEnabled };\n//# sourceMappingURL=useIsPodDeleteEnabled.esm.js.map\n","import { createContext } from 'react';\n\nconst ClusterContext = createContext({\n  name: \"\"\n});\n\nexport { ClusterContext };\n//# sourceMappingURL=Cluster.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { Fragment } from 'react';\nimport '@material-ui/core/Chip';\nimport { StatusOK, SubvalueCell, StatusError, StatusAborted } from '@backstage/core-components';\nimport { formatMillicores, bytesToMiB } from './resources.esm.js';\n\nconst containersReady = (pod) => {\n  const containerStatuses2 = pod.status?.containerStatuses ?? [];\n  const containersReadyItem = containerStatuses2.filter((cs) => cs.ready).length;\n  return `${containersReadyItem}/${containerStatuses2.length}`;\n};\nconst totalRestarts = (pod) => {\n  const containerStatuses2 = pod.status?.containerStatuses ?? [];\n  return containerStatuses2?.reduce((a, b) => a + b.restartCount, 0);\n};\nconst containerStatuses = (pod) => {\n  const containerStatusesItem = pod.status?.containerStatuses ?? [];\n  const errors = containerStatusesItem.reduce((accum, next) => {\n    if (next.state === void 0) {\n      return accum;\n    }\n    const waiting = next.state.waiting;\n    const terminated = next.state.terminated;\n    const renderCell = (reason) => /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\n        SubvalueCell,\n        {\n          value: reason === \"Completed\" ? /* @__PURE__ */ jsxs(StatusOK, { children: [\n            \"Container: \",\n            next.name\n          ] }) : /* @__PURE__ */ jsxs(StatusError, { children: [\n            \"Container: \",\n            next.name\n          ] }),\n          subvalue: reason\n        }\n      ),\n      /* @__PURE__ */ jsx(\"br\", {})\n    ] }, `${pod.metadata?.name}-${next.name}`);\n    if (waiting) {\n      accum.push(renderCell(waiting.reason));\n    }\n    if (terminated) {\n      accum.push(renderCell(terminated.reason));\n    }\n    return accum;\n  }, []);\n  if (errors.length === 0) {\n    return /* @__PURE__ */ jsx(StatusOK, { children: \"OK\" });\n  }\n  return errors;\n};\nconst renderCondition = (condition) => {\n  const status = condition.status;\n  if (status === \"True\") {\n    return [condition.type, /* @__PURE__ */ jsx(StatusOK, { children: \"True\" })];\n  } else if (status === \"False\") {\n    return [\n      condition.type,\n      /* @__PURE__ */ jsx(\n        SubvalueCell,\n        {\n          value: /* @__PURE__ */ jsx(StatusError, { children: \"False\" }),\n          subvalue: condition.message ?? \"\"\n        }\n      )\n    ];\n  }\n  return [condition.type, /* @__PURE__ */ jsx(StatusAborted, {})];\n};\nconst currentToDeclaredResourceToPerc = (current, resource) => {\n  if (Number(resource) === 0) return `0%`;\n  if (typeof current === \"number\" && typeof resource === \"number\") {\n    return `${Math.round(current / resource * 100)}%`;\n  }\n  const numerator = BigInt(\n    typeof current === \"number\" ? Math.round(current) : Number(current)\n  );\n  const denominator = BigInt(\n    typeof resource === \"number\" ? Math.round(resource) : Number(resource)\n  );\n  return `${numerator * BigInt(100) / denominator}%`;\n};\nconst podStatusToCpuUtil = (podStatus) => {\n  const cpuUtil = podStatus.cpu;\n  return /* @__PURE__ */ jsx(\n    SubvalueCell,\n    {\n      value: `requests: ${currentToDeclaredResourceToPerc(\n        cpuUtil.currentUsage,\n        cpuUtil.requestTotal\n      )} of ${formatMillicores(cpuUtil.requestTotal)}`,\n      subvalue: `limits: ${currentToDeclaredResourceToPerc(\n        cpuUtil.currentUsage,\n        cpuUtil.limitTotal\n      )} of ${formatMillicores(cpuUtil.limitTotal)}`\n    }\n  );\n};\nconst podStatusToMemoryUtil = (podStatus) => {\n  const memUtil = podStatus.memory;\n  return /* @__PURE__ */ jsx(\n    SubvalueCell,\n    {\n      value: `requests: ${currentToDeclaredResourceToPerc(\n        memUtil.currentUsage,\n        memUtil.requestTotal\n      )} of ${bytesToMiB(memUtil.requestTotal)}`,\n      subvalue: `limits: ${currentToDeclaredResourceToPerc(\n        memUtil.currentUsage,\n        memUtil.limitTotal\n      )} of ${bytesToMiB(memUtil.limitTotal)}`\n    }\n  );\n};\n\nexport { containerStatuses, containersReady, currentToDeclaredResourceToPerc, podStatusToCpuUtil, podStatusToMemoryUtil, renderCondition, totalRestarts };\n//# sourceMappingURL=pod.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport { PodDrawer } from './PodDrawer/PodDrawer.esm.js';\nimport { Table } from '@backstage/core-components';\nimport '@material-ui/core/Card';\nimport '@material-ui/core/CardActions';\nimport '@material-ui/core/CardContent';\nimport '@material-ui/core/CardHeader';\nimport '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport 'luxon';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport '../../hooks/GroupedResponses.esm.js';\nimport { ClusterContext } from '../../hooks/Cluster.esm.js';\nimport { usePodMetrics } from '../../hooks/usePodMetrics.esm.js';\nimport { useMatchingErrors } from '../../hooks/useMatchingErrors.esm.js';\nimport '@material-ui/icons/OpenInBrowser';\nimport '../KubernetesDialog/KubernetesDialog.esm.js';\nimport '../PodExecTerminal/PodExecTerminal.esm.js';\nimport '@material-ui/core/Paper';\nimport '@material-ui/lab/Skeleton';\nimport '@material-ui/icons/Subject';\nimport '@material-ui/core/List';\nimport '@material-ui/core/ListItem';\nimport { containerStatuses, containersReady, totalRestarts, podStatusToCpuUtil, podStatusToMemoryUtil } from '../../utils/pod.esm.js';\n\nconst READY_COLUMNS = \"READY\";\nconst RESOURCE_COLUMNS = \"RESOURCE\";\nconst READY = [\n  {\n    title: \"containers ready\",\n    align: \"center\",\n    render: containersReady,\n    width: \"auto\"\n  },\n  {\n    title: \"total restarts\",\n    align: \"center\",\n    render: totalRestarts,\n    type: \"numeric\",\n    width: \"auto\"\n  }\n];\nconst PodDrawerTrigger = ({ pod }) => {\n  const errors = useMatchingErrors({\n    kind: \"Pod\",\n    apiVersion: \"v1\",\n    metadata: pod.metadata\n  });\n  return /* @__PURE__ */ jsx(\n    PodDrawer,\n    {\n      podAndErrors: {\n        pod,\n        cluster: useContext(ClusterContext),\n        errors\n      }\n    }\n  );\n};\nconst Cpu = ({ clusterName, pod }) => {\n  const metrics = usePodMetrics(clusterName, pod);\n  if (!metrics) {\n    return /* @__PURE__ */ jsx(Typography, { children: \"unknown\" });\n  }\n  return /* @__PURE__ */ jsx(Fragment, { children: podStatusToCpuUtil(metrics) });\n};\nconst Memory = ({ clusterName, pod }) => {\n  const metrics = usePodMetrics(clusterName, pod);\n  if (!metrics) {\n    return /* @__PURE__ */ jsx(Typography, { children: \"unknown\" });\n  }\n  return /* @__PURE__ */ jsx(Fragment, { children: podStatusToMemoryUtil(metrics) });\n};\nconst PodsTable = ({ pods, extraColumns = [] }) => {\n  const cluster = useContext(ClusterContext);\n  const defaultColumns = [\n    {\n      title: \"ID\",\n      field: \"metadata.uid\",\n      hidden: true\n    },\n    {\n      title: \"name\",\n      highlight: true,\n      render: (pod) => {\n        return /* @__PURE__ */ jsx(PodDrawerTrigger, { pod });\n      }\n    },\n    {\n      title: \"phase\",\n      render: (pod) => pod.status?.phase ?? \"unknown\",\n      width: \"auto\"\n    },\n    {\n      title: \"status\",\n      render: containerStatuses\n    }\n  ];\n  const columns = [...defaultColumns];\n  if (extraColumns.includes(READY_COLUMNS)) {\n    columns.push(...READY);\n  }\n  if (extraColumns.includes(RESOURCE_COLUMNS)) {\n    const resourceColumns = [\n      {\n        title: \"CPU usage %\",\n        render: (pod) => {\n          return /* @__PURE__ */ jsx(Cpu, { clusterName: cluster.name, pod });\n        },\n        width: \"auto\"\n      },\n      {\n        title: \"Memory usage %\",\n        render: (pod) => {\n          return /* @__PURE__ */ jsx(Memory, { clusterName: cluster.name, pod });\n        },\n        width: \"auto\"\n      }\n    ];\n    columns.push(...resourceColumns);\n  }\n  const tableStyle = {\n    minWidth: \"0\",\n    width: \"100%\"\n  };\n  return /* @__PURE__ */ jsx(\"div\", { style: tableStyle, children: /* @__PURE__ */ jsx(\n    Table,\n    {\n      options: { paging: true, search: false, emptyRowsWhenPaging: false },\n      data: pods.map((pod) => ({\n        ...pod,\n        id: pod?.metadata?.uid\n      })),\n      columns\n    }\n  ) });\n};\n\nexport { PodsTable, READY_COLUMNS, RESOURCE_COLUMNS };\n//# sourceMappingURL=PodsTable.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { useState, useContext } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Drawer from '@material-ui/core/Drawer';\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles, createStyles, withStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\nimport OpenInNewIcon from '@material-ui/icons/OpenInNew';\nimport { WarningPanel, LinkButton, StructuredMetadataTable } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/esm/useAsync';\nimport { kubernetesClusterLinkFormatterApiRef } from '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport '../../hooks/GroupedResponses.esm.js';\nimport { ClusterContext } from '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport { ManifestYaml } from './ManifestYaml.esm.js';\nimport '@backstage/catalog-model';\nimport '@backstage/errors';\n\nconst useDrawerStyles = makeStyles(\n  (theme) => createStyles({\n    paper: {\n      width: \"50%\",\n      justifyContent: \"space-between\",\n      padding: theme.spacing(2.5)\n    }\n  })\n);\nconst useDrawerContentStyles = makeStyles(\n  (_) => createStyles({\n    header: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\"\n    },\n    errorMessage: {\n      marginTop: \"1em\",\n      marginBottom: \"1em\"\n    },\n    options: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\"\n    },\n    icon: {\n      fontSize: 20\n    },\n    content: {\n      height: \"80%\"\n    }\n  })\n);\nconst PodDrawerButton = withStyles({\n  root: {\n    padding: \"6px 5px\"\n  },\n  label: {\n    textTransform: \"none\"\n  }\n})(Button);\nconst LinkErrorPanel = ({\n  cluster,\n  errorMessage\n}) => /* @__PURE__ */ jsx(\n  WarningPanel,\n  {\n    title: \"There was a problem formatting the link to the Kubernetes dashboard\",\n    message: `Could not format the link to the dashboard of your cluster named '${cluster.name}'. Its dashboardApp property has been set to '${cluster.dashboardApp || \"standard\"}.'`,\n    children: errorMessage && /* @__PURE__ */ jsxs(Typography, { variant: \"body2\", children: [\n      \"Errors: \",\n      errorMessage\n    ] })\n  }\n);\nfunction replaceNullsWithUndefined(someObj) {\n  const replacer = (_, value) => String(value) === \"null\" || String(value) === \"undefined\" ? void 0 : value;\n  return JSON.parse(JSON.stringify(someObj, replacer));\n}\nconst KubernetesStructuredMetadataTableDrawerContent = ({\n  toggleDrawer,\n  object,\n  renderObject,\n  kind\n}) => {\n  const [isYaml, setIsYaml] = useState(false);\n  const formatter = useApi(kubernetesClusterLinkFormatterApiRef);\n  const classes = useDrawerContentStyles();\n  const cluster = useContext(ClusterContext);\n  const { value: clusterLink, error } = useAsync(\n    async () => formatter.formatClusterLink({\n      dashboardUrl: cluster.dashboardUrl,\n      dashboardApp: cluster.dashboardApp,\n      dashboardParameters: cluster.dashboardParameters,\n      object,\n      kind\n    }),\n    [cluster, object, kind, formatter]\n  );\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(\"div\", { className: classes.header, children: /* @__PURE__ */ jsxs(Grid, { container: true, justifyContent: \"flex-start\", alignItems: \"flex-start\", children: [\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 11, children: /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: object.metadata?.name ?? \"unknown name\" }) }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 1, children: /* @__PURE__ */ jsx(\n        IconButton,\n        {\n          title: \"Close the drawer\",\n          onClick: (e) => toggleDrawer(e, false),\n          color: \"inherit\",\n          children: /* @__PURE__ */ jsx(CloseIcon, { className: classes.icon })\n        },\n        \"dismiss\"\n      ) }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 11, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"body1\", children: kind }) }),\n      /* @__PURE__ */ jsx(Grid, { item: true, xs: 11, children: /* @__PURE__ */ jsx(\n        FormControlLabel,\n        {\n          control: /* @__PURE__ */ jsx(\n            Switch,\n            {\n              checked: isYaml,\n              onChange: (event) => {\n                setIsYaml(event.target.checked);\n              },\n              name: \"YAML\"\n            }\n          ),\n          label: \"YAML\"\n        }\n      ) })\n    ] }) }),\n    error && /* @__PURE__ */ jsx(\"div\", { className: classes.errorMessage, children: /* @__PURE__ */ jsx(\n      LinkErrorPanel,\n      {\n        cluster,\n        errorMessage: error.message || error.toString()\n      }\n    ) }),\n    /* @__PURE__ */ jsx(\"div\", { className: classes.options, children: /* @__PURE__ */ jsx(\"div\", { children: clusterLink && /* @__PURE__ */ jsx(\n      LinkButton,\n      {\n        variant: \"outlined\",\n        color: \"primary\",\n        size: \"small\",\n        to: clusterLink,\n        endIcon: /* @__PURE__ */ jsx(OpenInNewIcon, {}),\n        children: \"Open Kubernetes Dashboard\"\n      }\n    ) }) }),\n    /* @__PURE__ */ jsxs(\"div\", { className: classes.content, children: [\n      isYaml && /* @__PURE__ */ jsx(ManifestYaml, { object }),\n      !isYaml && /* @__PURE__ */ jsx(\n        StructuredMetadataTable,\n        {\n          metadata: renderObject(replaceNullsWithUndefined(object)),\n          options: { nestedValuesAsYaml: true }\n        }\n      )\n    ] })\n  ] });\n};\nconst KubernetesStructuredMetadataTableDrawer = ({\n  object,\n  renderObject,\n  kind,\n  buttonVariant = \"subtitle2\",\n  expanded = false,\n  children\n}) => {\n  const [isOpen, setIsOpen] = useState(expanded);\n  const classes = useDrawerStyles();\n  const toggleDrawer = (e, newValue) => {\n    e.stopPropagation();\n    setIsOpen(newValue);\n  };\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(\n      PodDrawerButton,\n      {\n        onClick: (e) => toggleDrawer(e, true),\n        onFocus: (event) => event.stopPropagation(),\n        children: children === void 0 ? /* @__PURE__ */ jsx(Typography, { variant: buttonVariant, children: object.metadata?.name ?? \"unknown object\" }) : children\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      Drawer,\n      {\n        classes: {\n          paper: classes.paper\n        },\n        anchor: \"right\",\n        open: isOpen,\n        onClose: (e) => toggleDrawer(e, false),\n        onClick: (event) => event.stopPropagation(),\n        children: /* @__PURE__ */ jsx(\n          KubernetesStructuredMetadataTableDrawerContent,\n          {\n            kind,\n            toggleDrawer,\n            object,\n            renderObject\n          }\n        )\n      }\n    )\n  ] });\n};\n\nexport { KubernetesStructuredMetadataTableDrawer, LinkErrorPanel };\n//# sourceMappingURL=KubernetesStructuredMetadataTableDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport { renderCondition } from '../../utils/pod.esm.js';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\n\nconst DeploymentDrawer = ({\n  deployment,\n  expanded\n}) => {\n  const namespace = deployment.metadata?.namespace;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: deployment,\n      expanded,\n      kind: \"Deployment\",\n      renderObject: (deploymentObj) => {\n        const conditions = (deploymentObj.status?.conditions ?? []).map(renderCondition).reduce((accum, next) => {\n          accum[next[0]] = next[1];\n          return accum;\n        }, {});\n        return {\n          strategy: deploymentObj.spec?.strategy ?? \"???\",\n          minReadySeconds: deploymentObj.spec?.minReadySeconds ?? \"???\",\n          progressDeadlineSeconds: deploymentObj.spec?.progressDeadlineSeconds ?? \"???\",\n          ...conditions\n        };\n      },\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: deployment.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"Deployment\" }) }),\n            namespace && /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Chip, { size: \"small\", label: `namespace: ${namespace}` }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { DeploymentDrawer };\n//# sourceMappingURL=DeploymentDrawer.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\n\nconst HorizontalPodAutoscalerDrawer = (props) => {\n  const { hpa, expanded, children } = props;\n  const specCpuUtil = hpa?.spec?.metrics?.find(\n    (metric) => metric.type === \"Resource\" && metric.resource?.name === \"cpu\"\n  )?.resource?.target.averageUtilization;\n  const cpuUtil = hpa?.status?.currentMetrics?.find(\n    (metric) => metric.type === \"Resource\" && metric.resource?.name === \"cpu\"\n  )?.resource?.current.averageUtilization;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      kind: \"HorizontalPodAutoscaler\",\n      object: hpa,\n      expanded,\n      renderObject: (hpaObject) => {\n        return {\n          targetCPUUtilizationPercentage: specCpuUtil,\n          currentCPUUtilizationPercentage: cpuUtil,\n          minReplicas: hpaObject.spec?.minReplicas,\n          maxReplicas: hpaObject.spec?.maxReplicas,\n          currentReplicas: hpaObject.status?.currentReplicas,\n          desiredReplicas: hpaObject.status?.desiredReplicas,\n          lastScaleTime: hpa?.status?.lastScaleTime\n        };\n      },\n      children\n    }\n  );\n};\n\nexport { HorizontalPodAutoscalerDrawer };\n//# sourceMappingURL=HorizontalPodAutoscalerDrawer.esm.js.map\n","function getOwnedResources(potentialOwner, possiblyOwned) {\n  return possiblyOwned.filter(\n    (p) => p.metadata?.ownerReferences?.some(\n      (o) => o.uid === potentialOwner.metadata?.uid\n    ) ?? false\n  );\n}\nconst getOwnedPodsThroughReplicaSets = (potentialOwner, replicaSets, pods) => {\n  return getOwnedResources(\n    potentialOwner,\n    replicaSets.filter((rs) => rs.status && rs.status.replicas > 0)\n  ).reduce((accum, rs) => {\n    return accum.concat(getOwnedResources(rs, pods));\n  }, []);\n};\nconst getMatchingHpa = (owner, hpas) => {\n  return hpas.find((hpa) => {\n    return (hpa.spec?.scaleTargetRef?.kind ?? \"\").toLocaleLowerCase(\"en-US\") === owner.kind.toLocaleLowerCase(\"en-US\") && (hpa.metadata?.namespace ?? \"\") === (owner.namespace ?? \"unknown-namespace\") && (hpa.spec?.scaleTargetRef?.name ?? \"\") === (owner.name ?? \"unknown-deployment\");\n  });\n};\n\nexport { getMatchingHpa, getOwnedPodsThroughReplicaSets, getOwnedResources };\n//# sourceMappingURL=owner.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport '../Pods/PodDrawer/PodDrawer.esm.js';\nimport { StatusOK, StatusError } from '@backstage/core-components';\nimport '@material-ui/core/Card';\nimport '@material-ui/core/CardActions';\nimport '@material-ui/core/CardContent';\nimport '@material-ui/core/CardHeader';\nimport 'luxon';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport { PodNamesWithErrorsContext } from '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport '@material-ui/icons/OpenInBrowser';\nimport '../KubernetesDialog/KubernetesDialog.esm.js';\nimport '../PodExecTerminal/PodExecTerminal.esm.js';\nimport '@material-ui/core/Paper';\nimport '@material-ui/lab/Skeleton';\nimport '@material-ui/icons/Subject';\nimport '@material-ui/core/List';\nimport '@material-ui/core/ListItem';\nimport '../Pods/FixDialog/FixDialog.esm.js';\nimport '@material-ui/core/Avatar';\nimport '@material-ui/core/Container';\nimport '@material-ui/core/ListItemAvatar';\nimport '@material-ui/core/ListItemText';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/Info';\nimport '@material-ui/icons/Warning';\nimport '../Pods/ErrorList/ErrorList.esm.js';\nimport { PodsTable, READY_COLUMNS, RESOURCE_COLUMNS } from '../Pods/PodsTable.esm.js';\nimport { DeploymentDrawer } from './DeploymentDrawer.esm.js';\nimport { HorizontalPodAutoscalerDrawer } from '../HorizontalPodAutoscalers/HorizontalPodAutoscalerDrawer.esm.js';\nimport { getOwnedPodsThroughReplicaSets, getMatchingHpa } from '../../utils/owner.esm.js';\n\nconst DeploymentSummary = ({\n  deployment,\n  numberOfCurrentPods,\n  numberOfPodsWithErrors,\n  hpa\n}) => {\n  const specCpuUtil = hpa?.spec?.metrics?.find(\n    (metric) => metric.type === \"Resource\" && metric.resource?.name === \"cpu\"\n  )?.resource?.target.averageUtilization;\n  const cpuUtil = hpa?.status?.currentMetrics?.find(\n    (metric) => metric.type === \"Resource\" && metric.resource?.name === \"cpu\"\n  )?.resource?.current.averageUtilization;\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { xs: 4, item: true, children: /* @__PURE__ */ jsx(DeploymentDrawer, { deployment }) }),\n        hpa && /* @__PURE__ */ jsx(Grid, { item: true, xs: 4, children: /* @__PURE__ */ jsx(HorizontalPodAutoscalerDrawer, { hpa, children: /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-start\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"min replicas \",\n                hpa.spec?.minReplicas ?? \"?\",\n                \" / max replicas\",\n                \" \",\n                hpa.spec?.maxReplicas ?? \"?\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"current CPU usage: \",\n                cpuUtil ?? \"?\",\n                \"%\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"target CPU usage: \",\n                specCpuUtil ?? \"?\",\n                \"%\"\n              ] }) })\n            ]\n          }\n        ) }) }),\n        /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            xs: 4,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-end\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(StatusOK, { children: [\n                numberOfCurrentPods,\n                \" pods\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: numberOfPodsWithErrors > 0 ? /* @__PURE__ */ jsxs(StatusError, { children: [\n                numberOfPodsWithErrors,\n                \" pod\",\n                numberOfPodsWithErrors > 1 ? \"s\" : \"\",\n                \" with errors\"\n              ] }) : /* @__PURE__ */ jsx(StatusOK, { children: \"No pods with errors\" }) })\n            ]\n          }\n        )\n      ]\n    }\n  );\n};\nconst DeploymentAccordion = ({\n  deployment,\n  ownedPods,\n  matchingHpa\n}) => {\n  const podNamesWithErrors = useContext(PodNamesWithErrorsContext);\n  const podsWithErrors = ownedPods.filter(\n    (p) => podNamesWithErrors.has(p.metadata?.name ?? \"\")\n  );\n  return /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, variant: \"outlined\", children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(\n      DeploymentSummary,\n      {\n        deployment,\n        numberOfCurrentPods: ownedPods.length,\n        numberOfPodsWithErrors: podsWithErrors.length,\n        hpa: matchingHpa\n      }\n    ) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsx(\n      PodsTable,\n      {\n        pods: ownedPods,\n        extraColumns: [READY_COLUMNS, RESOURCE_COLUMNS]\n      }\n    ) })\n  ] });\n};\nconst DeploymentsAccordions = ({}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"column\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: groupedResponses.deployments.map((deployment, i) => /* @__PURE__ */ jsx(Grid, { container: true, item: true, xs: true, children: /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(\n        DeploymentAccordion,\n        {\n          matchingHpa: getMatchingHpa(\n            {\n              name: deployment.metadata?.name,\n              namespace: deployment.metadata?.namespace,\n              kind: \"deployment\"\n            },\n            groupedResponses.horizontalPodAutoscalers\n          ),\n          ownedPods: getOwnedPodsThroughReplicaSets(\n            deployment,\n            groupedResponses.replicaSets,\n            groupedResponses.pods\n          ),\n          deployment\n        }\n      ) }) }, i))\n    }\n  );\n};\n\nexport { DeploymentsAccordions };\n//# sourceMappingURL=DeploymentsAccordions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport { renderCondition } from '../../utils/pod.esm.js';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\n\nconst StatefulSetDrawer = ({\n  statefulset,\n  expanded\n}) => {\n  const namespace = statefulset.metadata?.namespace;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: statefulset,\n      expanded,\n      kind: \"StatefulSet\",\n      renderObject: (statefulsetObj) => {\n        const conditions = (statefulsetObj.status?.conditions ?? []).map(renderCondition).reduce((accum, next) => {\n          accum[next[0]] = next[1];\n          return accum;\n        }, {});\n        return {\n          updateStrategy: statefulset.spec?.updateStrategy ?? \"???\",\n          podManagementPolicy: statefulset.spec?.podManagementPolicy ?? \"???\",\n          serviceName: statefulset.spec?.serviceName ?? \"???\",\n          selector: statefulset.spec?.selector ?? \"???\",\n          revisionHistoryLimit: statefulset.spec?.revisionHistoryLimit ?? \"???\",\n          ...conditions\n        };\n      },\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: statefulset.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"Stateful Set\" }) }),\n            namespace && /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Chip, { size: \"small\", label: `namespace: ${namespace}` }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { StatefulSetDrawer };\n//# sourceMappingURL=StatefulSetDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport '../Pods/PodDrawer/PodDrawer.esm.js';\nimport { StatusOK, StatusError } from '@backstage/core-components';\nimport '@material-ui/core/Card';\nimport '@material-ui/core/CardActions';\nimport '@material-ui/core/CardContent';\nimport '@material-ui/core/CardHeader';\nimport 'luxon';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport { PodNamesWithErrorsContext } from '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport '@material-ui/icons/OpenInBrowser';\nimport '../KubernetesDialog/KubernetesDialog.esm.js';\nimport '../PodExecTerminal/PodExecTerminal.esm.js';\nimport '@material-ui/core/Paper';\nimport '@material-ui/lab/Skeleton';\nimport '@material-ui/icons/Subject';\nimport '@material-ui/core/List';\nimport '@material-ui/core/ListItem';\nimport '../Pods/FixDialog/FixDialog.esm.js';\nimport '@material-ui/core/Avatar';\nimport '@material-ui/core/Container';\nimport '@material-ui/core/ListItemAvatar';\nimport '@material-ui/core/ListItemText';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/Info';\nimport '@material-ui/icons/Warning';\nimport '../Pods/ErrorList/ErrorList.esm.js';\nimport { PodsTable, READY_COLUMNS, RESOURCE_COLUMNS } from '../Pods/PodsTable.esm.js';\nimport { StatefulSetDrawer } from './StatefulSetDrawer.esm.js';\nimport { HorizontalPodAutoscalerDrawer } from '../HorizontalPodAutoscalers/HorizontalPodAutoscalerDrawer.esm.js';\nimport { getOwnedResources, getMatchingHpa } from '../../utils/owner.esm.js';\n\nconst StatefulSetSummary = ({\n  statefulset,\n  numberOfCurrentPods,\n  numberOfPodsWithErrors,\n  hpa\n}) => {\n  const specCpuUtil = hpa?.spec?.metrics?.find(\n    (metric) => metric.type === \"Resource\" && metric.resource?.name === \"cpu\"\n  )?.resource?.target.averageUtilization;\n  const cpuUtil = hpa?.status?.currentMetrics?.find(\n    (metric) => metric.type === \"Resource\" && metric.resource?.name === \"cpu\"\n  )?.resource?.current.averageUtilization;\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { xs: 6, item: true, children: /* @__PURE__ */ jsx(StatefulSetDrawer, { statefulset }) }),\n        hpa && /* @__PURE__ */ jsx(Grid, { item: true, xs: 3, children: /* @__PURE__ */ jsx(HorizontalPodAutoscalerDrawer, { hpa, children: /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-start\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"min replicas \",\n                hpa.spec?.minReplicas ?? \"?\",\n                \" / max replicas\",\n                \" \",\n                hpa.spec?.maxReplicas ?? \"?\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"current CPU usage: \",\n                cpuUtil ?? \"?\",\n                \"%\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"target CPU usage: \",\n                specCpuUtil ?? \"?\",\n                \"%\"\n              ] }) })\n            ]\n          }\n        ) }) }),\n        /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            xs: 3,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-start\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(StatusOK, { children: [\n                numberOfCurrentPods,\n                \" pods\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: numberOfPodsWithErrors > 0 ? /* @__PURE__ */ jsxs(StatusError, { children: [\n                numberOfPodsWithErrors,\n                \" pod\",\n                numberOfPodsWithErrors > 1 ? \"s\" : \"\",\n                \" with errors\"\n              ] }) : /* @__PURE__ */ jsx(StatusOK, { children: \"No pods with errors\" }) })\n            ]\n          }\n        )\n      ]\n    }\n  );\n};\nconst StatefulSetAccordion = ({\n  statefulset,\n  ownedPods,\n  matchingHpa\n}) => {\n  const podNamesWithErrors = useContext(PodNamesWithErrorsContext);\n  const podsWithErrors = ownedPods.filter(\n    (p) => podNamesWithErrors.has(p.metadata?.name ?? \"\")\n  );\n  return /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, variant: \"outlined\", children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(\n      StatefulSetSummary,\n      {\n        statefulset,\n        numberOfCurrentPods: ownedPods.length,\n        numberOfPodsWithErrors: podsWithErrors.length,\n        hpa: matchingHpa\n      }\n    ) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsx(\n      PodsTable,\n      {\n        pods: ownedPods,\n        extraColumns: [READY_COLUMNS, RESOURCE_COLUMNS]\n      }\n    ) })\n  ] });\n};\nconst StatefulSetsAccordions = ({}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"column\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: groupedResponses.statefulsets.map((statefulset, i) => /* @__PURE__ */ jsx(Grid, { container: true, item: true, xs: true, children: /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(\n        StatefulSetAccordion,\n        {\n          matchingHpa: getMatchingHpa(\n            {\n              name: statefulset.metadata?.name,\n              namespace: statefulset.metadata?.namespace,\n              kind: \"statefulset\"\n            },\n            groupedResponses.horizontalPodAutoscalers\n          ),\n          ownedPods: getOwnedResources(statefulset, groupedResponses.pods),\n          statefulset\n        }\n      ) }) }, i))\n    }\n  );\n};\n\nexport { StatefulSetsAccordions };\n//# sourceMappingURL=StatefulSetsAccordions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\n\nconst IngressDrawer = ({\n  ingress,\n  expanded\n}) => {\n  const namespace = ingress.metadata?.namespace;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: ingress,\n      expanded,\n      kind: \"Ingress\",\n      renderObject: (ingressObject) => {\n        return ingressObject.spec || {};\n      },\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: ingress.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"Ingress\" }) }),\n            namespace && /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Chip, { size: \"small\", label: `namespace: ${namespace}` }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { IngressDrawer };\n//# sourceMappingURL=IngressDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { IngressDrawer } from './IngressDrawer.esm.js';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport { StructuredMetadataTable } from '@backstage/core-components';\n\nconst IngressSummary = ({ ingress }) => {\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"flex-start\",\n      alignItems: \"center\",\n      children: /* @__PURE__ */ jsx(Grid, { xs: 12, item: true, children: /* @__PURE__ */ jsx(IngressDrawer, { ingress }) })\n    }\n  );\n};\nconst IngressCard = ({ ingress }) => {\n  return /* @__PURE__ */ jsx(\n    StructuredMetadataTable,\n    {\n      metadata: {\n        ...ingress.spec\n      },\n      options: {\n        nestedValuesAsYaml: true\n      }\n    }\n  );\n};\nconst IngressAccordion = ({ ingress }) => {\n  return /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(IngressSummary, { ingress }) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsx(IngressCard, { ingress }) })\n  ] });\n};\nconst IngressesAccordions = ({}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: groupedResponses.ingresses.map((ingress, i) => /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(IngressAccordion, { ingress }) }, i))\n    }\n  );\n};\n\nexport { IngressesAccordions };\n//# sourceMappingURL=IngressesAccordions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\n\nconst ServiceDrawer = ({\n  service,\n  expanded\n}) => {\n  const namespace = service.metadata?.namespace;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: service,\n      expanded,\n      kind: \"Service\",\n      renderObject: (serviceObject) => {\n        return serviceObject.spec || {};\n      },\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: service.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"Service\" }) }),\n            namespace && /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Chip, { size: \"small\", label: `namespace: ${namespace}` }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { ServiceDrawer };\n//# sourceMappingURL=ServiceDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { ServiceDrawer } from './ServiceDrawer.esm.js';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport { StructuredMetadataTable } from '@backstage/core-components';\n\nconst ServiceSummary = ({ service }) => {\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { xs: 8, item: true, children: /* @__PURE__ */ jsx(ServiceDrawer, { service }) }),\n        /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n          \"Type: \",\n          service.spec?.type ?? \"?\"\n        ] }) })\n      ]\n    }\n  );\n};\nconst ServiceCard = ({ service }) => {\n  const metadata = {};\n  if (service.status?.loadBalancer?.ingress?.length ?? -1 > 0) {\n    metadata.loadbalancer = service.status?.loadBalancer;\n  }\n  if (service.spec?.type === \"ClusterIP\") {\n    metadata.clusterIP = service.spec.clusterIP;\n  }\n  if (service.spec?.type === \"ExternalName\") {\n    metadata.externalName = service.spec.externalName;\n  }\n  return /* @__PURE__ */ jsx(\n    StructuredMetadataTable,\n    {\n      metadata: {\n        type: service.spec?.type,\n        ports: service.spec?.ports,\n        ...metadata\n      },\n      options: { nestedValuesAsYaml: true }\n    }\n  );\n};\nconst ServiceAccordion = ({ service }) => {\n  return /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, variant: \"outlined\", children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(ServiceSummary, { service }) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsx(ServiceCard, { service }) })\n  ] });\n};\nconst ServicesAccordions = ({}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: groupedResponses.services.map((service, i) => /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(ServiceAccordion, { service }) }, i))\n    }\n  );\n};\n\nexport { ServicesAccordions };\n//# sourceMappingURL=ServicesAccordions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\n\nconst ConfigmapsDrawer = ({\n  configmap,\n  expanded\n}) => {\n  const namespace = configmap.metadata?.namespace;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: configmap,\n      expanded,\n      kind: \"ConfigMap\",\n      renderObject: (configmapObject) => {\n        return configmapObject || {};\n      },\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: configmap.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"ConfigMap\" }) }),\n            namespace && /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Chip, { size: \"small\", label: `namespace: ${namespace}` }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { ConfigmapsDrawer };\n//# sourceMappingURL=ConfigmapsDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { ConfigmapsDrawer } from './ConfigmapsDrawer.esm.js';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport { StructuredMetadataTable } from '@backstage/core-components';\n\nconst ConfigmapSummary = ({ configmap }) => {\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { xs: 8, item: true, children: /* @__PURE__ */ jsx(ConfigmapsDrawer, { configmap }) }),\n        /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n          \"Data Count: \",\n          configmap.data ? Object.keys(configmap.data).length : 0\n        ] }) })\n      ]\n    }\n  );\n};\nconst ConfigmapCard = ({ configmap }) => {\n  const metadata = {};\n  metadata.data = configmap.data;\n  return /* @__PURE__ */ jsx(\n    StructuredMetadataTable,\n    {\n      metadata: {\n        ...metadata\n      },\n      options: { nestedValuesAsYaml: true }\n    }\n  );\n};\nconst ConfigmapsAccordion = ({ configmap }) => {\n  return /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, variant: \"outlined\", children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(ConfigmapSummary, { configmap }) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsx(ConfigmapCard, { configmap }) })\n  ] });\n};\nconst ConfigmapsAccordions = ({}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: groupedResponses.configMaps.map((configmap, i) => /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(ConfigmapsAccordion, { configmap }) }, i))\n    }\n  );\n};\n\nexport { ConfigmapsAccordions };\n//# sourceMappingURL=ConfigmapsAccordions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\n\nconst JobDrawer = ({\n  job,\n  expanded\n}) => {\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: job,\n      expanded,\n      kind: \"Job\",\n      renderObject: (jobObj) => {\n        return {\n          parallelism: jobObj.spec?.parallelism ?? \"???\",\n          completions: jobObj.spec?.completions ?? \"???\",\n          backoffLimit: jobObj.spec?.backoffLimit ?? \"???\",\n          startTime: jobObj.status?.startTime ?? \"???\"\n        };\n      },\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: job.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"Job\" }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { JobDrawer };\n//# sourceMappingURL=JobsDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport '../Pods/PodDrawer/PodDrawer.esm.js';\nimport { StatusOK, StatusPending, StatusError } from '@backstage/core-components';\nimport '@material-ui/core/Card';\nimport '@material-ui/core/CardActions';\nimport '@material-ui/core/CardContent';\nimport '@material-ui/core/CardHeader';\nimport '@material-ui/core/Typography';\nimport 'luxon';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport '@material-ui/icons/OpenInBrowser';\nimport '../KubernetesDialog/KubernetesDialog.esm.js';\nimport '../PodExecTerminal/PodExecTerminal.esm.js';\nimport '@material-ui/core/Paper';\nimport '@material-ui/lab/Skeleton';\nimport '@material-ui/icons/Subject';\nimport '@material-ui/core/List';\nimport '@material-ui/core/ListItem';\nimport '../Pods/FixDialog/FixDialog.esm.js';\nimport '@material-ui/core/Avatar';\nimport '@material-ui/core/Container';\nimport '@material-ui/core/ListItemAvatar';\nimport '@material-ui/core/ListItemText';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/Info';\nimport '@material-ui/icons/Warning';\nimport '../Pods/ErrorList/ErrorList.esm.js';\nimport { PodsTable } from '../Pods/PodsTable.esm.js';\nimport { JobDrawer } from './JobsDrawer.esm.js';\nimport { getOwnedResources } from '../../utils/owner.esm.js';\n\nconst JobSummary = ({ job }) => {\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { xs: 6, item: true, children: /* @__PURE__ */ jsx(JobDrawer, { job }) }),\n        /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            xs: 6,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-end\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsxs(Grid, { item: true, children: [\n                job.status?.succeeded && /* @__PURE__ */ jsx(StatusOK, { children: \"Succeeded\" }),\n                job.status?.active && /* @__PURE__ */ jsx(StatusPending, { children: \"Running\" }),\n                job.status?.failed && /* @__PURE__ */ jsx(StatusError, { children: \"Failed\" })\n              ] }),\n              /* @__PURE__ */ jsxs(Grid, { item: true, children: [\n                \"Start time: \",\n                job.status?.startTime?.toString()\n              ] }),\n              job.status?.completionTime && /* @__PURE__ */ jsxs(Grid, { item: true, children: [\n                \"Completion time: \",\n                job.status.completionTime.toString()\n              ] })\n            ]\n          }\n        )\n      ]\n    }\n  );\n};\nconst JobAccordion = ({ job, ownedPods }) => {\n  return /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, variant: \"outlined\", children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(JobSummary, { job }) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsx(PodsTable, { pods: ownedPods }) })\n  ] });\n};\nconst JobsAccordions = ({ jobs }) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"column\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: jobs.map((job, i) => /* @__PURE__ */ jsx(Grid, { container: true, item: true, xs: true, children: /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(\n        JobAccordion,\n        {\n          ownedPods: getOwnedResources(job, groupedResponses.pods),\n          job\n        }\n      ) }) }, i))\n    }\n  );\n};\n\nexport { JobsAccordions };\n//# sourceMappingURL=JobsAccordions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\n\nconst CronJobDrawer = ({\n  cronJob,\n  expanded\n}) => {\n  const namespace = cronJob.metadata?.namespace;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: cronJob,\n      expanded,\n      kind: \"CronJob\",\n      renderObject: (cronJobObj) => ({\n        schedule: cronJobObj.spec?.schedule ?? \"???\",\n        startingDeadlineSeconds: cronJobObj.spec?.startingDeadlineSeconds ?? \"???\",\n        concurrencyPolicy: cronJobObj.spec?.concurrencyPolicy ?? \"???\",\n        lastScheduleTime: cronJobObj.status?.lastScheduleTime ?? \"???\"\n      }),\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: cronJob.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"CronJob\" }) }),\n            namespace && /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Chip, { size: \"small\", label: `namespace: ${namespace}` }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { CronJobDrawer };\n//# sourceMappingURL=CronJobsDrawer.esm.js.map\n","import cronstrue from 'cronstrue';\n\nconst k8sCronAliases = /* @__PURE__ */ new Map([\n  [\"@yearly\", \"0 0 1 1 *\"],\n  [\"@annually\", \"0 0 1 1 *\"],\n  [\"@monthly\", \"0 0 1 * *\"],\n  [\"@weekly\", \"0 0 * * 0\"],\n  [\"@daily\", \"0 0 * * *\"],\n  [\"@midnight\", \"0 0 * * *\"],\n  [\"@hourly\", \"0 * * * *\"]\n]);\nconst humanizeCron = (schedule) => {\n  const deAliasedSchedule = k8sCronAliases.get(schedule) || schedule;\n  try {\n    return cronstrue.toString(deAliasedSchedule);\n  } catch (e) {\n    return deAliasedSchedule;\n  }\n};\n\nexport { humanizeCron };\n//# sourceMappingURL=crons.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { JobsAccordions } from '../JobsAccordions/JobsAccordions.esm.js';\nimport { CronJobDrawer } from './CronJobsDrawer.esm.js';\nimport { getOwnedResources } from '../../utils/owner.esm.js';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport { StatusError, StatusOK } from '@backstage/core-components';\nimport { humanizeCron } from '../../utils/crons.esm.js';\n\nconst CronJobSummary = ({ cronJob }) => {\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { xs: 6, item: true, children: /* @__PURE__ */ jsx(CronJobDrawer, { cronJob }) }),\n        /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            xs: 6,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-end\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: cronJob.spec?.suspend ? /* @__PURE__ */ jsx(StatusError, { children: \"Suspended\" }) : /* @__PURE__ */ jsx(StatusOK, { children: \"Active\" }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"body1\", children: [\n                \"Schedule:\",\n                \" \",\n                cronJob.spec?.schedule ? `${cronJob.spec.schedule} (${humanizeCron(\n                  cronJob.spec.schedule\n                )})` : \"N/A\"\n              ] }) })\n            ]\n          }\n        )\n      ]\n    }\n  );\n};\nconst CronJobAccordion = ({ cronJob, ownedJobs }) => {\n  return /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, variant: \"outlined\", children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(CronJobSummary, { cronJob }) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsx(JobsAccordions, { jobs: ownedJobs.reverse() }) })\n  ] });\n};\nconst CronJobsAccordions = ({}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"column\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: groupedResponses.cronJobs.map((cronJob, i) => /* @__PURE__ */ jsx(Grid, { container: true, item: true, xs: true, children: /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(\n        CronJobAccordion,\n        {\n          ownedJobs: getOwnedResources(cronJob, groupedResponses.jobs),\n          cronJob\n        }\n      ) }) }, i))\n    }\n  );\n};\n\nexport { CronJobsAccordions };\n//# sourceMappingURL=CronJobsAccordions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\n\nconst RolloutDrawer = ({\n  rollout,\n  expanded\n}) => {\n  const namespace = rollout.metadata?.namespace;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: rollout,\n      expanded,\n      kind: \"Rollout\",\n      renderObject: () => ({}),\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: rollout.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"Rollout\" }) }),\n            namespace && /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Chip, { size: \"small\", label: `namespace: ${namespace}` }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { RolloutDrawer };\n//# sourceMappingURL=RolloutDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Stepper from '@material-ui/core/Stepper';\nimport Typography from '@material-ui/core/Typography';\n\nconst isSetWeightStep = (step) => step.hasOwnProperty(\"setWeight\");\nconst isPauseStep = (step) => step.hasOwnProperty(\"pause\");\nconst isAnalysisStep = (step) => step.hasOwnProperty(\"analysis\");\nconst createLabelForStep = (step) => {\n  if (isSetWeightStep(step)) {\n    return `setWeight ${step.setWeight}%`;\n  } else if (isPauseStep(step)) {\n    return step.pause.duration === void 0 ? \"infinite pause\" : `pause for ${step.pause.duration}`;\n  } else if (isAnalysisStep(step)) {\n    return /* @__PURE__ */ jsxs(\"div\", { children: [\n      /* @__PURE__ */ jsx(Typography, { paragraph: true, children: \"analysis templates:\" }),\n      step.analysis.templates.map((t, i) => /* @__PURE__ */ jsx(Typography, { paragraph: true, children: `${t.templateName}${t.clusterScope ? \" (cluster scoped)\" : \"\"}` }, i))\n    ] });\n  }\n  return \"unknown step\";\n};\nconst StepsProgress = ({\n  currentStepIndex,\n  aborted,\n  steps\n}) => {\n  const activeStepIndex = currentStepIndex >= steps.length ? currentStepIndex + 1 : currentStepIndex;\n  return /* @__PURE__ */ jsx(Stepper, { activeStep: aborted ? -1 : activeStepIndex, alternativeLabel: true, children: steps.map((step, i) => /* @__PURE__ */ jsx(Step, { children: /* @__PURE__ */ jsx(StepLabel, { \"data-testid\": `step-${i}`, children: createLabelForStep(step) }) }, i)).concat(\n    /* @__PURE__ */ jsx(Step, { children: /* @__PURE__ */ jsx(StepLabel, { \"data-testid\": \"step--1\", children: \"Canary promoted\" }) }, \"-1\")\n  ) });\n};\n\nexport { StepsProgress };\n//# sourceMappingURL=StepsProgress.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport '../../Pods/PodDrawer/PodDrawer.esm.js';\nimport { StatusOK, StatusError } from '@backstage/core-components';\nimport '@material-ui/core/Card';\nimport '@material-ui/core/CardActions';\nimport '@material-ui/core/CardContent';\nimport '@material-ui/core/CardHeader';\nimport { DateTime } from 'luxon';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../../kubernetes-auth-provider/types.esm.js';\nimport { PodNamesWithErrorsContext } from '../../../hooks/PodNamesWithErrors.esm.js';\nimport '../../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../../hooks/GroupedResponses.esm.js';\nimport '../../../hooks/Cluster.esm.js';\nimport '../../../hooks/usePodMetrics.esm.js';\nimport '../../../hooks/useMatchingErrors.esm.js';\nimport '@material-ui/icons/OpenInBrowser';\nimport '../../KubernetesDialog/KubernetesDialog.esm.js';\nimport '../../PodExecTerminal/PodExecTerminal.esm.js';\nimport '@material-ui/core/Paper';\nimport '@material-ui/lab/Skeleton';\nimport '@material-ui/icons/Subject';\nimport '@material-ui/core/List';\nimport '@material-ui/core/ListItem';\nimport '../../Pods/FixDialog/FixDialog.esm.js';\nimport '@material-ui/core/Avatar';\nimport '@material-ui/core/Container';\nimport '@material-ui/core/ListItemAvatar';\nimport '@material-ui/core/ListItemText';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/Info';\nimport '@material-ui/icons/Warning';\nimport '../../Pods/ErrorList/ErrorList.esm.js';\nimport { PodsTable, READY_COLUMNS, RESOURCE_COLUMNS } from '../../Pods/PodsTable.esm.js';\nimport { HorizontalPodAutoscalerDrawer } from '../../HorizontalPodAutoscalers/HorizontalPodAutoscalerDrawer.esm.js';\nimport { RolloutDrawer } from './RolloutDrawer.esm.js';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\nimport { StepsProgress } from './StepsProgress.esm.js';\nimport { getOwnedPodsThroughReplicaSets, getMatchingHpa } from '../../../utils/owner.esm.js';\n\nconst AbortedTitle = /* @__PURE__ */ jsxs(\n  \"div\",\n  {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      flexWrap: \"wrap\"\n    },\n    children: [\n      /* @__PURE__ */ jsx(ErrorOutlineIcon, {}),\n      /* @__PURE__ */ jsx(Typography, { variant: \"subtitle1\", children: \"Aborted\" })\n    ]\n  }\n);\nconst findAbortedMessage = (rollout) => rollout.status?.conditions?.find(\n  (c) => c.type === \"Progressing\" && c.status === \"False\" && c.reason === \"RolloutAborted\"\n)?.message;\nconst RolloutSummary = ({\n  rollout,\n  numberOfCurrentPods,\n  numberOfPodsWithErrors,\n  hpa\n}) => {\n  const pauseTime = rollout.status?.pauseConditions?.find(\n    (p) => p.reason === \"CanaryPauseStep\"\n  )?.startTime;\n  const abortedMessage = findAbortedMessage(rollout);\n  const specCpuUtil = hpa?.spec?.metrics?.find(\n    (metric) => metric.type === \"Resource\" && metric.resource?.name === \"cpu\"\n  )?.resource?.target.averageUtilization;\n  const cpuUtil = hpa?.status?.currentMetrics?.find(\n    (metric) => metric.type === \"Resource\" && metric.resource?.name === \"cpu\"\n  )?.resource?.current.averageUtilization;\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { xs: 6, item: true, children: /* @__PURE__ */ jsx(RolloutDrawer, { rollout }) }),\n        hpa && /* @__PURE__ */ jsx(Grid, { item: true, xs: 3, children: /* @__PURE__ */ jsx(HorizontalPodAutoscalerDrawer, { hpa, children: /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-start\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"min replicas \",\n                hpa.spec?.minReplicas ?? \"?\",\n                \" / max replicas\",\n                \" \",\n                hpa.spec?.maxReplicas ?? \"?\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"current CPU usage: \",\n                cpuUtil ?? \"?\",\n                \"%\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle2\", children: [\n                \"target CPU usage: \",\n                specCpuUtil ?? \"?\",\n                \"%\"\n              ] }) })\n            ]\n          }\n        ) }) }),\n        /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            xs: 3,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-end\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(StatusOK, { children: [\n                numberOfCurrentPods,\n                \" pods\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: numberOfPodsWithErrors > 0 ? /* @__PURE__ */ jsxs(StatusError, { children: [\n                numberOfPodsWithErrors,\n                \" pod\",\n                numberOfPodsWithErrors > 1 ? \"s\" : \"\",\n                \" with errors\"\n              ] }) : /* @__PURE__ */ jsx(StatusOK, { children: \"No pods with errors\" }) })\n            ]\n          }\n        ),\n        pauseTime && /* @__PURE__ */ jsx(Grid, { item: true, xs: 3, children: /* @__PURE__ */ jsxs(\n          \"div\",\n          {\n            style: {\n              display: \"flex\",\n              alignItems: \"center\",\n              flexWrap: \"wrap\"\n            },\n            children: [\n              /* @__PURE__ */ jsx(PauseIcon, {}),\n              /* @__PURE__ */ jsxs(Typography, { variant: \"subtitle1\", children: [\n                \"Paused (\",\n                DateTime.fromISO(pauseTime).toRelative({ locale: \"en\" }),\n                \")\"\n              ] })\n            ]\n          }\n        ) }),\n        abortedMessage && /* @__PURE__ */ jsx(Grid, { item: true, xs: 3, children: AbortedTitle })\n      ]\n    }\n  );\n};\nconst RolloutAccordion = ({\n  rollout,\n  ownedPods,\n  matchingHpa,\n  defaultExpanded\n}) => {\n  const podNamesWithErrors = useContext(PodNamesWithErrorsContext);\n  const podsWithErrors = ownedPods.filter(\n    (p) => podNamesWithErrors.has(p.metadata?.name ?? \"\")\n  );\n  const currentStepIndex = rollout.status?.currentStepIndex ?? 0;\n  const abortedMessage = findAbortedMessage(rollout);\n  return /* @__PURE__ */ jsxs(\n    Accordion,\n    {\n      defaultExpanded,\n      TransitionProps: { unmountOnExit: true },\n      variant: \"outlined\",\n      children: [\n        /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(\n          RolloutSummary,\n          {\n            rollout,\n            numberOfCurrentPods: ownedPods.length,\n            numberOfPodsWithErrors: podsWithErrors.length,\n            hpa: matchingHpa\n          }\n        ) }),\n        /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsxs(\"div\", { style: { width: \"100%\" }, children: [\n          /* @__PURE__ */ jsx(\"div\", { children: /* @__PURE__ */ jsx(Typography, { variant: \"h6\", children: \"Rollout status\" }) }),\n          /* @__PURE__ */ jsxs(\"div\", { style: { margin: \"1rem\" }, children: [\n            abortedMessage && /* @__PURE__ */ jsxs(Fragment, { children: [\n              AbortedTitle,\n              /* @__PURE__ */ jsx(Typography, { variant: \"subtitle2\", children: abortedMessage })\n            ] }),\n            /* @__PURE__ */ jsx(\n              StepsProgress,\n              {\n                aborted: abortedMessage !== void 0,\n                steps: rollout.spec?.strategy?.canary?.steps ?? [],\n                currentStepIndex\n              }\n            )\n          ] }),\n          /* @__PURE__ */ jsx(\"div\", { children: /* @__PURE__ */ jsx(\n            PodsTable,\n            {\n              pods: ownedPods,\n              extraColumns: [READY_COLUMNS, RESOURCE_COLUMNS]\n            }\n          ) })\n        ] }) })\n      ]\n    }\n  );\n};\nconst RolloutAccordions = ({\n  rollouts,\n  defaultExpanded = false\n}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"column\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: rollouts.map((rollout, i) => /* @__PURE__ */ jsx(Grid, { container: true, item: true, xs: true, children: /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(\n        RolloutAccordion,\n        {\n          defaultExpanded,\n          matchingHpa: getMatchingHpa(\n            {\n              name: rollout.metadata?.name,\n              namespace: rollout.metadata?.namespace,\n              kind: \"rollout\"\n            },\n            groupedResponses.horizontalPodAutoscalers\n          ),\n          ownedPods: getOwnedPodsThroughReplicaSets(\n            rollout,\n            groupedResponses.replicaSets,\n            groupedResponses.pods\n          ),\n          rollout\n        }\n      ) }) }, i))\n    }\n  );\n};\n\nexport { RolloutAccordions };\n//# sourceMappingURL=Rollout.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\n\nconst capitalize = (str) => str.charAt(0).toLocaleUpperCase(\"en-US\") + str.slice(1);\nconst DefaultCustomResourceDrawer = ({\n  customResource,\n  customResourceName,\n  expanded\n}) => {\n  const capitalizedName = capitalize(customResourceName);\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: customResource,\n      expanded,\n      kind: capitalizedName,\n      renderObject: (cr) => cr,\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: customResource.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: capitalizedName }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { DefaultCustomResourceDrawer };\n//# sourceMappingURL=DefaultCustomResourceDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { DefaultCustomResourceDrawer } from './DefaultCustomResourceDrawer.esm.js';\nimport { StructuredMetadataTable } from '@backstage/core-components';\n\nconst DefaultCustomResourceSummary = ({\n  customResource,\n  customResourceName\n}) => {\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: /* @__PURE__ */ jsx(Grid, { xs: 12, item: true, children: /* @__PURE__ */ jsx(\n        DefaultCustomResourceDrawer,\n        {\n          customResource,\n          customResourceName\n        }\n      ) })\n    }\n  );\n};\nconst DefaultCustomResourceAccordion = ({\n  customResource,\n  customResourceName,\n  defaultExpanded\n}) => {\n  return /* @__PURE__ */ jsxs(\n    Accordion,\n    {\n      defaultExpanded,\n      TransitionProps: { unmountOnExit: true },\n      variant: \"outlined\",\n      children: [\n        /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(\n          DefaultCustomResourceSummary,\n          {\n            customResource,\n            customResourceName\n          }\n        ) }),\n        /* @__PURE__ */ jsx(AccordionDetails, { children: Object.prototype.hasOwnProperty.call(customResource, \"status\") && /* @__PURE__ */ jsx(\n          StructuredMetadataTable,\n          {\n            metadata: customResource.status,\n            options: { nestedValuesAsYaml: true }\n          }\n        ) })\n      ]\n    }\n  );\n};\nconst DefaultCustomResourceAccordions = ({\n  customResources,\n  customResourceName,\n  defaultExpanded = false\n}) => {\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"column\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: customResources.map((cr, i) => /* @__PURE__ */ jsx(Grid, { container: true, item: true, xs: true, children: /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(\n        DefaultCustomResourceAccordion,\n        {\n          defaultExpanded,\n          customResource: cr,\n          customResourceName\n        }\n      ) }) }, i))\n    }\n  );\n};\n\nexport { DefaultCustomResourceAccordions };\n//# sourceMappingURL=DefaultCustomResource.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport lodash from 'lodash';\nimport { RolloutAccordions } from './ArgoRollouts/Rollout.esm.js';\nimport { DefaultCustomResourceAccordions } from './DefaultCustomResource.esm.js';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\n\nconst kindToResource = (customResources) => {\n  return lodash.groupBy(customResources, (value) => {\n    return value.kind;\n  });\n};\nconst CustomResources = ({}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  const kindToResourceMap = kindToResource(groupedResponses.customResources);\n  return /* @__PURE__ */ jsx(Fragment, { children: Object.entries(kindToResourceMap).map(([kind, resources], i) => {\n    switch (kind) {\n      case \"Rollout\":\n        return /* @__PURE__ */ jsx(RolloutAccordions, { rollouts: resources }, i);\n      default:\n        return /* @__PURE__ */ jsx(\n          DefaultCustomResourceAccordions,\n          {\n            customResources: resources,\n            customResourceName: kind\n          },\n          i\n        );\n    }\n  }) });\n};\n\nexport { CustomResources };\n//# sourceMappingURL=CustomResources.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer/KubernetesStructuredMetadataTableDrawer.esm.js';\nimport '../KubernetesDrawer/KubernetesDrawer.esm.js';\nimport '@backstage/core-components';\nimport '@material-ui/core/FormControlLabel';\nimport '@material-ui/core/Switch';\nimport 'js-yaml';\nimport 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\n\nconst DaemonSetDrawer = ({\n  daemonset,\n  expanded\n}) => {\n  const namespace = daemonset.metadata?.namespace;\n  return /* @__PURE__ */ jsx(\n    KubernetesStructuredMetadataTableDrawer,\n    {\n      object: daemonset,\n      expanded,\n      kind: \"DaemonSet\",\n      renderObject: (daemonsetObj) => {\n        return {\n          updateStrategyType: daemonsetObj.spec?.updateStrategy?.type ?? \"???\",\n          minReadySeconds: daemonsetObj.spec?.minReadySeconds ?? \"???\",\n          revisionHistoryLimit: daemonsetObj.spec?.revisionHistoryLimit ?? \"???\",\n          currentNumberScheduled: daemonsetObj.status?.currentNumberScheduled ?? \"???\",\n          desiredNumberScheduled: daemonsetObj.status?.desiredNumberScheduled ?? \"???\",\n          numberAvailable: daemonsetObj.status?.numberAvailable ?? \"???\",\n          numberMisscheduled: daemonsetObj.status?.numberMisscheduled ?? \"???\",\n          numberReady: daemonsetObj.status?.numberReady ?? \"???\"\n        };\n      },\n      children: /* @__PURE__ */ jsxs(\n        Grid,\n        {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"flex-start\",\n          spacing: 0,\n          children: [\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: daemonset.metadata?.name ?? \"unknown object\" }) }),\n            /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"DaemonSet\" }) }),\n            namespace && /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Chip, { size: \"small\", label: `namespace: ${namespace}` }) })\n          ]\n        }\n      )\n    }\n  );\n};\n\nexport { DaemonSetDrawer };\n//# sourceMappingURL=DaemonSetsDrawer.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport '../Pods/PodDrawer/PodDrawer.esm.js';\nimport { StatusOK, StatusError } from '@backstage/core-components';\nimport '@material-ui/core/Card';\nimport '@material-ui/core/CardActions';\nimport '@material-ui/core/CardContent';\nimport '@material-ui/core/CardHeader';\nimport '@material-ui/core/Typography';\nimport 'luxon';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport { PodNamesWithErrorsContext } from '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport '../../hooks/Cluster.esm.js';\nimport '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport '@material-ui/icons/OpenInBrowser';\nimport '../KubernetesDialog/KubernetesDialog.esm.js';\nimport '../PodExecTerminal/PodExecTerminal.esm.js';\nimport '@material-ui/core/Paper';\nimport '@material-ui/lab/Skeleton';\nimport '@material-ui/icons/Subject';\nimport '@material-ui/core/List';\nimport '@material-ui/core/ListItem';\nimport '../Pods/FixDialog/FixDialog.esm.js';\nimport '@material-ui/core/Avatar';\nimport '@material-ui/core/Container';\nimport '@material-ui/core/ListItemAvatar';\nimport '@material-ui/core/ListItemText';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/Info';\nimport '@material-ui/icons/Warning';\nimport '../Pods/ErrorList/ErrorList.esm.js';\nimport { PodsTable, READY_COLUMNS, RESOURCE_COLUMNS } from '../Pods/PodsTable.esm.js';\nimport { DaemonSetDrawer } from './DaemonSetsDrawer.esm.js';\nimport { getOwnedResources } from '../../utils/owner.esm.js';\n\nconst DaemonSetSummary = ({\n  daemonset,\n  numberOfCurrentPods,\n  numberOfPodsWithErrors\n}) => {\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(Grid, { xs: 4, item: true, children: /* @__PURE__ */ jsx(DaemonSetDrawer, { daemonset }) }),\n        /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            xs: 4,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-end\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(StatusOK, { children: [\n                numberOfCurrentPods,\n                \" pods\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: numberOfPodsWithErrors > 0 ? /* @__PURE__ */ jsxs(StatusError, { children: [\n                numberOfPodsWithErrors,\n                \" pod\",\n                numberOfPodsWithErrors > 1 ? \"s\" : \"\",\n                \" with errors\"\n              ] }) : /* @__PURE__ */ jsx(StatusOK, { children: \"No pods with errors\" }) })\n            ]\n          }\n        )\n      ]\n    }\n  );\n};\nconst DaemonSetAccordion = ({\n  daemonset,\n  ownedPods\n}) => {\n  const podNamesWithErrors = useContext(PodNamesWithErrorsContext);\n  const podsWithErrors = ownedPods.filter(\n    (p) => podNamesWithErrors.has(p.metadata?.name ?? \"\")\n  );\n  return /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, variant: \"outlined\", children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(\n      DaemonSetSummary,\n      {\n        daemonset,\n        numberOfCurrentPods: ownedPods.length,\n        numberOfPodsWithErrors: podsWithErrors.length\n      }\n    ) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsx(\n      PodsTable,\n      {\n        pods: ownedPods,\n        extraColumns: [READY_COLUMNS, RESOURCE_COLUMNS]\n      }\n    ) })\n  ] });\n};\nconst DaemonSetsAccordions = ({}) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return /* @__PURE__ */ jsx(\n    Grid,\n    {\n      container: true,\n      direction: \"column\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      children: groupedResponses.daemonSets.map((daemonset, i) => /* @__PURE__ */ jsx(Grid, { container: true, item: true, xs: true, children: /* @__PURE__ */ jsx(Grid, { item: true, xs: true, children: /* @__PURE__ */ jsx(\n        DaemonSetAccordion,\n        {\n          ownedPods: getOwnedResources(daemonset, groupedResponses.pods),\n          daemonset\n        }\n      ) }) }, i))\n    }\n  );\n};\n\nexport { DaemonSetsAccordions };\n//# sourceMappingURL=DaemonSetsAccordions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { groupResponses } from '@backstage/plugin-kubernetes-common';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { DeploymentsAccordions } from '../DeploymentsAccordions/DeploymentsAccordions.esm.js';\nimport { StatefulSetsAccordions } from '../StatefulSetsAccordions/StatefulSetsAccordions.esm.js';\nimport { IngressesAccordions } from '../IngressesAccordions/IngressesAccordions.esm.js';\nimport { ServicesAccordions } from '../ServicesAccordions/ServicesAccordions.esm.js';\nimport { ConfigmapsAccordions } from '../ConfigmapsAccordions/ConfigmapsAccordions.esm.js';\nimport { CronJobsAccordions } from '../CronJobsAccordions/CronJobsAccordions.esm.js';\nimport { CustomResources } from '../CustomResources/CustomResources.esm.js';\nimport { DaemonSetsAccordions } from '../DaemonSetsAccordions/DaemonSetsAccordions.esm.js';\nimport '@backstage/core-plugin-api';\nimport 'react-use/esm/useAsync';\nimport '../../api/types.esm.js';\nimport 'react';\nimport 'react-use/esm/useInterval';\nimport 'react-use/esm/useAsyncRetry';\nimport '../../kubernetes-auth-provider/types.esm.js';\nimport { PodNamesWithErrorsContext } from '../../hooks/PodNamesWithErrors.esm.js';\nimport '../../hooks/PodNamesWithMetrics.esm.js';\nimport { GroupedResponsesContext } from '../../hooks/GroupedResponses.esm.js';\nimport { ClusterContext } from '../../hooks/Cluster.esm.js';\nimport { PodMetricsContext } from '../../hooks/usePodMetrics.esm.js';\nimport '../../hooks/useMatchingErrors.esm.js';\nimport { StatusOK, StatusError } from '@backstage/core-components';\n\nconst ClusterSummary = ({\n  clusterName,\n  totalNumberOfPods,\n  numberOfPodsWithErrors\n}) => {\n  return /* @__PURE__ */ jsxs(\n    Grid,\n    {\n      container: true,\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"flex-start\",\n      spacing: 0,\n      children: [\n        /* @__PURE__ */ jsx(\n          Grid,\n          {\n            xs: 6,\n            item: true,\n            container: true,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-start\",\n            spacing: 0,\n            children: /* @__PURE__ */ jsxs(Grid, { item: true, xs: true, children: [\n              /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: clusterName }),\n              /* @__PURE__ */ jsx(Typography, { color: \"textSecondary\", variant: \"subtitle1\", children: \"Cluster\" })\n            ] })\n          }\n        ),\n        /* @__PURE__ */ jsxs(\n          Grid,\n          {\n            item: true,\n            container: true,\n            xs: 3,\n            direction: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-end\",\n            spacing: 0,\n            children: [\n              /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsxs(StatusOK, { children: [\n                totalNumberOfPods,\n                \" pods\"\n              ] }) }),\n              /* @__PURE__ */ jsx(Grid, { item: true, children: numberOfPodsWithErrors > 0 ? /* @__PURE__ */ jsxs(StatusError, { children: [\n                numberOfPodsWithErrors,\n                \" pods with errors\"\n              ] }) : /* @__PURE__ */ jsx(StatusOK, { children: \"No pods with errors\" }) })\n            ]\n          }\n        )\n      ]\n    }\n  );\n};\nconst Cluster = ({ clusterObjects, podsWithErrors }) => {\n  const groupedResponses = groupResponses(clusterObjects.resources);\n  const podMetricsMap = /* @__PURE__ */ new Map();\n  podMetricsMap.set(clusterObjects.cluster.name, clusterObjects.podMetrics);\n  return /* @__PURE__ */ jsx(ClusterContext.Provider, { value: clusterObjects.cluster, children: /* @__PURE__ */ jsx(GroupedResponsesContext.Provider, { value: groupedResponses, children: /* @__PURE__ */ jsx(PodMetricsContext.Provider, { value: podMetricsMap, children: /* @__PURE__ */ jsx(PodNamesWithErrorsContext.Provider, { value: podsWithErrors, children: /* @__PURE__ */ jsxs(Accordion, { TransitionProps: { unmountOnExit: true }, children: [\n    /* @__PURE__ */ jsx(AccordionSummary, { expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, {}), children: /* @__PURE__ */ jsx(\n      ClusterSummary,\n      {\n        clusterName: clusterObjects.cluster.title || clusterObjects.cluster.name,\n        totalNumberOfPods: groupedResponses.pods.length,\n        numberOfPodsWithErrors: podsWithErrors.size\n      }\n    ) }),\n    /* @__PURE__ */ jsx(AccordionDetails, { children: /* @__PURE__ */ jsxs(Grid, { container: true, direction: \"column\", children: [\n      groupedResponses.customResources.length > 0 ? /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(CustomResources, {}) }) : void 0,\n      groupedResponses.deployments.length > 0 ? /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(DeploymentsAccordions, {}) }) : void 0,\n      groupedResponses.daemonSets.length > 0 ? /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(DaemonSetsAccordions, {}) }) : void 0,\n      groupedResponses.statefulsets.length > 0 ? /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(StatefulSetsAccordions, {}) }) : void 0,\n      groupedResponses.ingresses.length > 0 ? /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(IngressesAccordions, {}) }) : void 0,\n      groupedResponses.services.length > 0 ? /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(ServicesAccordions, {}) }) : void 0,\n      groupedResponses.configMaps.length > 0 ? /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(ConfigmapsAccordions, {}) }) : void 0,\n      groupedResponses.cronJobs.length > 0 ? /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(CronJobsAccordions, {}) }) : void 0\n    ] }) })\n  ] }) }) }) }) });\n};\n\nexport { Cluster };\n//# sourceMappingURL=Cluster.esm.js.map\n","const detectErrorsInObjects = (objects, errorMappers) => {\n  return objects.flatMap((o) => {\n    return errorMappers.flatMap((em) => em.detectErrors(o));\n  });\n};\n\nexport { detectErrorsInObjects };\n//# sourceMappingURL=common.esm.js.map\n","import { detectErrorsInObjects } from './common.esm.js';\nimport lodash from 'lodash';\nimport { DateTime } from 'luxon';\n\nfunction isPodReadinessProbeUnready({\n  container,\n  containerStatus\n}) {\n  if (containerStatus.ready || containerStatus.state?.running?.startedAt === void 0 || !container.readinessProbe) {\n    return false;\n  }\n  const startDateTime = DateTime.fromISO(\n    containerStatus.state?.running?.startedAt\n  ).plus({\n    seconds: container.readinessProbe?.initialDelaySeconds ?? 0\n  }).plus({\n    seconds: (container.readinessProbe?.periodSeconds ?? 0) * (container.readinessProbe?.failureThreshold ?? 0)\n  });\n  return startDateTime < DateTime.now();\n}\nconst podToContainerSpecsAndStatuses = (pod) => {\n  const specs = lodash.groupBy(pod.spec?.containers ?? [], (value) => value.name);\n  const result = [];\n  for (const cs of pod.status?.containerStatuses ?? []) {\n    const spec = specs[cs.name];\n    if (spec.length > 0) {\n      result.push({\n        container: spec[0],\n        containerStatus: cs\n      });\n    }\n  }\n  return result;\n};\nconst readinessProbeProposedFixes = (pod) => {\n  const firstUnreadyContainerStatus = pod.status?.containerStatuses?.find(\n    (cs) => {\n      return cs.ready === false;\n    }\n  );\n  return {\n    errorType: \"ReadinessProbeFailed\",\n    rootCauseExplanation: `The container ${firstUnreadyContainerStatus?.name} failed to start properly, but is not crashing`,\n    actions: [\n      \"Ensure that the container starts correctly locally\",\n      \"Check the container's logs looking for error during startup\"\n    ],\n    type: \"events\",\n    podName: pod.metadata?.name ?? \"\"\n  };\n};\nconst restartingPodProposedFixes = (pod) => {\n  const lastTerminatedCs = (pod.status?.containerStatuses ?? []).find(\n    (cs) => cs.lastState?.terminated !== void 0\n  );\n  const lastTerminated = lastTerminatedCs?.lastState?.terminated;\n  if (!lastTerminated) {\n    return void 0;\n  }\n  switch (lastTerminated?.reason) {\n    case \"Unknown\":\n      return {\n        // TODO check this one, it's more likely a cluster issue\n        errorType: \"Unknown\",\n        rootCauseExplanation: `This container has exited with a non-zero exit code (${lastTerminated.exitCode})`,\n        actions: [\"Check the crash logs for stacktraces\"],\n        container: lastTerminatedCs.name,\n        type: \"logs\"\n      };\n    case \"Error\":\n      return {\n        errorType: \"Error\",\n        rootCauseExplanation: `This container has exited with a non-zero exit code (${lastTerminated.exitCode})`,\n        actions: [\"Check the crash logs for stacktraces\"],\n        container: lastTerminatedCs.name,\n        type: \"logs\"\n      };\n    case \"OOMKilled\":\n      return {\n        errorType: \"OOMKilled\",\n        rootCauseExplanation: `The container \"${lastTerminatedCs.name}\" has crashed because it has tried to use more memory that it has been allocated`,\n        actions: [\n          `Increase the amount of memory assigned to the container`,\n          \"Ensure the application is memory bounded and is not trying to consume too much memory\"\n        ],\n        docsLink: \"https://kubernetes.io/docs/tasks/configure-pod-container/assign-memory-resource/#exceed-a-container-s-memory-limit\",\n        type: \"docs\"\n      };\n    default:\n      return void 0;\n  }\n};\nconst waitingProposedFix = (pod) => {\n  const waitingCs = (pod.status?.containerStatuses ?? []).find(\n    (cs) => cs.state?.waiting !== void 0\n  );\n  const waiting = (pod.status?.containerStatuses ?? []).map((cs) => cs.state?.waiting).find((w) => w?.reason !== void 0);\n  switch (waiting?.reason) {\n    case \"InvalidImageName\":\n      return {\n        errorType: \"InvalidImageName\",\n        rootCauseExplanation: \"The image in the pod is invalid\",\n        actions: [\"Ensure the image name is correct and valid image name\"],\n        type: \"docs\",\n        docsLink: \"https://docs.docker.com/engine/reference/commandline/tag/#extended-description\"\n      };\n    case \"ImagePullBackOff\":\n      return {\n        errorType: \"ImagePullBackOff\",\n        rootCauseExplanation: \"The image either could not be found or Kubernetes does not have permission to pull it\",\n        actions: [\n          \"Ensure the image name is correct\",\n          \"Ensure Kubernetes has permission to pull this image\"\n        ],\n        type: \"docs\",\n        docsLink: \"https://kubernetes.io/docs/concepts/containers/images/#imagepullbackoff\"\n      };\n    case \"CrashLoopBackOff\":\n      return {\n        errorType: \"CrashLoopBackOff\",\n        rootCauseExplanation: `The container ${waitingCs?.name} has crashed many times, it will be exponentially restarted until it stops crashing`,\n        actions: [\"Check the crash logs for stacktraces\"],\n        type: \"logs\",\n        container: waitingCs?.name ?? \"unknown\"\n      };\n    case \"CreateContainerConfigError\":\n      return {\n        errorType: \"CreateContainerConfigError\",\n        rootCauseExplanation: \"There is missing or mismatching configuration required to start the container\",\n        actions: [\n          \"Ensure ConfigMaps references in the Deployment manifest are correct and the keys exist\",\n          \"Ensure Secrets references in the Deployment manifest are correct and the keys exist\"\n        ],\n        type: \"docs\",\n        docsLink: \"https://kubernetes.io/docs/tasks/configure-pod-container/configure-pod-configmap/\"\n      };\n    default:\n      return void 0;\n  }\n};\nconst podErrorMappers = [\n  {\n    detectErrors: (pod) => {\n      return podToContainerSpecsAndStatuses(pod).filter(isPodReadinessProbeUnready).map((cs) => ({\n        type: \"readiness-probe-taking-too-long\",\n        message: `The container ${cs.container.name} failed to start properly, but is not crashing`,\n        severity: 4,\n        proposedFix: readinessProbeProposedFixes(pod),\n        sourceRef: {\n          name: pod.metadata?.name ?? \"unknown pod\",\n          namespace: pod.metadata?.namespace ?? \"unknown namespace\",\n          kind: \"Pod\",\n          apiGroup: \"v1\"\n        },\n        occurrenceCount: 1\n      }));\n    }\n  },\n  {\n    detectErrors: (pod) => {\n      return (pod.status?.containerStatuses ?? []).filter((cs) => cs.state?.waiting?.message !== void 0).map((cs) => ({\n        type: \"container-waiting\",\n        message: cs.state?.waiting?.message ?? \"container waiting\",\n        severity: 4,\n        proposedFix: waitingProposedFix(pod),\n        sourceRef: {\n          name: pod.metadata?.name ?? \"unknown pod\",\n          namespace: pod.metadata?.namespace ?? \"unknown namespace\",\n          kind: \"Pod\",\n          apiGroup: \"v1\"\n        },\n        occurrenceCount: 1\n      }));\n    }\n  },\n  {\n    detectErrors: (pod) => {\n      return (pod.status?.containerStatuses ?? []).filter((cs) => cs.restartCount > 0).map((cs) => ({\n        type: \"containers-restarting\",\n        message: `container=${cs.name} restarted ${cs.restartCount} times`,\n        severity: 4,\n        proposedFix: restartingPodProposedFixes(pod),\n        sourceRef: {\n          name: pod.metadata?.name ?? \"unknown pod\",\n          namespace: pod.metadata?.namespace ?? \"unknown namespace\",\n          kind: \"Pod\",\n          apiGroup: \"v1\"\n        },\n        occurrenceCount: cs.restartCount\n      }));\n    }\n  }\n];\nconst detectErrorsInPods = (pods) => detectErrorsInObjects(pods, podErrorMappers);\n\nexport { detectErrorsInPods };\n//# sourceMappingURL=pods.esm.js.map\n","import { detectErrorsInObjects } from './common.esm.js';\n\nconst deploymentErrorMappers = [\n  {\n    detectErrors: (deployment) => {\n      return (deployment.status?.conditions ?? []).filter((c) => c.status === \"False\").filter((c) => c.message !== void 0).map((c) => ({\n        type: \"condition-message-present\",\n        message: c.message ?? \"\",\n        severity: 6,\n        sourceRef: {\n          name: deployment.metadata?.name ?? \"unknown hpa\",\n          namespace: deployment.metadata?.namespace ?? \"unknown namespace\",\n          kind: \"Deployment\",\n          apiGroup: \"apps/v1\"\n        },\n        occurrenceCount: 1\n      }));\n    }\n  }\n];\nconst detectErrorsInDeployments = (deployments) => detectErrorsInObjects(deployments, deploymentErrorMappers);\n\nexport { detectErrorsInDeployments };\n//# sourceMappingURL=deployments.esm.js.map\n","import { detectErrorsInObjects } from './common.esm.js';\n\nconst hpaErrorMappers = [\n  {\n    detectErrors: (hpa) => {\n      if ((hpa.spec?.maxReplicas ?? -1) === hpa.status?.currentReplicas) {\n        return [\n          {\n            type: \"hpa-max-current-replicas\",\n            message: `Current number of replicas (${hpa.status?.currentReplicas}) is equal to the configured max number of replicas (${hpa.spec?.maxReplicas ?? -1})`,\n            severity: 8,\n            sourceRef: {\n              name: hpa.metadata?.name ?? \"unknown hpa\",\n              namespace: hpa.metadata?.namespace ?? \"unknown namespace\",\n              kind: \"HorizontalPodAutoscaler\",\n              apiGroup: \"autoscaling/v2\"\n            },\n            occurrenceCount: 1\n          }\n        ];\n      }\n      return [];\n    }\n  }\n];\nconst detectErrorsInHpa = (hpas) => detectErrorsInObjects(hpas, hpaErrorMappers);\n\nexport { detectErrorsInHpa };\n//# sourceMappingURL=hpas.esm.js.map\n","import { createPermission } from '@backstage/plugin-permission-common';\n\nconst kubernetesProxyPermission = createPermission({\n  name: \"kubernetes.proxy\",\n  attributes: {}\n});\nconst kubernetesResourcesReadPermission = createPermission({\n  name: \"kubernetes.resources.read\",\n  attributes: {\n    action: \"read\"\n  }\n});\nconst kubernetesClustersReadPermission = createPermission({\n  name: \"kubernetes.clusters.read\",\n  attributes: {\n    action: \"read\"\n  }\n});\nconst kubernetesPermissions = [\n  kubernetesProxyPermission,\n  kubernetesResourcesReadPermission,\n  kubernetesClustersReadPermission\n];\n\nexport { kubernetesClustersReadPermission, kubernetesPermissions, kubernetesProxyPermission, kubernetesResourcesReadPermission };\n//# sourceMappingURL=permissions.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst kubernetesTranslationRef = createTranslationRef({\n  id: \"kubernetes\",\n  messages: {\n    kubernetesContentPage: {\n      permissionAlert: {\n        title: \"Permission required\",\n        message: \"To view Kubernetes objects, contact your portal administrator to give you the 'kubernetes.clusters.read' and 'kubernetes.resources.read' permission.\"\n      }\n    }\n  }\n});\n\nexport { kubernetesTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { kubernetesClustersReadPermission, kubernetesResourcesReadPermission } from '@backstage/plugin-kubernetes-common';\nimport { usePermission } from '@backstage/plugin-permission-react';\nimport { WarningPanel } from '@backstage/core-components';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { kubernetesTranslationRef } from './alpha/translation.esm.js';\n\nfunction RequireKubernetesPermissions(props) {\n  const kubernetesClustersPermissionResult = usePermission({\n    permission: kubernetesClustersReadPermission\n  });\n  const kubernetesResourcesPermissionResult = usePermission({\n    permission: kubernetesResourcesReadPermission\n  });\n  const { t } = useTranslationRef(kubernetesTranslationRef);\n  if (kubernetesClustersPermissionResult.loading || kubernetesResourcesPermissionResult.loading) {\n    return null;\n  }\n  if (kubernetesClustersPermissionResult.allowed && kubernetesResourcesPermissionResult.allowed) {\n    return /* @__PURE__ */ jsx(Fragment, { children: props.children });\n  }\n  return /* @__PURE__ */ jsx(\n    WarningPanel,\n    {\n      title: t(\"kubernetesContentPage.permissionAlert.title\"),\n      message: t(\"kubernetesContentPage.permissionAlert.message\")\n    }\n  );\n}\n\nexport { RequireKubernetesPermissions };\n//# sourceMappingURL=RequireKubernetesPermissions.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { useKubernetesObjects, DetectedErrorsContext, ErrorPanel, ErrorReporting, Cluster } from '@backstage/plugin-kubernetes-react';\nimport { detectErrors } from '@backstage/plugin-kubernetes-common';\nimport { Progress, EmptyState } from '@backstage/core-components';\nimport { RequireKubernetesPermissions } from './RequireKubernetesPermissions.esm.js';\n\nconst KubernetesContent = ({\n  entity,\n  refreshIntervalMs\n}) => {\n  const { kubernetesObjects, error } = useKubernetesObjects(\n    entity,\n    refreshIntervalMs\n  );\n  const clusters = kubernetesObjects?.items.map((item) => item.cluster) ?? [];\n  const clustersWithErrors = kubernetesObjects?.items.filter((r) => r.errors.length > 0) ?? [];\n  const detectedErrors = kubernetesObjects !== void 0 ? detectErrors(kubernetesObjects) : /* @__PURE__ */ new Map();\n  return /* @__PURE__ */ jsx(RequireKubernetesPermissions, { children: /* @__PURE__ */ jsxs(\n    DetectedErrorsContext.Provider,\n    {\n      value: [...detectedErrors.values()].flat(),\n      children: [\n        kubernetesObjects === void 0 && error === void 0 && /* @__PURE__ */ jsx(Progress, {}),\n        clustersWithErrors.length > 0 && /* @__PURE__ */ jsx(Grid, { container: true, spacing: 3, direction: \"column\", children: /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(\n          ErrorPanel,\n          {\n            entityName: entity.metadata.name,\n            clustersWithErrors\n          }\n        ) }) }),\n        error !== void 0 && /* @__PURE__ */ jsx(Grid, { container: true, spacing: 3, direction: \"column\", children: /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(\n          ErrorPanel,\n          {\n            entityName: entity.metadata.name,\n            errorMessage: error\n          }\n        ) }) }),\n        kubernetesObjects && /* @__PURE__ */ jsxs(Grid, { container: true, spacing: 3, direction: \"column\", children: [\n          /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(\n            ErrorReporting,\n            {\n              detectedErrors,\n              clusters\n            }\n          ) }),\n          /* @__PURE__ */ jsx(Grid, { item: true, children: /* @__PURE__ */ jsx(Typography, { variant: \"h3\", children: \"Your Clusters\" }) }),\n          /* @__PURE__ */ jsxs(Grid, { item: true, container: true, children: [\n            kubernetesObjects?.items.length <= 0 && /* @__PURE__ */ jsx(\n              Grid,\n              {\n                container: true,\n                justifyContent: \"space-around\",\n                direction: \"row\",\n                alignItems: \"center\",\n                spacing: 2,\n                children: /* @__PURE__ */ jsx(Grid, { item: true, xs: 8, children: /* @__PURE__ */ jsx(\n                  EmptyState,\n                  {\n                    missing: \"data\",\n                    title: \"No Kubernetes resources\",\n                    description: `No resources on any known clusters for ${entity.metadata.name}`\n                  }\n                ) })\n              }\n            ),\n            kubernetesObjects?.items.length > 0 && kubernetesObjects?.items.map((item, i) => {\n              const podsWithErrors = new Set(\n                detectedErrors.get(item.cluster.name)?.filter((de) => de.sourceRef.kind === \"Pod\").map((de) => de.sourceRef.name)\n              );\n              return /* @__PURE__ */ jsx(Grid, { item: true, xs: 12, children: /* @__PURE__ */ jsx(\n                Cluster,\n                {\n                  clusterObjects: item,\n                  podsWithErrors\n                }\n              ) }, i);\n            })\n          ] })\n        ] })\n      ]\n    }\n  ) });\n};\n\nexport { KubernetesContent };\n//# sourceMappingURL=KubernetesContent.esm.js.map\n","import { useCallback } from 'react';\nimport useInterval from 'react-use/esm/useInterval';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { generateAuth } from './auth.esm.js';\nimport useAsyncRetry from 'react-use/esm/useAsyncRetry';\nimport { kubernetesAuthProvidersApiRef } from '../kubernetes-auth-provider/types.esm.js';\nimport { kubernetesApiRef } from '../api/types.esm.js';\n\nconst useKubernetesObjects = (entity, intervalMs = 1e4) => {\n  const kubernetesApi = useApi(kubernetesApiRef);\n  const kubernetesAuthProvidersApi = useApi(kubernetesAuthProvidersApiRef);\n  const getObjects = useCallback(async () => {\n    const auth = await generateAuth(\n      entity,\n      kubernetesApi,\n      kubernetesAuthProvidersApi\n    );\n    return await kubernetesApi.getObjectsByEntity({\n      auth,\n      entity\n    });\n  }, [kubernetesApi, entity, kubernetesAuthProvidersApi]);\n  const { value, loading, error, retry } = useAsyncRetry(\n    () => getObjects(),\n    [getObjects]\n  );\n  useInterval(() => retry(), intervalMs);\n  return {\n    kubernetesObjects: value,\n    loading,\n    error: error?.message\n  };\n};\n\nexport { useKubernetesObjects };\n//# sourceMappingURL=useKubernetesObjects.esm.js.map\n","import { groupResponses } from '../util/response.esm.js';\nimport { detectErrorsInPods } from './pods.esm.js';\nimport { detectErrorsInDeployments } from './deployments.esm.js';\nimport { detectErrorsInHpa } from './hpas.esm.js';\n\nconst detectErrors = (objects) => {\n  const errors = /* @__PURE__ */ new Map();\n  for (const clusterResponse of objects.items) {\n    let clusterErrors = [];\n    const groupedResponses = groupResponses(clusterResponse.resources);\n    clusterErrors = clusterErrors.concat(\n      detectErrorsInPods(groupedResponses.pods)\n    );\n    clusterErrors = clusterErrors.concat(\n      detectErrorsInDeployments(groupedResponses.deployments)\n    );\n    clusterErrors = clusterErrors.concat(\n      detectErrorsInHpa(\n        groupedResponses.horizontalPodAutoscalers\n      )\n    );\n    errors.set(clusterResponse.cluster.name, clusterErrors);\n  }\n  return errors;\n};\n\nexport { detectErrors };\n//# sourceMappingURL=error-detection.esm.js.map\n","const KUBERNETES_ANNOTATION = \"backstage.io/kubernetes-id\";\nconst KUBERNETES_LABEL_SELECTOR_QUERY_ANNOTATION = \"backstage.io/kubernetes-label-selector\";\nconst ANNOTATION_KUBERNETES_API_SERVER = \"kubernetes.io/api-server\";\nconst ANNOTATION_KUBERNETES_API_SERVER_CA = \"kubernetes.io/api-server-certificate-authority\";\nconst ANNOTATION_KUBERNETES_AUTH_PROVIDER = \"kubernetes.io/auth-provider\";\nconst ANNOTATION_KUBERNETES_OIDC_TOKEN_PROVIDER = \"kubernetes.io/oidc-token-provider\";\nconst ANNOTATION_KUBERNETES_SKIP_METRICS_LOOKUP = \"kubernetes.io/skip-metrics-lookup\";\nconst ANNOTATION_KUBERNETES_SKIP_TLS_VERIFY = \"kubernetes.io/skip-tls-verify\";\nconst ANNOTATION_KUBERNETES_DASHBOARD_URL = \"kubernetes.io/dashboard-url\";\nconst ANNOTATION_KUBERNETES_DASHBOARD_APP = \"kubernetes.io/dashboard-app\";\nconst ANNOTATION_KUBERNETES_DASHBOARD_PARAMETERS = \"kubernetes.io/dashboard-parameters\";\nconst ANNOTATION_KUBERNETES_AWS_ASSUME_ROLE = \"kubernetes.io/aws-assume-role\";\nconst ANNOTATION_KUBERNETES_AWS_CLUSTER_ID = \"kubernetes.io/x-k8s-aws-id\";\nconst ANNOTATION_KUBERNETES_AWS_EXTERNAL_ID = \"kubernetes.io/aws-external-id\";\n\nexport { ANNOTATION_KUBERNETES_API_SERVER, ANNOTATION_KUBERNETES_API_SERVER_CA, ANNOTATION_KUBERNETES_AUTH_PROVIDER, ANNOTATION_KUBERNETES_AWS_ASSUME_ROLE, ANNOTATION_KUBERNETES_AWS_CLUSTER_ID, ANNOTATION_KUBERNETES_AWS_EXTERNAL_ID, ANNOTATION_KUBERNETES_DASHBOARD_APP, ANNOTATION_KUBERNETES_DASHBOARD_PARAMETERS, ANNOTATION_KUBERNETES_DASHBOARD_URL, ANNOTATION_KUBERNETES_OIDC_TOKEN_PROVIDER, ANNOTATION_KUBERNETES_SKIP_METRICS_LOOKUP, ANNOTATION_KUBERNETES_SKIP_TLS_VERIFY, KUBERNETES_ANNOTATION, KUBERNETES_LABEL_SELECTOR_QUERY_ANNOTATION };\n//# sourceMappingURL=catalog-entity-constants.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { useEntity, MissingAnnotationEmptyState } from '@backstage/plugin-catalog-react';\nimport { Routes, Route } from 'react-router-dom';\nimport { KubernetesContent } from './KubernetesContent.esm.js';\nimport Button from '@material-ui/core/Button';\nimport { KUBERNETES_ANNOTATION, KUBERNETES_LABEL_SELECTOR_QUERY_ANNOTATION } from '@backstage/plugin-kubernetes-common';\n\nconst isKubernetesAvailable = (entity) => Boolean(entity.metadata.annotations?.[KUBERNETES_ANNOTATION]) || Boolean(\n  entity.metadata.annotations?.[KUBERNETES_LABEL_SELECTOR_QUERY_ANNOTATION]\n);\nconst Router = (props) => {\n  const { entity } = useEntity();\n  const kubernetesAnnotationValue = entity.metadata.annotations?.[KUBERNETES_ANNOTATION];\n  const kubernetesLabelSelectorQueryAnnotationValue = entity.metadata.annotations?.[KUBERNETES_LABEL_SELECTOR_QUERY_ANNOTATION];\n  if (kubernetesAnnotationValue || kubernetesLabelSelectorQueryAnnotationValue) {\n    return /* @__PURE__ */ jsx(Routes, { children: /* @__PURE__ */ jsx(\n      Route,\n      {\n        path: \"/\",\n        element: /* @__PURE__ */ jsx(\n          KubernetesContent,\n          {\n            entity,\n            refreshIntervalMs: props.refreshIntervalMs\n          }\n        )\n      }\n    ) });\n  }\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(MissingAnnotationEmptyState, { annotation: KUBERNETES_ANNOTATION }),\n    /* @__PURE__ */ jsx(\"h1\", { children: \"Or use a label selector query, which takes precedence over the previous annotation.\" }),\n    /* @__PURE__ */ jsx(\n      Button,\n      {\n        variant: \"contained\",\n        color: \"primary\",\n        href: \"https://backstage.io/docs/features/kubernetes/configuration#surfacing-your-kubernetes-components-as-part-of-an-entity\",\n        children: \"Read Kubernetes Plugin Docs\"\n      }\n    )\n  ] });\n};\n\nexport { Router, isKubernetesAvailable };\n//# sourceMappingURL=Router.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { NotFoundError } from '@backstage/errors';\n\nclass KubernetesBackendClient {\n  discoveryApi;\n  fetchApi;\n  kubernetesAuthProvidersApi;\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi;\n    this.kubernetesAuthProvidersApi = options.kubernetesAuthProvidersApi;\n  }\n  async handleResponse(response) {\n    if (!response.ok) {\n      const payload = await response.text();\n      let message;\n      switch (response.status) {\n        case 404:\n          message = \"Could not find the Kubernetes Backend (HTTP 404). Make sure the plugin has been fully installed.\";\n          break;\n        default:\n          message = `Request failed with ${response.status} ${response.statusText}, ${payload}`;\n      }\n      throw new Error(message);\n    }\n    return await response.json();\n  }\n  async postRequired(path, requestBody) {\n    const url = `${await this.discoveryApi.getBaseUrl(\"kubernetes\")}${path}`;\n    const response = await this.fetchApi.fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(requestBody)\n    });\n    return this.handleResponse(response);\n  }\n  async getCluster(clusterName) {\n    const cluster = await this.getClusters().then(\n      (clusters) => clusters.find((c) => c.name === clusterName)\n    );\n    if (!cluster) {\n      throw new NotFoundError(`Cluster ${clusterName} not found`);\n    }\n    return cluster;\n  }\n  async getCredentials(authProvider, oidcTokenProvider) {\n    return await this.kubernetesAuthProvidersApi.getCredentials(\n      authProvider === \"oidc\" ? `${authProvider}.${oidcTokenProvider}` : authProvider\n    );\n  }\n  async getObjectsByEntity(requestBody) {\n    return await this.postRequired(\n      `/services/${requestBody.entity.metadata.name}`,\n      requestBody\n    );\n  }\n  async getWorkloadsByEntity(request) {\n    return await this.postRequired(\"/resources/workloads/query\", {\n      auth: request.auth,\n      entityRef: stringifyEntityRef(request.entity)\n    });\n  }\n  async getCustomObjectsByEntity(request) {\n    return await this.postRequired(`/resources/custom/query`, {\n      entityRef: stringifyEntityRef(request.entity),\n      auth: request.auth,\n      customResources: request.customResources\n    });\n  }\n  async getClusters() {\n    const url = `${await this.discoveryApi.getBaseUrl(\"kubernetes\")}/clusters`;\n    const response = await this.fetchApi.fetch(url);\n    return (await this.handleResponse(response)).items;\n  }\n  async proxy(options) {\n    const { authProvider, oidcTokenProvider } = await this.getCluster(\n      options.clusterName\n    );\n    const kubernetesCredentials = await this.getCredentials(\n      authProvider,\n      oidcTokenProvider\n    );\n    const url = `${await this.discoveryApi.getBaseUrl(\"kubernetes\")}/proxy${options.path}`;\n    const headers = KubernetesBackendClient.getKubernetesHeaders(\n      options,\n      kubernetesCredentials?.token,\n      authProvider,\n      oidcTokenProvider\n    );\n    return await this.fetchApi.fetch(url, { ...options.init, headers });\n  }\n  static getKubernetesHeaders(options, k8sToken, authProvider, oidcTokenProvider) {\n    const kubernetesAuthHeader = KubernetesBackendClient.getKubernetesAuthHeaderByAuthProvider(\n      authProvider,\n      oidcTokenProvider\n    );\n    return {\n      ...options.init?.headers,\n      [`Backstage-Kubernetes-Cluster`]: options.clusterName,\n      ...k8sToken && {\n        [kubernetesAuthHeader]: k8sToken\n      }\n    };\n  }\n  static getKubernetesAuthHeaderByAuthProvider(authProvider, oidcTokenProvider) {\n    let header = \"Backstage-Kubernetes-Authorization\";\n    header = header.concat(\"-\", authProvider);\n    if (oidcTokenProvider) header = header.concat(\"-\", oidcTokenProvider);\n    return header;\n  }\n}\n\nexport { KubernetesBackendClient };\n//# sourceMappingURL=KubernetesBackendClient.esm.js.map\n","class KubernetesProxyClient {\n  kubernetesApi;\n  constructor(options) {\n    this.kubernetesApi = options.kubernetesApi;\n  }\n  async handleText(response) {\n    if (!response.ok) {\n      const payload = await response.text();\n      let message;\n      switch (response.status) {\n        default:\n          message = `Proxy request failed with ${response.status} ${response.statusText}, ${payload}`;\n      }\n      throw new Error(message);\n    }\n    return await response.text();\n  }\n  async handleJson(response) {\n    if (!response.ok) {\n      const payload = await response.text();\n      let message = `Request failed with ${response.status} ${response.statusText}, ${payload}`;\n      switch (response.status) {\n        case 404:\n          message = `Proxy request failed with ${response.status} ${response.statusText}, ${payload}`;\n          break;\n        default:\n          message = `Request failed with ${response.status} ${response.statusText}, ${payload}`;\n      }\n      throw new Error(message);\n    }\n    return await response.json();\n  }\n  async getEventsByInvolvedObjectName({\n    clusterName,\n    involvedObjectName,\n    namespace\n  }) {\n    return await this.kubernetesApi.proxy({\n      clusterName,\n      path: `/api/v1/namespaces/${namespace}/events?fieldSelector=involvedObject.name=${involvedObjectName}`,\n      init: {\n        method: \"GET\"\n      }\n    }).then((response) => this.handleJson(response)).then((eventList) => eventList.items);\n  }\n  async getPodLogs({\n    podName,\n    namespace,\n    clusterName,\n    containerName,\n    previous\n  }) {\n    const params = new URLSearchParams({\n      container: containerName\n    });\n    if (previous) {\n      params.append(\"previous\", \"\");\n    }\n    return await this.kubernetesApi.proxy({\n      clusterName,\n      path: `/api/v1/namespaces/${namespace}/pods/${podName}/log?${params.toString()}`,\n      init: {\n        method: \"GET\"\n      }\n    }).then((response) => this.handleText(response)).then((text) => ({ text }));\n  }\n  async deletePod({\n    podName,\n    namespace,\n    clusterName\n  }) {\n    return await this.kubernetesApi.proxy({\n      clusterName,\n      path: `/api/v1/namespaces/${namespace}/pods/${podName}`,\n      init: {\n        method: \"DELETE\"\n      }\n    }).then((response) => this.handleText(response)).then((text) => ({ text }));\n  }\n}\n\nexport { KubernetesProxyClient };\n//# sourceMappingURL=KubernetesProxyClient.esm.js.map\n","class GoogleKubernetesAuthProvider {\n  authProvider;\n  constructor(authProvider) {\n    this.authProvider = authProvider;\n  }\n  async decorateRequestBodyForAuth(requestBody) {\n    const googleAuthToken = (await this.getCredentials()).token;\n    if (\"auth\" in requestBody) {\n      requestBody.auth.google = googleAuthToken;\n    } else {\n      requestBody.auth = { google: googleAuthToken };\n    }\n    return requestBody;\n  }\n  async getCredentials() {\n    return {\n      token: await this.authProvider.getAccessToken(\n        \"https://www.googleapis.com/auth/cloud-platform.read-only\"\n      )\n    };\n  }\n}\n\nexport { GoogleKubernetesAuthProvider };\n//# sourceMappingURL=GoogleKubernetesAuthProvider.esm.js.map\n","class ServerSideKubernetesAuthProvider {\n  async decorateRequestBodyForAuth(requestBody) {\n    return requestBody;\n  }\n  async getCredentials() {\n    return {};\n  }\n}\n\nexport { ServerSideKubernetesAuthProvider };\n//# sourceMappingURL=ServerSideAuthProvider.esm.js.map\n","class OidcKubernetesAuthProvider {\n  providerName;\n  authProvider;\n  constructor(providerName, authProvider) {\n    this.providerName = providerName;\n    this.authProvider = authProvider;\n  }\n  async decorateRequestBodyForAuth(requestBody) {\n    const authToken = (await this.getCredentials()).token;\n    const auth = { ...requestBody.auth };\n    if (auth.oidc) {\n      auth.oidc[this.providerName] = authToken;\n    } else {\n      auth.oidc = { [this.providerName]: authToken };\n    }\n    requestBody.auth = auth;\n    return requestBody;\n  }\n  async getCredentials() {\n    return {\n      token: await this.authProvider.getIdToken()\n    };\n  }\n}\n\nexport { OidcKubernetesAuthProvider };\n//# sourceMappingURL=OidcKubernetesAuthProvider.esm.js.map\n","class AksKubernetesAuthProvider {\n  microsoftAuthApi;\n  constructor(microsoftAuthApi) {\n    this.microsoftAuthApi = microsoftAuthApi;\n  }\n  async decorateRequestBodyForAuth(requestBody) {\n    return {\n      ...requestBody,\n      auth: { ...requestBody.auth, aks: (await this.getCredentials()).token }\n    };\n  }\n  async getCredentials() {\n    return {\n      token: await this.microsoftAuthApi.getAccessToken(\n        \"6dae42f8-4368-4678-94ff-3960e28e3630/user.read\"\n      )\n    };\n  }\n}\n\nexport { AksKubernetesAuthProvider };\n//# sourceMappingURL=AksKubernetesAuthProvider.esm.js.map\n","import { GoogleKubernetesAuthProvider } from './GoogleKubernetesAuthProvider.esm.js';\nimport { ServerSideKubernetesAuthProvider } from './ServerSideAuthProvider.esm.js';\nimport { OidcKubernetesAuthProvider } from './OidcKubernetesAuthProvider.esm.js';\nimport { AksKubernetesAuthProvider } from './AksKubernetesAuthProvider.esm.js';\n\nclass KubernetesAuthProviders {\n  kubernetesAuthProviderMap;\n  constructor(options) {\n    this.kubernetesAuthProviderMap = /* @__PURE__ */ new Map();\n    this.kubernetesAuthProviderMap.set(\n      \"google\",\n      new GoogleKubernetesAuthProvider(options.googleAuthApi)\n    );\n    this.kubernetesAuthProviderMap.set(\n      \"serviceAccount\",\n      new ServerSideKubernetesAuthProvider()\n    );\n    this.kubernetesAuthProviderMap.set(\n      \"googleServiceAccount\",\n      new ServerSideKubernetesAuthProvider()\n    );\n    this.kubernetesAuthProviderMap.set(\n      \"aws\",\n      new ServerSideKubernetesAuthProvider()\n    );\n    this.kubernetesAuthProviderMap.set(\n      \"azure\",\n      new ServerSideKubernetesAuthProvider()\n    );\n    this.kubernetesAuthProviderMap.set(\n      \"localKubectlProxy\",\n      new ServerSideKubernetesAuthProvider()\n    );\n    this.kubernetesAuthProviderMap.set(\n      \"aks\",\n      new AksKubernetesAuthProvider(options.microsoftAuthApi)\n    );\n    if (options.oidcProviders) {\n      Object.keys(options.oidcProviders).forEach((provider) => {\n        this.kubernetesAuthProviderMap.set(\n          `oidc.${provider}`,\n          new OidcKubernetesAuthProvider(\n            provider,\n            options.oidcProviders[provider]\n          )\n        );\n      });\n    }\n  }\n  async decorateRequestBodyForAuth(authProvider, requestBody) {\n    const kubernetesAuthProvider = this.kubernetesAuthProviderMap.get(authProvider);\n    if (kubernetesAuthProvider) {\n      return await kubernetesAuthProvider.decorateRequestBodyForAuth(\n        requestBody\n      );\n    }\n    if (authProvider.startsWith(\"oidc.\")) {\n      throw new Error(\n        `KubernetesAuthProviders has no oidcProvider configured for ${authProvider}`\n      );\n    }\n    throw new Error(\n      `authProvider \"${authProvider}\" has no KubernetesAuthProvider defined for it`\n    );\n  }\n  async getCredentials(authProvider) {\n    const kubernetesAuthProvider = this.kubernetesAuthProviderMap.get(authProvider);\n    if (kubernetesAuthProvider) {\n      return await kubernetesAuthProvider.getCredentials();\n    }\n    if (authProvider.startsWith(\"oidc.\")) {\n      throw new Error(\n        `KubernetesAuthProviders has no oidcProvider configured for ${authProvider}`\n      );\n    }\n    throw new Error(\n      `authProvider \"${authProvider}\" has no KubernetesAuthProvider defined for it`\n    );\n  }\n}\n\nexport { KubernetesAuthProviders };\n//# sourceMappingURL=KubernetesAuthProviders.esm.js.map\n","const basePath = \"https://portal.azure.com/#blade/Microsoft_Azure_ContainerService/AksK8ResourceMenuBlade/overview-Deployment/aksClusterId\";\nconst requiredParams = [\"subscriptionId\", \"resourceGroup\", \"clusterName\"];\nclass AksClusterLinksFormatter {\n  async formatClusterLink(options) {\n    if (!options.dashboardParameters) {\n      throw new Error(\"AKS dashboard requires a dashboardParameters option\");\n    }\n    const args = options.dashboardParameters;\n    for (const param of requiredParams) {\n      if (typeof args[param] !== \"string\") {\n        throw new Error(\n          `AKS dashboard requires a \"${param}\" of type string in the dashboardParameters option`\n        );\n      }\n    }\n    const path = `/subscriptions/${args.subscriptionId}/resourceGroups/${args.resourceGroup}/providers/Microsoft.ContainerService/managedClusters/${args.clusterName}`;\n    const { name, namespace, uid } = options.object.metadata;\n    const { selector } = options.object.spec;\n    const params = {\n      kind: options.kind,\n      metadata: { name, namespace, uid },\n      spec: {\n        selector\n      }\n    };\n    return new URL(\n      `${basePath}/${encodeURIComponent(path)}/resource/${encodeURIComponent(\n        JSON.stringify(params)\n      )}`\n    );\n  }\n}\n\nexport { AksClusterLinksFormatter };\n//# sourceMappingURL=AksClusterLinksFormatter.esm.js.map\n","class EksClusterLinksFormatter {\n  async formatClusterLink(_options) {\n    throw new Error(\n      \"EKS formatter is not yet implemented. Please, contribute!\"\n    );\n  }\n}\n\nexport { EksClusterLinksFormatter };\n//# sourceMappingURL=EksClusterLinksFormatter.esm.js.map\n","const kindMappings = {\n  deployment: \"deployment\",\n  pod: \"pod\",\n  ingress: \"ingress\",\n  service: \"service\",\n  horizontalpodautoscaler: \"deployment\"\n};\nclass GkeClusterLinksFormatter {\n  googleAuthApi;\n  constructor(googleAuthApi) {\n    this.googleAuthApi = googleAuthApi;\n  }\n  async formatClusterLink(options) {\n    if (!options.dashboardParameters) {\n      throw new Error(\"GKE dashboard requires a dashboardParameters option\");\n    }\n    const args = options.dashboardParameters;\n    if (typeof args.projectId !== \"string\") {\n      throw new Error(\n        'GKE dashboard requires a \"projectId\" of type string in the dashboardParameters option'\n      );\n    }\n    if (typeof args.region !== \"string\") {\n      throw new Error(\n        'GKE dashboard requires a \"region\" of type string in the dashboardParameters option'\n      );\n    }\n    if (typeof args.clusterName !== \"string\") {\n      throw new Error(\n        'GKE dashboard requires a \"clusterName\" of type string in the dashboardParameters option'\n      );\n    }\n    const basePath = new URL(\"https://console.cloud.google.com/\");\n    const region = encodeURIComponent(args.region);\n    const clusterName = encodeURIComponent(args.clusterName);\n    const name = encodeURIComponent(options.object.metadata?.name ?? \"\");\n    const namespace = encodeURIComponent(\n      options.object.metadata?.namespace ?? \"\"\n    );\n    const validKind = kindMappings[options.kind.toLocaleLowerCase(\"en-US\")];\n    let path;\n    if (namespace && name && validKind) {\n      const kindsWithDetails = [\"ingress\", \"pod\"];\n      const landingPage = kindsWithDetails.includes(validKind) ? \"details\" : \"overview\";\n      path = `kubernetes/${validKind}/${region}/${clusterName}/${namespace}/${name}/${landingPage}`;\n    } else {\n      path = `kubernetes/clusters/details/${region}/${clusterName}/details`;\n    }\n    const result = new URL(path, basePath);\n    result.searchParams.set(\"project\", args.projectId);\n    if (this.googleAuthApi) {\n      const profile = await this.googleAuthApi.getProfile({ optional: true });\n      if (profile?.email) {\n        result.searchParams.set(\"authuser\", profile.email);\n      }\n    }\n    return result;\n  }\n}\n\nexport { GkeClusterLinksFormatter };\n//# sourceMappingURL=GkeClusterLinksFormatter.esm.js.map\n","const kindMappings = {\n  deployment: \"deployment\",\n  pod: \"pod\",\n  ingress: \"ingress\",\n  service: \"service\",\n  horizontalpodautoscaler: \"deployment\",\n  statefulset: \"statefulset\"\n};\nclass StandardClusterLinksFormatter {\n  async formatClusterLink(options) {\n    if (!options.dashboardUrl) {\n      throw new Error(\"standard dashboard requires a dashboardUrl option\");\n    }\n    const result = new URL(options.dashboardUrl.href);\n    const name = encodeURIComponent(options.object.metadata?.name ?? \"\");\n    const namespace = encodeURIComponent(\n      options.object.metadata?.namespace ?? \"\"\n    );\n    const validKind = kindMappings[options.kind.toLocaleLowerCase(\"en-US\")];\n    if (!result.pathname.endsWith(\"/\")) {\n      result.pathname += \"/\";\n    }\n    if (validKind && name && namespace) {\n      result.hash = `/${validKind}/${namespace}/${name}`;\n    } else if (namespace) {\n      result.hash = \"/workloads\";\n    }\n    if (namespace) {\n      result.hash += `?namespace=${namespace}`;\n    }\n    return result;\n  }\n}\n\nexport { StandardClusterLinksFormatter };\n//# sourceMappingURL=StandardClusterLinksFormatter.esm.js.map\n","const kindMappings = {\n  deployment: \"deployments\",\n  ingress: \"ingresses\",\n  service: \"services\",\n  horizontalpodautoscaler: \"horizontalpodautoscalers\",\n  persistentvolume: \"persistentvolumes\"\n};\nclass OpenshiftClusterLinksFormatter {\n  async formatClusterLink(options) {\n    if (!options.dashboardUrl) {\n      throw new Error(\"OpenShift dashboard requires a dashboardUrl option\");\n    }\n    const basePath = new URL(options.dashboardUrl.href);\n    const name = encodeURIComponent(options.object.metadata?.name ?? \"\");\n    const namespace = encodeURIComponent(\n      options.object.metadata?.namespace ?? \"\"\n    );\n    const validKind = kindMappings[options.kind.toLocaleLowerCase(\"en-US\")];\n    if (!basePath.pathname.endsWith(\"/\")) {\n      basePath.pathname += \"/\";\n    }\n    let path = \"\";\n    if (namespace) {\n      if (name && validKind) {\n        path = `k8s/ns/${namespace}/${validKind}/${name}`;\n      } else {\n        path = `k8s/cluster/projects/${namespace}`;\n      }\n    } else if (validKind) {\n      path = `k8s/cluster/${validKind}`;\n      if (name) {\n        path += `/${name}`;\n      }\n    }\n    return new URL(path, basePath);\n  }\n}\n\nexport { OpenshiftClusterLinksFormatter };\n//# sourceMappingURL=OpenshiftClusterLinksFormatter.esm.js.map\n","const kindMappings = {\n  deployment: \"apps.deployment\",\n  ingress: \"networking.k8s.io.ingress\",\n  service: \"service\",\n  horizontalpodautoscaler: \"autoscaling.horizontalpodautoscaler\"\n};\nclass RancherClusterLinksFormatter {\n  async formatClusterLink(options) {\n    if (!options.dashboardUrl) {\n      throw new Error(\"Rancher dashboard requires a dashboardUrl option\");\n    }\n    const basePath = new URL(options.dashboardUrl.href);\n    const name = encodeURIComponent(options.object.metadata?.name ?? \"\");\n    const namespace = encodeURIComponent(\n      options.object.metadata?.namespace ?? \"\"\n    );\n    const validKind = kindMappings[options.kind.toLocaleLowerCase(\"en-US\")];\n    if (!basePath.pathname.endsWith(\"/\")) {\n      basePath.pathname += \"/\";\n    }\n    let path = \"\";\n    if (validKind && name && namespace) {\n      path = `explorer/${validKind}/${namespace}/${name}`;\n    } else if (namespace) {\n      path = \"explorer/workload\";\n    }\n    return new URL(path, basePath);\n  }\n}\n\nexport { RancherClusterLinksFormatter };\n//# sourceMappingURL=RancherClusterLinksFormatter.esm.js.map\n","class HeadlampClusterLinksFormatter {\n  async formatClusterLink(options) {\n    const { dashboardUrl, dashboardParameters, object, kind } = options;\n    if (!dashboardUrl && !dashboardParameters?.internal) {\n      throw new Error(\n        \"Dashboard URL is required or dashboardInternal must be true\"\n      );\n    }\n    const clusterName = dashboardParameters?.clusterName ?? \"default\";\n    const path = this.getHeadlampPath(kind, object, clusterName);\n    if (!path) {\n      throw new Error(`Could not find path for kind: ${kind}`);\n    }\n    let baseUrl;\n    if (dashboardParameters?.internal) {\n      baseUrl = new URL(window.location.origin);\n      baseUrl.pathname = dashboardParameters.headlampRoute || \"/headlamp\";\n    } else {\n      if (!dashboardUrl?.href) {\n        throw new Error(\n          \"Dashboard URL is required when not using internal dashboard\"\n        );\n      }\n      baseUrl = new URL(dashboardUrl.href);\n    }\n    baseUrl.searchParams.set(\"to\", path);\n    return baseUrl;\n  }\n  NAMESPACED_RESOURCES = /* @__PURE__ */ new Set([\n    \"pod\",\n    \"deployment\",\n    \"replicaset\",\n    \"statefulset\",\n    \"daemonset\",\n    \"job\",\n    \"cronjob\",\n    \"service\",\n    \"ingress\",\n    \"configmap\",\n    \"secret\",\n    \"serviceaccount\",\n    \"role\",\n    \"rolebinding\",\n    \"networkpolicy\",\n    \"horizontalpodautoscaler\",\n    \"poddisruptionbudget\",\n    \"persistentvolumeclaim\"\n  ]);\n  getHeadlampPath(kind, object, clusterName) {\n    const lowercaseKind = kind.toLocaleLowerCase(\"en-US\");\n    const { name } = object.metadata ?? {};\n    let { namespace } = object.metadata ?? {};\n    if (!name) {\n      throw new Error(`Resource name is required for kind: ${kind}`);\n    }\n    if (this.NAMESPACED_RESOURCES.has(lowercaseKind) && !namespace) {\n      throw new Error(`Namespace is required for namespaced resource: ${kind}`);\n    }\n    if (!namespace) {\n      namespace = \"default\";\n    }\n    const pathMap = {\n      namespace: `/c/${clusterName}/namespaces/${name}`,\n      node: `/c/${clusterName}/nodes/${name}`,\n      persistentvolume: `/c/${clusterName}/storage/persistentvolumes/${name}`,\n      persistentvolumeclaim: `/c/${clusterName}/storage/persistentvolumeclaims/${namespace}/${name}`,\n      pod: `/c/${clusterName}/pods/${namespace}/${name}`,\n      deployment: `/c/${clusterName}/deployments/${namespace}/${name}`,\n      replicaset: `/c/${clusterName}/replicasets/${namespace}/${name}`,\n      statefulset: `/c/${clusterName}/statefulsets/${namespace}/${name}`,\n      daemonset: `/c/${clusterName}/daemonsets/${namespace}/${name}`,\n      job: `/c/${clusterName}/jobs/${namespace}/${name}`,\n      cronjob: `/c/${clusterName}/cronjobs/${namespace}/${name}`,\n      service: `/c/${clusterName}/services/${namespace}/${name}`,\n      ingress: `/c/${clusterName}/ingresses/${namespace}/${name}`,\n      configmap: `/c/${clusterName}/configmaps/${namespace}/${name}`,\n      secret: `/c/${clusterName}/secrets/${namespace}/${name}`,\n      serviceaccount: `/c/${clusterName}/serviceaccounts/${namespace}/${name}`,\n      role: `/c/${clusterName}/roles/${namespace}/${name}`,\n      rolebinding: `/c/${clusterName}/rolebindings/${namespace}/${name}`,\n      clusterrole: `/c/${clusterName}/clusterroles/${name}`,\n      clusterrolebinding: `/c/${clusterName}/clusterrolebindings/${name}`,\n      storageclass: `/c/${clusterName}/storage/storageclasses/${name}`,\n      networkpolicy: `/c/${clusterName}/networkpolicies/${namespace}/${name}`,\n      horizontalpodautoscaler: `/c/${clusterName}/horizontalpodautoscalers/${namespace}/${name}`,\n      poddisruptionbudget: `/c/${clusterName}/poddisruptionbudgets/${namespace}/${name}`,\n      customresourcedefinition: `/c/${clusterName}/customresourcedefinitions/${name}`\n    };\n    return pathMap[lowercaseKind] ?? \"\";\n  }\n}\n\nexport { HeadlampClusterLinksFormatter };\n//# sourceMappingURL=HeadlampClusterLinksFormatter.esm.js.map\n","class KubernetesClusterLinkFormatter {\n  formatters;\n  defaultFormatterName;\n  constructor(options) {\n    this.formatters = options.formatters;\n    this.defaultFormatterName = options.defaultFormatterName;\n  }\n  async formatClusterLink(options) {\n    if (!options.dashboardUrl && !options.dashboardParameters) {\n      return void 0;\n    }\n    if (options.dashboardUrl && !options.object) {\n      return options.dashboardUrl;\n    }\n    const app = options.dashboardApp ?? this.defaultFormatterName;\n    const formatter = this.formatters[app];\n    if (!formatter) {\n      throw new Error(`Could not find Kubernetes dashboard app named '${app}'`);\n    }\n    const url = await formatter.formatClusterLink({\n      dashboardUrl: options.dashboardUrl ? new URL(options.dashboardUrl) : void 0,\n      dashboardParameters: options.dashboardParameters,\n      object: options.object,\n      kind: options.kind\n    });\n    return url.toString();\n  }\n}\n\nexport { KubernetesClusterLinkFormatter };\n//# sourceMappingURL=KubernetesClusterLinkFormatter.esm.js.map\n","import { KubernetesBackendClient, kubernetesAuthProvidersApiRef, kubernetesApiRef, KubernetesProxyClient, kubernetesProxyApiRef, KubernetesAuthProviders, kubernetesClusterLinkFormatterApiRef, getDefaultFormatters, KubernetesClusterLinkFormatter, DEFAULT_FORMATTER_NAME } from '@backstage/plugin-kubernetes-react';\nimport { createRouteRef, createPlugin, createApiFactory, fetchApiRef, discoveryApiRef, oneloginAuthApiRef, oktaAuthApiRef, microsoftAuthApiRef, googleAuthApiRef, gitlabAuthApiRef, createRoutableExtension } from '@backstage/core-plugin-api';\n\nconst rootCatalogKubernetesRouteRef = createRouteRef({\n  id: \"kubernetes\"\n});\nconst kubernetesPlugin = createPlugin({\n  id: \"kubernetes\",\n  apis: [\n    createApiFactory({\n      api: kubernetesApiRef,\n      deps: {\n        discoveryApi: discoveryApiRef,\n        fetchApi: fetchApiRef,\n        kubernetesAuthProvidersApi: kubernetesAuthProvidersApiRef\n      },\n      factory: ({ discoveryApi, fetchApi, kubernetesAuthProvidersApi }) => new KubernetesBackendClient({\n        discoveryApi,\n        fetchApi,\n        kubernetesAuthProvidersApi\n      })\n    }),\n    createApiFactory({\n      api: kubernetesProxyApiRef,\n      deps: {\n        kubernetesApi: kubernetesApiRef\n      },\n      factory: ({ kubernetesApi }) => new KubernetesProxyClient({\n        kubernetesApi\n      })\n    }),\n    createApiFactory({\n      api: kubernetesAuthProvidersApiRef,\n      deps: {\n        gitlabAuthApi: gitlabAuthApiRef,\n        googleAuthApi: googleAuthApiRef,\n        microsoftAuthApi: microsoftAuthApiRef,\n        oktaAuthApi: oktaAuthApiRef,\n        oneloginAuthApi: oneloginAuthApiRef\n      },\n      factory: ({\n        gitlabAuthApi,\n        googleAuthApi,\n        microsoftAuthApi,\n        oktaAuthApi,\n        oneloginAuthApi\n      }) => {\n        const oidcProviders = {\n          gitlab: gitlabAuthApi,\n          google: googleAuthApi,\n          microsoft: microsoftAuthApi,\n          okta: oktaAuthApi,\n          onelogin: oneloginAuthApi\n        };\n        return new KubernetesAuthProviders({\n          microsoftAuthApi,\n          googleAuthApi,\n          oidcProviders\n        });\n      }\n    }),\n    createApiFactory({\n      api: kubernetesClusterLinkFormatterApiRef,\n      deps: { googleAuthApi: googleAuthApiRef },\n      factory: (deps) => {\n        const formatters = getDefaultFormatters(deps);\n        return new KubernetesClusterLinkFormatter({\n          formatters,\n          defaultFormatterName: DEFAULT_FORMATTER_NAME\n        });\n      }\n    })\n  ],\n  routes: {\n    entityContent: rootCatalogKubernetesRouteRef\n  }\n});\nconst EntityKubernetesContent = kubernetesPlugin.provide(\n  createRoutableExtension({\n    name: \"EntityKubernetesContent\",\n    component: () => import('./Router.esm.js').then((m) => m.Router),\n    mountPoint: rootCatalogKubernetesRouteRef\n  })\n);\n\nexport { EntityKubernetesContent, kubernetesPlugin, rootCatalogKubernetesRouteRef };\n//# sourceMappingURL=plugin.esm.js.map\n","import { AksClusterLinksFormatter } from './AksClusterLinksFormatter.esm.js';\nimport { EksClusterLinksFormatter } from './EksClusterLinksFormatter.esm.js';\nimport { GkeClusterLinksFormatter } from './GkeClusterLinksFormatter.esm.js';\nimport { StandardClusterLinksFormatter } from './StandardClusterLinksFormatter.esm.js';\nimport { OpenshiftClusterLinksFormatter } from './OpenshiftClusterLinksFormatter.esm.js';\nimport { RancherClusterLinksFormatter } from './RancherClusterLinksFormatter.esm.js';\nimport { HeadlampClusterLinksFormatter } from './HeadlampClusterLinksFormatter.esm.js';\n\nconst DEFAULT_FORMATTER_NAME = \"standard\";\nfunction getDefaultFormatters(deps) {\n  return {\n    standard: new StandardClusterLinksFormatter(),\n    aks: new AksClusterLinksFormatter(),\n    eks: new EksClusterLinksFormatter(),\n    gke: new GkeClusterLinksFormatter(deps.googleAuthApi),\n    openshift: new OpenshiftClusterLinksFormatter(),\n    rancher: new RancherClusterLinksFormatter(),\n    headlamp: new HeadlampClusterLinksFormatter()\n  };\n}\n\nexport { AksClusterLinksFormatter, DEFAULT_FORMATTER_NAME, EksClusterLinksFormatter, GkeClusterLinksFormatter, HeadlampClusterLinksFormatter, OpenshiftClusterLinksFormatter, RancherClusterLinksFormatter, StandardClusterLinksFormatter, getDefaultFormatters };\n//# sourceMappingURL=index.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst notificationsApiRef = createApiRef({\n  id: \"plugin.notifications.service\"\n});\n\nexport { notificationsApiRef };\n//# sourceMappingURL=NotificationsApi.esm.js.map\n","import { useState, useEffect, useCallback } from 'react';\nimport throttle from 'lodash/throttle';\n\nconst getPrefix = (value) => value === 0 ? \"\" : `(${value}) `;\nconst cleanTitle = (currentTitle) => currentTitle.replace(/^\\(\\d+\\)\\s/, \"\");\nconst throttledSetTitle = throttle((shownTitle) => {\n  document.title = shownTitle;\n}, 100);\nfunction useTitleCounter() {\n  const [title, setTitle] = useState(document.title);\n  const [count, setCount] = useState(0);\n  useEffect(() => {\n    const baseTitle = cleanTitle(title);\n    const shownTitle = `${getPrefix(count)}${baseTitle}`;\n    if (document.title !== shownTitle) {\n      throttledSetTitle(shownTitle);\n    }\n    return () => {\n      document.title = cleanTitle(title);\n    };\n  }, [count, title]);\n  useEffect(() => {\n    const titleElement = document.querySelector(\"title\");\n    let observer;\n    if (titleElement) {\n      observer = new MutationObserver((mutations) => {\n        if (mutations?.[0]?.target?.textContent) {\n          setTitle(mutations[0].target.textContent);\n        }\n      });\n      observer.observe(titleElement, {\n        characterData: true,\n        childList: true\n      });\n    }\n    return () => {\n      if (observer) {\n        observer.disconnect();\n      }\n    };\n  }, []);\n  const setNotificationCount = useCallback(\n    (newCount) => setCount(newCount),\n    []\n  );\n  return { setNotificationCount };\n}\n\nexport { useTitleCounter };\n//# sourceMappingURL=useTitleCounter.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useMemo, useState, useCallback, useEffect } from 'react';\nimport { useNotificationsApi } from '../../hooks/useNotificationsApi.esm.js';\nimport { useWebNotifications } from '../../hooks/useWebNotifications.esm.js';\nimport { useTitleCounter } from '../../hooks/useTitleCounter.esm.js';\nimport { SidebarItem, Link } from '@backstage/core-components';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport { useApi, alertApiRef, useRouteRef } from '@backstage/core-plugin-api';\nimport { rootRouteRef } from '../../routes.esm.js';\nimport { useSignal } from '@backstage/plugin-signals-react';\nimport { notificationsApiRef } from '../../api/NotificationsApi.esm.js';\nimport '@backstage/errors';\nimport { MaterialDesignContent, SnackbarProvider, closeSnackbar, enqueueSnackbar } from 'notistack';\nimport { SeverityIcon } from '../NotificationsTable/SeverityIcon.esm.js';\nimport OpenInNew from '@material-ui/icons/OpenInNew';\nimport MarkAsReadIcon from '@material-ui/icons/CheckCircle';\nimport IconButton from '@material-ui/core/IconButton';\nimport Chip from '@material-ui/core/Chip';\nimport { styled } from '@material-ui/core/styles';\n\nconst StyledMaterialDesignContent = styled(MaterialDesignContent)(\n  ({ theme }) => ({\n    \"&.notistack-MuiContent-low\": {\n      backgroundColor: theme.palette.background.default,\n      color: theme.palette.text.primary\n    },\n    \"&.notistack-MuiContent-normal\": {\n      backgroundColor: theme.palette.background.default,\n      color: theme.palette.text.primary\n    },\n    \"&.notistack-MuiContent-high\": {\n      backgroundColor: theme.palette.background.default,\n      color: theme.palette.text.primary\n    },\n    \"&.notistack-MuiContent-critical\": {\n      backgroundColor: theme.palette.background.default,\n      color: theme.palette.text.primary\n    }\n  })\n);\nconst NotificationsSidebarItem = (props) => {\n  const {\n    webNotificationsEnabled = false,\n    titleCounterEnabled = true,\n    snackbarEnabled = true,\n    snackbarAutoHideDuration = 1e4,\n    icon = NotificationsIcon,\n    text = \"Notifications\",\n    ...restProps\n  } = props ?? {\n    webNotificationsEnabled: false,\n    titleCounterEnabled: true,\n    snackbarProps: {\n      enabled: true,\n      autoHideDuration: 1e4\n    }\n  };\n  const snackbarProps = useMemo(\n    () => props?.snackbarProps ?? {\n      enabled: snackbarEnabled,\n      autoHideDuration: snackbarAutoHideDuration\n    },\n    [props?.snackbarProps, snackbarAutoHideDuration, snackbarEnabled]\n  );\n  const { loading, error, value, retry } = useNotificationsApi(\n    (api) => api.getStatus()\n  );\n  const notificationsApi = useApi(notificationsApiRef);\n  const alertApi = useApi(alertApiRef);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const notificationsRoute = useRouteRef(rootRouteRef)();\n  const { lastSignal } = useSignal(\"notifications\");\n  const { sendWebNotification, requestUserPermission } = useWebNotifications(\n    webNotificationsEnabled\n  );\n  const [refresh, setRefresh] = useState(false);\n  const { setNotificationCount } = useTitleCounter();\n  const getSnackbarProperties = useCallback(\n    (notification) => {\n      const action = (snackBarId) => /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(\n          IconButton,\n          {\n            component: Link,\n            to: notification.payload.link ?? notificationsRoute,\n            onClick: () => {\n              if (notification.payload.link) {\n                notificationsApi.updateNotifications({\n                  ids: [notification.id],\n                  read: true\n                }).catch(() => {\n                  alertApi.post({\n                    message: \"Failed to mark notification as read\",\n                    severity: \"error\"\n                  });\n                });\n              }\n              closeSnackbar(snackBarId);\n            },\n            children: /* @__PURE__ */ jsx(OpenInNew, { fontSize: \"small\" })\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          IconButton,\n          {\n            onClick: () => {\n              notificationsApi.updateNotifications({\n                ids: [notification.id],\n                read: true\n              }).then(() => {\n                closeSnackbar(snackBarId);\n              }).catch(() => {\n                alertApi.post({\n                  message: \"Failed to mark notification as read\",\n                  severity: \"error\"\n                });\n              });\n            },\n            children: /* @__PURE__ */ jsx(MarkAsReadIcon, { fontSize: \"small\" })\n          }\n        )\n      ] });\n      return { action };\n    },\n    [notificationsRoute, notificationsApi, alertApi]\n  );\n  useEffect(() => {\n    if (refresh) {\n      retry();\n      setRefresh(false);\n    }\n  }, [refresh, retry]);\n  useEffect(() => {\n    const handleNotificationSignal = (signal) => {\n      if (!webNotificationsEnabled && !snackbarProps.enabled || signal.action !== \"new_notification\") {\n        return;\n      }\n      notificationsApi.getNotification(signal.notification_id).then((notification) => {\n        if (!notification) {\n          return;\n        }\n        if (webNotificationsEnabled) {\n          sendWebNotification({\n            id: notification.id,\n            title: notification.payload.title,\n            description: notification.payload.description ?? \"\",\n            link: notification.payload.link\n          });\n        }\n        if (snackbarProps.enabled) {\n          const { action } = getSnackbarProperties(notification);\n          const snackBarText = notification.payload.title.length > 50 ? `${notification.payload.title.substring(0, 50)}...` : notification.payload.title;\n          enqueueSnackbar(snackBarText, {\n            key: notification.id,\n            style: snackbarProps.snackStyle,\n            variant: notification.payload.severity,\n            anchorOrigin: snackbarProps.anchorOrigin ?? {\n              vertical: \"bottom\",\n              horizontal: \"right\"\n            },\n            action,\n            autoHideDuration: snackbarProps.autoHideDuration\n          });\n        }\n      }).catch(() => {\n        alertApi.post({\n          message: \"Failed to fetch notification\",\n          severity: \"error\"\n        });\n      });\n    };\n    if (lastSignal && lastSignal.action) {\n      handleNotificationSignal(lastSignal);\n      setRefresh(true);\n    }\n  }, [\n    lastSignal,\n    sendWebNotification,\n    webNotificationsEnabled,\n    notificationsApi,\n    alertApi,\n    getSnackbarProperties,\n    snackbarProps\n  ]);\n  useEffect(() => {\n    if (!loading && !error && value) {\n      setUnreadCount(value.unread);\n    }\n  }, [loading, error, value]);\n  useEffect(() => {\n    if (titleCounterEnabled) {\n      setNotificationCount(unreadCount);\n    }\n  }, [titleCounterEnabled, unreadCount, setNotificationCount]);\n  const count = !error && !!unreadCount ? unreadCount : void 0;\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    snackbarEnabled && /* @__PURE__ */ jsx(\n      SnackbarProvider,\n      {\n        iconVariant: {\n          normal: snackbarProps?.iconVariant?.normal ?? /* @__PURE__ */ jsx(SeverityIcon, { severity: \"normal\" }),\n          critical: snackbarProps?.iconVariant?.critical ?? /* @__PURE__ */ jsx(SeverityIcon, { severity: \"critical\" }),\n          high: snackbarProps?.iconVariant?.high ?? /* @__PURE__ */ jsx(SeverityIcon, { severity: \"high\" }),\n          low: snackbarProps?.iconVariant?.low ?? /* @__PURE__ */ jsx(SeverityIcon, { severity: \"low\" })\n        },\n        dense: snackbarProps?.dense,\n        maxSnack: snackbarProps?.maxSnack,\n        Components: {\n          normal: snackbarProps?.Components?.normal ?? StyledMaterialDesignContent,\n          critical: snackbarProps?.Components?.critical ?? StyledMaterialDesignContent,\n          high: snackbarProps?.Components?.high ?? StyledMaterialDesignContent,\n          low: snackbarProps?.Components?.low ?? StyledMaterialDesignContent\n        }\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      SidebarItem,\n      {\n        to: notificationsRoute,\n        onClick: () => {\n          requestUserPermission();\n        },\n        text,\n        icon,\n        ...restProps,\n        children: count && /* @__PURE__ */ jsx(Chip, { size: \"small\", label: count > 99 ? \"99+\" : count })\n      }\n    )\n  ] });\n};\n\nexport { NotificationsSidebarItem };\n//# sourceMappingURL=NotificationsSideBarItem.esm.js.map\n","import { useState, useCallback } from 'react';\nimport { useRouteRef, useApi } from '@backstage/core-plugin-api';\nimport { notificationsApiRef } from '../api/NotificationsApi.esm.js';\nimport '@backstage/errors';\nimport { rootRouteRef } from '../routes.esm.js';\n\nfunction useWebNotifications(enabled) {\n  const [webNotificationPermission, setWebNotificationPermission] = useState(\"default\");\n  const notificationsRoute = useRouteRef(rootRouteRef)();\n  const notificationsApi = useApi(notificationsApiRef);\n  const requestUserPermission = useCallback(() => {\n    if (enabled && \"Notification\" in window && webNotificationPermission === \"default\") {\n      window.Notification.requestPermission().then((permission) => {\n        setWebNotificationPermission(permission);\n      });\n    }\n  }, [enabled, webNotificationPermission]);\n  const sendWebNotification = useCallback(\n    (options) => {\n      if (webNotificationPermission !== \"granted\") {\n        return null;\n      }\n      const notification = new Notification(options.title, {\n        body: options.description,\n        tag: options.id\n        // Prevent duplicates from multiple tabs\n      });\n      notification.onclick = (event) => {\n        event.preventDefault();\n        if (options.link) {\n          window.open(options.link, \"_blank\");\n          notificationsApi.updateNotifications({\n            ids: [options.id],\n            read: true\n          });\n        } else {\n          window.open(notificationsRoute);\n        }\n        notification.close();\n      };\n      return notification;\n    },\n    [webNotificationPermission, notificationsApi, notificationsRoute]\n  );\n  return { sendWebNotification, requestUserPermission };\n}\n\nexport { useWebNotifications };\n//# sourceMappingURL=useWebNotifications.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport NormalIcon from '@material-ui/icons/CheckOutlined';\nimport CriticalIcon from '@material-ui/icons/ErrorOutline';\nimport HighIcon from '@material-ui/icons/WarningOutlined';\nimport LowIcon from '@material-ui/icons/InfoOutlined';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  critical: {\n    color: theme.palette.status.error\n  },\n  high: {\n    color: theme.palette.status.warning\n  },\n  normal: {\n    color: theme.palette.status.ok\n  },\n  low: {\n    color: theme.palette.status.running\n  }\n}));\nconst SeverityIcon = ({\n  severity\n}) => {\n  const classes = useStyles();\n  switch (severity) {\n    case \"critical\":\n      return /* @__PURE__ */ jsx(CriticalIcon, { className: classes.critical });\n    case \"high\":\n      return /* @__PURE__ */ jsx(HighIcon, { className: classes.high });\n    case \"low\":\n      return /* @__PURE__ */ jsx(LowIcon, { className: classes.low });\n    case \"normal\":\n    default:\n      return /* @__PURE__ */ jsx(NormalIcon, { className: classes.normal });\n  }\n};\n\nexport { SeverityIcon };\n//# sourceMappingURL=SeverityIcon.esm.js.map\n","import { notificationsApiRef } from '../api/NotificationsApi.esm.js';\nimport '@backstage/errors';\nimport { useApi } from '@backstage/core-plugin-api';\nimport useAsyncRetry from 'react-use/esm/useAsyncRetry';\n\nfunction useNotificationsApi(f, deps = []) {\n  const notificationsApi = useApi(notificationsApiRef);\n  return useAsyncRetry(async () => {\n    return await f(notificationsApi);\n  }, deps);\n}\n\nexport { useNotificationsApi };\n//# sourceMappingURL=useNotificationsApi.esm.js.map\n","import { ResponseError } from '@backstage/errors';\n\nclass NotificationsClient {\n  discoveryApi;\n  fetchApi;\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi;\n  }\n  async getNotifications(options) {\n    const queryString = new URLSearchParams();\n    if (options?.limit !== void 0) {\n      queryString.append(\"limit\", options.limit.toString(10));\n    }\n    if (options?.offset !== void 0) {\n      queryString.append(\"offset\", options.offset.toString(10));\n    }\n    if (options?.sort !== void 0) {\n      queryString.append(\n        \"orderField\",\n        `${options.sort},${options?.sortOrder ?? \"desc\"}`\n      );\n    }\n    this.appendCommonQueryStrings(queryString, options);\n    if (options?.topic !== void 0) {\n      queryString.append(\"topic\", options.topic);\n    }\n    return await this.request(\n      `/notifications?${queryString}`\n    );\n  }\n  async getNotification(id) {\n    return await this.request(\n      `/notifications/${encodeURIComponent(id)}`\n    );\n  }\n  async getStatus() {\n    return await this.request(\"/status\");\n  }\n  async updateNotifications(options) {\n    return await this.request(\"/notifications/update\", {\n      method: \"POST\",\n      body: JSON.stringify(options),\n      headers: { \"Content-Type\": \"application/json\" }\n    });\n  }\n  async getNotificationSettings() {\n    return await this.request(\"/settings\");\n  }\n  async updateNotificationSettings(settings) {\n    return await this.request(\"/settings\", {\n      method: \"POST\",\n      body: JSON.stringify(settings),\n      headers: { \"Content-Type\": \"application/json\" }\n    });\n  }\n  async getTopics(options) {\n    const queryString = new URLSearchParams();\n    this.appendCommonQueryStrings(queryString, options);\n    return await this.request(`/topics?${queryString}`);\n  }\n  appendCommonQueryStrings(queryString, options) {\n    if (options?.search) {\n      queryString.append(\"search\", options.search);\n    }\n    if (options?.read !== void 0) {\n      queryString.append(\"read\", options.read ? \"true\" : \"false\");\n    }\n    if (options?.saved !== void 0) {\n      queryString.append(\"saved\", options.saved ? \"true\" : \"false\");\n    }\n    if (options?.createdAfter !== void 0) {\n      queryString.append(\"createdAfter\", options.createdAfter.toISOString());\n    }\n    if (options?.minimumSeverity !== void 0) {\n      queryString.append(\"minimumSeverity\", options.minimumSeverity);\n    }\n  }\n  async request(path, init) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(\"notifications\");\n    const res = await this.fetchApi.fetch(`${baseUrl}${path}`, init);\n    if (!res.ok) {\n      throw await ResponseError.fromResponse(res);\n    }\n    return res.json();\n  }\n}\n\nexport { NotificationsClient };\n//# sourceMappingURL=NotificationsClient.esm.js.map\n","import { createPlugin, createApiFactory, fetchApiRef, discoveryApiRef, createRoutableExtension } from '@backstage/core-plugin-api';\nimport { rootRouteRef } from './routes.esm.js';\nimport { notificationsApiRef } from './api/NotificationsApi.esm.js';\nimport { NotificationsClient } from './api/NotificationsClient.esm.js';\n\nconst notificationsPlugin = createPlugin({\n  id: \"notifications\",\n  routes: {\n    root: rootRouteRef\n  },\n  apis: [\n    createApiFactory({\n      api: notificationsApiRef,\n      deps: { discoveryApi: discoveryApiRef, fetchApi: fetchApiRef },\n      factory: ({ discoveryApi, fetchApi }) => new NotificationsClient({ discoveryApi, fetchApi })\n    })\n  ]\n});\nconst NotificationsPage = notificationsPlugin.provide(\n  createRoutableExtension({\n    name: \"NotificationsPage\",\n    component: () => import('./components/NotificationsPage/index.esm.js').then((m) => m.NotificationsPage),\n    mountPoint: rootRouteRef\n  })\n);\n\nexport { NotificationsPage, notificationsPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createRouteRef } from '@backstage/core-plugin-api';\n\nconst rootRouteRef = createRouteRef({\n  id: \"notifications\"\n});\n\nexport { rootRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { useContext, useState } from 'react';\nimport { useResolvedPath, useLocation, resolvePath } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport { Link } from '../../components/Link/Link.esm.js';\nimport classNames from 'classnames';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport { SidebarItemWithSubmenuContext } from './config.esm.js';\nimport { isLocationMatch } from './utils.esm.js';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    item: {\n      height: 48,\n      width: \"100%\",\n      \"&:hover\": {\n        background: theme.palette.navigation.navItem?.hoverBackground || \"#6f6f6f\",\n        color: theme.palette.navigation.selectedColor\n      },\n      display: \"flex\",\n      alignItems: \"center\",\n      color: theme.palette.navigation.color,\n      padding: theme.spacing(2.5),\n      cursor: \"pointer\",\n      position: \"relative\",\n      background: \"none\",\n      border: \"none\"\n    },\n    itemContainer: {\n      width: \"100%\"\n    },\n    selected: {\n      background: \"#6f6f6f\",\n      color: theme.palette.common.white\n    },\n    label: {\n      margin: theme.spacing(1.75),\n      marginLeft: theme.spacing(1),\n      fontSize: theme.typography.body2.fontSize,\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      \"text-overflow\": \"ellipsis\",\n      lineHeight: 1\n    },\n    subtitle: {\n      fontSize: 10,\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      \"text-overflow\": \"ellipsis\"\n    },\n    dropdownArrow: {\n      position: \"absolute\",\n      right: 21\n    },\n    dropdown: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"end\"\n    },\n    dropdownItem: {\n      width: \"100%\",\n      padding: \"10px 0 10px 0\",\n      \"&:hover\": {\n        background: theme.palette.navigation.navItem?.hoverBackground || \"#6f6f6f\",\n        color: theme.palette.navigation.selectedColor\n      }\n    },\n    dropdownButton: {\n      textTransform: \"none\",\n      justifyContent: \"flex-start\"\n    },\n    textContent: {\n      color: theme.palette.navigation.color,\n      paddingLeft: theme.spacing(4),\n      paddingRight: theme.spacing(1),\n      fontSize: theme.typography.body2.fontSize,\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      \"text-overflow\": \"ellipsis\"\n    }\n  }),\n  { name: \"BackstageSidebarSubmenuItem\" }\n);\nconst SidebarSubmenuItem = (props) => {\n  const { title, subtitle, to, icon: Icon, dropdownItems, exact } = props;\n  const classes = useStyles();\n  const { setIsHoveredOn } = useContext(SidebarItemWithSubmenuContext);\n  const closeSubmenu = () => {\n    setIsHoveredOn(false);\n  };\n  const toLocation = useResolvedPath(to ?? \"\");\n  const currentLocation = useLocation();\n  let isActive = isLocationMatch(currentLocation, toLocation, exact);\n  const [showDropDown, setShowDropDown] = useState(\n    props.initialShowDropdown ?? false\n  );\n  const handleClickDropdown = () => {\n    setShowDropDown(!showDropDown);\n  };\n  if (dropdownItems !== void 0) {\n    dropdownItems.some((item) => {\n      const resolvedPath = resolvePath(item.to);\n      isActive = isLocationMatch(currentLocation, resolvedPath, exact);\n      return isActive;\n    });\n    return /* @__PURE__ */ jsxs(Box, { className: classes.itemContainer, children: [\n      /* @__PURE__ */ jsx(Tooltip, { title, enterDelay: 500, enterNextDelay: 500, children: /* @__PURE__ */ jsxs(\n        Button,\n        {\n          role: \"button\",\n          onClick: handleClickDropdown,\n          onTouchStart: (e) => e.stopPropagation(),\n          className: classNames(\n            classes.item,\n            classes.dropdownButton,\n            isActive ? classes.selected : void 0\n          ),\n          children: [\n            Icon && /* @__PURE__ */ jsx(Icon, { fontSize: \"small\" }),\n            /* @__PURE__ */ jsxs(\n              Typography,\n              {\n                variant: \"subtitle1\",\n                component: \"span\",\n                className: classes.label,\n                children: [\n                  title,\n                  /* @__PURE__ */ jsx(\"br\", {}),\n                  subtitle && /* @__PURE__ */ jsx(\n                    Typography,\n                    {\n                      variant: \"caption\",\n                      component: \"span\",\n                      className: classes.subtitle,\n                      children: subtitle\n                    }\n                  )\n                ]\n              }\n            ),\n            showDropDown ? /* @__PURE__ */ jsx(ArrowDropUpIcon, { className: classes.dropdownArrow }) : /* @__PURE__ */ jsx(ArrowDropDownIcon, { className: classes.dropdownArrow })\n          ]\n        }\n      ) }),\n      dropdownItems && showDropDown && /* @__PURE__ */ jsx(Box, { className: classes.dropdown, children: dropdownItems.map((object, key) => /* @__PURE__ */ jsx(\n        Tooltip,\n        {\n          title: object.title,\n          enterDelay: 500,\n          enterNextDelay: 500,\n          children: /* @__PURE__ */ jsx(\n            Link,\n            {\n              to: object.to,\n              underline: \"none\",\n              className: classes.dropdownItem,\n              onClick: closeSubmenu,\n              onTouchStart: (e) => e.stopPropagation(),\n              children: /* @__PURE__ */ jsx(Typography, { component: \"span\", className: classes.textContent, children: object.title })\n            }\n          )\n        },\n        key\n      )) })\n    ] });\n  }\n  return /* @__PURE__ */ jsx(Box, { className: classes.itemContainer, children: /* @__PURE__ */ jsx(Tooltip, { title, enterDelay: 500, enterNextDelay: 500, children: /* @__PURE__ */ jsxs(\n    Link,\n    {\n      to,\n      underline: \"none\",\n      className: classNames(\n        classes.item,\n        isActive ? classes.selected : void 0\n      ),\n      onClick: closeSubmenu,\n      onTouchStart: (e) => e.stopPropagation(),\n      children: [\n        Icon && /* @__PURE__ */ jsx(Icon, { fontSize: \"small\" }),\n        /* @__PURE__ */ jsxs(\n          Typography,\n          {\n            variant: \"subtitle1\",\n            component: \"span\",\n            className: classes.label,\n            children: [\n              title,\n              /* @__PURE__ */ jsx(\"br\", {}),\n              subtitle && /* @__PURE__ */ jsx(\n                Typography,\n                {\n                  variant: \"caption\",\n                  component: \"span\",\n                  className: classes.subtitle,\n                  children: subtitle\n                }\n              )\n            ]\n          }\n        )\n      ]\n    }\n  ) }) });\n};\n\nexport { SidebarSubmenuItem };\n//# sourceMappingURL=SidebarSubmenuItem.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { getCompoundEntityRef, DEFAULT_NAMESPACE, stringifyEntityRef } from '@backstage/catalog-model';\nimport { SidebarItem, SidebarSubmenu, SidebarSubmenuItem } from '@backstage/core-components';\nimport { useApi, identityApiRef, useRouteRef } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/esm/useAsync';\nimport { catalogApiRef, entityRouteRef, entityPresentationApiRef } from '@backstage/plugin-catalog-react';\n\nconst MyGroupsSidebarItem = (props) => {\n  const { singularTitle, pluralTitle, icon, filter } = props;\n  const identityApi = useApi(identityApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const catalogEntityRoute = useRouteRef(entityRouteRef);\n  const entityPresentationApi = useApi(entityPresentationApiRef);\n  const { value: groups } = useAsync(async () => {\n    const profile = await identityApi.getBackstageIdentity();\n    const response = await catalogApi.getEntities({\n      filter: [\n        {\n          kind: \"group\",\n          \"relations.hasMember\": profile.userEntityRef,\n          ...filter ?? {}\n        }\n      ],\n      fields: [\"metadata\", \"kind\", \"spec.profile\"]\n    });\n    return response.items;\n  }, []);\n  if (!groups?.length) {\n    return null;\n  }\n  if (groups.length === 1) {\n    const group = groups[0];\n    return /* @__PURE__ */ jsx(\n      SidebarItem,\n      {\n        text: singularTitle,\n        to: catalogEntityRoute(getCompoundEntityRef(group)),\n        icon\n      }\n    );\n  }\n  return /* @__PURE__ */ jsx(SidebarItem, { icon, text: pluralTitle, children: /* @__PURE__ */ jsx(SidebarSubmenu, { title: pluralTitle, children: groups?.map((group) => {\n    const entityDisplayName = entityPresentationApi.forEntity(group);\n    return /* @__PURE__ */ jsx(\n      SidebarSubmenuItem,\n      {\n        title: entityDisplayName.snapshot.primaryTitle,\n        subtitle: group.metadata.namespace !== DEFAULT_NAMESPACE ? group.metadata.namespace : void 0,\n        to: catalogEntityRoute(getCompoundEntityRef(group)),\n        icon\n      },\n      stringifyEntityRef(group)\n    );\n  }) }) });\n};\n\nexport { MyGroupsSidebarItem };\n//# sourceMappingURL=MyGroupsSidebarItem.esm.js.map\n","import { createPlugin, createComponentExtension } from '@backstage/core-plugin-api';\nimport { catalogIndexRouteRef } from './routes.esm.js';\n\nconst orgPlugin = createPlugin({\n  id: \"org\",\n  externalRoutes: {\n    catalogIndex: catalogIndexRouteRef\n  }\n});\nconst EntityGroupProfileCard = orgPlugin.provide(\n  createComponentExtension({\n    name: \"EntityGroupProfileCard\",\n    component: {\n      lazy: () => import('./components/index.esm.js').then((m) => m.GroupProfileCard)\n    }\n  })\n);\nconst EntityMembersListCard = orgPlugin.provide(\n  createComponentExtension({\n    name: \"EntityMembersListCard\",\n    component: {\n      lazy: () => import('./components/index.esm.js').then((m) => m.MembersListCard)\n    }\n  })\n);\nconst EntityOwnershipCard = orgPlugin.provide(\n  createComponentExtension({\n    name: \"EntityOwnershipCard\",\n    component: {\n      lazy: () => import('./components/index.esm.js').then((m) => m.OwnershipCard)\n    }\n  })\n);\nconst EntityUserProfileCard = orgPlugin.provide(\n  createComponentExtension({\n    name: \"EntityUserProfileCard\",\n    component: {\n      lazy: () => import('./components/index.esm.js').then((m) => m.UserProfileCard)\n    }\n  })\n);\n\nexport { EntityGroupProfileCard, EntityMembersListCard, EntityOwnershipCard, EntityUserProfileCard, orgPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createExternalRouteRef } from '@backstage/core-plugin-api';\n\nconst catalogIndexRouteRef = createExternalRouteRef({\n  id: \"catalog-index\",\n  optional: true,\n  defaultTarget: \"catalog.catalogIndex\"\n});\n\nexport { catalogIndexRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","function createPermission({\n  name,\n  attributes,\n  resourceType\n}) {\n  if (resourceType) {\n    return {\n      type: \"resource\",\n      name,\n      attributes,\n      resourceType\n    };\n  }\n  return {\n    type: \"basic\",\n    name,\n    attributes\n  };\n}\n\nexport { createPermission };\n//# sourceMappingURL=createPermission.esm.js.map\n","function isPermission(permission, comparedPermission) {\n  return permission.name === comparedPermission.name;\n}\nfunction isResourcePermission(permission, resourceType) {\n  if (!(\"resourceType\" in permission)) {\n    return false;\n  }\n  return !resourceType || permission.resourceType === resourceType;\n}\nfunction isCreatePermission(permission) {\n  return permission.attributes.action === \"create\";\n}\nfunction isReadPermission(permission) {\n  return permission.attributes.action === \"read\";\n}\nfunction isUpdatePermission(permission) {\n  return permission.attributes.action === \"update\";\n}\nfunction isDeletePermission(permission) {\n  return permission.attributes.action === \"delete\";\n}\nfunction toPermissionEvaluator(permissionAuthorizer) {\n  return {\n    authorize: async (requests, options) => {\n      const response = await permissionAuthorizer.authorize(requests, options);\n      return response;\n    },\n    authorizeConditional(requests, options) {\n      const parsedRequests = requests;\n      return permissionAuthorizer.authorize(parsedRequests, options);\n    }\n  };\n}\n\nexport { isCreatePermission, isDeletePermission, isPermission, isReadPermission, isResourcePermission, isUpdatePermission, toPermissionEvaluator };\n//# sourceMappingURL=util.esm.js.map\n","const AuthorizeResult = {\n  /**\n   * The authorization request is denied.\n   */\n  DENY: \"DENY\",\n  /**\n   * The authorization request is allowed.\n   */\n  ALLOW: \"ALLOW\",\n  /**\n   * The authorization request is allowed if the provided conditions are met.\n   */\n  CONDITIONAL: \"CONDITIONAL\"\n};\n\nexport { AuthorizeResult };\n//# sourceMappingURL=api.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst permissionApiRef = createApiRef({\n  id: \"plugin.permission.api\"\n});\n\nexport { permissionApiRef };\n//# sourceMappingURL=PermissionApi.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { useApp } from '@backstage/core-plugin-api';\nimport { usePermission } from '../hooks/usePermission.esm.js';\nimport { isResourcePermission } from '@backstage/plugin-permission-common';\n\nfunction RequirePermission(props) {\n  const { permission, resourceRef } = props;\n  const permissionResult = usePermission(\n    isResourcePermission(permission) ? { permission, resourceRef } : { permission }\n  );\n  const app = useApp();\n  if (permissionResult.loading) {\n    return null;\n  } else if (permissionResult.allowed) {\n    return /* @__PURE__ */ jsx(Fragment, { children: props.children });\n  }\n  if (props.errorPage) {\n    return /* @__PURE__ */ jsx(Fragment, { children: props.errorPage });\n  }\n  const { NotFoundErrorPage } = app.getComponents();\n  return /* @__PURE__ */ jsx(NotFoundErrorPage, {});\n}\n\nexport { RequirePermission };\n//# sourceMappingURL=RequirePermission.esm.js.map\n","import { useApi } from '@backstage/core-plugin-api';\nimport { permissionApiRef } from '../apis/PermissionApi.esm.js';\nimport { isResourcePermission, AuthorizeResult } from '@backstage/plugin-permission-common';\nimport useSWR from 'swr';\n\nfunction usePermission(input) {\n  const permissionApi = useApi(permissionApiRef);\n  const { data, error } = useSWR(input, async (args) => {\n    if (isResourcePermission(args.permission) && !args.resourceRef) {\n      return AuthorizeResult.DENY;\n    }\n    const { result } = await permissionApi.authorize(args);\n    return result;\n  });\n  if (error) {\n    return { error, loading: false, allowed: false };\n  }\n  if (data === void 0) {\n    return { loading: true, allowed: false };\n  }\n  return { loading: false, allowed: data === AuthorizeResult.ALLOW };\n}\n\nexport { usePermission };\n//# sourceMappingURL=usePermission.esm.js.map\n","import { createApiRef } from '@backstage/frontend-plugin-api';\n\nconst scaffolderApiRef = createApiRef({\n  id: \"plugin.scaffolder.service\"\n});\n\nexport { scaffolderApiRef };\n//# sourceMappingURL=ref.esm.js.map\n","import { attachComponentData } from '@backstage/core-plugin-api';\nimport { FIELD_EXTENSION_WRAPPER_KEY, FIELD_EXTENSION_KEY } from './keys.esm.js';\n\nfunction createScaffolderFieldExtension(options) {\n  return {\n    expose() {\n      const FieldExtensionDataHolder = () => null;\n      attachComponentData(\n        FieldExtensionDataHolder,\n        FIELD_EXTENSION_KEY,\n        options\n      );\n      return FieldExtensionDataHolder;\n    }\n  };\n}\nconst ScaffolderFieldExtensions = () => null;\nattachComponentData(\n  ScaffolderFieldExtensions,\n  FIELD_EXTENSION_WRAPPER_KEY,\n  true\n);\n\nexport { ScaffolderFieldExtensions, createScaffolderFieldExtension };\n//# sourceMappingURL=createScaffolderFieldExtension.esm.js.map\n","const FIELD_EXTENSION_WRAPPER_KEY = \"scaffolder.extensions.wrapper.v1\";\nconst FIELD_EXTENSION_KEY = \"scaffolder.extensions.field.v1\";\n\nexport { FIELD_EXTENSION_KEY, FIELD_EXTENSION_WRAPPER_KEY };\n//# sourceMappingURL=keys.esm.js.map\n","import { createApiRef } from '@backstage/frontend-plugin-api';\n\nconst formFieldsApiRef = createApiRef({\n  id: \"plugin.scaffolder.form-fields\"\n});\n\nexport { formFieldsApiRef };\n//# sourceMappingURL=ref.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { MarkdownContent } from '@backstage/core-components';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  markdownDescription: {\n    fontSize: theme.typography.caption.fontSize,\n    margin: 0,\n    color: theme.palette.text.secondary,\n    \"& :first-child\": {\n      margin: 0,\n      marginTop: \"3px\"\n      // to keep the standard browser padding\n    }\n  }\n}));\nconst ScaffolderField = (props) => {\n  const {\n    children,\n    displayLabel = true,\n    rawErrors = [],\n    errors,\n    help,\n    rawDescription,\n    required,\n    disabled\n  } = props;\n  const classes = useStyles();\n  return /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      fullWidth: true,\n      error: rawErrors.length ? true : false,\n      required,\n      disabled,\n      children: [\n        children,\n        displayLabel && rawDescription ? /* @__PURE__ */ jsx(\n          MarkdownContent,\n          {\n            content: rawDescription,\n            linkTarget: \"_blank\",\n            className: classes.markdownDescription\n          }\n        ) : null,\n        errors,\n        help\n      ]\n    }\n  );\n};\n\nexport { ScaffolderField };\n//# sourceMappingURL=ScaffolderField.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport { useContext, useCallback, useState } from 'react';\n\nconst SecretsContext = createVersionedContext(\"secrets-context\");\nconst SecretsContextProvider = (props) => {\n  const { initialSecrets = {} } = props;\n  const [secrets, setSecrets] = useState({\n    ...initialSecrets\n  });\n  return /* @__PURE__ */ jsx(\n    SecretsContext.Provider,\n    {\n      value: createVersionedValueMap({ 1: { secrets, setSecrets } }),\n      children: props.children\n    }\n  );\n};\nconst useTemplateSecrets = () => {\n  const value = useContext(SecretsContext)?.atVersion(1);\n  if (!value) {\n    throw new Error(\n      \"useTemplateSecrets must be used within a SecretsContextProvider\"\n    );\n  }\n  const { setSecrets: updateSecrets, secrets = {} } = value;\n  const setSecrets = useCallback(\n    (input) => {\n      updateSecrets((currentSecrets) => ({ ...currentSecrets, ...input }));\n    },\n    [updateSecrets]\n  );\n  return { setSecrets, secrets };\n};\n\nexport { SecretsContextProvider, useTemplateSecrets };\n//# sourceMappingURL=SecretsContext.esm.js.map\n","import zodToJsonSchema from 'zod-to-json-schema';\nimport { z } from 'zod';\n\nfunction makeFieldSchema(options) {\n  const { output, uiOptions } = options;\n  return {\n    TProps: void 0,\n    TOutput: void 0,\n    schema: {\n      returnValue: zodToJsonSchema(output(z)),\n      uiOptions: uiOptions && zodToJsonSchema(uiOptions(z))\n    },\n    // These will be removed - just here for backwards compat whilst we're moving across\n    type: void 0,\n    uiOptionsType: void 0\n  };\n}\n\nexport { makeFieldSchema };\n//# sourceMappingURL=utils.esm.js.map\n","import { createApiRef } from '@backstage/frontend-plugin-api';\n\nconst formDecoratorsApiRef = createApiRef({\n  id: \"plugin.scaffolder.form-decorators\"\n});\n\nexport { formDecoratorsApiRef };\n//# sourceMappingURL=ref.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport TextField from '@material-ui/core/TextField';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nexport { EntityNamePickerSchema } from './schema.esm.js';\n\nconst EntityNamePicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    onChange,\n    required,\n    schema: {\n      title = t(\"fields.entityNamePicker.title\"),\n      description = t(\"fields.entityNamePicker.description\")\n    },\n    rawErrors,\n    formData,\n    uiSchema: { \"ui:autofocus\": autoFocus },\n    idSchema,\n    placeholder\n  } = props;\n  return /* @__PURE__ */ jsx(\n    TextField,\n    {\n      id: idSchema?.$id,\n      label: title,\n      placeholder,\n      helperText: description,\n      required,\n      value: formData ?? \"\",\n      onChange: ({ target: { value } }) => onChange(value),\n      margin: \"normal\",\n      error: rawErrors?.length > 0 && !formData,\n      inputProps: { autoFocus },\n      FormHelperTextProps: { margin: \"dense\", style: { marginLeft: 0 } }\n    }\n  );\n};\n\nexport { EntityNamePicker };\n//# sourceMappingURL=EntityNamePicker.esm.js.map\n","import { makeFieldSchema } from '@backstage/plugin-scaffolder-react';\n\nconst EntityNamePickerFieldSchema = makeFieldSchema({\n  output: (z) => z.string()\n});\nconst EntityNamePickerSchema = EntityNamePickerFieldSchema.schema;\n\nexport { EntityNamePickerFieldSchema, EntityNamePickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { KubernetesValidatorFunctions } from '@backstage/catalog-model';\n\nconst entityNamePickerValidation = (value, validation) => {\n  if (!KubernetesValidatorFunctions.isValidObjectName(value)) {\n    validation.addError(\n      \"Must start and end with an alphanumeric character, and contain only alphanumeric characters, hyphens, underscores, and periods. Maximum length is 63 characters.\"\n    );\n  }\n};\n\nexport { entityNamePickerValidation };\n//# sourceMappingURL=validation.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { CATALOG_FILTER_EXISTS } from '@backstage/catalog-client';\nimport { stringifyEntityRef, parseEntityRef } from '@backstage/catalog-model';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { catalogApiRef, entityPresentationApiRef, EntityDisplayName } from '@backstage/plugin-catalog-react';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport { useCallback, useEffect } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { VirtualizedListbox } from '../VirtualizedListbox.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nimport { ScaffolderField } from '@backstage/plugin-scaffolder-react/alpha';\nexport { EntityPickerSchema } from './schema.esm.js';\n\nconst EntityPicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    onChange,\n    schema: {\n      title = t(\"fields.entityPicker.title\"),\n      description = t(\"fields.entityPicker.description\")\n    },\n    required,\n    uiSchema,\n    rawErrors,\n    formData,\n    idSchema,\n    errors\n  } = props;\n  const catalogFilter = buildCatalogFilter(uiSchema);\n  const defaultKind = uiSchema[\"ui:options\"]?.defaultKind;\n  const defaultNamespace = uiSchema[\"ui:options\"]?.defaultNamespace || void 0;\n  const isDisabled = uiSchema?.[\"ui:disabled\"] ?? false;\n  const catalogApi = useApi(catalogApiRef);\n  const entityPresentationApi = useApi(entityPresentationApiRef);\n  const { value: entities, loading } = useAsync(async () => {\n    const fields = [\n      \"kind\",\n      \"metadata.name\",\n      \"metadata.namespace\",\n      \"metadata.title\",\n      \"metadata.description\",\n      \"spec.profile.displayName\",\n      \"spec.type\"\n    ];\n    const { items } = await catalogApi.getEntities(\n      catalogFilter ? { filter: catalogFilter, fields } : { filter: void 0, fields }\n    );\n    const entityRefToPresentation = new Map(\n      await Promise.all(\n        items.map(async (item) => {\n          const presentation = await entityPresentationApi.forEntity(item).promise;\n          return [stringifyEntityRef(item), presentation];\n        })\n      )\n    );\n    return { catalogEntities: items, entityRefToPresentation };\n  });\n  const allowArbitraryValues = uiSchema[\"ui:options\"]?.allowArbitraryValues ?? true;\n  const getLabel = useCallback(\n    (freeSoloValue) => {\n      try {\n        const parsedRef = parseEntityRef(freeSoloValue, {\n          defaultKind,\n          defaultNamespace\n        });\n        return stringifyEntityRef(parsedRef);\n      } catch (err) {\n        return freeSoloValue;\n      }\n    },\n    [defaultKind, defaultNamespace]\n  );\n  const onSelect = useCallback(\n    (_, ref, reason) => {\n      if (typeof ref !== \"string\") {\n        onChange(ref ? stringifyEntityRef(ref) : void 0);\n      } else {\n        if (reason === \"blur\" || reason === \"create-option\") {\n          let entityRef = ref;\n          try {\n            entityRef = stringifyEntityRef(\n              parseEntityRef(ref, {\n                defaultKind,\n                defaultNamespace\n              })\n            );\n          } catch (err) {\n          }\n          if (formData !== ref || allowArbitraryValues) {\n            onChange(entityRef);\n          }\n        }\n      }\n    },\n    [onChange, formData, defaultKind, defaultNamespace, allowArbitraryValues]\n  );\n  const selectedEntity = entities?.catalogEntities.find((e) => stringifyEntityRef(e) === formData) ?? (allowArbitraryValues && formData ? getLabel(formData) : \"\");\n  useEffect(() => {\n    if (required && !allowArbitraryValues && entities?.catalogEntities.length === 1 && selectedEntity === \"\") {\n      onChange(stringifyEntityRef(entities.catalogEntities[0]));\n    }\n  }, [entities, onChange, selectedEntity, required, allowArbitraryValues]);\n  return /* @__PURE__ */ jsx(\n    ScaffolderField,\n    {\n      rawErrors,\n      rawDescription: uiSchema[\"ui:description\"] ?? description,\n      required,\n      disabled: isDisabled,\n      errors,\n      children: /* @__PURE__ */ jsx(\n        Autocomplete,\n        {\n          disabled: isDisabled || required && !allowArbitraryValues && entities?.catalogEntities.length === 1,\n          id: idSchema?.$id,\n          value: selectedEntity,\n          loading,\n          onChange: onSelect,\n          options: entities?.catalogEntities || [],\n          getOptionLabel: (option) => (\n            // option can be a string due to freeSolo.\n            typeof option === \"string\" ? option : entities?.entityRefToPresentation.get(stringifyEntityRef(option))?.entityRef\n          ),\n          autoSelect: true,\n          freeSolo: allowArbitraryValues,\n          renderInput: (params) => /* @__PURE__ */ jsx(\n            TextField,\n            {\n              ...params,\n              label: title,\n              margin: \"dense\",\n              variant: \"outlined\",\n              required,\n              disabled: isDisabled,\n              InputProps: params.InputProps\n            }\n          ),\n          renderOption: (option) => /* @__PURE__ */ jsx(EntityDisplayName, { entityRef: option }),\n          filterOptions: createFilterOptions({\n            stringify: (option) => entities?.entityRefToPresentation.get(stringifyEntityRef(option))?.primaryTitle\n          }),\n          ListboxComponent: VirtualizedListbox\n        }\n      )\n    }\n  );\n};\nfunction convertOpsValues(value) {\n  if (typeof value === \"object\" && value.exists) {\n    return CATALOG_FILTER_EXISTS;\n  }\n  return value?.toString();\n}\nfunction convertSchemaFiltersToQuery(schemaFilters) {\n  const query = {};\n  for (const [key, value] of Object.entries(schemaFilters)) {\n    if (Array.isArray(value)) {\n      query[key] = value;\n    } else {\n      query[key] = convertOpsValues(value);\n    }\n  }\n  return query;\n}\nfunction buildCatalogFilter(uiSchema) {\n  const allowedKinds = uiSchema[\"ui:options\"]?.allowedKinds;\n  const catalogFilter = uiSchema[\"ui:options\"]?.catalogFilter || allowedKinds && { kind: allowedKinds };\n  if (!catalogFilter) {\n    return void 0;\n  }\n  if (Array.isArray(catalogFilter)) {\n    return catalogFilter.map(convertSchemaFiltersToQuery);\n  }\n  return convertSchemaFiltersToQuery(catalogFilter);\n}\n\nexport { EntityPicker };\n//# sourceMappingURL=EntityPicker.esm.js.map\n","import { makeFieldSchema } from '@backstage/plugin-scaffolder-react';\n\nconst createEntityQueryFilterExpressionSchema = (z) => z.record(\n  z.string().or(z.object({ exists: z.boolean().optional() })).or(z.array(z.string()))\n);\nconst EntityPickerFieldSchema = makeFieldSchema({\n  output: (z) => z.string(),\n  uiOptions: (z) => z.object({\n    /**\n     * @deprecated Use `catalogFilter` instead.\n     */\n    allowedKinds: z.array(z.string()).optional().describe(\n      \"DEPRECATED: Use `catalogFilter` instead. List of kinds of entities to derive options from\"\n    ),\n    defaultKind: z.string().optional().describe(\n      \"The default entity kind. Options of this kind will not be prefixed.\"\n    ),\n    allowArbitraryValues: z.boolean().optional().describe(\"Whether to allow arbitrary user input. Defaults to true\"),\n    defaultNamespace: z.union([z.string(), z.literal(false)]).optional().describe(\n      \"The default namespace. Options with this namespace will not be prefixed.\"\n    ),\n    catalogFilter: ((t) => t.or(t.array()))(\n      createEntityQueryFilterExpressionSchema(z)\n    ).optional().describe(\"List of key-value filter expression for entities\")\n  })\n});\nconst EntityPickerSchema = EntityPickerFieldSchema.schema;\n\nexport { EntityPickerFieldSchema, EntityPickerSchema, createEntityQueryFilterExpressionSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { KubernetesValidatorFunctions } from './KubernetesValidatorFunctions.esm.js';\n\nconst defaultValidators = {\n  isValidApiVersion: KubernetesValidatorFunctions.isValidApiVersion,\n  isValidKind: KubernetesValidatorFunctions.isValidKind,\n  isValidEntityName: KubernetesValidatorFunctions.isValidObjectName,\n  isValidNamespace: KubernetesValidatorFunctions.isValidNamespace,\n  isValidLabelKey: KubernetesValidatorFunctions.isValidLabelKey,\n  isValidLabelValue: KubernetesValidatorFunctions.isValidLabelValue,\n  isValidAnnotationKey: KubernetesValidatorFunctions.isValidAnnotationKey,\n  isValidAnnotationValue: KubernetesValidatorFunctions.isValidAnnotationValue,\n  isValidTag: (value) => {\n    return typeof value === \"string\" && value.length >= 1 && value.length <= 63 && /^[a-z0-9:+#]+(\\-[a-z0-9:+#]+)*$/.test(value);\n  }\n};\nfunction makeValidator(overrides = {}) {\n  return {\n    ...defaultValidators,\n    ...overrides\n  };\n}\n\nexport { makeValidator };\n//# sourceMappingURL=makeValidator.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport useEffectOnce from 'react-use/esm/useEffectOnce';\nimport { makeValidator } from '@backstage/catalog-model';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { catalogApiRef } from '@backstage/plugin-catalog-react';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nimport { ScaffolderField } from '@backstage/plugin-scaffolder-react/alpha';\nexport { EntityTagsPickerSchema } from './schema.esm.js';\n\nconst EntityTagsPicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    formData,\n    onChange,\n    schema: {\n      title = t(\"fields.entityTagsPicker.title\"),\n      description = t(\"fields.entityTagsPicker.description\")\n    },\n    uiSchema,\n    rawErrors,\n    required,\n    errors\n  } = props;\n  const catalogApi = useApi(catalogApiRef);\n  const [tagOptions, setTagOptions] = useState([]);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [inputError, setInputError] = useState(false);\n  const tagValidator = makeValidator().isValidTag;\n  const kinds = uiSchema[\"ui:options\"]?.kinds;\n  const showCounts = uiSchema[\"ui:options\"]?.showCounts;\n  const helperText = uiSchema[\"ui:options\"]?.helperText;\n  const isDisabled = uiSchema?.[\"ui:disabled\"] ?? false;\n  const { loading, value: existingTags } = useAsync(async () => {\n    const facet = \"metadata.tags\";\n    const tagsRequest = { facets: [facet] };\n    if (kinds) {\n      tagsRequest.filter = { kind: kinds };\n    }\n    const { facets } = await catalogApi.getEntityFacets(tagsRequest);\n    const tagFacets = Object.fromEntries(\n      facets[facet].map(({ value, count }) => [value, count])\n    );\n    setTagOptions(\n      Object.keys(tagFacets).sort(\n        (a, b) => showCounts ? tagFacets[b] - tagFacets[a] : a.localeCompare(b)\n      )\n    );\n    return tagFacets;\n  });\n  const setTags = (_, values) => {\n    let hasError = false;\n    let addDuplicate = false;\n    const currentTags = formData || [];\n    if (values?.length && currentTags.length < values.length) {\n      const newTag = values[values.length - 1] = values[values.length - 1].toLocaleLowerCase(\"en-US\").trim();\n      hasError = !tagValidator(newTag);\n      addDuplicate = currentTags.indexOf(newTag) !== -1;\n    }\n    setInputError(hasError);\n    setInputValue(!hasError ? \"\" : inputValue);\n    if (!hasError && !addDuplicate) {\n      onChange(values || []);\n    }\n  };\n  useEffectOnce(() => onChange(formData || []));\n  return /* @__PURE__ */ jsx(\n    ScaffolderField,\n    {\n      rawErrors,\n      rawDescription: helperText ?? uiSchema[\"ui:description\"] ?? description,\n      required,\n      disabled: isDisabled,\n      errors,\n      children: /* @__PURE__ */ jsx(\n        Autocomplete,\n        {\n          multiple: true,\n          freeSolo: true,\n          filterSelectedOptions: true,\n          onChange: setTags,\n          disabled: isDisabled,\n          value: formData || [],\n          inputValue,\n          loading,\n          options: tagOptions,\n          ChipProps: { size: \"small\" },\n          renderOption: (option) => showCounts ? `${option} (${existingTags?.[option]})` : option,\n          renderInput: (params) => /* @__PURE__ */ jsx(\n            TextField,\n            {\n              ...params,\n              label: title,\n              disabled: isDisabled,\n              onChange: (e) => setInputValue(e.target.value),\n              error: inputError,\n              FormHelperTextProps: { margin: \"dense\", style: { marginLeft: 0 } }\n            }\n          )\n        }\n      )\n    }\n  );\n};\n\nexport { EntityTagsPicker };\n//# sourceMappingURL=EntityTagsPicker.esm.js.map\n","import { makeFieldSchema } from '@backstage/plugin-scaffolder-react';\n\nconst EntityTagsPickerFieldSchema = makeFieldSchema({\n  output: (z) => z.array(z.string()),\n  uiOptions: (z) => z.object({\n    kinds: z.array(z.string()).optional().describe(\"List of kinds of entities to derive tags from\"),\n    showCounts: z.boolean().optional().describe(\"Whether to show usage counts per tag\"),\n    helperText: z.string().optional().describe(\n      \"Helper text to display; DEPRECATED, simply use ui:description\"\n    )\n  })\n});\nconst EntityTagsPickerSchema = EntityTagsPickerFieldSchema.schema;\n\nexport { EntityTagsPickerFieldSchema, EntityTagsPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { CATALOG_FILTER_EXISTS } from '@backstage/catalog-client';\nimport { parseEntityRef, stringifyEntityRef } from '@backstage/catalog-model';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { catalogApiRef, entityPresentationApiRef, EntityDisplayName } from '@backstage/plugin-catalog-react';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport { useState, useCallback, useEffect } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { VirtualizedListbox } from '../VirtualizedListbox.esm.js';\nimport { ScaffolderField } from '@backstage/plugin-scaffolder-react/alpha';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nexport { MultiEntityPickerSchema } from './schema.esm.js';\n\nconst FREE_SOLO_EVENTS = [\n  \"blur\",\n  \"create-option\"\n];\nconst MultiEntityPicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    onChange,\n    schema: {\n      title = t(\"fields.multiEntityPicker.title\"),\n      description = t(\"fields.multiEntityPicker.description\")\n    },\n    required,\n    uiSchema,\n    rawErrors,\n    formData,\n    idSchema,\n    errors\n  } = props;\n  const catalogFilter = buildCatalogFilter(uiSchema);\n  const defaultKind = uiSchema[\"ui:options\"]?.defaultKind;\n  const defaultNamespace = uiSchema[\"ui:options\"]?.defaultNamespace || void 0;\n  const isDisabled = uiSchema?.[\"ui:disabled\"] ?? false;\n  const [noOfItemsSelected, setNoOfItemsSelected] = useState(0);\n  const catalogApi = useApi(catalogApiRef);\n  const entityPresentationApi = useApi(entityPresentationApiRef);\n  const { value: entities, loading } = useAsync(async () => {\n    const { items } = await catalogApi.getEntities(\n      catalogFilter ? { filter: catalogFilter } : void 0\n    );\n    const entityRefToPresentation = new Map(\n      await Promise.all(\n        items.map(async (item) => {\n          const presentation = await entityPresentationApi.forEntity(item).promise;\n          return [stringifyEntityRef(item), presentation];\n        })\n      )\n    );\n    return { entities: items, entityRefToPresentation };\n  });\n  const allowArbitraryValues = uiSchema[\"ui:options\"]?.allowArbitraryValues ?? true;\n  const maxItems = props.schema.maxItems;\n  const onSelect = useCallback(\n    (_, refs, reason) => {\n      const values = refs.map((ref) => {\n        if (typeof ref !== \"string\") {\n          return ref ? stringifyEntityRef(ref) : void 0;\n        }\n        let entityRef = ref;\n        try {\n          entityRef = stringifyEntityRef(\n            parseEntityRef(ref, {\n              defaultKind,\n              defaultNamespace\n            })\n          );\n        } catch (err) {\n        }\n        if (\n          // If value already matches what exists in form data, allow it\n          formData?.includes(ref) || // If arbitrary values are allowed and the reason is a free solo event, allow it\n          allowArbitraryValues && FREE_SOLO_EVENTS.includes(reason)\n        ) {\n          return entityRef;\n        }\n        return void 0;\n      }).filter((ref) => ref !== void 0);\n      setNoOfItemsSelected(values.length);\n      onChange(values);\n    },\n    [onChange, formData, defaultKind, defaultNamespace, allowArbitraryValues]\n  );\n  useEffect(() => {\n    if (required && !allowArbitraryValues && entities?.entities?.length === 1) {\n      onChange([stringifyEntityRef(entities?.entities[0])]);\n    }\n  }, [entities, onChange, required, allowArbitraryValues]);\n  return /* @__PURE__ */ jsx(\n    ScaffolderField,\n    {\n      rawErrors,\n      rawDescription: uiSchema[\"ui:description\"] ?? description,\n      required,\n      disabled: isDisabled,\n      errors,\n      children: /* @__PURE__ */ jsx(\n        Autocomplete,\n        {\n          multiple: true,\n          filterSelectedOptions: true,\n          disabled: isDisabled || required && !allowArbitraryValues && entities?.entities?.length === 1,\n          id: idSchema?.$id,\n          defaultValue: formData,\n          loading,\n          onChange: onSelect,\n          options: entities?.entities || [],\n          renderOption: (option) => /* @__PURE__ */ jsx(EntityDisplayName, { entityRef: option }),\n          getOptionLabel: (option) => (\n            // option can be a string due to freeSolo.\n            typeof option === \"string\" ? option : entities?.entityRefToPresentation.get(stringifyEntityRef(option))?.entityRef\n          ),\n          getOptionDisabled: (_options) => maxItems ? noOfItemsSelected >= maxItems : false,\n          autoSelect: true,\n          freeSolo: allowArbitraryValues,\n          renderInput: (params) => /* @__PURE__ */ jsx(\n            TextField,\n            {\n              ...params,\n              label: title,\n              disabled: isDisabled,\n              margin: \"dense\",\n              FormHelperTextProps: {\n                margin: \"dense\",\n                style: { marginLeft: 0 }\n              },\n              variant: \"outlined\",\n              required,\n              InputProps: {\n                ...params.InputProps,\n                required: formData?.length === 0 && required\n              }\n            }\n          ),\n          filterOptions: createFilterOptions({\n            stringify: (option) => entities?.entityRefToPresentation.get(stringifyEntityRef(option))?.primaryTitle\n          }),\n          ListboxComponent: VirtualizedListbox\n        }\n      )\n    }\n  );\n};\nconst validateMultiEntityPickerValidation = (values, validation) => {\n  values.forEach((value) => {\n    try {\n      parseEntityRef(value);\n    } catch {\n      validation.addError(`${value} is not a valid entity ref`);\n    }\n  });\n};\nfunction convertOpsValues(value) {\n  if (typeof value === \"object\" && value.exists) {\n    return CATALOG_FILTER_EXISTS;\n  }\n  return value?.toString();\n}\nfunction convertSchemaFiltersToQuery(schemaFilters) {\n  const query = {};\n  for (const [key, value] of Object.entries(schemaFilters)) {\n    if (Array.isArray(value)) {\n      query[key] = value;\n    } else {\n      query[key] = convertOpsValues(value);\n    }\n  }\n  return query;\n}\nfunction buildCatalogFilter(uiSchema) {\n  const catalogFilter = uiSchema[\"ui:options\"]?.catalogFilter;\n  if (!catalogFilter) {\n    return void 0;\n  }\n  if (Array.isArray(catalogFilter)) {\n    return catalogFilter.map(convertSchemaFiltersToQuery);\n  }\n  return convertSchemaFiltersToQuery(catalogFilter);\n}\n\nexport { MultiEntityPicker, validateMultiEntityPickerValidation };\n//# sourceMappingURL=MultiEntityPicker.esm.js.map\n","import { z } from 'zod';\nimport { makeFieldSchema } from '@backstage/plugin-scaffolder-react';\n\nconst entityQueryFilterExpressionSchema = z.record(\n  z.string().or(z.object({ exists: z.boolean().optional() })).or(z.array(z.string()))\n);\nconst MultiEntityPickerFieldSchema = makeFieldSchema({\n  output: (z) => z.array(z.string()),\n  uiOptions: (z) => z.object({\n    defaultKind: z.string().optional().describe(\n      \"The default entity kind. Options of this kind will not be prefixed.\"\n    ),\n    allowArbitraryValues: z.boolean().optional().describe(\"Whether to allow arbitrary user input. Defaults to true\"),\n    defaultNamespace: z.union([z.string(), z.literal(false)]).optional().describe(\n      \"The default namespace. Options with this namespace will not be prefixed.\"\n    ),\n    catalogFilter: z.array(entityQueryFilterExpressionSchema).or(entityQueryFilterExpressionSchema).optional().describe(\"List of key-value filter expression for entities\")\n  })\n});\nconst MultiEntityPickerSchema = MultiEntityPickerFieldSchema.schema;\n\nexport { MultiEntityPickerFieldSchema, MultiEntityPickerSchema, entityQueryFilterExpressionSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useEffect } from 'react';\nimport { useApi, identityApiRef, errorApiRef } from '@backstage/core-plugin-api';\nimport TextField from '@material-ui/core/TextField';\nexport { MyGroupsPickerSchema } from './schema.esm.js';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport { catalogApiRef, entityPresentationApiRef, EntityDisplayName } from '@backstage/plugin-catalog-react';\nimport { NotFoundError } from '@backstage/errors';\nimport useAsync from 'react-use/esm/useAsync';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport { VirtualizedListbox } from '../VirtualizedListbox.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nimport { ScaffolderField } from '@backstage/plugin-scaffolder-react/alpha';\n\nconst MyGroupsPicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    schema: {\n      title = t(\"fields.myGroupsPicker.title\"),\n      description = t(\"fields.myGroupsPicker.description\")\n    },\n    required,\n    rawErrors,\n    onChange,\n    formData,\n    uiSchema,\n    errors\n  } = props;\n  const identityApi = useApi(identityApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const errorApi = useApi(errorApiRef);\n  const entityPresentationApi = useApi(entityPresentationApiRef);\n  const isDisabled = uiSchema?.[\"ui:disabled\"] ?? false;\n  const { value: groups, loading } = useAsync(async () => {\n    const { userEntityRef } = await identityApi.getBackstageIdentity();\n    if (!userEntityRef) {\n      errorApi.post(new NotFoundError(\"No user entity ref found\"));\n      return { catalogEntities: [], entityRefToPresentation: /* @__PURE__ */ new Map() };\n    }\n    const { items } = await catalogApi.getEntities({\n      filter: {\n        kind: \"Group\",\n        [\"relations.hasMember\"]: [userEntityRef]\n      }\n    });\n    const entityRefToPresentation = new Map(\n      await Promise.all(\n        items.map(async (item) => {\n          const presentation = await entityPresentationApi.forEntity(item).promise;\n          return [stringifyEntityRef(item), presentation];\n        })\n      )\n    );\n    return { catalogEntities: items, entityRefToPresentation };\n  });\n  const updateChange = (_, value) => {\n    onChange(value ? stringifyEntityRef(value) : \"\");\n  };\n  const selectedEntity = groups?.catalogEntities.find((e) => stringifyEntityRef(e) === formData) || null;\n  useEffect(() => {\n    if (required && groups?.catalogEntities.length === 1 && !selectedEntity) {\n      onChange(stringifyEntityRef(groups.catalogEntities[0]));\n    }\n  }, [groups, onChange, selectedEntity, required]);\n  return /* @__PURE__ */ jsx(\n    ScaffolderField,\n    {\n      rawErrors,\n      rawDescription: uiSchema[\"ui:description\"] ?? description,\n      required,\n      disabled: isDisabled,\n      errors,\n      children: /* @__PURE__ */ jsx(\n        Autocomplete,\n        {\n          disabled: required && groups?.catalogEntities.length === 1,\n          id: \"OwnershipEntityRefPicker-dropdown\",\n          options: groups?.catalogEntities || [],\n          value: selectedEntity,\n          loading,\n          onChange: updateChange,\n          getOptionLabel: (option) => groups?.entityRefToPresentation.get(stringifyEntityRef(option))?.primaryTitle,\n          autoSelect: true,\n          renderInput: (params) => /* @__PURE__ */ jsx(\n            TextField,\n            {\n              ...params,\n              label: title,\n              margin: \"dense\",\n              FormHelperTextProps: { margin: \"dense\", style: { marginLeft: 0 } },\n              variant: \"outlined\",\n              required,\n              InputProps: params.InputProps\n            }\n          ),\n          renderOption: (option) => /* @__PURE__ */ jsx(EntityDisplayName, { entityRef: option }),\n          filterOptions: createFilterOptions({\n            stringify: (option) => groups?.entityRefToPresentation.get(stringifyEntityRef(option))?.primaryTitle\n          }),\n          ListboxComponent: VirtualizedListbox\n        }\n      )\n    }\n  );\n};\n\nexport { MyGroupsPicker };\n//# sourceMappingURL=MyGroupsPicker.esm.js.map\n","import { makeFieldSchema } from '@backstage/plugin-scaffolder-react';\n\nconst MyGroupsPickerFieldSchema = makeFieldSchema({\n  output: (z) => z.string()\n});\nconst MyGroupsPickerSchema = MyGroupsPickerFieldSchema.schema;\n\nexport { MyGroupsPickerFieldSchema, MyGroupsPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { RELATION_OWNED_BY } from '@backstage/catalog-model';\nimport { useApi, identityApiRef } from '@backstage/core-plugin-api';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport useAsync from 'react-use/esm/useAsync';\nimport { EntityPicker } from '../EntityPicker/EntityPicker.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nimport { ScaffolderField } from '@backstage/plugin-scaffolder-react/alpha';\nexport { OwnedEntityPickerSchema } from './schema.esm.js';\n\nconst OwnedEntityPicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    schema: {\n      title = t(\"fields.ownedEntityPicker.title\"),\n      description = t(\"fields.ownedEntityPicker.description\")\n    },\n    uiSchema,\n    required\n  } = props;\n  const identityApi = useApi(identityApiRef);\n  const { loading, value: identityRefs } = useAsync(async () => {\n    const identity = await identityApi.getBackstageIdentity();\n    return identity.ownershipEntityRefs;\n  });\n  if (loading)\n    return /* @__PURE__ */ jsx(\n      ScaffolderField,\n      {\n        rawDescription: uiSchema[\"ui:description\"] ?? description,\n        required,\n        disabled: uiSchema[\"ui:disabled\"],\n        children: /* @__PURE__ */ jsx(\n          Autocomplete,\n          {\n            loading,\n            renderInput: (params) => /* @__PURE__ */ jsx(\n              TextField,\n              {\n                ...params,\n                label: title,\n                margin: \"dense\",\n                FormHelperTextProps: {\n                  margin: \"dense\",\n                  style: { marginLeft: 0 }\n                },\n                variant: \"outlined\",\n                required,\n                InputProps: params.InputProps\n              }\n            ),\n            options: []\n          }\n        )\n      }\n    );\n  const entityPickerUISchema = buildEntityPickerUISchema(\n    uiSchema,\n    identityRefs\n  );\n  return /* @__PURE__ */ jsx(EntityPicker, { ...props, uiSchema: entityPickerUISchema });\n};\nfunction buildEntityPickerUISchema(uiSchema, identityRefs) {\n  const uiOptions = uiSchema?.[\"ui:options\"] || {};\n  const { allowedKinds, ...extraOptions } = uiOptions;\n  const catalogFilter = asArray(uiOptions.catalogFilter).map((e) => ({\n    ...e,\n    ...allowedKinds ? { kind: allowedKinds } : {},\n    [`relations.${RELATION_OWNED_BY}`]: identityRefs || []\n  }));\n  return {\n    \"ui:options\": {\n      ...extraOptions,\n      catalogFilter\n    },\n    \"ui:disabled\": uiSchema[\"ui:disabled\"]\n  };\n}\nfunction asArray(catalogFilter) {\n  if (catalogFilter) {\n    return Array.isArray(catalogFilter) ? catalogFilter : [catalogFilter];\n  }\n  return [{}];\n}\n\nexport { OwnedEntityPicker };\n//# sourceMappingURL=OwnedEntityPicker.esm.js.map\n","import 'react/jsx-runtime';\nimport '@backstage/catalog-client';\nimport '@backstage/catalog-model';\nimport '@backstage/core-plugin-api';\nimport '@backstage/plugin-catalog-react';\nimport '@material-ui/core/TextField';\nimport '@material-ui/lab/Autocomplete';\nimport 'react';\nimport 'react-use/esm/useAsync';\nimport '../VirtualizedListbox.esm.js';\nimport '@backstage/core-plugin-api/alpha';\nimport '../../../translation.esm.js';\nimport '@backstage/plugin-scaffolder-react/alpha';\nimport { EntityPickerFieldSchema } from '../EntityPicker/schema.esm.js';\n\nconst OwnedEntityPickerFieldSchema = EntityPickerFieldSchema;\nconst OwnedEntityPickerSchema = OwnedEntityPickerFieldSchema.schema;\n\nexport { OwnedEntityPickerFieldSchema, OwnedEntityPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { EntityPicker } from '../EntityPicker/EntityPicker.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nexport { OwnerPickerSchema } from './schema.esm.js';\n\nconst OwnerPicker = (props) => {\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const {\n    schema: {\n      title = t(\"fields.ownerPicker.title\"),\n      description = t(\"fields.ownerPicker.description\")\n    },\n    uiSchema,\n    ...restProps\n  } = props;\n  const defaultNamespace = uiSchema[\"ui:options\"]?.defaultNamespace;\n  const allowedKinds = uiSchema[\"ui:options\"]?.allowedKinds;\n  const catalogFilter = uiSchema[\"ui:options\"]?.catalogFilter || {\n    kind: allowedKinds || [\"Group\", \"User\"]\n  };\n  const ownerUiSchema = {\n    ...uiSchema,\n    \"ui:options\": {\n      catalogFilter,\n      defaultKind: \"Group\",\n      allowArbitraryValues: uiSchema[\"ui:options\"]?.allowArbitraryValues ?? true,\n      ...defaultNamespace !== void 0 ? { defaultNamespace } : {}\n    }\n  };\n  return /* @__PURE__ */ jsx(\n    EntityPicker,\n    {\n      ...restProps,\n      schema: { title, description },\n      uiSchema: ownerUiSchema\n    }\n  );\n};\n\nexport { OwnerPicker };\n//# sourceMappingURL=OwnerPicker.esm.js.map\n","import { makeFieldSchema } from '@backstage/plugin-scaffolder-react';\nimport { createEntityQueryFilterExpressionSchema } from '../EntityPicker/schema.esm.js';\n\nconst OwnerPickerFieldSchema = makeFieldSchema({\n  output: (z) => z.string(),\n  uiOptions: (z) => z.object({\n    /**\n     * @deprecated Use `catalogFilter` instead.\n     */\n    allowedKinds: z.array(z.string()).default([\"Group\", \"User\"]).optional().describe(\n      \"DEPRECATED: Use `catalogFilter` instead. List of kinds of entities to derive options from. Defaults to Group and User\"\n    ),\n    allowArbitraryValues: z.boolean().optional().describe(\"Whether to allow arbitrary user input. Defaults to true\"),\n    defaultNamespace: z.union([z.string(), z.literal(false)]).optional().describe(\n      \"The default namespace. Options with this namespace will not be prefixed.\"\n    ),\n    catalogFilter: ((t) => t.or(t.array()))(\n      createEntityQueryFilterExpressionSchema(z)\n    ).optional().describe(\"List of key-value filter expression for entities\")\n  })\n});\nconst OwnerPickerSchema = OwnerPickerFieldSchema.schema;\n\nexport { OwnerPickerFieldSchema, OwnerPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { scaffolderApiRef } from '@backstage/plugin-scaffolder-react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useState, useCallback } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\n\nconst BitbucketRepoBranchPicker = ({\n  onChange,\n  state,\n  rawErrors,\n  accessToken,\n  isDisabled,\n  required\n}) => {\n  const { host, workspace, repository, branch } = state;\n  const [availableBranches, setAvailableBranches] = useState([]);\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const updateAvailableBranches = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !workspace || !repository || !accessToken || host !== \"bitbucket.org\") {\n      setAvailableBranches([]);\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"branches\",\n      context: { workspace, repository },\n      provider: \"bitbucket-cloud\"\n    }).then(({ results }) => {\n      setAvailableBranches(results.map((r) => r.id));\n    }).catch(() => {\n      setAvailableBranches([]);\n    });\n  }, [host, workspace, repository, accessToken, scaffolderApi]);\n  useDebounce(updateAvailableBranches, 500, [updateAvailableBranches]);\n  return /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      margin: \"normal\",\n      required,\n      error: rawErrors?.length > 0 && !branch,\n      children: [\n        /* @__PURE__ */ jsx(\n          Autocomplete,\n          {\n            value: branch,\n            onChange: (_, newValue) => {\n              onChange({ branch: newValue || \"\" });\n            },\n            disabled: isDisabled,\n            options: availableBranches,\n            renderInput: (params) => /* @__PURE__ */ jsx(\n              TextField,\n              {\n                ...params,\n                label: \"Branch\",\n                disabled: isDisabled,\n                required\n              }\n            ),\n            freeSolo: true,\n            autoSelect: true\n          }\n        ),\n        /* @__PURE__ */ jsx(FormHelperText, { children: \"The branch of the repository\" })\n      ]\n    }\n  );\n};\n\nexport { BitbucketRepoBranchPicker };\n//# sourceMappingURL=BitbucketRepoBranchPicker.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\n\nconst DefaultRepoBranchPicker = ({\n  onChange,\n  state,\n  rawErrors,\n  isDisabled,\n  required\n}) => {\n  const { branch } = state;\n  return /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      margin: \"normal\",\n      required,\n      error: rawErrors?.length > 0 && !branch,\n      children: [\n        /* @__PURE__ */ jsx(\n          TextField,\n          {\n            id: \"branchInput\",\n            label: \"Branch\",\n            disabled: isDisabled,\n            onChange: (e) => onChange({ branch: e.target.value }),\n            value: branch\n          }\n        ),\n        /* @__PURE__ */ jsx(FormHelperText, { children: \"The branch of the repository\" })\n      ]\n    }\n  );\n};\n\nexport { DefaultRepoBranchPicker };\n//# sourceMappingURL=DefaultRepoBranchPicker.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { scaffolderApiRef } from '@backstage/plugin-scaffolder-react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useState, useCallback } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\n\nconst GitHubRepoBranchPicker = ({\n  onChange,\n  state,\n  rawErrors,\n  accessToken,\n  isDisabled,\n  required\n}) => {\n  const { host, owner, repository, branch } = state;\n  const [availableBranches, setAvailableBranches] = useState([]);\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const updateAvailableBranches = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !owner || !repository || !accessToken || !host) {\n      setAvailableBranches([]);\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"branches\",\n      context: { host, owner, repository },\n      provider: \"github\"\n    }).then(({ results }) => {\n      setAvailableBranches(results.map((r) => r.id));\n    }).catch(() => {\n      setAvailableBranches([]);\n    });\n  }, [host, owner, repository, accessToken, scaffolderApi]);\n  useDebounce(updateAvailableBranches, 500, [updateAvailableBranches]);\n  return /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      margin: \"normal\",\n      required,\n      error: rawErrors?.length > 0 && !branch,\n      children: [\n        /* @__PURE__ */ jsx(\n          Autocomplete,\n          {\n            value: branch,\n            onChange: (_, newValue) => {\n              onChange({ branch: newValue || \"\" });\n            },\n            disabled: isDisabled,\n            options: availableBranches,\n            renderInput: (params) => /* @__PURE__ */ jsx(\n              TextField,\n              {\n                ...params,\n                label: \"Branch\",\n                disabled: isDisabled,\n                required\n              }\n            ),\n            freeSolo: true,\n            autoSelect: true\n          }\n        ),\n        /* @__PURE__ */ jsx(FormHelperText, { children: \"The branch of the repository\" })\n      ]\n    }\n  );\n};\n\nexport { GitHubRepoBranchPicker };\n//# sourceMappingURL=GitHubRepoBranchPicker.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { scmIntegrationsApiRef, scmAuthApiRef } from '@backstage/integration-react';\nimport { useState, useEffect, useCallback } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { useTemplateSecrets } from '@backstage/plugin-scaffolder-react';\nimport Box from '@material-ui/core/Box';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nimport { BitbucketRepoBranchPicker } from './BitbucketRepoBranchPicker.esm.js';\nimport { DefaultRepoBranchPicker } from './DefaultRepoBranchPicker.esm.js';\nimport { GitHubRepoBranchPicker } from './GitHubRepoBranchPicker.esm.js';\nimport { MarkdownContent } from '@backstage/core-components';\n\nconst RepoBranchPicker = (props) => {\n  const {\n    uiSchema,\n    onChange,\n    rawErrors,\n    formData,\n    schema,\n    formContext,\n    required\n  } = props;\n  const {\n    formData: { repoUrl }\n  } = formContext;\n  const [state, setState] = useState({\n    branch: formData || \"\"\n  });\n  const { host, branch } = state;\n  const integrationApi = useApi(scmIntegrationsApiRef);\n  const scmAuthApi = useApi(scmAuthApiRef);\n  const { secrets, setSecrets } = useTemplateSecrets();\n  useDebounce(\n    async () => {\n      const { requestUserCredentials } = uiSchema?.[\"ui:options\"] ?? {};\n      if (!requestUserCredentials || !host) {\n        return;\n      }\n      if (secrets[requestUserCredentials.secretsKey]) {\n        return;\n      }\n      const { token } = await scmAuthApi.getCredentials({\n        url: `https://${host}`,\n        additionalScope: {\n          repoWrite: true,\n          customScopes: requestUserCredentials.additionalScopes\n        }\n      });\n      setSecrets({ [requestUserCredentials.secretsKey]: token });\n    },\n    500,\n    [host, uiSchema]\n  );\n  useEffect(() => {\n    if (repoUrl) {\n      const url = new URL(`https://${repoUrl}`);\n      setState((prevState) => ({\n        ...prevState,\n        host: url.host,\n        workspace: url.searchParams.get(\"workspace\") || \"\",\n        repository: url.searchParams.get(\"repo\") || \"\",\n        owner: url.searchParams.get(\"owner\") || \"\"\n      }));\n    }\n  }, [repoUrl]);\n  useEffect(() => {\n    onChange(branch);\n  }, [branch, onChange]);\n  const updateLocalState = useCallback(\n    (newState) => {\n      setState((prevState) => ({ ...prevState, ...newState }));\n    },\n    [setState]\n  );\n  const hostType = (host && integrationApi.byHost(host)?.type) ?? null;\n  const renderRepoBranchPicker = () => {\n    switch (hostType) {\n      case \"bitbucket\":\n        return /* @__PURE__ */ jsx(\n          BitbucketRepoBranchPicker,\n          {\n            onChange: updateLocalState,\n            state,\n            rawErrors,\n            accessToken: uiSchema?.[\"ui:options\"]?.requestUserCredentials?.secretsKey && secrets[uiSchema[\"ui:options\"].requestUserCredentials.secretsKey],\n            isDisabled: uiSchema?.[\"ui:disabled\"] ?? false,\n            required\n          }\n        );\n      case \"github\":\n        return /* @__PURE__ */ jsx(\n          GitHubRepoBranchPicker,\n          {\n            onChange: updateLocalState,\n            state,\n            rawErrors,\n            accessToken: uiSchema?.[\"ui:options\"]?.requestUserCredentials?.secretsKey && secrets[uiSchema[\"ui:options\"].requestUserCredentials.secretsKey],\n            isDisabled: uiSchema?.[\"ui:disabled\"] ?? false,\n            required\n          }\n        );\n      default:\n        return /* @__PURE__ */ jsx(\n          DefaultRepoBranchPicker,\n          {\n            onChange: updateLocalState,\n            state,\n            rawErrors,\n            isDisabled: uiSchema?.[\"ui:disabled\"] ?? false,\n            required\n          }\n        );\n    }\n  };\n  const description = uiSchema[\"ui:description\"] ?? schema.description;\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    schema.title && /* @__PURE__ */ jsxs(Box, { my: 1, children: [\n      /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: schema.title }),\n      /* @__PURE__ */ jsx(Divider, {})\n    ] }),\n    description && /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: /* @__PURE__ */ jsx(MarkdownContent, { content: description }) }),\n    renderRepoBranchPicker()\n  ] });\n};\n\nexport { RepoBranchPicker };\n//# sourceMappingURL=RepoBranchPicker.esm.js.map\n","import { makeFieldSchema } from '@backstage/plugin-scaffolder-react';\n\nconst RepoBranchPickerFieldSchema = makeFieldSchema({\n  output: (z) => z.string(),\n  uiOptions: (z) => z.object({\n    requestUserCredentials: z.object({\n      secretsKey: z.string().describe(\n        \"Key used within the template secrets context to store the credential\"\n      ),\n      additionalScopes: z.object({\n        gitea: z.array(z.string()).optional().describe(\"Additional Gitea scopes to request\"),\n        gerrit: z.array(z.string()).optional().describe(\"Additional Gerrit scopes to request\"),\n        github: z.array(z.string()).optional().describe(\"Additional GitHub scopes to request\"),\n        gitlab: z.array(z.string()).optional().describe(\"Additional GitLab scopes to request\"),\n        bitbucket: z.array(z.string()).optional().describe(\"Additional BitBucket scopes to request\"),\n        azure: z.array(z.string()).optional().describe(\"Additional Azure scopes to request\")\n      }).optional().describe(\"Additional permission scopes to request\")\n    }).optional().describe(\n      \"If defined will request user credentials to auth against the given SCM platform\"\n    )\n  })\n});\nconst RepoBranchPickerSchema = RepoBranchPickerFieldSchema.schema;\n\nexport { RepoBranchPickerFieldSchema, RepoBranchPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport { Select } from '@backstage/core-components';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst AzureRepoPicker = (props) => {\n  const {\n    allowedOrganizations = [],\n    allowedProject = [],\n    rawErrors,\n    state,\n    onChange,\n    isDisabled\n  } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const organizationItems = allowedOrganizations ? allowedOrganizations.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  const projectItems = allowedProject ? allowedProject.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  const { organization, project } = state;\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(\n      FormControl,\n      {\n        margin: \"normal\",\n        required: true,\n        error: rawErrors?.length > 0 && !organization,\n        children: allowedOrganizations?.length ? /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(\n            Select,\n            {\n              native: true,\n              label: t(\"fields.azureRepoPicker.organization.title\"),\n              onChange: (s) => onChange({ organization: String(Array.isArray(s) ? s[0] : s) }),\n              disabled: isDisabled || allowedOrganizations.length === 1,\n              selected: organization,\n              items: organizationItems\n            }\n          ),\n          /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.azureRepoPicker.organization.description\") })\n        ] }) : /* @__PURE__ */ jsx(\n          TextField,\n          {\n            id: \"orgInput\",\n            label: t(\"fields.azureRepoPicker.organization.title\"),\n            onChange: (e) => onChange({ organization: e.target.value }),\n            helperText: t(\"fields.azureRepoPicker.organization.description\"),\n            disabled: isDisabled,\n            value: organization\n          }\n        )\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      FormControl,\n      {\n        margin: \"normal\",\n        required: true,\n        error: rawErrors?.length > 0 && !project,\n        children: allowedProject?.length ? /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(\n            Select,\n            {\n              native: true,\n              label: t(\"fields.azureRepoPicker.project.title\"),\n              onChange: (s) => onChange({ project: String(Array.isArray(s) ? s[0] : s) }),\n              disabled: isDisabled || allowedProject.length === 1,\n              selected: project,\n              items: projectItems\n            }\n          ),\n          /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.azureRepoPicker.project.description\") })\n        ] }) : /* @__PURE__ */ jsx(\n          TextField,\n          {\n            id: \"projectInput\",\n            label: t(\"fields.azureRepoPicker.project.title\"),\n            onChange: (e) => onChange({ project: e.target.value }),\n            value: project,\n            disabled: isDisabled,\n            helperText: t(\"fields.azureRepoPicker.project.description\")\n          }\n        )\n      }\n    )\n  ] });\n};\n\nexport { AzureRepoPicker };\n//# sourceMappingURL=AzureRepoPicker.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { Select } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderApiRef } from '@backstage/plugin-scaffolder-react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useEffect, useState, useCallback } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst BitbucketRepoPicker = (props) => {\n  const {\n    allowedOwners = [],\n    allowedProjects = [],\n    onChange,\n    rawErrors,\n    state,\n    accessToken,\n    isDisabled\n  } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const { host, workspace, project } = state;\n  const ownerItems = allowedOwners ? allowedOwners?.map((i) => ({ label: i, value: i })) : [];\n  const projectItems = allowedProjects ? allowedProjects?.map((i) => ({ label: i, value: i })) : [];\n  useEffect(() => {\n    if (host === \"bitbucket.org\" && allowedOwners.length) {\n      onChange({ workspace: allowedOwners[0] });\n    }\n  }, [allowedOwners, host, onChange]);\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const [availableWorkspaces, setAvailableWorkspaces] = useState([]);\n  const [availableProjects, setAvailableProjects] = useState([]);\n  const updateAvailableWorkspaces = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !accessToken || host !== \"bitbucket.org\") {\n      setAvailableWorkspaces([]);\n      return;\n    }\n    scaffolderApi.autocomplete({\n      context: {},\n      token: accessToken,\n      resource: \"workspaces\",\n      provider: \"bitbucket-cloud\"\n    }).then(({ results }) => {\n      setAvailableWorkspaces(results.map((r) => r.id));\n    }).catch(() => {\n      setAvailableWorkspaces([]);\n    });\n  }, [scaffolderApi, accessToken, host]);\n  useDebounce(updateAvailableWorkspaces, 500, [updateAvailableWorkspaces]);\n  const updateAvailableProjects = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !accessToken || host !== \"bitbucket.org\" || !workspace) {\n      setAvailableProjects([]);\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"projects\",\n      context: { workspace },\n      provider: \"bitbucket-cloud\"\n    }).then(({ results }) => {\n      setAvailableProjects(results.map((r) => r.id));\n    }).catch(() => {\n      setAvailableProjects([]);\n    });\n  }, [scaffolderApi, accessToken, host, workspace]);\n  useDebounce(updateAvailableProjects, 500, [updateAvailableProjects]);\n  const updateAvailableRepositories = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !accessToken || host !== \"bitbucket.org\" || !workspace || !project) {\n      onChange({ availableRepos: [] });\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"repositories\",\n      context: { workspace, project },\n      provider: \"bitbucket-cloud\"\n    }).then(({ results }) => {\n      onChange({\n        availableRepos: results.map((r) => {\n          return { name: r.id };\n        })\n      });\n    }).catch(() => {\n      onChange({ availableRepos: [] });\n    });\n  }, [scaffolderApi, accessToken, host, workspace, project, onChange]);\n  useDebounce(updateAvailableRepositories, 500, [updateAvailableRepositories]);\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    host === \"bitbucket.org\" && /* @__PURE__ */ jsxs(\n      FormControl,\n      {\n        margin: \"normal\",\n        required: true,\n        error: rawErrors?.length > 0 && !workspace,\n        children: [\n          allowedOwners?.length ? /* @__PURE__ */ jsx(\n            Select,\n            {\n              native: true,\n              label: t(\"fields.bitbucketRepoPicker.workspaces.title\"),\n              onChange: (s) => onChange({ workspace: String(Array.isArray(s) ? s[0] : s) }),\n              disabled: isDisabled || allowedOwners.length === 1,\n              selected: workspace,\n              items: ownerItems\n            }\n          ) : /* @__PURE__ */ jsx(\n            Autocomplete,\n            {\n              value: workspace,\n              onChange: (_, newValue) => {\n                onChange({ workspace: newValue || \"\" });\n              },\n              options: availableWorkspaces,\n              renderInput: (params) => /* @__PURE__ */ jsx(\n                TextField,\n                {\n                  ...params,\n                  label: t(\"fields.bitbucketRepoPicker.workspaces.inputTitle\"),\n                  disabled: isDisabled,\n                  required: true\n                }\n              ),\n              disabled: isDisabled,\n              freeSolo: true,\n              autoSelect: true\n            }\n          ),\n          /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.bitbucketRepoPicker.workspaces.description\") })\n        ]\n      }\n    ),\n    /* @__PURE__ */ jsxs(\n      FormControl,\n      {\n        margin: \"normal\",\n        required: true,\n        error: rawErrors?.length > 0 && !project,\n        children: [\n          allowedProjects?.length ? /* @__PURE__ */ jsx(\n            Select,\n            {\n              native: true,\n              label: t(\"fields.bitbucketRepoPicker.project.title\"),\n              onChange: (s) => onChange({ project: String(Array.isArray(s) ? s[0] : s) }),\n              disabled: isDisabled || allowedProjects.length === 1,\n              selected: project,\n              items: projectItems\n            }\n          ) : /* @__PURE__ */ jsx(\n            Autocomplete,\n            {\n              value: project,\n              onChange: (_, newValue) => {\n                onChange({ project: newValue || \"\" });\n              },\n              options: availableProjects,\n              disabled: isDisabled,\n              renderInput: (params) => /* @__PURE__ */ jsx(\n                TextField,\n                {\n                  ...params,\n                  label: t(\"fields.bitbucketRepoPicker.project.inputTitle\"),\n                  disabled: isDisabled,\n                  required: true\n                }\n              ),\n              freeSolo: true,\n              autoSelect: true\n            }\n          ),\n          /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.bitbucketRepoPicker.project.description\") })\n        ]\n      }\n    )\n  ] });\n};\n\nexport { BitbucketRepoPicker };\n//# sourceMappingURL=BitbucketRepoPicker.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst GerritRepoPicker = (props) => {\n  const { onChange, rawErrors, state, isDisabled } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const { workspace, owner } = state;\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    /* @__PURE__ */ jsx(FormControl, { margin: \"normal\", error: rawErrors?.length > 0 && !workspace, children: /* @__PURE__ */ jsx(\n      TextField,\n      {\n        id: \"ownerInput\",\n        label: t(\"fields.gerritRepoPicker.owner.title\"),\n        onChange: (e) => onChange({ owner: e.target.value }),\n        helperText: t(\"fields.gerritRepoPicker.owner.description\"),\n        disabled: isDisabled,\n        value: owner\n      }\n    ) }),\n    /* @__PURE__ */ jsx(\n      FormControl,\n      {\n        margin: \"normal\",\n        required: true,\n        error: rawErrors?.length > 0 && !workspace,\n        children: /* @__PURE__ */ jsx(\n          TextField,\n          {\n            id: \"parentInput\",\n            label: t(\"fields.gerritRepoPicker.parent.title\"),\n            onChange: (e) => onChange({ workspace: e.target.value }),\n            disabled: isDisabled,\n            value: workspace,\n            helperText: t(\"fields.gerritRepoPicker.parent.description\")\n          }\n        )\n      }\n    )\n  ] });\n};\n\nexport { GerritRepoPicker };\n//# sourceMappingURL=GerritRepoPicker.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport { Select } from '@backstage/core-components';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst GiteaRepoPicker = (props) => {\n  const { allowedOwners = [], state, onChange, rawErrors, isDisabled } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const ownerItems = allowedOwners ? allowedOwners.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  const { owner } = state;\n  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsx(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !owner,\n      children: allowedOwners?.length ? /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(\n          Select,\n          {\n            native: true,\n            label: t(\"fields.giteaRepoPicker.owner.title\"),\n            onChange: (selected) => onChange({\n              owner: String(\n                Array.isArray(selected) ? selected[0] : selected\n              )\n            }),\n            disabled: isDisabled || allowedOwners.length === 1,\n            selected: owner,\n            items: ownerItems\n          }\n        ),\n        /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.giteaRepoPicker.owner.description\") })\n      ] }) : /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsx(\n        TextField,\n        {\n          id: \"ownerInput\",\n          label: t(\"fields.giteaRepoPicker.owner.inputTitle\"),\n          onChange: (e) => onChange({ owner: e.target.value }),\n          helperText: t(\"fields.giteaRepoPicker.owner.description\"),\n          disabled: isDisabled,\n          value: owner\n        }\n      ) })\n    }\n  ) });\n};\n\nexport { GiteaRepoPicker };\n//# sourceMappingURL=GiteaRepoPicker.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { useState, useCallback, useMemo } from 'react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport { Select } from '@backstage/core-components';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { scaffolderApiRef } from '@backstage/plugin-scaffolder-react';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport uniq from 'lodash/uniq';\nimport map from 'lodash/map';\n\nconst GithubRepoPicker = (props) => {\n  const {\n    allowedOwners = [],\n    rawErrors,\n    state,\n    onChange,\n    accessToken,\n    isDisabled\n  } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const ownerItems = allowedOwners ? allowedOwners.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  const { host, owner } = state;\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const [availableRepositoriesWithOwner, setAvailableRepositoriesWithOwner] = useState([]);\n  const updateAvailableRepositoriesWithOwner = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !accessToken || !host) {\n      setAvailableRepositoriesWithOwner([]);\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"repositoriesWithOwner\",\n      provider: \"github\",\n      context: { host }\n    }).then(({ results }) => {\n      setAvailableRepositoriesWithOwner(\n        results.map((r) => {\n          const [rOwner, rName] = r.id.split(\"/\");\n          return { owner: rOwner, name: rName };\n        })\n      );\n    }).catch(() => {\n      setAvailableRepositoriesWithOwner([]);\n    });\n  }, [scaffolderApi, accessToken, host]);\n  useDebounce(updateAvailableRepositoriesWithOwner, 500, [\n    updateAvailableRepositoriesWithOwner\n  ]);\n  const availableOwners = useMemo(\n    () => uniq(map(availableRepositoriesWithOwner, \"owner\")),\n    [availableRepositoriesWithOwner]\n  );\n  const updateAvailableRepositories = useCallback(() => {\n    const availableRepos = availableRepositoriesWithOwner.flatMap(\n      (r) => r.owner === owner ? [{ name: r.name }] : []\n    );\n    onChange({ availableRepos });\n  }, [availableRepositoriesWithOwner, owner, onChange]);\n  useDebounce(updateAvailableRepositories, 500, [updateAvailableRepositories]);\n  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !owner,\n      children: [\n        allowedOwners?.length ? /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsx(\n          Select,\n          {\n            native: true,\n            label: t(\"fields.githubRepoPicker.owner.title\"),\n            onChange: (s) => onChange({ owner: String(Array.isArray(s) ? s[0] : s) }),\n            disabled: isDisabled || allowedOwners.length === 1,\n            selected: owner,\n            items: ownerItems\n          }\n        ) }) : /* @__PURE__ */ jsx(\n          Autocomplete,\n          {\n            value: owner,\n            onChange: (_, newValue) => {\n              onChange({ owner: newValue || \"\" });\n            },\n            options: availableOwners,\n            renderInput: (params) => /* @__PURE__ */ jsx(\n              TextField,\n              {\n                ...params,\n                label: t(\"fields.githubRepoPicker.owner.inputTitle\"),\n                disabled: isDisabled,\n                required: true\n              }\n            ),\n            freeSolo: true,\n            disabled: isDisabled,\n            autoSelect: true\n          }\n        ),\n        /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.githubRepoPicker.owner.description\") })\n      ]\n    }\n  ) });\n};\n\nexport { GithubRepoPicker };\n//# sourceMappingURL=GithubRepoPicker.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { Select } from '@backstage/core-components';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderApiRef } from '@backstage/plugin-scaffolder-react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useState, useCallback } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst GitlabRepoPicker = (props) => {\n  const {\n    allowedOwners = [],\n    state,\n    onChange,\n    rawErrors,\n    accessToken,\n    isDisabled\n  } = props;\n  const [availableGroups, setAvailableGroups] = useState([]);\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const ownerItems = allowedOwners ? allowedOwners.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  const { owner, host } = state;\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const updateAvailableGroups = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !accessToken || !host) {\n      setAvailableGroups([]);\n      return;\n    }\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"groups\",\n      provider: \"gitlab\",\n      context: { host }\n    }).then(({ results }) => {\n      setAvailableGroups(\n        results.map((r) => {\n          return {\n            title: r.title,\n            id: r.id\n          };\n        })\n      );\n    }).catch(() => {\n      setAvailableGroups([]);\n    });\n  }, [scaffolderApi, accessToken, host]);\n  useDebounce(updateAvailableGroups, 500, [updateAvailableGroups]);\n  const updateAvailableRepositories = useCallback(() => {\n    if (!scaffolderApi.autocomplete || !accessToken || !host || !owner) {\n      onChange({ availableRepos: [] });\n      return;\n    }\n    const selectedGroup = availableGroups.find((group) => group.title === owner);\n    scaffolderApi.autocomplete({\n      token: accessToken,\n      resource: \"repositories\",\n      context: {\n        id: selectedGroup?.id ?? \"\",\n        host\n      },\n      provider: \"gitlab\"\n    }).then(({ results }) => {\n      onChange({\n        availableRepos: results.map((r) => {\n          return { name: r.title, id: r.id };\n        })\n      });\n    }).catch(() => {\n      onChange({ availableRepos: [] });\n    });\n  }, [scaffolderApi, accessToken, host, owner, onChange, availableGroups]);\n  useDebounce(updateAvailableRepositories, 500, [updateAvailableRepositories]);\n  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsx(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !owner,\n      children: allowedOwners?.length ? /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(\n          Select,\n          {\n            native: true,\n            label: t(\"fields.gitlabRepoPicker.owner.title\"),\n            onChange: (selected) => onChange({\n              owner: String(\n                Array.isArray(selected) ? selected[0] : selected\n              )\n            }),\n            disabled: isDisabled || allowedOwners.length === 1,\n            selected: owner,\n            items: ownerItems\n          }\n        ),\n        /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.gitlabRepoPicker.owner.description\") })\n      ] }) : /* @__PURE__ */ jsx(\n        Autocomplete,\n        {\n          value: owner,\n          onChange: (_, newValue) => {\n            onChange({ owner: newValue || \"\" });\n          },\n          options: availableGroups.map((group) => group.title),\n          renderInput: (params) => /* @__PURE__ */ jsx(\n            TextField,\n            {\n              ...params,\n              label: t(\"fields.gitlabRepoPicker.owner.title\"),\n              disabled: isDisabled,\n              required: true\n            }\n          ),\n          freeSolo: true,\n          disabled: isDisabled,\n          autoSelect: true\n        }\n      )\n    }\n  ) });\n};\n\nexport { GitlabRepoPicker };\n//# sourceMappingURL=GitlabRepoPicker.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { useEffect } from 'react';\nimport { Progress, Select } from '@backstage/core-components';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { scaffolderApiRef } from '@backstage/plugin-scaffolder-react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst RepoUrlPickerHost = (props) => {\n  const { host, hosts, onChange, rawErrors, isDisabled } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const { value: { integrations } = { integrations: [] }, loading } = useAsync(\n    async () => {\n      return await scaffolderApi.getIntegrationsList({\n        allowedHosts: hosts ?? []\n      });\n    }\n  );\n  useEffect(() => {\n    if (!host) {\n      if (hosts?.length) {\n        onChange(hosts[0]);\n      } else if (integrations?.length) {\n        onChange(integrations[0].host);\n      }\n    }\n  }, [hosts, host, onChange, integrations]);\n  const hostsOptions = integrations ? integrations.filter((i) => hosts?.length ? hosts?.includes(i.host) : true).map((i) => ({ label: i.title, value: i.host })) : [{ label: \"Loading...\", value: \"loading\" }];\n  if (loading) {\n    return /* @__PURE__ */ jsx(Progress, {});\n  }\n  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !host,\n      children: [\n        /* @__PURE__ */ jsx(\n          Select,\n          {\n            native: true,\n            disabled: isDisabled || hosts?.length === 1,\n            label: t(\"fields.repoUrlPicker.host.title\"),\n            onChange: (s) => onChange(String(Array.isArray(s) ? s[0] : s)),\n            selected: host,\n            items: hostsOptions,\n            \"data-testid\": \"host-select\"\n          }\n        ),\n        /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.repoUrlPicker.host.description\") })\n      ]\n    }\n  ) });\n};\n\nexport { RepoUrlPickerHost };\n//# sourceMappingURL=RepoUrlPickerHost.esm.js.map\n","import { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { Select } from '@backstage/core-components';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useEffect } from 'react';\nimport { scaffolderTranslationRef } from '../../../translation.esm.js';\n\nconst RepoUrlPickerRepoName = (props) => {\n  const {\n    repoName,\n    allowedRepos,\n    onChange,\n    rawErrors,\n    availableRepos,\n    isDisabled\n  } = props;\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  useEffect(() => {\n    if (!repoName) {\n      if (allowedRepos?.length) {\n        onChange({ name: allowedRepos[0] });\n      }\n    }\n  }, [allowedRepos, repoName, onChange]);\n  const repoItems = allowedRepos ? allowedRepos.map((i) => ({ label: i, value: i })) : [{ label: \"Loading...\", value: \"loading\" }];\n  return /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      margin: \"normal\",\n      required: true,\n      error: rawErrors?.length > 0 && !repoName,\n      children: [\n        allowedRepos?.length ? /* @__PURE__ */ jsx(\n          Select,\n          {\n            native: true,\n            label: t(\"fields.repoUrlPicker.repository.title\"),\n            onChange: (selected) => onChange({\n              name: String(Array.isArray(selected) ? selected[0] : selected)\n            }),\n            disabled: isDisabled || allowedRepos.length === 1,\n            selected: repoName,\n            items: repoItems\n          }\n        ) : /* @__PURE__ */ jsx(\n          Autocomplete,\n          {\n            value: repoName,\n            onInputChange: (_, newValue) => {\n              const selectedRepo = availableRepos?.find(\n                (r) => r.name === newValue\n              );\n              onChange(selectedRepo || { name: newValue || \"\" });\n            },\n            options: (availableRepos || []).map((r) => r.name),\n            renderInput: (params) => /* @__PURE__ */ jsx(\n              TextField,\n              {\n                ...params,\n                label: t(\"fields.repoUrlPicker.repository.inputTitle\"),\n                required: true\n              }\n            ),\n            freeSolo: true,\n            autoSelect: true,\n            disabled: isDisabled\n          }\n        ),\n        /* @__PURE__ */ jsx(FormHelperText, { children: t(\"fields.repoUrlPicker.repository.description\") })\n      ]\n    }\n  ) });\n};\n\nexport { RepoUrlPickerRepoName };\n//# sourceMappingURL=RepoUrlPickerRepoName.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { scmIntegrationsApiRef, scmAuthApiRef } from '@backstage/integration-react';\nimport { useTemplateSecrets } from '@backstage/plugin-scaffolder-react';\nimport Box from '@material-ui/core/Box';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nimport { useState, useMemo, useEffect, useCallback } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { AzureRepoPicker } from './AzureRepoPicker.esm.js';\nimport { BitbucketRepoPicker } from './BitbucketRepoPicker.esm.js';\nimport { GerritRepoPicker } from './GerritRepoPicker.esm.js';\nimport { GiteaRepoPicker } from './GiteaRepoPicker.esm.js';\nimport { GithubRepoPicker } from './GithubRepoPicker.esm.js';\nimport { GitlabRepoPicker } from './GitlabRepoPicker.esm.js';\nimport { RepoUrlPickerHost } from './RepoUrlPickerHost.esm.js';\nimport { RepoUrlPickerRepoName } from './RepoUrlPickerRepoName.esm.js';\nimport { parseRepoPickerUrl, serializeRepoPickerUrl } from './utils.esm.js';\nimport { MarkdownContent } from '@backstage/core-components';\nexport { RepoUrlPickerSchema } from './schema.esm.js';\n\nconst RepoUrlPicker = (props) => {\n  const { uiSchema, onChange, rawErrors, formData, schema } = props;\n  const [state, setState] = useState(\n    parseRepoPickerUrl(formData)\n  );\n  const [credentialsHost, setCredentialsHost] = useState(\n    void 0\n  );\n  const integrationApi = useApi(scmIntegrationsApiRef);\n  const scmAuthApi = useApi(scmAuthApiRef);\n  const { secrets, setSecrets } = useTemplateSecrets();\n  const allowedHosts = useMemo(\n    () => uiSchema?.[\"ui:options\"]?.allowedHosts ?? [],\n    [uiSchema]\n  );\n  const allowedOrganizations = useMemo(\n    () => uiSchema?.[\"ui:options\"]?.allowedOrganizations ?? [],\n    [uiSchema]\n  );\n  const allowedOwners = useMemo(\n    () => uiSchema?.[\"ui:options\"]?.allowedOwners ?? [],\n    [uiSchema]\n  );\n  const allowedProjects = useMemo(\n    () => uiSchema?.[\"ui:options\"]?.allowedProjects ?? [],\n    [uiSchema]\n  );\n  const allowedRepos = useMemo(\n    () => uiSchema?.[\"ui:options\"]?.allowedRepos ?? [],\n    [uiSchema]\n  );\n  const isDisabled = useMemo(\n    () => uiSchema?.[\"ui:disabled\"] ?? false,\n    [uiSchema]\n  );\n  const { owner, organization, project, repoName } = state;\n  useEffect(() => {\n    onChange(serializeRepoPickerUrl(state));\n  }, [state, onChange]);\n  useEffect(() => {\n    if (allowedOrganizations.length > 0 && !organization) {\n      setState((prevState) => ({\n        ...prevState,\n        organization: allowedOrganizations[0]\n      }));\n    }\n  }, [setState, allowedOrganizations, organization]);\n  useEffect(() => {\n    if (allowedOwners.length > 0 && !owner) {\n      setState((prevState) => ({\n        ...prevState,\n        owner: allowedOwners[0]\n      }));\n    }\n  }, [setState, allowedOwners, owner]);\n  useEffect(() => {\n    if (allowedProjects.length > 0 && !project) {\n      setState((prevState) => ({\n        ...prevState,\n        project: allowedProjects[0]\n      }));\n    }\n  }, [setState, allowedProjects, project]);\n  useEffect(() => {\n    if (allowedRepos.length > 0 && !repoName) {\n      setState((prevState) => ({ ...prevState, repoName: allowedRepos[0] }));\n    }\n  }, [setState, allowedRepos, repoName]);\n  const updateLocalState = useCallback(\n    (newState) => {\n      setState((prevState) => ({ ...prevState, ...newState }));\n    },\n    [setState]\n  );\n  useDebounce(\n    async () => {\n      const { requestUserCredentials } = uiSchema?.[\"ui:options\"] ?? {};\n      if (!requestUserCredentials || !state.host) {\n        return;\n      }\n      if (secrets[requestUserCredentials.secretsKey] && credentialsHost === state.host) {\n        return;\n      }\n      const { token } = await scmAuthApi.getCredentials({\n        url: `https://${state.host}`,\n        additionalScope: {\n          repoWrite: true,\n          customScopes: requestUserCredentials.additionalScopes\n        }\n      });\n      setSecrets({ [requestUserCredentials.secretsKey]: token });\n      setCredentialsHost(state.host);\n    },\n    500,\n    [state, uiSchema]\n  );\n  const hostType = (state.host && integrationApi.byHost(state.host)?.type) ?? null;\n  const description = uiSchema[\"ui:description\"] ?? schema.description;\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    schema.title && /* @__PURE__ */ jsxs(Box, { my: 1, children: [\n      /* @__PURE__ */ jsx(Typography, { variant: \"h5\", children: schema.title }),\n      /* @__PURE__ */ jsx(Divider, {})\n    ] }),\n    description && /* @__PURE__ */ jsx(Typography, { variant: \"body1\", children: /* @__PURE__ */ jsx(MarkdownContent, { content: description }) }),\n    /* @__PURE__ */ jsx(\n      RepoUrlPickerHost,\n      {\n        host: state.host,\n        hosts: allowedHosts,\n        onChange: (host) => setState((prevState) => ({ ...prevState, host })),\n        rawErrors,\n        isDisabled\n      }\n    ),\n    hostType === \"github\" && /* @__PURE__ */ jsx(\n      GithubRepoPicker,\n      {\n        allowedOwners,\n        onChange: updateLocalState,\n        rawErrors,\n        state,\n        isDisabled,\n        accessToken: uiSchema?.[\"ui:options\"]?.requestUserCredentials?.secretsKey && secrets[uiSchema[\"ui:options\"].requestUserCredentials.secretsKey]\n      }\n    ),\n    hostType === \"gitea\" && /* @__PURE__ */ jsx(\n      GiteaRepoPicker,\n      {\n        allowedOwners,\n        allowedRepos,\n        rawErrors,\n        state,\n        isDisabled,\n        onChange: updateLocalState\n      }\n    ),\n    hostType === \"gitlab\" && /* @__PURE__ */ jsx(\n      GitlabRepoPicker,\n      {\n        allowedOwners,\n        rawErrors,\n        state,\n        onChange: updateLocalState,\n        isDisabled,\n        accessToken: uiSchema?.[\"ui:options\"]?.requestUserCredentials?.secretsKey && secrets[uiSchema[\"ui:options\"].requestUserCredentials.secretsKey]\n      }\n    ),\n    hostType === \"bitbucket\" && /* @__PURE__ */ jsx(\n      BitbucketRepoPicker,\n      {\n        allowedOwners,\n        allowedProjects,\n        rawErrors,\n        state,\n        onChange: updateLocalState,\n        isDisabled,\n        accessToken: uiSchema?.[\"ui:options\"]?.requestUserCredentials?.secretsKey && secrets[uiSchema[\"ui:options\"].requestUserCredentials.secretsKey]\n      }\n    ),\n    hostType === \"azure\" && /* @__PURE__ */ jsx(\n      AzureRepoPicker,\n      {\n        allowedOrganizations,\n        allowedProject: allowedProjects,\n        rawErrors,\n        state,\n        isDisabled,\n        onChange: updateLocalState\n      }\n    ),\n    hostType === \"gerrit\" && /* @__PURE__ */ jsx(\n      GerritRepoPicker,\n      {\n        rawErrors,\n        state,\n        onChange: updateLocalState,\n        isDisabled\n      }\n    ),\n    /* @__PURE__ */ jsx(\n      RepoUrlPickerRepoName,\n      {\n        repoName: state.repoName,\n        allowedRepos,\n        onChange: (repo) => setState((prevState) => ({\n          ...prevState,\n          repoName: repo.id || repo.name\n        })),\n        isDisabled,\n        rawErrors,\n        availableRepos: state.availableRepos\n      }\n    )\n  ] });\n};\n\nexport { RepoUrlPicker };\n//# sourceMappingURL=RepoUrlPicker.esm.js.map\n","function serializeRepoPickerUrl(data) {\n  if (!data.host) {\n    return void 0;\n  }\n  const params = new URLSearchParams();\n  if (data.owner) {\n    params.set(\"owner\", data.owner);\n  }\n  if (data.repoName) {\n    params.set(\"repo\", data.repoName);\n  }\n  if (data.organization) {\n    params.set(\"organization\", data.organization);\n  }\n  if (data.workspace) {\n    params.set(\"workspace\", data.workspace);\n  }\n  if (data.project) {\n    params.set(\"project\", data.project);\n  }\n  return `${data.host}?${params.toString()}`;\n}\nfunction parseRepoPickerUrl(url) {\n  let host = \"\";\n  let owner = \"\";\n  let repoName = \"\";\n  let organization = \"\";\n  let workspace = \"\";\n  let project = \"\";\n  try {\n    if (url) {\n      const parsed = new URL(`https://${url}`);\n      host = parsed.host;\n      owner = parsed.searchParams.get(\"owner\") || \"\";\n      repoName = parsed.searchParams.get(\"repo\") || \"\";\n      organization = parsed.searchParams.get(\"organization\") || \"\";\n      workspace = parsed.searchParams.get(\"workspace\") || \"\";\n      project = parsed.searchParams.get(\"project\") || \"\";\n    }\n  } catch {\n  }\n  return { host, owner, repoName, organization, workspace, project };\n}\n\nexport { parseRepoPickerUrl, serializeRepoPickerUrl };\n//# sourceMappingURL=utils.esm.js.map\n","import { makeFieldSchema } from '@backstage/plugin-scaffolder-react';\n\nconst RepoUrlPickerFieldSchema = makeFieldSchema({\n  output: (z) => z.string(),\n  uiOptions: (z) => z.object({\n    allowedHosts: z.array(z.string()).optional().describe(\"List of allowed SCM platform hosts\"),\n    allowedOrganizations: z.array(z.string()).optional().describe(\"List of allowed organizations in the given SCM platform\"),\n    allowedOwners: z.array(z.string()).optional().describe(\"List of allowed owners in the given SCM platform\"),\n    allowedProjects: z.array(z.string()).optional().describe(\"List of allowed projects in the given SCM platform\"),\n    allowedRepos: z.array(z.string()).optional().describe(\"List of allowed repos in the given SCM platform\"),\n    requestUserCredentials: z.object({\n      secretsKey: z.string().describe(\n        \"Key used within the template secrets context to store the credential\"\n      ),\n      additionalScopes: z.object({\n        gitea: z.array(z.string()).optional().describe(\"Additional Gitea scopes to request\"),\n        gerrit: z.array(z.string()).optional().describe(\"Additional Gerrit scopes to request\"),\n        github: z.array(z.string()).optional().describe(\"Additional GitHub scopes to request\"),\n        gitlab: z.array(z.string()).optional().describe(\"Additional GitLab scopes to request\"),\n        bitbucket: z.array(z.string()).optional().describe(\"Additional BitBucket scopes to request\"),\n        azure: z.array(z.string()).optional().describe(\"Additional Azure scopes to request\")\n      }).optional().describe(\"Additional permission scopes to request\")\n    }).optional().describe(\n      \"If defined will request user credentials to auth against the given SCM platform\"\n    )\n  })\n});\nconst RepoUrlPickerSchema = RepoUrlPickerFieldSchema.schema;\n\nexport { RepoUrlPickerFieldSchema, RepoUrlPickerSchema };\n//# sourceMappingURL=schema.esm.js.map\n","import { scmIntegrationsApiRef } from '@backstage/integration-react';\n\nconst repoPickerValidation = (value, validation, context) => {\n  try {\n    const { host, searchParams } = new URL(`https://${value}`);\n    const integrationApi = context.apiHolder.get(scmIntegrationsApiRef);\n    if (!host) {\n      validation.addError(\n        \"Incomplete repository location provided, host not provided\"\n      );\n    } else {\n      if (integrationApi?.byHost(host)?.type === \"bitbucket\") {\n        if (host === \"bitbucket.org\" && !searchParams.get(\"workspace\")) {\n          validation.addError(\n            \"Incomplete repository location provided, workspace not provided\"\n          );\n        }\n        if (!searchParams.get(\"project\")) {\n          validation.addError(\n            \"Incomplete repository location provided, project not provided\"\n          );\n        }\n      } else if (integrationApi?.byHost(host)?.type === \"azure\") {\n        if (!searchParams.get(\"project\")) {\n          validation.addError(\n            \"Incomplete repository location provided, project not provided\"\n          );\n        }\n      } else if (integrationApi?.byHost(host)?.type !== \"gerrit\") {\n        if (!searchParams.get(\"owner\")) {\n          validation.addError(\n            \"Incomplete repository location provided, owner not provided\"\n          );\n        }\n      }\n      if (!searchParams.get(\"repo\")) {\n        validation.addError(\n          \"Incomplete repository location provided, repo not provided\"\n        );\n      }\n    }\n  } catch {\n    validation.addError(\"Unable to parse the Repository URL\");\n  }\n};\n\nexport { repoPickerValidation };\n//# sourceMappingURL=validation.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { createContext, forwardRef, useContext, Children, cloneElement } from 'react';\nimport { FixedSizeList } from 'react-window';\n\nconst renderRow = (props) => {\n  const { data, index, style } = props;\n  return cloneElement(data[index], { style });\n};\nconst OuterElementContext = createContext({});\nconst OuterElementType = forwardRef(\n  (props, ref) => {\n    const outerProps = useContext(OuterElementContext);\n    return /* @__PURE__ */ jsx(\"div\", { ref, ...props, ...outerProps });\n  }\n);\nconst VirtualizedListbox = forwardRef(\n  (props, ref) => {\n    const { children, ...other } = props;\n    const itemData = Children.toArray(children);\n    const itemCount = itemData.length;\n    const itemSize = 36;\n    const itemsToShow = Math.min(10, itemCount) + 0.5;\n    const height = itemsToShow * itemSize;\n    return /* @__PURE__ */ jsx(\"div\", { ref, children: /* @__PURE__ */ jsx(OuterElementContext.Provider, { value: other, children: /* @__PURE__ */ jsx(\n      FixedSizeList,\n      {\n        height,\n        itemData,\n        itemCount,\n        itemSize,\n        outerElementType: OuterElementType,\n        width: \"100%\",\n        children: renderRow\n      }\n    ) }) });\n  }\n);\n\nexport { VirtualizedListbox };\n//# sourceMappingURL=VirtualizedListbox.esm.js.map\n","import { OpaqueExtensionInput } from '../frontend-internal/src/wiring/InternalExtensionInput.esm.js';\n\nfunction createExtensionInput(extensionData, config) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (Array.isArray(extensionData)) {\n      const seen = /* @__PURE__ */ new Set();\n      const duplicates = [];\n      for (const dataRef of extensionData) {\n        if (seen.has(dataRef.id)) {\n          duplicates.push(dataRef.id);\n        } else {\n          seen.add(dataRef.id);\n        }\n      }\n      if (duplicates.length > 0) {\n        throw new Error(\n          `ExtensionInput may not have duplicate data refs: '${duplicates.join(\n            \"', '\"\n          )}'`\n        );\n      }\n    }\n  }\n  const baseOptions = {\n    extensionData,\n    config: {\n      singleton: Boolean(config?.singleton),\n      optional: Boolean(config?.optional)\n    },\n    replaces: config?.replaces\n  };\n  function createInstance(parent) {\n    return OpaqueExtensionInput.createInstance(void 0, {\n      ...baseOptions,\n      context: parent,\n      withContext: createInstance\n    });\n  }\n  return createInstance();\n}\n\nexport { createExtensionInput };\n//# sourceMappingURL=createExtensionInput.esm.js.map\n","const pluginId = \"scaffolder\";\n\nexport { pluginId };\n//# sourceMappingURL=pluginId.esm.js.map\n","import crossFetch from 'cross-fetch';\nimport { pluginId } from '../pluginId.esm.js';\nimport * as parser from 'uri-template';\n\nclass DefaultApiClient {\n  discoveryApi;\n  fetchApi;\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi || { fetch: crossFetch };\n  }\n  /**\n   * Perform an autocomplete for the given provider and resource.\n   * @param provider -\n   * @param resource -\n   * @param autocompleteRequest -\n   */\n  async autocomplete(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/v2/autocomplete/{provider}/{resource}`;\n    const uri = parser.parse(uriTemplate).expand({\n      provider: request.path.provider,\n      resource: request.path.resource\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Sends a signal to a task broker to cancel the running task by taskId.\n   * @param taskId -\n   */\n  async cancelTask(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/v2/tasks/{taskId}/cancel`;\n    const uri = parser.parse(uriTemplate).expand({\n      taskId: request.path.taskId\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\"\n    });\n  }\n  /**\n   * Perform a dry-run of a template\n   * @param dryRunRequest -\n   */\n  async dryRun(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/v2/dry-run`;\n    const uri = parser.parse(uriTemplate).expand({});\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Get a task by ID.\n   * @param taskId -\n   */\n  async getTask(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/v2/tasks/{taskId}`;\n    const uri = parser.parse(uriTemplate).expand({\n      taskId: request.path.taskId\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Get template parameter schema.\n   * @param namespace -\n   * @param kind -\n   * @param name -\n   */\n  async getTemplateParameterSchema(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/v2/templates/{namespace}/{kind}/{name}/parameter-schema`;\n    const uri = parser.parse(uriTemplate).expand({\n      namespace: request.path.namespace,\n      kind: request.path.kind,\n      name: request.path.name\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Returns a list of all installed actions.\n   */\n  async listActions(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/v2/actions`;\n    const uri = parser.parse(uriTemplate).expand({});\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Returns a list of tasks, filtering by ownership and/or status if given.\n   * @param createdBy - Created by\n   * @param limit - Number of records to return in the response.\n   * @param offset - Number of records to skip in the query page.\n   * @param order - Order\n   * @param status - Status\n   */\n  async listTasks(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/v2/tasks{?createdBy*,limit,offset,order*,status*}`;\n    const uri = parser.parse(uriTemplate).expand({\n      ...request.query\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Returns a structure describing the available templating extensions.\n   */\n  async listTemplatingExtensions(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/v2/templating-extensions`;\n    const uri = parser.parse(uriTemplate).expand({});\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n  /**\n   * Starts the task again from the point where it failed.\n   * @param taskId -\n   * @param retryRequest -\n   */\n  async retry(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/v2/tasks/{taskId}/retry`;\n    const uri = parser.parse(uriTemplate).expand({\n      taskId: request.path.taskId\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Executes the scaffolding of a component, given a template and its parameter values.\n   * @param scaffolderScaffoldOptions -\n   */\n  async scaffold(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/v2/tasks`;\n    const uri = parser.parse(uriTemplate).expand({});\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"POST\",\n      body: JSON.stringify(request.body)\n    });\n  }\n  /**\n   * Get events for a task by ID.\n   * @param taskId -\n   * @param after - Offset event ID to stream events after.\n   */\n  async streamLogsPolling(request, options) {\n    const baseUrl = await this.discoveryApi.getBaseUrl(pluginId);\n    const uriTemplate = `/v2/tasks/{taskId}/events{?after}`;\n    const uri = parser.parse(uriTemplate).expand({\n      taskId: request.path.taskId,\n      ...request.query\n    });\n    return await this.fetchApi.fetch(`${baseUrl}${uri}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options?.token && { Authorization: `Bearer ${options?.token}` }\n      },\n      method: \"GET\"\n    });\n  }\n}\n\nexport { DefaultApiClient };\n//# sourceMappingURL=Api.client.esm.js.map\n","import { parseEntityRef } from '@backstage/catalog-model';\nimport { ResponseError } from '@backstage/errors';\nimport { fetchEventSource } from '@microsoft/fetch-event-source';\nimport ObservableImpl from 'zen-observable';\nimport { DefaultApiClient } from './schema/openapi/generated/apis/Api.client.esm.js';\n\nclass ScaffolderClient {\n  apiClient;\n  discoveryApi;\n  scmIntegrationsApi;\n  fetchApi;\n  identityApi;\n  useLongPollingLogs;\n  constructor(options) {\n    this.apiClient = new DefaultApiClient(options);\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi ?? { fetch };\n    this.scmIntegrationsApi = options.scmIntegrationsApi;\n    this.useLongPollingLogs = options.useLongPollingLogs ?? false;\n    this.identityApi = options.identityApi;\n  }\n  /**\n   * {@inheritdoc ScaffolderApi.listTasks}\n   */\n  async listTasks(request, options) {\n    if (!this.identityApi) {\n      throw new Error(\n        \"IdentityApi is not available in the ScaffolderClient, please pass through the IdentityApi to the ScaffolderClient constructor in order to use the listTasks method\"\n      );\n    }\n    const { userEntityRef } = await this.identityApi.getBackstageIdentity();\n    return await this.requestRequired(\n      await this.apiClient.listTasks(\n        {\n          query: {\n            createdBy: request.filterByOwnership === \"owned\" ? [userEntityRef] : void 0,\n            limit: request.limit,\n            offset: request.offset\n          }\n        },\n        options\n      )\n    );\n  }\n  async getIntegrationsList(options) {\n    const integrations = [\n      ...this.scmIntegrationsApi.azure.list(),\n      ...this.scmIntegrationsApi.bitbucket.list().filter(\n        (item) => !this.scmIntegrationsApi.bitbucketCloud.byHost(item.config.host) && !this.scmIntegrationsApi.bitbucketServer.byHost(item.config.host)\n      ),\n      ...this.scmIntegrationsApi.bitbucketCloud.list(),\n      ...this.scmIntegrationsApi.bitbucketServer.list(),\n      ...this.scmIntegrationsApi.gerrit.list(),\n      ...this.scmIntegrationsApi.gitea.list(),\n      ...this.scmIntegrationsApi.github.list(),\n      ...this.scmIntegrationsApi.gitlab.list()\n    ].map((c) => ({ type: c.type, title: c.title, host: c.config.host })).filter((c) => options.allowedHosts.includes(c.host));\n    return {\n      integrations\n    };\n  }\n  /**\n   * {@inheritdoc ScaffolderApi.getTemplateParameterSchema}\n   */\n  async getTemplateParameterSchema(templateRef, options) {\n    return await this.requestRequired(\n      await this.apiClient.getTemplateParameterSchema(\n        {\n          path: parseEntityRef(templateRef, {\n            defaultKind: \"template\"\n          })\n        },\n        options\n      )\n    );\n  }\n  /**\n   * {@inheritdoc ScaffolderApi.scaffold}\n   */\n  async scaffold(request, options) {\n    const response = await this.apiClient.scaffold(\n      {\n        body: request\n      },\n      options\n    );\n    if (response.status !== 201) {\n      const status = `${response.status} ${response.statusText}`;\n      const body = await response.text();\n      throw new Error(`Backend request failed, ${status} ${body.trim()}`);\n    }\n    const { id } = await response.json();\n    return { taskId: id };\n  }\n  /**\n   * {@inheritdoc ScaffolderApi.getTask}\n   */\n  async getTask(taskId, options) {\n    return await this.requestRequired(\n      await this.apiClient.getTask(\n        {\n          path: { taskId }\n        },\n        options\n      )\n    );\n  }\n  /**\n   * {@inheritdoc ScaffolderApi.streamLogs}\n   */\n  streamLogs(request, options) {\n    if (this.useLongPollingLogs) {\n      return this.streamLogsPolling(request, options);\n    }\n    return this.streamLogsEventStream(request);\n  }\n  /**\n   * {@inheritdoc ScaffolderApi.dryRun}\n   */\n  async dryRun(request, options) {\n    return await this.requestRequired(\n      await this.apiClient.dryRun(\n        {\n          body: {\n            template: request.template,\n            values: request.values,\n            secrets: request.secrets,\n            directoryContents: request.directoryContents\n          }\n        },\n        options\n      )\n    );\n  }\n  streamLogsEventStream({\n    isTaskRecoverable,\n    taskId,\n    after\n  }) {\n    return new ObservableImpl((subscriber) => {\n      const params = new URLSearchParams();\n      if (after !== void 0) {\n        params.set(\"after\", String(Number(after)));\n      }\n      this.discoveryApi.getBaseUrl(\"scaffolder\").then(\n        (baseUrl) => {\n          const url = `${baseUrl}/v2/tasks/${encodeURIComponent(\n            taskId\n          )}/eventstream`;\n          const processEvent = (event) => {\n            if (event.data) {\n              try {\n                subscriber.next(JSON.parse(event.data));\n              } catch (ex) {\n                subscriber.error(ex);\n              }\n            }\n          };\n          const ctrl = new AbortController();\n          void fetchEventSource(url, {\n            fetch: this.fetchApi.fetch,\n            signal: ctrl.signal,\n            onmessage(e) {\n              if (e.event === \"log\") {\n                processEvent(e);\n                return;\n              } else if (e.event === \"completion\" && !isTaskRecoverable) {\n                processEvent(e);\n                subscriber.complete();\n                ctrl.abort();\n                return;\n              }\n              processEvent(e);\n            },\n            onerror(err) {\n              subscriber.error(err);\n            }\n          });\n        },\n        (error) => {\n          subscriber.error(error);\n        }\n      );\n    });\n  }\n  streamLogsPolling({\n    taskId,\n    after: inputAfter\n  }, options) {\n    let after = inputAfter;\n    return new ObservableImpl((subscriber) => {\n      (async () => {\n        while (!subscriber.closed) {\n          const response = await this.apiClient.streamLogsPolling(\n            {\n              path: { taskId },\n              query: { after }\n            },\n            options\n          );\n          if (!response.ok) {\n            await new Promise((resolve) => setTimeout(resolve, 1e3));\n            continue;\n          }\n          const logs = await response.json();\n          for (const event of logs) {\n            after = Number(event.id);\n            subscriber.next(event);\n            if (event.type === \"completion\") {\n              subscriber.complete();\n              return;\n            }\n          }\n        }\n      })();\n    });\n  }\n  /**\n   * {@inheritdoc ScaffolderApi.listActions}\n   */\n  async listActions(options) {\n    return await this.requestRequired(\n      await this.apiClient.listActions(null, options)\n    );\n  }\n  /**\n   * {@inheritdoc ScaffolderApi.listTemplatingExtensions}\n   */\n  async listTemplatingExtensions(options) {\n    return await this.requestRequired(\n      await this.apiClient.listTemplatingExtensions(null, options)\n    );\n  }\n  /**\n   * {@inheritdoc ScaffolderApi.cancelTask}\n   */\n  async cancelTask(taskId, options) {\n    return await this.requestRequired(\n      await this.apiClient.cancelTask({ path: { taskId } }, options)\n    );\n  }\n  /**\n   * {@inheritdoc ScaffolderApi.retry}\n   */\n  async retry(taskId, options) {\n    return await this.requestRequired(\n      await this.apiClient.retry({ body: {}, path: { taskId } }, options)\n    );\n  }\n  /**\n   * {@inheritdoc ScaffolderApi.retry}\n   */\n  async autocomplete({\n    token,\n    resource,\n    provider,\n    context\n  }) {\n    return await this.requestRequired(\n      await this.apiClient.autocomplete({\n        path: { provider, resource },\n        body: { token, context }\n      })\n    );\n  }\n  //\n  // Private methods\n  //\n  async requestRequired(response) {\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return response.json();\n  }\n}\n\nexport { ScaffolderClient };\n//# sourceMappingURL=ScaffolderClient.esm.js.map\n","import { ScaffolderClient as ScaffolderClient$1 } from '@backstage/plugin-scaffolder-common';\n\nclass ScaffolderClient extends ScaffolderClient$1 {\n}\n\nexport { ScaffolderClient };\n//# sourceMappingURL=api.esm.js.map\n","function createExtensionDataRef() {\n  const createRef = (refId) => Object.assign(\n    (value) => ({\n      $$type: \"@backstage/ExtensionDataValue\",\n      id: refId,\n      value\n    }),\n    {\n      id: refId,\n      $$type: \"@backstage/ExtensionDataRef\",\n      config: {},\n      optional() {\n        return {\n          ...this,\n          config: { ...this.config, optional: true }\n        };\n      },\n      toString() {\n        const optional = Boolean(this.config.optional);\n        return `ExtensionDataRef{id=${refId},optional=${optional}}`;\n      }\n    }\n  );\n  return {\n    with(options) {\n      return createRef(options.id);\n    }\n  };\n}\n\nexport { createExtensionDataRef };\n//# sourceMappingURL=createExtensionDataRef.esm.js.map\n","function createExtensionDataContainer(values, contextName, declaredRefs) {\n  if (typeof values !== \"object\" || !values?.[Symbol.iterator]) {\n    throw new Error(`${contextName} did not provide an iterable object`);\n  }\n  const container = /* @__PURE__ */ new Map();\n  const verifyRefs = declaredRefs && new Map(declaredRefs.map((ref) => [ref.id, ref]));\n  for (const output of values) {\n    if (verifyRefs) {\n      if (!verifyRefs.delete(output.id)) {\n        throw new Error(\n          `extension data '${output.id}' was provided but not declared`\n        );\n      }\n    }\n    container.set(output.id, output);\n  }\n  const remainingRefs = verifyRefs && Array.from(verifyRefs.values()).filter((ref) => !ref.config.optional);\n  if (remainingRefs && remainingRefs.length > 0) {\n    throw new Error(\n      `missing required extension data value(s) '${remainingRefs.map((ref) => ref.id).join(\", \")}'`\n    );\n  }\n  return {\n    get(ref) {\n      return container.get(ref.id)?.value;\n    },\n    [Symbol.iterator]() {\n      return container.values();\n    }\n  };\n}\n\nexport { createExtensionDataContainer };\n//# sourceMappingURL=createExtensionDataContainer.esm.js.map\n","import { createExtensionDataContainer } from '../frontend-internal/src/wiring/createExtensionDataContainer.esm.js';\nimport '../frontend-internal/src/wiring/InternalExtensionDefinition.esm.js';\nimport '../frontend-internal/src/wiring/InternalExtensionInput.esm.js';\nimport '../frontend-internal/src/wiring/InternalFrontendPlugin.esm.js';\nimport '../frontend-internal/src/wiring/InternalSwappableComponentRef.esm.js';\n\nfunction expectArray(value) {\n  return value;\n}\nfunction expectItem(value) {\n  return value;\n}\nfunction resolveInputOverrides(declaredInputs, inputs, inputOverrides) {\n  if (!declaredInputs || !inputs || !inputOverrides) {\n    return inputs;\n  }\n  const newInputs = {};\n  for (const name in declaredInputs) {\n    if (!Object.hasOwn(declaredInputs, name)) {\n      continue;\n    }\n    const declaredInput = declaredInputs[name];\n    const providedData = inputOverrides[name];\n    if (declaredInput.config.singleton) {\n      const originalInput = expectItem(inputs[name]);\n      if (providedData) {\n        const providedContainer = createExtensionDataContainer(\n          providedData,\n          \"extension input override\",\n          declaredInput.extensionData\n        );\n        if (!originalInput) {\n          throw new Error(\n            `attempted to override data of input '${name}' but it is not present in the original inputs`\n          );\n        }\n        newInputs[name] = Object.assign(providedContainer, {\n          node: originalInput.node\n        });\n      }\n    } else {\n      const originalInput = expectArray(inputs[name]);\n      if (!Array.isArray(providedData)) {\n        throw new Error(\n          `override data provided for input '${name}' must be an array`\n        );\n      }\n      if (providedData.length === 0) {\n        newInputs[name] = [];\n      } else {\n        const withNodesCount = providedData.filter((d) => \"node\" in d).length;\n        if (withNodesCount === 0) {\n          if (originalInput.length !== providedData.length) {\n            throw new Error(\n              `override data provided for input '${name}' must match the length of the original inputs`\n            );\n          }\n          newInputs[name] = providedData.map((data, i) => {\n            const providedContainer = createExtensionDataContainer(\n              data,\n              \"extension input override\",\n              declaredInput.extensionData\n            );\n            return Object.assign(providedContainer, {\n              node: originalInput[i].node\n            });\n          });\n        } else if (withNodesCount === providedData.length) {\n          newInputs[name] = providedData;\n        } else {\n          throw new Error(\n            `override data for input '${name}' may not mix forwarded inputs with data overrides`\n          );\n        }\n      }\n    }\n  }\n  return newInputs;\n}\n\nexport { resolveInputOverrides };\n//# sourceMappingURL=resolveInputOverrides.esm.js.map\n","class OpaqueType {\n  /**\n   * Creates a new opaque type.\n   *\n   * @param options.type The type identifier of the opaque type\n   * @param options.versions The available versions of the opaque type\n   * @returns A new opaque type helper\n   */\n  static create(options) {\n    return new OpaqueType(options.type, new Set(options.versions));\n  }\n  #type;\n  #versions;\n  constructor(type, versions) {\n    this.#type = type;\n    this.#versions = versions;\n  }\n  /**\n   * The internal version of the opaque type, used like this: `typeof MyOpaqueType.TPublic`\n   *\n   * @remarks\n   *\n   * This property is only useful for type checking, its runtime value is `undefined`.\n   */\n  TPublic = void 0;\n  /**\n   * The internal version of the opaque type, used like this: `typeof MyOpaqueType.TInternal`\n   *\n   * @remarks\n   *\n   * This property is only useful for type checking, its runtime value is `undefined`.\n   */\n  TInternal = void 0;\n  /**\n   * @param value Input value expected to be an instance of this opaque type\n   * @returns True if the value matches this opaque type\n   */\n  isType = (value) => {\n    return this.#isThisInternalType(value);\n  };\n  /**\n   * @param value Input value expected to be an instance of this opaque type\n   * @throws If the value is not an instance of this opaque type or is of an unsupported version\n   * @returns The internal version of the opaque type\n   */\n  toInternal = (value) => {\n    if (!this.#isThisInternalType(value)) {\n      throw new TypeError(\n        `Invalid opaque type, expected '${this.#type}', but got '${this.#stringifyUnknown(value)}'`\n      );\n    }\n    if (!this.#versions.has(value.version)) {\n      const versions = Array.from(this.#versions).map(this.#stringifyVersion);\n      if (versions.length > 1) {\n        versions[versions.length - 1] = `or ${versions[versions.length - 1]}`;\n      }\n      const expected = versions.length > 2 ? versions.join(\", \") : versions.join(\" \");\n      throw new TypeError(\n        `Invalid opaque type instance, got version ${this.#stringifyVersion(\n          value.version\n        )}, expected ${expected}`\n      );\n    }\n    return value;\n  };\n  /**\n   * Creates an instance of the opaque type, returning the public type.\n   *\n   * @param version The version of the instance to create\n   * @param value The remaining public and internal properties of the instance\n   * @returns An instance of the opaque type\n   */\n  createInstance(version, props) {\n    return Object.assign(props, {\n      $$type: this.#type,\n      ...version && { version }\n    });\n  }\n  #isThisInternalType(value) {\n    if (value === null || typeof value !== \"object\") {\n      return false;\n    }\n    return value.$$type === this.#type;\n  }\n  #stringifyUnknown(value) {\n    if (typeof value !== \"object\") {\n      return `<${typeof value}>`;\n    }\n    if (value === null) {\n      return \"<null>\";\n    }\n    if (\"$$type\" in value) {\n      return String(value.$$type);\n    }\n    return String(value);\n  }\n  #stringifyVersion = (version) => {\n    return version ? `'${version}'` : \"undefined\";\n  };\n}\n\nexport { OpaqueType };\n//# sourceMappingURL=OpaqueType.esm.js.map\n","import { OpaqueType } from '../../../opaque-internal/src/OpaqueType.esm.js';\n\nconst OpaqueExtensionDefinition = OpaqueType.create({\n  type: \"@backstage/ExtensionDefinition\",\n  versions: [\"v1\", \"v2\"]\n});\n\nexport { OpaqueExtensionDefinition };\n//# sourceMappingURL=InternalExtensionDefinition.esm.js.map\n","import { OpaqueType } from '../../../opaque-internal/src/OpaqueType.esm.js';\n\nconst OpaqueExtensionInput = OpaqueType.create({\n  type: \"@backstage/ExtensionInput\",\n  versions: [void 0]\n});\n\nexport { OpaqueExtensionInput };\n//# sourceMappingURL=InternalExtensionInput.esm.js.map\n","import { resolveInputOverrides } from './resolveInputOverrides.esm.js';\nimport { createSchemaFromZod } from '../schema/createSchemaFromZod.esm.js';\nimport { OpaqueExtensionDefinition } from '../frontend-internal/src/wiring/InternalExtensionDefinition.esm.js';\nimport { createExtensionDataContainer } from '../frontend-internal/src/wiring/createExtensionDataContainer.esm.js';\nimport { OpaqueExtensionInput } from '../frontend-internal/src/wiring/InternalExtensionInput.esm.js';\nimport '../frontend-internal/src/wiring/InternalFrontendPlugin.esm.js';\nimport '../frontend-internal/src/wiring/InternalSwappableComponentRef.esm.js';\n\nconst ctxParamsSymbol = Symbol(\"params\");\nfunction bindInputs(inputs, kind, name) {\n  if (!inputs) {\n    return {};\n  }\n  return Object.fromEntries(\n    Object.entries(inputs).map(([inputName, input]) => [\n      inputName,\n      OpaqueExtensionInput.toInternal(input).withContext({\n        kind,\n        name,\n        input: inputName\n      })\n    ])\n  );\n}\nfunction createExtension(options) {\n  const schemaDeclaration = options.config?.schema;\n  const configSchema = schemaDeclaration && createSchemaFromZod(\n    (innerZ) => innerZ.object(\n      Object.fromEntries(\n        Object.entries(schemaDeclaration).map(([k, v]) => [k, v(innerZ)])\n      )\n    )\n  );\n  return OpaqueExtensionDefinition.createInstance(\"v2\", {\n    T: void 0,\n    kind: options.kind,\n    name: options.name,\n    attachTo: options.attachTo,\n    disabled: options.disabled ?? false,\n    inputs: bindInputs(options.inputs, options.kind, options.name),\n    output: options.output,\n    configSchema,\n    factory: options.factory,\n    toString() {\n      const parts = [];\n      if (options.kind) {\n        parts.push(`kind=${options.kind}`);\n      }\n      if (options.name) {\n        parts.push(`name=${options.name}`);\n      }\n      const attachTo = [options.attachTo].flat().map((aAny) => {\n        const a = aAny;\n        if (OpaqueExtensionInput.isType(a)) {\n          const { context } = OpaqueExtensionInput.toInternal(a);\n          if (!context) {\n            return \"<detached-input>\";\n          }\n          let id = \"<plugin>\";\n          if (context?.kind) {\n            id = `${context?.kind}:${id}`;\n          }\n          if (context?.name) {\n            id = `${id}/${context?.name}`;\n          }\n          return `${id}@${context.input}`;\n        }\n        if (\"relative\" in a && a.relative) {\n          let id = \"<plugin>\";\n          if (a.relative.kind) {\n            id = `${a.relative.kind}:${id}`;\n          }\n          if (a.relative.name) {\n            id = `${id}/${a.relative.name}`;\n          }\n          return `${id}@${a.input}`;\n        }\n        if (\"id\" in a) {\n          return `${a.id}@${a.input}`;\n        }\n        throw new Error(\"Invalid attachment point specification\");\n      }).join(\"+\");\n      parts.push(`attachTo=${attachTo}`);\n      return `ExtensionDefinition{${parts.join(\",\")}}`;\n    },\n    override(overrideOptions) {\n      if (!Array.isArray(options.output)) {\n        throw new Error(\n          \"Cannot override an extension that is not declared using the new format with outputs as an array\"\n        );\n      }\n      if (overrideOptions.output && !overrideOptions.factory) {\n        throw new Error(\n          \"Refused to override output without also overriding factory\"\n        );\n      }\n      if (overrideOptions.params && overrideOptions.factory) {\n        throw new Error(\n          \"Refused to override params and factory at the same time\"\n        );\n      }\n      return createExtension({\n        kind: options.kind,\n        name: options.name,\n        attachTo: overrideOptions.attachTo ?? options.attachTo,\n        disabled: overrideOptions.disabled ?? options.disabled,\n        inputs: bindInputs(\n          {\n            ...options.inputs ?? {},\n            ...overrideOptions.inputs ?? {}\n          },\n          options.kind,\n          options.name\n        ),\n        output: overrideOptions.output ?? options.output,\n        config: options.config || overrideOptions.config ? {\n          schema: {\n            ...options.config?.schema,\n            ...overrideOptions.config?.schema\n          }\n        } : void 0,\n        factory: ({ node, apis, config, inputs }) => {\n          if (!overrideOptions.factory) {\n            return options.factory({\n              node,\n              apis,\n              config,\n              inputs,\n              [ctxParamsSymbol]: overrideOptions.params\n            });\n          }\n          const parentResult = overrideOptions.factory(\n            (innerContext) => {\n              return createExtensionDataContainer(\n                options.factory({\n                  node,\n                  apis,\n                  config: innerContext?.config ?? config,\n                  inputs: resolveInputOverrides(\n                    options.inputs,\n                    inputs,\n                    innerContext?.inputs\n                  ),\n                  [ctxParamsSymbol]: innerContext?.params\n                }),\n                \"original extension factory\",\n                options.output\n              );\n            },\n            {\n              node,\n              apis,\n              config,\n              inputs\n            }\n          );\n          if (typeof parentResult !== \"object\" || !parentResult?.[Symbol.iterator]) {\n            throw new Error(\n              \"extension factory override did not provide an iterable object\"\n            );\n          }\n          const deduplicatedResult = /* @__PURE__ */ new Map();\n          for (const item of parentResult) {\n            deduplicatedResult.set(item.id, item);\n          }\n          return deduplicatedResult.values();\n        }\n      });\n    }\n  });\n}\n\nexport { createExtension, ctxParamsSymbol };\n//# sourceMappingURL=createExtension.esm.js.map\n","import { z } from 'zod';\nimport zodToJsonSchema from 'zod-to-json-schema';\n\nfunction createSchemaFromZod(schemaCreator) {\n  const schema = schemaCreator(z);\n  return {\n    // TODO: Types allow z.array etc here but it will break stuff\n    parse: (input) => {\n      const result = schema.safeParse(input);\n      if (result.success) {\n        return result.data;\n      }\n      throw new Error(result.error.issues.map(formatIssue).join(\"; \"));\n    },\n    // TODO: Verify why we are not compatible with the latest zodToJsonSchema.\n    schema: zodToJsonSchema(schema)\n  };\n}\nfunction formatIssue(issue) {\n  if (issue.code === \"invalid_union\") {\n    return formatIssue(issue.unionErrors[0].issues[0]);\n  }\n  let message = issue.message;\n  if (message === \"Required\") {\n    message = `Missing required value`;\n  }\n  if (issue.path.length) {\n    message += ` at '${issue.path.join(\".\")}'`;\n  }\n  return message;\n}\n\nexport { createSchemaFromZod };\n//# sourceMappingURL=createSchemaFromZod.esm.js.map\n","import { createExtension, ctxParamsSymbol } from './createExtension.esm.js';\nimport { resolveInputOverrides } from './resolveInputOverrides.esm.js';\nimport { OpaqueType } from '../opaque-internal/src/OpaqueType.esm.js';\nimport { createExtensionDataContainer } from '../frontend-internal/src/wiring/createExtensionDataContainer.esm.js';\n\nconst OpaqueBlueprintParams = OpaqueType.create({\n  type: \"@backstage/BlueprintParams\",\n  versions: [\"v1\"]\n});\nfunction createExtensionBlueprintParams(params) {\n  return OpaqueBlueprintParams.createInstance(\"v1\", { T: null, params });\n}\nfunction unwrapParamsFactory(params, defineParams, kind) {\n  const paramDefinition = params(defineParams);\n  try {\n    return OpaqueBlueprintParams.toInternal(paramDefinition).params;\n  } catch (e) {\n    throw new TypeError(\n      `Invalid invocation of blueprint with kind '${kind}', the parameter definition callback function did not return a valid parameter definition object; Caused by: ${e.message}`\n    );\n  }\n}\nfunction unwrapParams(params, ctx, defineParams, kind) {\n  const overrideParams = ctx[ctxParamsSymbol];\n  if (defineParams) {\n    if (overrideParams) {\n      if (typeof overrideParams !== \"function\") {\n        throw new TypeError(\n          `Invalid extension override of blueprint with kind '${kind}', the override params were passed as a plain object, but this blueprint requires them to be passed in callback form`\n        );\n      }\n      return unwrapParamsFactory(overrideParams, defineParams, kind);\n    }\n    if (typeof params !== \"function\") {\n      throw new TypeError(\n        `Invalid invocation of blueprint with kind '${kind}', the parameters where passed as a plain object, but this blueprint requires them to be passed in callback form`\n      );\n    }\n    return unwrapParamsFactory(params, defineParams, kind);\n  }\n  const base = typeof params === \"function\" ? unwrapParamsFactory(\n    params,\n    createExtensionBlueprintParams,\n    kind\n  ) : params;\n  const overrides = typeof overrideParams === \"function\" ? unwrapParamsFactory(\n    overrideParams,\n    createExtensionBlueprintParams,\n    kind\n  ) : overrideParams;\n  return {\n    ...base,\n    ...overrides\n  };\n}\nfunction createExtensionBlueprint(options) {\n  const defineParams = options.defineParams;\n  return {\n    dataRefs: options.dataRefs,\n    make(args) {\n      return createExtension({\n        kind: options.kind,\n        name: args.name,\n        attachTo: args.attachTo ?? options.attachTo,\n        disabled: args.disabled ?? options.disabled,\n        inputs: options.inputs,\n        output: options.output,\n        config: options.config,\n        factory: (ctx) => options.factory(\n          unwrapParams(args.params, ctx, defineParams, options.kind),\n          ctx\n        )\n      });\n    },\n    makeWithOverrides(args) {\n      return createExtension({\n        kind: options.kind,\n        name: args.name,\n        attachTo: args.attachTo ?? options.attachTo,\n        disabled: args.disabled ?? options.disabled,\n        inputs: { ...args.inputs, ...options.inputs },\n        output: args.output ?? options.output,\n        config: options.config || args.config ? {\n          schema: {\n            ...options.config?.schema,\n            ...args.config?.schema\n          }\n        } : void 0,\n        factory: (ctx) => {\n          const { node, config, inputs, apis } = ctx;\n          return args.factory(\n            (innerParams, innerContext) => {\n              return createExtensionDataContainer(\n                options.factory(\n                  unwrapParams(innerParams, ctx, defineParams, options.kind),\n                  {\n                    apis,\n                    node,\n                    config: innerContext?.config ?? config,\n                    inputs: resolveInputOverrides(\n                      options.inputs,\n                      inputs,\n                      innerContext?.inputs\n                    )\n                  }\n                ),\n                \"original blueprint factory\",\n                options.output\n              );\n            },\n            {\n              apis,\n              node,\n              config,\n              inputs\n            }\n          );\n        }\n      });\n    }\n  };\n}\n\nexport { createExtensionBlueprint, createExtensionBlueprintParams };\n//# sourceMappingURL=createExtensionBlueprint.esm.js.map\n","import '../wiring/coreExtensionData.esm.js';\nimport 'zod';\nimport 'zod-to-json-schema';\nimport { createExtensionDataRef } from '../wiring/createExtensionDataRef.esm.js';\nimport { createExtensionBlueprint, createExtensionBlueprintParams } from '../wiring/createExtensionBlueprint.esm.js';\n\nconst factoryDataRef = createExtensionDataRef().with({\n  id: \"core.api.factory\"\n});\nconst ApiBlueprint = createExtensionBlueprint({\n  kind: \"api\",\n  attachTo: { id: \"root\", input: \"apis\" },\n  output: [factoryDataRef],\n  dataRefs: {\n    factory: factoryDataRef\n  },\n  defineParams: (params) => createExtensionBlueprintParams(params),\n  *factory(params) {\n    yield factoryDataRef(params);\n  }\n});\n\nexport { ApiBlueprint };\n//# sourceMappingURL=ApiBlueprint.esm.js.map\n","import { createExtensionDataRef, createExtensionBlueprint } from '@backstage/frontend-plugin-api';\n\nconst formDecoratorExtensionDataRef = createExtensionDataRef().with({\n  id: \"scaffolder.form-decorator-loader\"\n});\nconst FormDecoratorBlueprint = createExtensionBlueprint({\n  kind: \"scaffolder-form-decorator\",\n  attachTo: { id: \"api:scaffolder/form-decorators\", input: \"formDecorators\" },\n  dataRefs: {\n    formDecoratorLoader: formDecoratorExtensionDataRef\n  },\n  output: [formDecoratorExtensionDataRef],\n  *factory(params) {\n    yield formDecoratorExtensionDataRef(params.decorator);\n  }\n});\n\nexport { FormDecoratorBlueprint };\n//# sourceMappingURL=FormDecoratorBlueprint.esm.js.map\n","import { ApiBlueprint, createExtensionInput } from '@backstage/frontend-plugin-api';\nimport { formDecoratorsApiRef } from './ref.esm.js';\nimport { FormDecoratorBlueprint } from '@backstage/plugin-scaffolder-react/alpha';\n\nclass DefaultScaffolderFormDecoratorsApi {\n  options;\n  constructor(options) {\n    this.options = options;\n  }\n  static create(options) {\n    return new DefaultScaffolderFormDecoratorsApi(\n      options ?? { decorators: [] }\n    );\n  }\n  async getFormDecorators() {\n    return this.options.decorators;\n  }\n}\nconst formDecoratorsApi = ApiBlueprint.makeWithOverrides({\n  name: \"form-decorators\",\n  inputs: {\n    formDecorators: createExtensionInput([\n      FormDecoratorBlueprint.dataRefs.formDecoratorLoader\n    ])\n  },\n  factory(originalFactory, { inputs }) {\n    const formDecorators = inputs.formDecorators.map(\n      (e) => e.get(FormDecoratorBlueprint.dataRefs.formDecoratorLoader)\n    );\n    return originalFactory(\n      (defineParams) => defineParams({\n        api: formDecoratorsApiRef,\n        deps: {},\n        factory: () => DefaultScaffolderFormDecoratorsApi.create({\n          decorators: formDecorators\n        })\n      })\n    );\n  }\n});\n\nexport { DefaultScaffolderFormDecoratorsApi, formDecoratorsApi };\n//# sourceMappingURL=FormDecoratorsApi.esm.js.map\n","import { scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { scaffolderApiRef, createScaffolderFieldExtension } from '@backstage/plugin-scaffolder-react';\nimport { ScaffolderClient } from './api.esm.js';\nimport { EntityPicker } from './components/fields/EntityPicker/EntityPicker.esm.js';\nimport { EntityNamePicker } from './components/fields/EntityNamePicker/EntityNamePicker.esm.js';\nimport { entityNamePickerValidation } from './components/fields/EntityNamePicker/validation.esm.js';\nimport { EntityNamePickerSchema } from './components/fields/EntityNamePicker/schema.esm.js';\nimport { OwnerPicker } from './components/fields/OwnerPicker/OwnerPicker.esm.js';\nimport { validateMultiEntityPickerValidation, MultiEntityPicker } from './components/fields/MultiEntityPicker/MultiEntityPicker.esm.js';\nimport { RepoUrlPicker } from './components/fields/RepoUrlPicker/RepoUrlPicker.esm.js';\nimport { RepoUrlPickerSchema } from './components/fields/RepoUrlPicker/schema.esm.js';\nimport { repoPickerValidation } from './components/fields/RepoUrlPicker/validation.esm.js';\nimport { createPlugin, createApiFactory, identityApiRef, fetchApiRef, discoveryApiRef, createRoutableExtension } from '@backstage/core-plugin-api';\nimport { OwnedEntityPicker } from './components/fields/OwnedEntityPicker/OwnedEntityPicker.esm.js';\nimport { EntityTagsPicker } from './components/fields/EntityTagsPicker/EntityTagsPicker.esm.js';\nimport { viewTechDocRouteRef, registerComponentRouteRef, templatingExtensionsRouteRef, templateFormRouteRef, customFieldsRouteRef, editorRouteRef, editRouteRef, scaffolderListTaskRouteRef, actionsRouteRef, scaffolderTaskRouteRef, selectedTemplateRouteRef, rootRouteRef } from './routes.esm.js';\nimport { MyGroupsPicker } from './components/fields/MyGroupsPicker/MyGroupsPicker.esm.js';\nimport { RepoBranchPicker } from './components/fields/RepoBranchPicker/RepoBranchPicker.esm.js';\nimport { RepoBranchPickerSchema } from './components/fields/RepoBranchPicker/schema.esm.js';\nimport { formDecoratorsApiRef } from './alpha/api/ref.esm.js';\nimport { DefaultScaffolderFormDecoratorsApi } from './alpha/api/FormDecoratorsApi.esm.js';\nimport { formFieldsApiRef } from '@backstage/plugin-scaffolder-react/alpha';\nimport { EntityPickerSchema } from './components/fields/EntityPicker/schema.esm.js';\nimport { MultiEntityPickerSchema } from './components/fields/MultiEntityPicker/schema.esm.js';\nimport { OwnerPickerSchema } from './components/fields/OwnerPicker/schema.esm.js';\nimport { MyGroupsPickerSchema } from './components/fields/MyGroupsPicker/schema.esm.js';\nimport { OwnedEntityPickerSchema } from './components/fields/OwnedEntityPicker/schema.esm.js';\nimport { EntityTagsPickerSchema } from './components/fields/EntityTagsPicker/schema.esm.js';\n\nconst scaffolderPlugin = createPlugin({\n  id: \"scaffolder\",\n  apis: [\n    createApiFactory({\n      api: scaffolderApiRef,\n      deps: {\n        discoveryApi: discoveryApiRef,\n        scmIntegrationsApi: scmIntegrationsApiRef,\n        fetchApi: fetchApiRef,\n        identityApi: identityApiRef\n      },\n      factory: ({ discoveryApi, scmIntegrationsApi, fetchApi, identityApi }) => new ScaffolderClient({\n        discoveryApi,\n        scmIntegrationsApi,\n        fetchApi,\n        identityApi\n      })\n    }),\n    createApiFactory({\n      api: formDecoratorsApiRef,\n      deps: {},\n      factory: () => DefaultScaffolderFormDecoratorsApi.create()\n    }),\n    createApiFactory({\n      api: formFieldsApiRef,\n      deps: {},\n      factory: () => ({ getFormFields: async () => [] })\n    })\n  ],\n  routes: {\n    root: rootRouteRef,\n    selectedTemplate: selectedTemplateRouteRef,\n    ongoingTask: scaffolderTaskRouteRef,\n    actions: actionsRouteRef,\n    listTasks: scaffolderListTaskRouteRef,\n    edit: editRouteRef,\n    editor: editorRouteRef,\n    customFields: customFieldsRouteRef,\n    templateForm: templateFormRouteRef,\n    templatingExtensions: templatingExtensionsRouteRef\n  },\n  externalRoutes: {\n    registerComponent: registerComponentRouteRef,\n    viewTechDoc: viewTechDocRouteRef\n  }\n});\nconst EntityPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: EntityPicker,\n    name: \"EntityPicker\",\n    schema: EntityPickerSchema\n  })\n);\nconst EntityNamePickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: EntityNamePicker,\n    name: \"EntityNamePicker\",\n    validation: entityNamePickerValidation,\n    schema: EntityNamePickerSchema\n  })\n);\nconst MultiEntityPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: MultiEntityPicker,\n    name: \"MultiEntityPicker\",\n    schema: MultiEntityPickerSchema,\n    validation: validateMultiEntityPickerValidation\n  })\n);\nconst RepoUrlPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: RepoUrlPicker,\n    name: \"RepoUrlPicker\",\n    validation: repoPickerValidation,\n    schema: RepoUrlPickerSchema\n  })\n);\nconst OwnerPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: OwnerPicker,\n    name: \"OwnerPicker\",\n    schema: OwnerPickerSchema\n  })\n);\nconst MyGroupsPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: MyGroupsPicker,\n    name: \"MyGroupsPicker\",\n    schema: MyGroupsPickerSchema\n  })\n);\nconst ScaffolderPage = scaffolderPlugin.provide(\n  createRoutableExtension({\n    name: \"ScaffolderPage\",\n    component: () => import('./components/Router/index.esm.js').then((m) => m.Router),\n    mountPoint: rootRouteRef\n  })\n);\nconst OwnedEntityPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: OwnedEntityPicker,\n    name: \"OwnedEntityPicker\",\n    schema: OwnedEntityPickerSchema\n  })\n);\nconst EntityTagsPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: EntityTagsPicker,\n    name: \"EntityTagsPicker\",\n    schema: EntityTagsPickerSchema\n  })\n);\nconst RepoBranchPickerFieldExtension = scaffolderPlugin.provide(\n  createScaffolderFieldExtension({\n    component: RepoBranchPicker,\n    name: \"RepoBranchPicker\",\n    schema: RepoBranchPickerSchema\n  })\n);\n\nexport { EntityNamePickerFieldExtension, EntityPickerFieldExtension, EntityTagsPickerFieldExtension, MultiEntityPickerFieldExtension, MyGroupsPickerFieldExtension, OwnedEntityPickerFieldExtension, OwnerPickerFieldExtension, RepoBranchPickerFieldExtension, RepoUrlPickerFieldExtension, ScaffolderPage, scaffolderPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { routeRefType } from './types.esm.js';\n\nconst PARAM_PATTERN = /^\\w+$/;\nclass SubRouteRefImpl {\n  [routeRefType] = \"sub\";\n  id;\n  path;\n  parent;\n  params;\n  constructor(id, path, parent, params) {\n    this.id = id;\n    this.path = path;\n    this.parent = parent;\n    this.params = params;\n  }\n  toString() {\n    return `routeRef{type=sub,id=${this.id}}`;\n  }\n  // NFS implementation below\n  $$type = \"@backstage/SubRouteRef\";\n  version = \"v1\";\n  T = void 0;\n  getParams() {\n    return this.params;\n  }\n  getParent() {\n    return this.parent;\n  }\n  getDescription() {\n    return `at ${this.path} with parent ${this.parent}`;\n  }\n}\nfunction createSubRouteRef(config) {\n  const { id, path, parent } = config;\n  const pathParams = path.split(\"/\").filter((p) => p.startsWith(\":\")).map((p) => p.substring(1));\n  const params = [...parent.params, ...pathParams];\n  if (parent.params.some((p) => pathParams.includes(p))) {\n    throw new Error(\n      \"SubRouteRef may not have params that overlap with its parent\"\n    );\n  }\n  if (!path.startsWith(\"/\")) {\n    throw new Error(`SubRouteRef path must start with '/', got '${path}'`);\n  }\n  if (path.endsWith(\"/\")) {\n    throw new Error(`SubRouteRef path must not end with '/', got '${path}'`);\n  }\n  for (const param of pathParams) {\n    if (!PARAM_PATTERN.test(param)) {\n      throw new Error(`SubRouteRef path has invalid param, got '${param}'`);\n    }\n  }\n  const subRouteRef = new SubRouteRefImpl(\n    id,\n    path,\n    parent,\n    params\n  );\n  return subRouteRef;\n}\n\nexport { SubRouteRefImpl, createSubRouteRef };\n//# sourceMappingURL=SubRouteRef.esm.js.map\n","import { createExternalRouteRef, createRouteRef, createSubRouteRef } from '@backstage/core-plugin-api';\n\nconst registerComponentRouteRef = createExternalRouteRef({\n  id: \"register-component\",\n  optional: true,\n  defaultTarget: \"catalog-import.importPage\"\n});\nconst viewTechDocRouteRef = createExternalRouteRef({\n  id: \"view-techdoc\",\n  optional: true,\n  params: [\"namespace\", \"kind\", \"name\"],\n  defaultTarget: \"techdocs.docRoot\"\n});\nconst rootRouteRef = createRouteRef({\n  id: \"scaffolder\"\n});\ncreateSubRouteRef({\n  id: \"scaffolder/legacy/selected-template\",\n  parent: rootRouteRef,\n  path: \"/templates/:templateName\"\n});\nconst selectedTemplateRouteRef = createSubRouteRef({\n  id: \"scaffolder/selected-template\",\n  parent: rootRouteRef,\n  path: \"/templates/:namespace/:templateName\"\n});\nconst scaffolderTaskRouteRef = createSubRouteRef({\n  id: \"scaffolder/task\",\n  parent: rootRouteRef,\n  path: \"/tasks/:taskId\"\n});\nconst scaffolderListTaskRouteRef = createSubRouteRef({\n  id: \"scaffolder/list-tasks\",\n  parent: rootRouteRef,\n  path: \"/tasks\"\n});\nconst actionsRouteRef = createSubRouteRef({\n  id: \"scaffolder/actions\",\n  parent: rootRouteRef,\n  path: \"/actions\"\n});\nconst editRouteRef = createSubRouteRef({\n  id: \"scaffolder/edit\",\n  parent: rootRouteRef,\n  path: \"/edit\"\n});\nconst editorRouteRef = createSubRouteRef({\n  id: \"scaffolder/editor\",\n  parent: rootRouteRef,\n  path: \"/template\"\n});\nconst customFieldsRouteRef = createSubRouteRef({\n  id: \"scaffolder/customFields\",\n  parent: rootRouteRef,\n  path: \"/custom-fields\"\n});\nconst templateFormRouteRef = createSubRouteRef({\n  id: \"scaffolder/editorForm\",\n  parent: rootRouteRef,\n  path: \"/template-form\"\n});\nconst templatingExtensionsRouteRef = createSubRouteRef({\n  id: \"scaffolder/templating-extensions\",\n  parent: rootRouteRef,\n  path: \"/templating-extensions\"\n});\n\nexport { actionsRouteRef, customFieldsRouteRef, editRouteRef, editorRouteRef, registerComponentRouteRef, rootRouteRef, scaffolderListTaskRouteRef, scaffolderTaskRouteRef, selectedTemplateRouteRef, templateFormRouteRef, templatingExtensionsRouteRef, viewTechDocRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst scaffolderTranslationRef = createTranslationRef({\n  id: \"scaffolder\",\n  messages: {\n    aboutCard: {\n      launchTemplate: \"Launch Template\"\n    },\n    actionsPage: {\n      title: \"Installed actions\",\n      pageTitle: \"Create a New Component\",\n      subtitle: \"This is the collection of all installed actions\",\n      content: {\n        emptyState: {\n          title: \"No information to display\",\n          description: \"There are no actions installed or there was an issue communicating with backend.\"\n        },\n        searchFieldPlaceholder: \"Search for an action\"\n      },\n      action: {\n        input: \"Input\",\n        output: \"Output\",\n        examples: \"Examples\"\n      }\n    },\n    fields: {\n      entityNamePicker: {\n        title: \"Name\",\n        description: \"Unique name of the component\"\n      },\n      entityPicker: {\n        title: \"Entity\",\n        description: \"An entity from the catalog\"\n      },\n      entityTagsPicker: {\n        title: \"Tags\",\n        description: \"Add any relevant tags, hit 'Enter' to add new tags. Valid format: [a-z0-9+#] separated by [-], at most 63 characters\"\n      },\n      multiEntityPicker: {\n        title: \"Entity\",\n        description: \"An entity from the catalog\"\n      },\n      myGroupsPicker: {\n        title: \"Entity\",\n        description: \"An entity from the catalog\"\n      },\n      ownedEntityPicker: {\n        title: \"Entity\",\n        description: \"An entity from the catalog\"\n      },\n      ownerPicker: {\n        title: \"Owner\",\n        description: \"The owner of the component\"\n      },\n      azureRepoPicker: {\n        organization: {\n          title: \"Organization\",\n          description: \"The Organization that this repo will belong to\"\n        },\n        project: {\n          title: \"Project\",\n          description: \"The Project that this repo will belong to\"\n        }\n      },\n      bitbucketRepoPicker: {\n        workspaces: {\n          title: \"Allowed Workspaces\",\n          inputTitle: \"Workspaces\",\n          description: \"The Workspace that this repo will belong to\"\n        },\n        project: {\n          title: \"Allowed Projects\",\n          inputTitle: \"Projects\",\n          description: \"The Project that this repo will belong to\"\n        }\n      },\n      gerritRepoPicker: {\n        owner: {\n          title: \"Owner\",\n          description: \"The owner of the project (optional)\"\n        },\n        parent: {\n          title: \"Parent\",\n          description: \"The project parent that the repo will belong to\"\n        }\n      },\n      giteaRepoPicker: {\n        owner: {\n          title: \"Owner Available\",\n          inputTitle: \"Owner\",\n          description: \"Gitea namespace where this repository will belong to. It can be the name of organization, group, subgroup, user, or the project.\"\n        }\n      },\n      githubRepoPicker: {\n        owner: {\n          title: \"Owner Available\",\n          inputTitle: \"Owner\",\n          description: \"The organization, user or project that this repo will belong to\"\n        }\n      },\n      gitlabRepoPicker: {\n        owner: {\n          title: \"Owner Available\",\n          inputTitle: \"Owner\",\n          description: \"GitLab namespace where this repository will belong to. It can be the name of organization, group, subgroup, user, or the project.\"\n        }\n      },\n      repoUrlPicker: {\n        host: {\n          title: \"Host\",\n          description: \"The host where the repository will be created\"\n        },\n        repository: {\n          title: \"Repositories Available\",\n          inputTitle: \"Repository\",\n          description: \"The name of the repository\"\n        }\n      }\n    },\n    listTaskPage: {\n      title: \"List template tasks\",\n      pageTitle: \"Templates Tasks\",\n      subtitle: \"All tasks that have been started\",\n      content: {\n        emptyState: {\n          title: \"No information to display\",\n          description: \"There are no tasks or there was an issue communicating with backend.\"\n        },\n        tableTitle: \"Tasks\",\n        tableCell: {\n          taskID: \"Task ID\",\n          template: \"Template\",\n          created: \"Created\",\n          owner: \"Owner\",\n          status: \"Status\"\n        }\n      }\n    },\n    ownerListPicker: {\n      title: \"Task Owner\",\n      options: {\n        owned: \"Owned\",\n        all: \"All\"\n      }\n    },\n    ongoingTask: {\n      title: \"Run of\",\n      pageTitle: {\n        hasTemplateName: \"Run of {{templateName}}\",\n        noTemplateName: \"Scaffolder Run\"\n      },\n      subtitle: \"Task {{taskId}}\",\n      cancelButtonTitle: \"Cancel\",\n      retryButtonTitle: \"Retry\",\n      startOverButtonTitle: \"Start Over\",\n      hideLogsButtonTitle: \"Hide Logs\",\n      showLogsButtonTitle: \"Show Logs\",\n      contextMenu: {\n        hideLogs: \"Hide Logs\",\n        showLogs: \"Show Logs\",\n        hideButtonBar: \"Hide Button Bar\",\n        retry: \"Retry\",\n        showButtonBar: \"Show Button Bar\",\n        startOver: \"Start Over\",\n        cancel: \"Cancel\"\n      }\n    },\n    templateEditorForm: {\n      stepper: {\n        emptyText: \"There are no spec parameters in the template to preview.\"\n      }\n    },\n    renderSchema: {\n      tableCell: {\n        name: \"Name\",\n        title: \"Title\",\n        description: \"Description\",\n        type: \"Type\"\n      },\n      undefined: \"No schema defined\"\n    },\n    templatingExtensions: {\n      title: \"Templating Extensions\",\n      pageTitle: \"Templating Extensions\",\n      subtitle: \"This is the collection of available templating extensions\",\n      content: {\n        emptyState: {\n          title: \"No information to display\",\n          description: \"There are no templating extensions available or there was an issue communicating with the backend.\"\n        },\n        searchFieldPlaceholder: \"Search for an extension\",\n        filters: {\n          title: \"Filters\",\n          notAvailable: \"There are no template filters defined.\",\n          metadataAbsent: \"Filter metadata unavailable\",\n          schema: {\n            input: \"Input\",\n            arguments: \"Arguments\",\n            output: \"Output\"\n          },\n          examples: \"Examples\"\n        },\n        functions: {\n          title: \"Functions\",\n          notAvailable: \"There are no global template functions defined.\",\n          metadataAbsent: \"Function metadata unavailable\",\n          schema: {\n            arguments: \"Arguments\",\n            output: \"Output\"\n          },\n          examples: \"Examples\"\n        },\n        values: {\n          title: \"Values\",\n          notAvailable: \"There are no global template values defined.\"\n        }\n      }\n    },\n    templateTypePicker: {\n      title: \"Categories\"\n    },\n    templateIntroPage: {\n      title: \"Manage Templates\",\n      subtitle: \"Edit, preview, and try out templates, forms, and custom fields\"\n    },\n    templateFormPage: {\n      title: \"Template Editor\",\n      subtitle: \"Edit, preview, and try out templates forms\"\n    },\n    templateCustomFieldPage: {\n      title: \"Custom Field Explorer\",\n      subtitle: \"Edit, preview, and try out custom fields\"\n    },\n    templateEditorPage: {\n      title: \"Template Editor\",\n      subtitle: \"Edit, preview, and try out templates and template forms\",\n      dryRunResults: {\n        title: \"Dry-run results\"\n      },\n      dryRunResultsList: {\n        title: \"Result {{resultId}}\",\n        downloadButtonTitle: \"Download as .zip\",\n        deleteButtonTitle: \"Delete result\"\n      },\n      dryRunResultsView: {\n        tab: {\n          files: \"Files\",\n          log: \"Log\",\n          output: \"Output\"\n        }\n      },\n      taskStatusStepper: {\n        skippedStepTitle: \"Skipped\"\n      },\n      customFieldExplorer: {\n        selectFieldLabel: \"Choose Custom Field Extension\",\n        fieldForm: {\n          title: \"Field Options\",\n          applyButtonTitle: \"Apply\"\n        },\n        fieldPreview: {\n          title: \"Field Preview\"\n        },\n        preview: {\n          title: \"Template Spec\"\n        }\n      },\n      templateEditorBrowser: {\n        closeConfirmMessage: \"Are you sure? Unsaved changes will be lost\",\n        saveIconTooltip: \"Save all files\",\n        reloadIconTooltip: \"Reload directory\",\n        closeIconTooltip: \"Close directory\"\n      },\n      templateEditorIntro: {\n        title: \"Get started by choosing one of the options below\",\n        loadLocal: {\n          title: \"Load Template Directory\",\n          description: \"Load a local template directory, allowing you to both edit and try executing your own template.\",\n          unsupportedTooltip: \"Only supported in some Chromium-based browsers with the page loaded over HTTPS\"\n        },\n        createLocal: {\n          title: \"Create New Template\",\n          description: \"Create a local template directory, allowing you to both edit and try executing your own template.\",\n          unsupportedTooltip: \"Only supported in some Chromium-based browsers with the page loaded over HTTPS\"\n        },\n        formEditor: {\n          title: \"Template Form Playground\",\n          description: \"Preview and edit a template form, either using a sample template or by loading a template from the catalog.\"\n        },\n        fieldExplorer: {\n          title: \"Custom Field Explorer\",\n          description: \"View and play around with available installed custom field extensions.\"\n        }\n      },\n      templateEditorTextArea: {\n        saveIconTooltip: \"Save file\",\n        refreshIconTooltip: \"Reload file\",\n        emptyStateParagraph: \"Please select an action on the file menu.\"\n      },\n      templateFormPreviewer: {\n        title: \"Load Existing Template\"\n      }\n    },\n    templateListPage: {\n      title: \"Create a new component\",\n      subtitle: \"Create new software components using standard templates in your organization\",\n      pageTitle: \"Create a new component\",\n      templateGroups: {\n        defaultTitle: \"Templates\",\n        otherTitle: \"Other Templates\"\n      },\n      contentHeader: {\n        registerExistingButtonTitle: \"Register Existing Component\",\n        supportButtonTitle: \"Create new software components using standard templates. Different templates create different kinds of components (services, websites, documentation, ...).\"\n      },\n      additionalLinksForEntity: {\n        viewTechDocsTitle: \"View TechDocs\"\n      }\n    },\n    templateWizardPage: {\n      title: \"Create a new component\",\n      subtitle: \"Create new software components using standard templates in your organization\",\n      pageTitle: \"Create a new component\",\n      pageContextMenu: {\n        editConfigurationTitle: \"Edit Configuration\"\n      }\n    },\n    templateEditorToolbar: {\n      customFieldExplorerTooltip: \"Custom Fields Explorer\",\n      installedActionsDocumentationTooltip: \"Installed Actions Documentation\",\n      templatingExtensionsDocumentationTooltip: \"Templating Extensions Documentation\",\n      addToCatalogButton: \"Publish\",\n      addToCatalogDialogTitle: \"Publish changes\",\n      addToCatalogDialogContent: {\n        stepsIntroduction: \"Follow the instructions below to create or update a template:\",\n        stepsListItems: \"Save the template files in a local directory\\nCreate a pull request to a new or existing git repository\\nIf the template already exists, the changes will be reflected in the software catalog once the pull request gets merged\\nBut if you are creating a new template, follow the documentation linked below to register the new template repository in software catalog\"\n      },\n      addToCatalogDialogActions: {\n        documentationButton: \"Go to the documentation\",\n        documentationUrl: \"https://backstage.io/docs/features/software-templates/adding-templates/\"\n      }\n    },\n    templateEditorToolbarFileMenu: {\n      button: \"File\",\n      options: {\n        openDirectory: \"Open template directory\",\n        createDirectory: \"Create template directory\",\n        closeEditor: \"Close template editor\"\n      }\n    },\n    templateEditorToolbarTemplatesMenu: {\n      button: \"Templates\"\n    }\n  }\n});\n\nexport { scaffolderTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst searchApiRef = createApiRef({\n  id: \"plugin.search.queryservice\"\n});\nclass MockSearchApi {\n  mockedResults;\n  constructor(mockedResults) {\n    this.mockedResults = mockedResults;\n  }\n  query(_query, _options) {\n    return Promise.resolve(this.mockedResults || { results: [] });\n  }\n}\n\nexport { MockSearchApi, searchApiRef };\n//# sourceMappingURL=api.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { useMemo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(\n  () => ({\n    highlight: {}\n  }),\n  { name: \"BackstageHighlightedSearchResultText\" }\n);\nconst HighlightedSearchResultText = (props) => {\n  const { text, preTag, postTag } = props;\n  const classes = useStyles();\n  const terms = useMemo(\n    () => text.split(new RegExp(`(${preTag}.+?${postTag})`)),\n    [postTag, preTag, text]\n  );\n  return /* @__PURE__ */ jsx(Fragment, { children: terms.map(\n    (t, idx) => t.includes(preTag) ? /* @__PURE__ */ jsx(\"mark\", { className: classes.highlight, children: t.replace(new RegExp(`${preTag}|${postTag}`, \"g\"), \"\") }, idx) : t\n  ) });\n};\n\nexport { HighlightedSearchResultText };\n//# sourceMappingURL=HighlightedSearchResultText.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useApi, configApiRef, useApp, AnalyticsContext } from '@backstage/core-plugin-api';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport DefaultSearchIcon from '@material-ui/icons/Search';\nimport { forwardRef, useState, useRef, useEffect, useCallback } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { SearchContextProvider, useSearch } from '../../context/SearchContext.esm.js';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\nimport { searchReactTranslationRef } from '../../translation.esm.js';\n\nconst SearchBarBase = forwardRef((props, ref) => {\n  const {\n    onChange,\n    onKeyDown = () => {\n    },\n    onClear = () => {\n    },\n    onSubmit = () => {\n    },\n    debounceTime = 200,\n    clearButton = true,\n    fullWidth = true,\n    value: defaultValue,\n    label,\n    placeholder,\n    inputProps = {},\n    InputProps = {},\n    endAdornment,\n    ...rest\n  } = props;\n  const configApi = useApi(configApiRef);\n  const [value, setValue] = useState(\"\");\n  const forwardedValueRef = useRef(\"\");\n  const { t } = useTranslationRef(searchReactTranslationRef);\n  useEffect(() => {\n    setValue((prevValue) => {\n      if (prevValue === forwardedValueRef.current) {\n        return String(defaultValue);\n      }\n      return prevValue;\n    });\n  }, [defaultValue, forwardedValueRef]);\n  useDebounce(\n    () => {\n      forwardedValueRef.current = value;\n      onChange(value);\n    },\n    debounceTime,\n    [value]\n  );\n  const handleChange = useCallback(\n    (e) => {\n      setValue(e.target.value);\n    },\n    [setValue]\n  );\n  const handleKeyDown = useCallback(\n    (e) => {\n      if (onKeyDown) onKeyDown(e);\n      if (onSubmit && e.key === \"Enter\") {\n        onSubmit();\n      }\n    },\n    [onKeyDown, onSubmit]\n  );\n  const handleClear = useCallback(() => {\n    forwardedValueRef.current = \"\";\n    onChange(\"\");\n    setValue(\"\");\n    if (onClear) {\n      onClear();\n    }\n  }, [onChange, onClear]);\n  const ariaLabel = label ? void 0 : t(\"searchBar.title\");\n  const inputPlaceholder = placeholder ?? t(\"searchBar.placeholder\", {\n    org: configApi.getOptionalString(\"app.title\") || \"Backstage\"\n  });\n  const SearchIcon = useApp().getSystemIcon(\"search\") || DefaultSearchIcon;\n  const startAdornment = /* @__PURE__ */ jsx(InputAdornment, { position: \"start\", children: /* @__PURE__ */ jsx(IconButton, { \"aria-label\": \"Query\", size: \"small\", disabled: true, children: /* @__PURE__ */ jsx(SearchIcon, {}) }) });\n  const clearButtonEndAdornment = /* @__PURE__ */ jsx(InputAdornment, { position: \"end\", children: /* @__PURE__ */ jsx(\n    Button,\n    {\n      \"aria-label\": t(\"searchBar.clearButtonTitle\"),\n      size: \"small\",\n      onClick: handleClear,\n      onKeyDown: (event) => {\n        if (event.key === \"Enter\") {\n          event.stopPropagation();\n        }\n      },\n      children: t(\"searchBar.clearButtonTitle\")\n    }\n  ) });\n  return /* @__PURE__ */ jsx(SearchContextProvider, { inheritParentContextIfAvailable: true, children: /* @__PURE__ */ jsx(\n    TextField,\n    {\n      id: \"search-bar-text-field\",\n      \"data-testid\": \"search-bar-next\",\n      variant: \"outlined\",\n      margin: \"normal\",\n      inputRef: ref,\n      value,\n      label,\n      placeholder: inputPlaceholder,\n      InputProps: {\n        startAdornment,\n        endAdornment: clearButton ? clearButtonEndAdornment : endAdornment,\n        ...InputProps\n      },\n      inputProps: {\n        \"aria-label\": ariaLabel,\n        ...inputProps\n      },\n      fullWidth,\n      onChange: handleChange,\n      onKeyDown: handleKeyDown,\n      ...rest\n    }\n  ) });\n});\nconst SearchBar = forwardRef((props, ref) => {\n  const { value: initialValue = \"\", onChange, ...rest } = props;\n  const { term, setTerm } = useSearch();\n  useEffect(() => {\n    if (initialValue) {\n      setTerm(String(initialValue));\n    }\n  }, [initialValue, setTerm]);\n  const handleChange = useCallback(\n    (newValue) => {\n      if (onChange) {\n        onChange(newValue);\n      } else {\n        setTerm(newValue);\n      }\n    },\n    [onChange, setTerm]\n  );\n  return /* @__PURE__ */ jsx(SearchContextProvider, { inheritParentContextIfAvailable: true, children: /* @__PURE__ */ jsx(\n    AnalyticsContext,\n    {\n      attributes: { pluginId: \"search\", extension: \"SearchBar\" },\n      children: /* @__PURE__ */ jsx(\n        SearchBarBase,\n        {\n          ...rest,\n          ref,\n          value: term,\n          onChange: handleChange\n        }\n      )\n    }\n  ) });\n});\n\nexport { SearchBar, SearchBarBase };\n//# sourceMappingURL=SearchBar.esm.js.map\n","function ensureFilterValueWithLabel(value) {\n  if (value === void 0) {\n    return void 0;\n  }\n  if (Array.isArray(value)) {\n    return value.map(\n      (v) => ensureFilterValueWithLabel(v)\n    );\n  }\n  if (typeof value === \"string\") {\n    return { value, label: value };\n  }\n  return value;\n}\n\nexport { ensureFilterValueWithLabel };\n//# sourceMappingURL=types.esm.js.map\n","import { useEffect, useRef, useCallback } from 'react';\nimport useAsyncFn from 'react-use/esm/useAsyncFn';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { useSearch } from '../../context/SearchContext.esm.js';\nimport { ensureFilterValueWithLabel } from './types.esm.js';\n\nconst useAsyncFilterValues = (fn, inputValue, defaultValues = [], debounce = 250) => {\n  const valuesMemo = useRef({});\n  const definiteFn = useCallback(\n    async (partial) => {\n      return (await fn?.(partial))?.map((v) => ensureFilterValueWithLabel(v)) || [];\n    },\n    [fn]\n  );\n  const [state, callback] = useAsyncFn(definiteFn, [inputValue], {\n    loading: true\n  });\n  useDebounce(\n    () => {\n      if (valuesMemo.current[inputValue] === void 0) {\n        valuesMemo.current[inputValue] = callback(inputValue).then((values) => {\n          valuesMemo.current[inputValue] = values;\n          return values;\n        });\n      }\n    },\n    debounce,\n    [callback, inputValue]\n  );\n  if (defaultValues.length) {\n    return {\n      loading: false,\n      value: defaultValues\n    };\n  }\n  const possibleValue = valuesMemo.current[inputValue];\n  if (Array.isArray(possibleValue)) {\n    return {\n      loading: false,\n      value: possibleValue\n    };\n  }\n  return state;\n};\nconst useDefaultFilterValue = (name, defaultValue) => {\n  const { setFilters } = useSearch();\n  useEffect(() => {\n    if (defaultValue && [defaultValue].flat().length > 0) {\n      setFilters((prevFilters) => ({\n        ...prevFilters,\n        [name]: defaultValue\n      }));\n    }\n  }, []);\n};\n\nexport { useAsyncFilterValues, useDefaultFilterValue };\n//# sourceMappingURL=hooks.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useState, useMemo } from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { useSearch } from '../../context/SearchContext.esm.js';\nimport { useDefaultFilterValue, useAsyncFilterValues } from './hooks.esm.js';\nimport { ensureFilterValueWithLabel } from './types.esm.js';\n\nconst AutocompleteFilter = (props) => {\n  const {\n    className,\n    defaultValue,\n    name,\n    values: givenValues,\n    valuesDebounceMs,\n    label,\n    filterSelectedOptions,\n    limitTags,\n    multiple\n  } = props;\n  const [inputValue, setInputValue] = useState(\"\");\n  useDefaultFilterValue(name, defaultValue);\n  const asyncValues = typeof givenValues === \"function\" ? givenValues : void 0;\n  const defaultValues = typeof givenValues === \"function\" ? void 0 : givenValues?.map((v) => ensureFilterValueWithLabel(v));\n  const { value: values, loading } = useAsyncFilterValues(\n    asyncValues,\n    inputValue,\n    defaultValues,\n    valuesDebounceMs\n  );\n  const { filters, setFilters } = useSearch();\n  const filterValueWithLabel = ensureFilterValueWithLabel(\n    filters[name]\n  );\n  const filterValue = useMemo(\n    () => filterValueWithLabel || (multiple ? [] : null),\n    [filterValueWithLabel, multiple]\n  );\n  const handleChange = (_, newValue) => {\n    setFilters((prevState) => {\n      const { [name]: filter, ...others } = prevState;\n      if (newValue) {\n        return {\n          ...others,\n          [name]: Array.isArray(newValue) ? newValue.map((v) => v.value) : newValue.value\n        };\n      }\n      return { ...others };\n    });\n  };\n  const renderInput = (params) => /* @__PURE__ */ jsx(\n    TextField,\n    {\n      ...params,\n      name: \"search\",\n      variant: \"outlined\",\n      label,\n      fullWidth: true\n    }\n  );\n  const renderTags = (tagValue, getTagProps) => tagValue.map((option, index) => /* @__PURE__ */ jsx(Chip, { label: option.label, color: \"primary\", ...getTagProps({ index }) }));\n  return /* @__PURE__ */ jsx(\n    Autocomplete,\n    {\n      filterSelectedOptions,\n      limitTags,\n      multiple,\n      className,\n      id: `${multiple ? \"multi-\" : \"\"}select-filter-${name}--select`,\n      options: values || [],\n      loading,\n      value: filterValue,\n      onChange: handleChange,\n      onInputChange: (_, newValue) => setInputValue(newValue),\n      getOptionLabel: (option) => option.label,\n      renderInput,\n      renderTags\n    }\n  );\n};\n\nexport { AutocompleteFilter };\n//# sourceMappingURL=SearchFilter.Autocomplete.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { useRef } from 'react';\nimport { capitalize } from 'lodash';\nimport { v4 } from 'uuid';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Select } from '@backstage/core-components';\nimport { useSearch } from '../../context/SearchContext.esm.js';\nimport { AutocompleteFilter } from './SearchFilter.Autocomplete.esm.js';\nimport { useDefaultFilterValue, useAsyncFilterValues } from './hooks.esm.js';\nimport { ensureFilterValueWithLabel } from './types.esm.js';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\nimport { searchReactTranslationRef } from '../../translation.esm.js';\n\nconst useStyles = makeStyles({\n  label: {\n    textTransform: \"capitalize\"\n  },\n  checkboxWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\"\n  },\n  textWrapper: {\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\"\n  }\n});\nconst CheckboxFilter = (props) => {\n  const {\n    className,\n    defaultValue,\n    label: formLabel,\n    name,\n    values: givenValues = [],\n    valuesDebounceMs\n  } = props;\n  const classes = useStyles();\n  const { filters, setFilters } = useSearch();\n  useDefaultFilterValue(name, defaultValue);\n  const asyncValues = typeof givenValues === \"function\" ? givenValues : void 0;\n  const defaultValues = typeof givenValues === \"function\" ? void 0 : givenValues.map((v) => ensureFilterValueWithLabel(v));\n  const { value: values = [], loading } = useAsyncFilterValues(\n    asyncValues,\n    \"\",\n    defaultValues,\n    valuesDebounceMs\n  );\n  const handleChange = (e) => {\n    const {\n      target: { value, checked }\n    } = e;\n    setFilters((prevFilters) => {\n      const { [name]: filter, ...others } = prevFilters;\n      const rest = (filter || []).filter((i) => i !== value);\n      const items = checked ? [...rest, value] : rest;\n      return items.length ? { ...others, [name]: items } : others;\n    });\n  };\n  return /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      className,\n      disabled: loading,\n      fullWidth: true,\n      \"data-testid\": \"search-checkboxfilter-next\",\n      children: [\n        !!formLabel && /* @__PURE__ */ jsx(FormLabel, { className: classes.label, children: formLabel }),\n        values.map(({ value, label }) => /* @__PURE__ */ jsx(\n          FormControlLabel,\n          {\n            classes: {\n              root: classes.checkboxWrapper,\n              label: classes.textWrapper\n            },\n            label,\n            control: /* @__PURE__ */ jsx(\n              Checkbox,\n              {\n                color: \"primary\",\n                inputProps: { \"aria-labelledby\": label },\n                value,\n                name: label,\n                onChange: handleChange,\n                checked: (filters[name] ?? []).includes(value)\n              }\n            )\n          },\n          value\n        ))\n      ]\n    }\n  );\n};\nconst SelectFilter = (props) => {\n  const {\n    className,\n    defaultValue,\n    label,\n    name,\n    values: givenValues,\n    valuesDebounceMs\n  } = props;\n  const { t } = useTranslationRef(searchReactTranslationRef);\n  useDefaultFilterValue(name, defaultValue);\n  const asyncValues = typeof givenValues === \"function\" ? givenValues : void 0;\n  const defaultValues = typeof givenValues === \"function\" ? void 0 : givenValues?.map((v) => ensureFilterValueWithLabel(v));\n  const { value: values = [], loading } = useAsyncFilterValues(\n    asyncValues,\n    \"\",\n    defaultValues,\n    valuesDebounceMs\n  );\n  const allOptionValue = useRef(v4());\n  const allOption = {\n    value: allOptionValue.current,\n    label: t(\"searchFilter.allOptionTitle\")\n  };\n  const { filters, setFilters } = useSearch();\n  const handleChange = (value) => {\n    setFilters((prevFilters) => {\n      const { [name]: filter, ...others } = prevFilters;\n      return value !== allOptionValue.current ? { ...others, [name]: value } : others;\n    });\n  };\n  const items = [allOption, ...values];\n  return /* @__PURE__ */ jsx(\n    FormControl,\n    {\n      disabled: loading,\n      className,\n      variant: \"filled\",\n      fullWidth: true,\n      \"data-testid\": \"search-selectfilter-next\",\n      children: /* @__PURE__ */ jsx(\n        Select,\n        {\n          label: label ?? capitalize(name),\n          selected: filters[name] || allOptionValue.current,\n          onChange: handleChange,\n          items\n        }\n      )\n    }\n  );\n};\nconst SearchFilter = (props) => {\n  const { component: Element, ...elementProps } = props;\n  return /* @__PURE__ */ jsx(Element, { ...elementProps });\n};\nSearchFilter.Checkbox = (props) => /* @__PURE__ */ jsx(SearchFilter, { ...props, component: CheckboxFilter });\nSearchFilter.Select = (props) => /* @__PURE__ */ jsx(SearchFilter, { ...props, component: SelectFilter });\nSearchFilter.Autocomplete = (props) => /* @__PURE__ */ jsx(SearchFilter, { ...props, component: AutocompleteFilter });\n\nexport { CheckboxFilter, SearchFilter, SelectFilter };\n//# sourceMappingURL=SearchFilter.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useMemo, useCallback } from 'react';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport { useSearch } from '../../context/SearchContext.esm.js';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\nimport { searchReactTranslationRef } from '../../translation.esm.js';\n\nconst encodePageCursor = (pageCursor) => {\n  return Buffer.from(pageCursor.toString(), \"utf-8\").toString(\"base64\");\n};\nconst decodePageCursor = (pageCursor) => {\n  if (!pageCursor) return 0;\n  return Number(Buffer.from(pageCursor, \"base64\").toString(\"utf-8\"));\n};\nconst SearchPaginationBase = (props) => {\n  const { t } = useTranslationRef(searchReactTranslationRef);\n  const {\n    total: count = -1,\n    cursor: pageCursor,\n    hasNextPage,\n    onCursorChange: onPageCursorChange,\n    limit: rowsPerPage = 25,\n    limitLabel: labelRowsPerPage = t(\"searchPagination.limitLabel\"),\n    limitText: labelDisplayedRows = ({ from, to }) => count > 0 ? t(\"searchPagination.limitText\", { num: `${count}` }) : `${from}-${to}`,\n    limitOptions: rowsPerPageOptions,\n    onLimitChange: onPageLimitChange,\n    ...rest\n  } = props;\n  const page = useMemo(() => decodePageCursor(pageCursor), [pageCursor]);\n  const handlePageChange = useCallback(\n    (_, newValue) => {\n      onPageCursorChange?.(encodePageCursor(newValue));\n    },\n    [onPageCursorChange]\n  );\n  const handleRowsPerPageChange = useCallback(\n    (e) => {\n      const newValue = e.target.value;\n      onPageLimitChange?.(parseInt(newValue, 10));\n    },\n    [onPageLimitChange]\n  );\n  return /* @__PURE__ */ jsx(\n    TablePagination,\n    {\n      ...rest,\n      component: \"div\",\n      count,\n      page,\n      nextIconButtonProps: {\n        ...hasNextPage !== void 0 && { disabled: !hasNextPage }\n      },\n      onPageChange: handlePageChange,\n      rowsPerPage,\n      labelRowsPerPage,\n      labelDisplayedRows,\n      rowsPerPageOptions,\n      onRowsPerPageChange: handleRowsPerPageChange\n    }\n  );\n};\nconst SearchPagination = (props) => {\n  const { pageLimit, setPageLimit, pageCursor, setPageCursor, fetchNextPage } = useSearch();\n  const handlePageLimitChange = useCallback(\n    (newPageLimit) => {\n      setPageLimit(newPageLimit);\n      setPageCursor(void 0);\n    },\n    [setPageLimit, setPageCursor]\n  );\n  return /* @__PURE__ */ jsx(\n    SearchPaginationBase,\n    {\n      ...props,\n      hasNextPage: !!fetchNextPage,\n      limit: pageLimit,\n      onLimitChange: handlePageLimitChange,\n      cursor: pageCursor,\n      onCursorChange: setPageCursor\n    }\n  );\n};\n\nexport { SearchPagination, SearchPaginationBase };\n//# sourceMappingURL=SearchPagination.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport useAsync from 'react-use/esm/useAsync';\nimport { isFunction } from 'lodash';\nimport { EmptyState, Progress, ResponseErrorPanel } from '@backstage/core-components';\nimport { AnalyticsContext, useApi } from '@backstage/core-plugin-api';\nimport { searchApiRef } from '../../api.esm.js';\nimport { useSearch } from '../../context/SearchContext.esm.js';\nimport { SearchResultListItemExtensions } from '../../extensions.esm.js';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\nimport { searchReactTranslationRef } from '../../translation.esm.js';\n\nconst SearchResultContext = (props) => {\n  const { children } = props;\n  const context = useSearch();\n  const { result: state, ...query } = context;\n  return children(state, query);\n};\nconst SearchResultApi = (props) => {\n  const { query, children } = props;\n  const searchApi = useApi(searchApiRef);\n  const state = useAsync(() => {\n    const { term = \"\", types = [], filters = {}, ...rest } = query;\n    return searchApi.query({ ...rest, term, types, filters });\n  }, [query]);\n  return children(state, query);\n};\nconst SearchResultState = (props) => {\n  const { query, children } = props;\n  return query ? /* @__PURE__ */ jsx(SearchResultApi, { query, children }) : /* @__PURE__ */ jsx(SearchResultContext, { children });\n};\nconst SearchResultComponent = (props) => {\n  const { t } = useTranslationRef(searchReactTranslationRef);\n  const {\n    query,\n    children,\n    noResultsComponent = /* @__PURE__ */ jsx(EmptyState, { missing: \"data\", title: t(\"noResultsDescription\") }),\n    ...rest\n  } = props;\n  return /* @__PURE__ */ jsx(SearchResultState, { query, children: ({ loading, error, value }) => {\n    if (loading) {\n      return /* @__PURE__ */ jsx(Progress, {});\n    }\n    if (error) {\n      return /* @__PURE__ */ jsx(\n        ResponseErrorPanel,\n        {\n          title: \"Error encountered while fetching search results\",\n          error\n        }\n      );\n    }\n    if (!value?.results.length) {\n      return noResultsComponent;\n    }\n    if (isFunction(children)) {\n      return children(value);\n    }\n    return /* @__PURE__ */ jsx(SearchResultListItemExtensions, { ...rest, results: value.results, children });\n  } });\n};\nconst SearchResult = (props) => /* @__PURE__ */ jsx(\n  AnalyticsContext,\n  {\n    attributes: {\n      pluginId: \"search\",\n      extension: \"SearchResult\"\n    },\n    children: /* @__PURE__ */ jsx(SearchResultComponent, { ...props })\n  }\n);\n\nexport { SearchResult, SearchResultApi, SearchResultComponent, SearchResultContext, SearchResultState };\n//# sourceMappingURL=SearchResult.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { isEqual } from 'lodash';\nimport { useContext, useState, useRef, useCallback, useEffect } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport usePrevious from 'react-use/esm/usePrevious';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport { useApi, configApiRef, AnalyticsContext, useAnalytics } from '@backstage/core-plugin-api';\nimport { searchApiRef } from '../api.esm.js';\n\nconst SearchContext = createVersionedContext(\"search-context\");\nconst useSearch = () => {\n  const context = useContext(SearchContext);\n  if (!context) {\n    throw new Error(\"useSearch must be used within a SearchContextProvider\");\n  }\n  const value = context.atVersion(1);\n  if (!value) {\n    throw new Error(\"No SearchContext v1 found\");\n  }\n  return value;\n};\nconst useSearchContextCheck = () => {\n  const context = useContext(SearchContext);\n  return context !== void 0;\n};\nconst defaultInitialSearchState = {\n  term: \"\",\n  types: [],\n  filters: {},\n  pageLimit: void 0,\n  pageCursor: void 0\n};\nconst useSearchContextValue = (initialValue = defaultInitialSearchState) => {\n  const searchApi = useApi(searchApiRef);\n  const analytics = useAnalytics();\n  const [term, setTerm] = useState(initialValue.term);\n  const [types, setTypes] = useState(initialValue.types);\n  const [filters, setFilters] = useState(initialValue.filters);\n  const [pageLimit, setPageLimit] = useState(\n    initialValue.pageLimit\n  );\n  const [pageCursor, setPageCursor] = useState(\n    initialValue.pageCursor\n  );\n  const prevTerm = usePrevious(term);\n  const prevFilters = usePrevious(filters);\n  const abortControllerRef = useRef(null);\n  const result = useAsync(async () => {\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n    }\n    const controller = new AbortController();\n    abortControllerRef.current = controller;\n    const resultSet = await searchApi.query(\n      {\n        term,\n        types,\n        filters,\n        pageLimit,\n        pageCursor\n      },\n      { signal: controller.signal }\n    );\n    if (term) {\n      analytics.captureEvent(\"search\", term, {\n        value: resultSet.numberOfResults\n      });\n    }\n    return resultSet;\n  }, [term, types, filters, pageLimit, pageCursor]);\n  const hasNextPage = !result.loading && !result.error && result.value?.nextPageCursor;\n  const hasPreviousPage = !result.loading && !result.error && result.value?.previousPageCursor;\n  const fetchNextPage = useCallback(() => {\n    setPageCursor(result.value?.nextPageCursor);\n  }, [result.value?.nextPageCursor]);\n  const fetchPreviousPage = useCallback(() => {\n    setPageCursor(result.value?.previousPageCursor);\n  }, [result.value?.previousPageCursor]);\n  useEffect(() => {\n    return () => {\n      if (abortControllerRef.current) {\n        abortControllerRef.current.abort();\n      }\n    };\n  }, []);\n  useEffect(() => {\n    if (prevTerm !== void 0 && term !== prevTerm) {\n      setPageCursor(void 0);\n    }\n  }, [term, prevTerm, setPageCursor]);\n  useEffect(() => {\n    if (prevFilters !== void 0 && !isEqual(filters, prevFilters)) {\n      setPageCursor(void 0);\n    }\n  }, [filters, prevFilters, setPageCursor]);\n  const value = {\n    result,\n    term,\n    setTerm,\n    types,\n    setTypes,\n    filters,\n    setFilters,\n    pageLimit,\n    setPageLimit,\n    pageCursor,\n    setPageCursor,\n    fetchNextPage: hasNextPage ? fetchNextPage : void 0,\n    fetchPreviousPage: hasPreviousPage ? fetchPreviousPage : void 0\n  };\n  return value;\n};\nconst LocalSearchContext = (props) => {\n  const { initialState, children } = props;\n  const value = useSearchContextValue(initialState);\n  return /* @__PURE__ */ jsx(\n    AnalyticsContext,\n    {\n      attributes: { searchTypes: value.types.sort().join(\",\") },\n      children: /* @__PURE__ */ jsx(SearchContext.Provider, { value: createVersionedValueMap({ 1: value }), children })\n    }\n  );\n};\nconst SearchContextProvider = (props) => {\n  const { initialState, inheritParentContextIfAvailable, children } = props;\n  const hasParentContext = useSearchContextCheck();\n  const configApi = useApi(configApiRef);\n  const propsInitialSearchState = initialState ?? {};\n  const configInitialSearchState = configApi.has(\"search.query.pageLimit\") ? { pageLimit: configApi.getNumber(\"search.query.pageLimit\") } : {};\n  const searchContextInitialState = {\n    ...defaultInitialSearchState,\n    ...propsInitialSearchState,\n    ...configInitialSearchState\n  };\n  return hasParentContext && inheritParentContextIfAvailable ? /* @__PURE__ */ jsx(Fragment, { children }) : /* @__PURE__ */ jsx(LocalSearchContext, { initialState: searchContextInitialState, children });\n};\n\nexport { SearchContextProvider, useSearch, useSearchContextCheck };\n//# sourceMappingURL=SearchContext.esm.js.map\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { AnalyticsContext } from '@backstage/core-plugin-api';\nimport { HighlightedSearchResultText } from '../HighlightedSearchResultText/HighlightedSearchResultText.esm.js';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport { Link } from '@backstage/core-components';\n\nconst DefaultResultListItemComponent = ({\n  result,\n  highlight,\n  icon,\n  secondaryAction,\n  lineClamp = 5\n}) => {\n  if (!result) return null;\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    icon && /* @__PURE__ */ jsx(ListItemIcon, { children: icon }),\n    /* @__PURE__ */ jsx(\n      ListItemText,\n      {\n        primaryTypographyProps: { variant: \"h6\" },\n        primary: /* @__PURE__ */ jsx(Link, { noTrack: true, to: result.location, children: highlight?.fields.title ? /* @__PURE__ */ jsx(\n          HighlightedSearchResultText,\n          {\n            text: highlight?.fields.title || \"\",\n            preTag: highlight?.preTag || \"\",\n            postTag: highlight?.postTag || \"\"\n          }\n        ) : result.title }),\n        secondary: /* @__PURE__ */ jsx(\n          Typography,\n          {\n            component: \"span\",\n            style: {\n              display: \"-webkit-box\",\n              WebkitBoxOrient: \"vertical\",\n              WebkitLineClamp: lineClamp,\n              overflow: \"hidden\"\n            },\n            color: \"textSecondary\",\n            variant: \"body2\",\n            children: highlight?.fields.text ? /* @__PURE__ */ jsx(\n              HighlightedSearchResultText,\n              {\n                text: highlight.fields.text,\n                preTag: highlight.preTag,\n                postTag: highlight.postTag\n              }\n            ) : result.text\n          }\n        )\n      }\n    ),\n    secondaryAction && /* @__PURE__ */ jsx(Box, { alignItems: \"flex-end\", children: secondaryAction })\n  ] });\n};\nconst HigherOrderDefaultResultListItem = (props) => {\n  return /* @__PURE__ */ jsx(\n    AnalyticsContext,\n    {\n      attributes: {\n        pluginId: \"search\",\n        extension: \"DefaultResultListItem\"\n      },\n      children: /* @__PURE__ */ jsx(DefaultResultListItemComponent, { ...props })\n    }\n  );\n};\n\nexport { HigherOrderDefaultResultListItem as DefaultResultListItem, DefaultResultListItemComponent };\n//# sourceMappingURL=DefaultResultListItem.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useCallback, createElement, Fragment, isValidElement, cloneElement } from 'react';\nimport { useAnalytics, createReactExtension, useElementFilter, getComponentData } from '@backstage/core-plugin-api';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport { DefaultResultListItem as HigherOrderDefaultResultListItem } from './components/DefaultResultListItem/DefaultResultListItem.esm.js';\n\nconst SEARCH_RESULT_LIST_ITEM_EXTENSION = \"search.results.list.items.extensions.v1\";\nconst findSearchResultListItemExtensionElement = (elements, result) => {\n  for (const element of elements) {\n    if (!isValidElement(element)) continue;\n    const predicate = getComponentData(\n      element,\n      SEARCH_RESULT_LIST_ITEM_EXTENSION\n    );\n    if (!predicate?.(result)) continue;\n    return cloneElement(element, {\n      rank: result.rank,\n      highlight: result.highlight,\n      result: result.document,\n      // Use props in situations where a consumer is manually rendering the extension\n      ...element.props\n    });\n  }\n  return null;\n};\nconst SearchResultListItemExtension = (props) => {\n  const {\n    rank,\n    result,\n    noTrack,\n    children,\n    alignItems = \"flex-start\",\n    ...rest\n  } = props;\n  const analytics = useAnalytics();\n  const handleClickCapture = useCallback(() => {\n    if (noTrack) return;\n    if (!result) return;\n    analytics.captureEvent(\"discover\", result.title, {\n      attributes: { to: result.location },\n      value: rank\n    });\n  }, [rank, result, noTrack, analytics]);\n  return /* @__PURE__ */ jsx(\n    ListItem,\n    {\n      divider: true,\n      alignItems,\n      onClickCapture: handleClickCapture,\n      ...rest,\n      children\n    }\n  );\n};\nconst createSearchResultListItemExtension = (options) => {\n  const { name, component, predicate = () => true } = options;\n  return createReactExtension({\n    name,\n    component: {\n      lazy: () => component().then(\n        (type) => (props) => /* @__PURE__ */ jsx(\n          SearchResultListItemExtension,\n          {\n            rank: props.rank,\n            result: props.result,\n            noTrack: props.noTrack,\n            children: createElement(type, props)\n          }\n        )\n      )\n    },\n    data: {\n      [SEARCH_RESULT_LIST_ITEM_EXTENSION]: predicate\n    }\n  });\n};\nconst useSearchResultListItemExtensions = (children) => {\n  const elements = useElementFilter(\n    children,\n    (collection) => {\n      return collection.selectByComponentData({\n        key: SEARCH_RESULT_LIST_ITEM_EXTENSION\n      }).getElements();\n    },\n    [children]\n  );\n  return useCallback(\n    (result, key) => {\n      const element = findSearchResultListItemExtensionElement(\n        elements,\n        result\n      );\n      return /* @__PURE__ */ jsx(Fragment, { children: element ?? /* @__PURE__ */ jsx(\n        SearchResultListItemExtension,\n        {\n          rank: result.rank,\n          result: result.document,\n          children: /* @__PURE__ */ jsx(\n            HigherOrderDefaultResultListItem,\n            {\n              rank: result.rank,\n              highlight: result.highlight,\n              result: result.document\n            }\n          )\n        }\n      ) }, key);\n    },\n    [elements]\n  );\n};\nconst SearchResultListItemExtensions = (props) => {\n  const { results, children, ...rest } = props;\n  const render = useSearchResultListItemExtensions(children);\n  return /* @__PURE__ */ jsx(List, { ...rest, children: results.map(render) });\n};\n\nexport { SearchResultListItemExtension, SearchResultListItemExtensions, createSearchResultListItemExtension, useSearchResultListItemExtensions };\n//# sourceMappingURL=extensions.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst searchReactTranslationRef = createTranslationRef({\n  id: \"search-react\",\n  messages: {\n    searchBar: {\n      title: \"Search\",\n      placeholder: \"Search in {{org}}\",\n      clearButtonTitle: \"Clear\"\n    },\n    searchFilter: {\n      allOptionTitle: \"All\"\n    },\n    searchPagination: {\n      limitLabel: \"Results per page:\",\n      limitText: \"of {{num}}\"\n    },\n    noResultsDescription: \"Sorry, no results were found\",\n    searchResultGroup: {\n      linkTitle: \"See All\",\n      addFilterButtonTitle: \"Add filter\"\n    },\n    searchResultPager: {\n      previous: \"Previous\",\n      next: \"Next\"\n    }\n  }\n});\n\nexport { searchReactTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useState, useRef, useEffect, Fragment, cloneElement } from 'react';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { useSearch, searchApiRef } from '@backstage/plugin-search-react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Box from '@material-ui/core/Box';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Typography from '@material-ui/core/Typography';\nimport AllIcon from '@material-ui/icons/FontDownload';\nimport useAsync from 'react-use/esm/useAsync';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\nimport { searchTranslationRef } from '../../translation.esm.js';\n\nconst useStyles = makeStyles((theme) => ({\n  icon: {\n    color: theme.palette.text.primary\n  },\n  list: {\n    width: \"100%\"\n  },\n  listItemIcon: {\n    width: \"24px\",\n    height: \"24px\"\n  },\n  accordion: {\n    backgroundColor: theme.palette.background.paper\n  },\n  accordionSummary: {\n    minHeight: \"auto\",\n    \"&.Mui-expanded\": {\n      minHeight: \"auto\"\n    }\n  },\n  accordionSummaryContent: {\n    margin: theme.spacing(2, 0),\n    \"&.Mui-expanded\": {\n      margin: theme.spacing(2, 0)\n    }\n  },\n  accordionDetails: {\n    padding: theme.spacing(0, 0, 1)\n  }\n}));\nconst SearchTypeAccordion = (props) => {\n  const classes = useStyles();\n  const { filters, setPageCursor, setTypes, term, types } = useSearch();\n  const searchApi = useApi(searchApiRef);\n  const [expanded, setExpanded] = useState(true);\n  const { defaultValue, name, showCounts, types: givenTypes } = props;\n  const { t } = useTranslationRef(searchTranslationRef);\n  const abortControllerRef = useRef(null);\n  const toggleExpanded = () => setExpanded((prevState) => !prevState);\n  const handleClick = (type) => {\n    return () => {\n      setTypes(type !== \"\" ? [type] : []);\n      setPageCursor(void 0);\n    };\n  };\n  useEffect(() => {\n    if (defaultValue) {\n      setTypes([defaultValue]);\n    }\n  }, []);\n  const definedTypes = [\n    {\n      value: \"\",\n      name: t(\"searchType.accordion.allTitle\"),\n      icon: /* @__PURE__ */ jsx(AllIcon, {})\n    },\n    ...givenTypes\n  ];\n  const selected = types[0] || \"\";\n  const { value: resultCounts } = useAsync(async () => {\n    if (!showCounts) {\n      return {};\n    }\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n    }\n    const controller = new AbortController();\n    abortControllerRef.current = controller;\n    const counts = await Promise.all(\n      definedTypes.map((type) => type.value).map(async (type) => {\n        const { numberOfResults } = await searchApi.query(\n          {\n            term,\n            types: type ? [type] : [],\n            filters: types.includes(type) || !types.length && !type ? filters : {},\n            pageLimit: 0\n          },\n          { signal: controller.signal }\n        );\n        return [\n          type,\n          numberOfResults !== void 0 ? t(\"searchType.accordion.numberOfResults\", {\n            number: numberOfResults >= 1e4 ? `>10000` : `${numberOfResults}`\n          }) : \" -- \"\n        ];\n      })\n    );\n    return Object.fromEntries(counts);\n  }, [filters, showCounts, term, types]);\n  useEffect(() => {\n    return () => {\n      if (abortControllerRef.current) {\n        abortControllerRef.current.abort();\n      }\n    };\n  }, []);\n  return /* @__PURE__ */ jsxs(Box, { children: [\n    /* @__PURE__ */ jsx(Typography, { variant: \"body2\", component: \"h2\", children: name }),\n    /* @__PURE__ */ jsxs(\n      Accordion,\n      {\n        className: classes.accordion,\n        expanded,\n        onChange: toggleExpanded,\n        children: [\n          /* @__PURE__ */ jsx(\n            AccordionSummary,\n            {\n              classes: {\n                root: classes.accordionSummary,\n                content: classes.accordionSummaryContent\n              },\n              expandIcon: /* @__PURE__ */ jsx(ExpandMoreIcon, { className: classes.icon }),\n              IconButtonProps: { size: \"small\" },\n              children: expanded ? t(\"searchType.accordion.collapse\") : definedTypes.filter((type) => type.value === selected)[0].name\n            }\n          ),\n          /* @__PURE__ */ jsx(AccordionDetails, { classes: { root: classes.accordionDetails }, children: /* @__PURE__ */ jsx(\n            List,\n            {\n              className: classes.list,\n              component: \"nav\",\n              \"aria-label\": \"filter by type\",\n              disablePadding: true,\n              dense: true,\n              children: definedTypes.map((type) => /* @__PURE__ */ jsxs(Fragment, { children: [\n                /* @__PURE__ */ jsx(Divider, {}),\n                /* @__PURE__ */ jsxs(\n                  ListItem,\n                  {\n                    selected: types[0] === type.value || types.length === 0 && type.value === \"\",\n                    onClick: handleClick(type.value),\n                    button: true,\n                    children: [\n                      /* @__PURE__ */ jsx(ListItemIcon, { children: cloneElement(type.icon, {\n                        className: classes.listItemIcon\n                      }) }),\n                      /* @__PURE__ */ jsx(\n                        ListItemText,\n                        {\n                          primary: type.name,\n                          secondary: resultCounts && resultCounts[type.value]\n                        }\n                      )\n                    ]\n                  }\n                )\n              ] }, type.value))\n            }\n          ) })\n        ]\n      }\n    )\n  ] });\n};\n\nexport { SearchTypeAccordion };\n//# sourceMappingURL=SearchType.Accordion.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useEffect } from 'react';\nimport { useSearch } from '@backstage/plugin-search-react';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\nimport { searchTranslationRef } from '../../translation.esm.js';\n\nconst useStyles = makeStyles((theme) => ({\n  tabs: {\n    borderBottom: `1px solid ${theme.palette.textVerySubtle}`\n  },\n  tab: {\n    height: \"50px\",\n    fontWeight: theme.typography.fontWeightBold,\n    fontSize: theme.typography.pxToRem(13),\n    color: theme.palette.text.primary,\n    minWidth: \"130px\"\n  }\n}));\nconst SearchTypeTabs = (props) => {\n  const classes = useStyles();\n  const { setPageCursor, setTypes, types } = useSearch();\n  const { defaultValue, types: givenTypes } = props;\n  const { t } = useTranslationRef(searchTranslationRef);\n  const changeTab = (_, newType) => {\n    setTypes(newType !== \"\" ? [newType] : []);\n    setPageCursor(void 0);\n  };\n  useEffect(() => {\n    if (defaultValue) {\n      setTypes([defaultValue]);\n    }\n  }, []);\n  const definedTypes = [\n    {\n      value: \"\",\n      name: t(\"searchType.tabs.allTitle\")\n    },\n    ...givenTypes\n  ];\n  return /* @__PURE__ */ jsx(\n    Tabs,\n    {\n      \"aria-label\": \"List of search types tabs\",\n      className: classes.tabs,\n      indicatorColor: \"primary\",\n      value: types.length === 0 ? \"\" : types[0],\n      onChange: changeTab,\n      children: definedTypes.map((type, idx) => /* @__PURE__ */ jsx(\n        Tab,\n        {\n          className: classes.tab,\n          label: type.name,\n          value: type.value\n        },\n        idx\n      ))\n    }\n  );\n};\n\nexport { SearchTypeTabs };\n//# sourceMappingURL=SearchType.Tabs.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Chip from '@material-ui/core/Chip';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useEffectOnce from 'react-use/esm/useEffectOnce';\nimport { SearchTypeAccordion } from './SearchType.Accordion.esm.js';\nimport { SearchTypeTabs } from './SearchType.Tabs.esm.js';\nimport { useSearch } from '@backstage/plugin-search-react';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\nimport { searchTranslationRef } from '../../translation.esm.js';\n\nconst useStyles = makeStyles((theme) => ({\n  label: {\n    textTransform: \"capitalize\"\n  },\n  chips: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    marginTop: theme.spacing(1)\n  },\n  chip: {\n    margin: 2\n  }\n}));\nconst SearchType = (props) => {\n  const { className, defaultValue, name, values = [] } = props;\n  const classes = useStyles();\n  const { types, setTypes } = useSearch();\n  const { t } = useTranslationRef(searchTranslationRef);\n  useEffectOnce(() => {\n    if (!types.length) {\n      if (defaultValue && Array.isArray(defaultValue)) {\n        setTypes(defaultValue);\n      } else if (defaultValue) {\n        setTypes([defaultValue]);\n      }\n    }\n  });\n  const handleChange = (e) => {\n    const value = e.target.value;\n    setTypes(value);\n  };\n  return /* @__PURE__ */ jsxs(\n    FormControl,\n    {\n      className,\n      variant: \"filled\",\n      fullWidth: true,\n      \"data-testid\": \"search-typefilter-next\",\n      children: [\n        /* @__PURE__ */ jsx(InputLabel, { className: classes.label, margin: \"dense\", children: name }),\n        /* @__PURE__ */ jsx(\n          Select,\n          {\n            multiple: true,\n            variant: \"outlined\",\n            value: types,\n            onChange: handleChange,\n            placeholder: t(\"searchType.allResults\"),\n            renderValue: (selected) => /* @__PURE__ */ jsx(\"div\", { className: classes.chips, children: selected.map((value) => /* @__PURE__ */ jsx(\n              Chip,\n              {\n                label: value,\n                className: classes.chip,\n                size: \"small\"\n              },\n              value\n            )) }),\n            children: values.map((value) => /* @__PURE__ */ jsxs(MenuItem, { value, children: [\n              /* @__PURE__ */ jsx(Checkbox, { checked: types.indexOf(value) > -1 }),\n              /* @__PURE__ */ jsx(ListItemText, { primary: value })\n            ] }, value))\n          }\n        )\n      ]\n    }\n  );\n};\nSearchType.Accordion = (props) => {\n  return /* @__PURE__ */ jsx(SearchTypeAccordion, { ...props });\n};\nSearchType.Tabs = (props) => {\n  return /* @__PURE__ */ jsx(SearchTypeTabs, { ...props });\n};\n\nexport { SearchType };\n//# sourceMappingURL=SearchType.esm.js.map\n","import { ResponseError } from '@backstage/errors';\nimport qs from 'qs';\n\nclass SearchClient {\n  discoveryApi;\n  fetchApi;\n  constructor(options) {\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi;\n  }\n  async query(query, options) {\n    const queryString = qs.stringify(query);\n    const url = `${await this.discoveryApi.getBaseUrl(\n      \"search\"\n    )}/query?${queryString}`;\n    const response = await this.fetchApi.fetch(url, {\n      signal: options?.signal\n    });\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return response.json();\n  }\n}\n\nexport { SearchClient };\n//# sourceMappingURL=apis.esm.js.map\n","import { SearchClient } from './apis.esm.js';\nimport { searchApiRef } from '@backstage/plugin-search-react';\nimport { createRouteRef, createPlugin, createApiFactory, fetchApiRef, discoveryApiRef, createRoutableExtension, createComponentExtension } from '@backstage/core-plugin-api';\n\nconst rootRouteRef = createRouteRef({\n  id: \"search\"\n});\nconst searchPlugin = createPlugin({\n  id: \"search\",\n  apis: [\n    createApiFactory({\n      api: searchApiRef,\n      deps: { discoveryApi: discoveryApiRef, fetchApi: fetchApiRef },\n      factory: ({ discoveryApi, fetchApi }) => {\n        return new SearchClient({ discoveryApi, fetchApi });\n      }\n    })\n  ],\n  routes: {\n    root: rootRouteRef\n  }\n});\nconst SearchPage = searchPlugin.provide(\n  createRoutableExtension({\n    name: \"SearchPage\",\n    component: () => import('./components/SearchPage/index.esm.js').then((m) => m.SearchPage),\n    mountPoint: rootRouteRef\n  })\n);\nconst SidebarSearchModal = searchPlugin.provide(\n  createComponentExtension({\n    name: \"SidebarSearchModal\",\n    component: {\n      lazy: () => import('./components/SidebarSearchModal/index.esm.js').then(\n        (m) => m.SidebarSearchModal\n      )\n    }\n  })\n);\nconst HomePageSearchBar = searchPlugin.provide(\n  createComponentExtension({\n    name: \"HomePageSearchBar\",\n    component: {\n      lazy: () => import('./components/HomePageComponent/index.esm.js').then((m) => m.HomePageSearchBar)\n    }\n  })\n);\n\nexport { HomePageSearchBar, SearchPage, SidebarSearchModal, rootRouteRef, searchPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst searchTranslationRef = createTranslationRef({\n  id: \"search\",\n  messages: {\n    searchModal: {\n      viewFullResults: \"View Full Results\"\n    },\n    searchType: {\n      allResults: \"All Results\",\n      tabs: {\n        allTitle: \"All\"\n      },\n      accordion: {\n        allTitle: \"All\",\n        collapse: \"Collapse\",\n        numberOfResults: \"{{number}} results\"\n      }\n    },\n    sidebarSearchModal: {\n      title: \"Search\"\n    }\n  }\n});\n\nexport { searchTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst signalApiRef = createApiRef({\n  id: \"plugin.signal.service\"\n});\n\nexport { signalApiRef };\n//# sourceMappingURL=SignalApi.esm.js.map\n","import { signalApiRef } from '../api/SignalApi.esm.js';\nimport { useApiHolder } from '@backstage/core-plugin-api';\nimport { useState, useEffect, useMemo } from 'react';\n\nconst useSignal = (channel) => {\n  const apiHolder = useApiHolder();\n  const signals = apiHolder.get(signalApiRef);\n  const [lastSignal, setLastSignal] = useState(null);\n  useEffect(() => {\n    let unsub = null;\n    if (signals) {\n      const { unsubscribe } = signals.subscribe(\n        channel,\n        (msg) => {\n          setLastSignal(msg);\n        }\n      );\n      unsub = unsubscribe;\n    }\n    return () => {\n      if (signals && unsub) {\n        unsub();\n      }\n    };\n  }, [signals, channel]);\n  const isSignalsAvailable = useMemo(() => !!signals, [signals]);\n  return { lastSignal, isSignalsAvailable };\n};\n\nexport { useSignal };\n//# sourceMappingURL=useSignal.esm.js.map\n","import { v4 } from 'uuid';\n\nconst WS_CLOSE_NORMAL = 1e3;\nconst WS_CLOSE_GOING_AWAY = 1001;\nclass SignalClient {\n  static DEFAULT_CONNECT_TIMEOUT_MS = 1e3;\n  static DEFAULT_RECONNECT_TIMEOUT_MS = 5e3;\n  ws = null;\n  subscriptions = /* @__PURE__ */ new Map();\n  messageQueue = [];\n  reconnectTo;\n  static create(options) {\n    const {\n      identity,\n      discoveryApi,\n      connectTimeout = SignalClient.DEFAULT_CONNECT_TIMEOUT_MS,\n      reconnectTimeout = SignalClient.DEFAULT_RECONNECT_TIMEOUT_MS\n    } = options;\n    return new SignalClient(\n      identity,\n      discoveryApi,\n      connectTimeout,\n      reconnectTimeout\n    );\n  }\n  identity;\n  discoveryApi;\n  connectTimeout;\n  reconnectTimeout;\n  constructor(identity, discoveryApi, connectTimeout, reconnectTimeout) {\n    this.identity = identity;\n    this.discoveryApi = discoveryApi;\n    this.connectTimeout = connectTimeout;\n    this.reconnectTimeout = reconnectTimeout;\n  }\n  subscribe(channel, onMessage) {\n    const subscriptionId = v4();\n    const exists = [...this.subscriptions.values()].find(\n      (sub) => sub.channel === channel\n    );\n    this.subscriptions.set(subscriptionId, {\n      channel,\n      callback: onMessage\n    });\n    this.connect().then(() => {\n      if (!exists) {\n        this.send({ action: \"subscribe\", channel });\n      }\n    }).catch(() => {\n      this.reconnect();\n    });\n    const unsubscribe = () => {\n      const sub = this.subscriptions.get(subscriptionId);\n      if (!sub) {\n        return;\n      }\n      this.subscriptions.delete(subscriptionId);\n      const multipleExists = [...this.subscriptions.values()].find(\n        (s) => s.channel === channel\n      );\n      if (!multipleExists) {\n        this.send({ action: \"unsubscribe\", channel: sub.channel });\n      }\n      if (this.subscriptions.size === 0) {\n        this.ws?.close(WS_CLOSE_NORMAL);\n        this.ws = null;\n      }\n    };\n    return { unsubscribe };\n  }\n  send(data) {\n    const jsonMessage = JSON.stringify(data);\n    if (jsonMessage.length === 0) {\n      return;\n    }\n    if (!this.ws || this.ws.readyState !== WebSocket.OPEN) {\n      if (data) {\n        this.messageQueue.unshift(jsonMessage);\n      }\n      return;\n    }\n    for (const msg of this.messageQueue) {\n      this.ws.send(msg);\n    }\n    this.messageQueue = [];\n    if (data) {\n      this.ws.send(jsonMessage);\n    }\n  }\n  async connect() {\n    if (this.ws && this.ws.readyState !== WebSocket.CLOSED) {\n      return;\n    }\n    const apiUrl = await this.discoveryApi.getBaseUrl(\"signals\");\n    const { token } = await this.identity.getCredentials();\n    const url = new URL(apiUrl);\n    url.protocol = url.protocol === \"http:\" ? \"ws:\" : \"wss:\";\n    this.ws = new WebSocket(url.toString(), token);\n    let connectSleep = 0;\n    while (this.ws && this.ws.readyState !== WebSocket.OPEN && connectSleep < this.connectTimeout) {\n      await new Promise((r) => setTimeout(r, 100));\n      connectSleep += 100;\n    }\n    if (!this.ws || this.ws.readyState !== WebSocket.OPEN) {\n      throw new Error(\"Connect timeout\");\n    }\n    this.ws.onmessage = (data) => {\n      this.handleMessage(data);\n    };\n    this.ws.onerror = () => {\n      if (this.ws) {\n        this.ws.close();\n      }\n      this.ws = null;\n    };\n    this.ws.onclose = (ev) => {\n      if (ev.code !== WS_CLOSE_NORMAL && ev.code !== WS_CLOSE_GOING_AWAY) {\n        this.reconnect();\n      }\n    };\n  }\n  handleMessage(data) {\n    try {\n      const json = JSON.parse(data.data);\n      if (!json.channel) {\n        return;\n      }\n      for (const sub of this.subscriptions.values()) {\n        if (sub.channel === json.channel) {\n          sub.callback(json.message);\n        }\n      }\n    } catch (e) {\n    }\n  }\n  reconnect() {\n    if (this.reconnectTo) {\n      clearTimeout(this.reconnectTo);\n    }\n    this.reconnectTo = setTimeout(() => {\n      this.reconnectTo = null;\n      if (this.ws) {\n        this.ws.close();\n      }\n      this.ws = null;\n      this.connect().then(() => {\n        for (const sub of this.subscriptions.values()) {\n          this.send({ action: \"subscribe\", channel: sub.channel });\n        }\n      }).catch(() => {\n        this.reconnect();\n      });\n    }, this.reconnectTimeout);\n  }\n}\n\nexport { SignalClient };\n//# sourceMappingURL=SignalClient.esm.js.map\n","import { createPlugin, createApiFactory, discoveryApiRef, identityApiRef, createComponentExtension } from '@backstage/core-plugin-api';\nimport { signalApiRef } from '@backstage/plugin-signals-react';\nimport { SignalClient } from './api/SignalClient.esm.js';\n\nconst signalsPlugin = createPlugin({\n  id: \"signals\",\n  apis: [\n    createApiFactory({\n      api: signalApiRef,\n      deps: {\n        identity: identityApiRef,\n        discoveryApi: discoveryApiRef\n      },\n      factory: ({ identity, discoveryApi }) => {\n        return SignalClient.create({\n          identity,\n          discoveryApi\n        });\n      }\n    })\n  ]\n});\nconst SignalsDisplay = signalsPlugin.provide(\n  createComponentExtension({\n    name: \"SignalsDisplay\",\n    component: {\n      // No-op for now, this is just a placeholder to avoid the need for an explicit plugin installation\n      sync: () => null\n    }\n  })\n);\n\nexport { SignalsDisplay, signalsPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","const TECHDOCS_ANNOTATION = \"backstage.io/techdocs-ref\";\nconst TECHDOCS_EXTERNAL_ANNOTATION = \"backstage.io/techdocs-entity\";\nconst TECHDOCS_EXTERNAL_PATH_ANNOTATION = \"backstage.io/techdocs-entity-path\";\n\nexport { TECHDOCS_ANNOTATION, TECHDOCS_EXTERNAL_ANNOTATION, TECHDOCS_EXTERNAL_PATH_ANNOTATION };\n//# sourceMappingURL=constants.esm.js.map\n","import { jsx, Fragment } from 'react/jsx-runtime';\nimport { useState, useEffect } from 'react';\nimport { useLocalStorageValue } from '@react-hookz/web';\nimport { withStyles, Button } from '@material-ui/core';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useShadowRootElements } from '@backstage/plugin-techdocs-react';\n\nconst NESTED_LIST_TOGGLE = \".md-nav__item--nested .md-toggle\";\nconst EXPANDABLE_NAVIGATION_LOCAL_STORAGE = \"@backstage/techdocs-addons/nav-expanded\";\nconst StyledButton = withStyles({\n  root: {\n    position: \"absolute\",\n    left: \"13.7rem\",\n    // Sidebar inner width (15.1em) minus the different margins/paddings\n    top: \"19px\",\n    zIndex: 2,\n    padding: 0,\n    minWidth: 0\n  }\n})(Button);\nconst CollapsedIcon = withStyles({\n  root: {\n    height: \"20px\",\n    width: \"20px\"\n  }\n})(ChevronRightIcon);\nconst ExpandedIcon = withStyles({\n  root: {\n    height: \"20px\",\n    width: \"20px\"\n  }\n})(ExpandMoreIcon);\nconst ExpandableNavigationAddon = () => {\n  const defaultValue = { expandAllNestedNavs: false };\n  const { value: expanded, set: setExpanded } = useLocalStorageValue(\n    EXPANDABLE_NAVIGATION_LOCAL_STORAGE,\n    { defaultValue }\n  );\n  const [hasNavSubLevels, setHasNavSubLevels] = useState(false);\n  const [...checkboxToggles] = useShadowRootElements([\n    NESTED_LIST_TOGGLE\n  ]);\n  function handleKeyPass(event, toggleAction) {\n    if (event.key === \"Enter\" || event.key === \" \") {\n      event.preventDefault();\n      toggleAction();\n    }\n  }\n  useEffect(() => {\n    if (!checkboxToggles?.length) return;\n    setHasNavSubLevels(true);\n  }, [checkboxToggles]);\n  useEffect(() => {\n    if (!checkboxToggles?.length) return;\n    function shouldToggle(item) {\n      return expanded?.expandAllNestedNavs !== item.checked;\n    }\n    for (const item of checkboxToggles) {\n      if (shouldToggle(item)) {\n        item.click();\n      }\n    }\n  }, [expanded, checkboxToggles]);\n  const handleState = () => {\n    setExpanded((prevState) => ({\n      expandAllNestedNavs: !prevState?.expandAllNestedNavs\n    }));\n  };\n  function handleButtonKeyDown(event) {\n    handleKeyPass(event, handleState);\n  }\n  return /* @__PURE__ */ jsx(Fragment, { children: hasNavSubLevels ? /* @__PURE__ */ jsx(\n    StyledButton,\n    {\n      size: \"small\",\n      onClick: handleState,\n      onKeyDown: handleButtonKeyDown,\n      tabIndex: 0,\n      \"aria-expanded\": expanded?.expandAllNestedNavs,\n      \"aria-label\": expanded?.expandAllNestedNavs ? \"collapse-nav\" : \"expand-nav\",\n      children: expanded?.expandAllNestedNavs ? /* @__PURE__ */ jsx(ExpandedIcon, {}) : /* @__PURE__ */ jsx(CollapsedIcon, {})\n    }\n  ) : null });\n};\n\nexport { ExpandableNavigationAddon };\n//# sourceMappingURL=ExpandableNavigation.esm.js.map\n","const ADDON_FEEDBACK_CONTAINER_ID = \"techdocs-report-issue\";\nconst ADDON_FEEDBACK_CONTAINER_SELECTOR = `#${ADDON_FEEDBACK_CONTAINER_ID}`;\nconst ADDON_ISSUE_REPO_TYPES_SUPPORTED = [\"github\", \"gitlab\"];\nconst PAGE_EDIT_LINK_SELECTOR = '[title^=\"Edit this page\"]';\nconst PAGE_FEEDBACK_LINK_SELECTOR = '[title^=\"Leave feedback for\"]';\nconst PAGE_MAIN_CONTENT_SELECTOR = '[data-md-component=\"main\"] .md-content';\n\nexport { ADDON_FEEDBACK_CONTAINER_ID, ADDON_FEEDBACK_CONTAINER_SELECTOR, ADDON_ISSUE_REPO_TYPES_SUPPORTED, PAGE_EDIT_LINK_SELECTOR, PAGE_FEEDBACK_LINK_SELECTOR, PAGE_MAIN_CONTENT_SELECTOR };\n//# sourceMappingURL=constants.esm.js.map\n","import parseGitUrl from 'git-url-parse';\nimport { useApi, configApiRef } from '@backstage/core-plugin-api';\nimport { replaceGithubUrlType, replaceGitLabUrlType } from '@backstage/integration';\nimport { scmIntegrationsApiRef } from '@backstage/integration-react';\nimport { useShadowRootElements, useShadowRootSelection } from '@backstage/plugin-techdocs-react';\nimport { PAGE_EDIT_LINK_SELECTOR } from './constants.esm.js';\n\nconst resolveBlobUrl = (url, type) => {\n  if (type === \"github\") {\n    return replaceGithubUrlType(url, \"blob\");\n  } else if (type === \"gitlab\") {\n    return replaceGitLabUrlType(url, \"blob\");\n  }\n  console.error(\n    `Invalid SCM type ${type} found in ReportIssue addon for URL ${url}!`\n  );\n  return url;\n};\nconst getTitle = (selection) => {\n  const text = selection.toString().substring(0, 70);\n  const ellipsis = text.length === 70 ? \"...\" : \"\";\n  return `Documentation feedback: ${text}${ellipsis}`;\n};\nconst getBody = (selection, markdownUrl, appTitle) => {\n  const title = \"## Documentation Feedback \\u{1F4DD}\";\n  const subheading = \"#### The highlighted text:\";\n  const commentHeading = \"#### The comment on the text:\";\n  const commentPlaceholder = \"_>replace this line with your comment<_\";\n  const highlightedTextAsQuote = selection.toString().trim().split(\"\\n\").map((line) => `> ${line.trim()}`).join(\"\\n\");\n  const facts = [\n    `${appTitle} URL: <${window.location.href}> \nMarkdown URL: <${markdownUrl}>`\n  ];\n  return `${title}\n\n ${subheading} \n\n ${highlightedTextAsQuote}\n\n ${commentHeading} \n ${commentPlaceholder}\n\n ___\n${facts}`;\n};\nconst useGitTemplate = (debounceTime) => {\n  const initialTemplate = { title: \"\", body: \"\" };\n  const selection = useShadowRootSelection(debounceTime);\n  const [editLink] = useShadowRootElements([PAGE_EDIT_LINK_SELECTOR]);\n  const url = editLink?.href ?? \"\";\n  const scmIntegrationsApi = useApi(scmIntegrationsApiRef);\n  const configApi = useApi(configApiRef);\n  const appTitle = configApi.getOptionalString(\"app.title\") || \"Backstage\";\n  if (!selection || !url) return initialTemplate;\n  const type = scmIntegrationsApi.byUrl(url)?.type;\n  if (!type) return initialTemplate;\n  return {\n    title: getTitle(selection),\n    body: getBody(selection, resolveBlobUrl(url, type), appTitle)\n  };\n};\nconst useGitRepository = () => {\n  const scmIntegrationsApi = useApi(scmIntegrationsApiRef);\n  const [editLink] = useShadowRootElements([PAGE_EDIT_LINK_SELECTOR]);\n  const url = editLink?.href ?? \"\";\n  if (!url) return null;\n  const type = scmIntegrationsApi.byUrl(url)?.type;\n  if (!type) return null;\n  return { ...parseGitUrl(resolveBlobUrl(url, type)), type };\n};\n\nexport { getBody, getTitle, useGitRepository, useGitTemplate };\n//# sourceMappingURL=hooks.esm.js.map\n","import { jsxs, jsx } from 'react/jsx-runtime';\nimport { makeStyles } from '@material-ui/core';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport { Link, GitHubIcon } from '@backstage/core-components';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"grid\",\n    gridGap: theme.spacing(1),\n    gridAutoFlow: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    color: theme.palette.common.black,\n    fontSize: theme.typography.button.fontSize\n  }\n}));\nconst getIcon = ({ type }) => {\n  if (type === \"github\") {\n    return GitHubIcon;\n  }\n  return BugReportIcon;\n};\nconst getName = ({ type }) => {\n  return type.charAt(0).toLocaleUpperCase(\"en-US\") + type.slice(1);\n};\nconst getUrl = (repository, template) => {\n  const { title, body } = template;\n  const encodedTitle = encodeURIComponent(title);\n  const encodedBody = encodeURIComponent(body);\n  const { protocol, resource, owner, name, type } = repository;\n  const url = `${protocol}://${resource}/${owner}/${name}`;\n  const encodedUrl = encodeURI(url);\n  if (type === \"github\") {\n    return `${encodedUrl}/issues/new?title=${encodedTitle}&body=${encodedBody}`;\n  }\n  return `${encodedUrl}/issues/new?issue[title]=${encodedTitle}&issue[description]=${encodedBody}`;\n};\nconst IssueLink = ({ template, repository }) => {\n  const classes = useStyles();\n  const Icon = getIcon(repository);\n  const url = getUrl(repository, template);\n  return /* @__PURE__ */ jsxs(Link, { className: classes.root, to: url, target: \"_blank\", children: [\n    /* @__PURE__ */ jsx(Icon, {}),\n    \" Open new \",\n    getName(repository),\n    \" issue\"\n  ] });\n};\n\nexport { IssueLink };\n//# sourceMappingURL=IssueLink.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useState, useEffect } from 'react';\nimport { makeStyles, Portal, Paper } from '@material-ui/core';\nimport { useGitTemplate } from './hooks.esm.js';\nimport { PAGE_MAIN_CONTENT_SELECTOR, PAGE_FEEDBACK_LINK_SELECTOR, ADDON_FEEDBACK_CONTAINER_SELECTOR, ADDON_FEEDBACK_CONTAINER_ID } from './constants.esm.js';\nimport { IssueLink } from './IssueLink.esm.js';\nimport { useShadowRootSelection, useShadowRootElements } from '@backstage/plugin-techdocs-react';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    transform: \"translate(-100%, -100%)\",\n    position: \"absolute\",\n    padding: theme.spacing(1),\n    zIndex: theme.zIndex.tooltip,\n    background: theme.palette.common.white\n  }\n}));\nconst ReportIssueAddonContent = ({\n  debounceTime,\n  templateBuilder,\n  repository\n}) => {\n  const classes = useStyles();\n  const [style, setStyle] = useState();\n  const defaultTemplate = useGitTemplate(debounceTime);\n  const selection = useShadowRootSelection(debounceTime);\n  const [mainContent, feedbackLink] = useShadowRootElements([\n    PAGE_MAIN_CONTENT_SELECTOR,\n    PAGE_FEEDBACK_LINK_SELECTOR\n  ]);\n  let [feedbackContainer] = useShadowRootElements([\n    ADDON_FEEDBACK_CONTAINER_SELECTOR\n  ]);\n  if (feedbackLink) {\n    feedbackLink.style.display = \"none\";\n  }\n  useEffect(() => {\n    if (!selection || !selection.containsNode(mainContent, true) || selection.containsNode(feedbackContainer, true)) {\n      return;\n    }\n    const mainContentPosition = mainContent.getBoundingClientRect();\n    const selectionPosition = selection.getRangeAt(0).getBoundingClientRect();\n    const distanceFromTop = selectionPosition.top - mainContentPosition.top;\n    const minDistanceFromTop = 50;\n    let top = distanceFromTop < minDistanceFromTop ? 101 : distanceFromTop - 16;\n    if (mainContentPosition.top < 0) {\n      const absMainContentTop = Math.abs(mainContentPosition.top);\n      if (distanceFromTop - absMainContentTop < minDistanceFromTop) {\n        top += 89;\n      }\n    }\n    setStyle({\n      top: `${top}px`,\n      left: `${selectionPosition.left + selectionPosition.width / 2}px`\n    });\n  }, [selection, mainContent, feedbackContainer]);\n  if (!feedbackContainer) {\n    feedbackContainer = document.createElement(\"div\");\n    feedbackContainer.setAttribute(\"id\", ADDON_FEEDBACK_CONTAINER_ID);\n    mainContent.prepend(feedbackContainer);\n  }\n  if (!selection || !selection.containsNode(mainContent, true)) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(Portal, { container: feedbackContainer, children: /* @__PURE__ */ jsx(\n    Paper,\n    {\n      \"data-testid\": \"report-issue-addon\",\n      className: classes.root,\n      style,\n      children: /* @__PURE__ */ jsx(\n        IssueLink,\n        {\n          repository,\n          template: templateBuilder ? templateBuilder({ selection }) : defaultTemplate\n        }\n      )\n    }\n  ) });\n};\n\nexport { ReportIssueAddonContent };\n//# sourceMappingURL=ReportIssueContent.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport { useState, useMemo, useCallback, useEffect } from 'react';\nimport { withStyles, Slider, makeStyles, useTheme, MenuItem, ListItemText, Box, IconButton, Typography } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport { useShadowRootElements } from '@backstage/plugin-techdocs-react';\n\nconst boxShadow = \"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)\";\nconst StyledSlider = withStyles((theme) => ({\n  root: {\n    height: 2,\n    padding: \"15px 0\"\n  },\n  thumb: {\n    height: 18,\n    width: 18,\n    backgroundColor: theme.palette.common.white,\n    boxShadow,\n    marginTop: -9,\n    marginLeft: -9,\n    \"&:focus, &:hover, &$active\": {\n      boxShadow: \"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)\",\n      // Reset on touch devices, it doesn't add specificity\n      \"@media (hover: none)\": {\n        boxShadow\n      }\n    }\n  },\n  active: {},\n  valueLabel: {\n    top: \"100%\",\n    left: \"50%\",\n    transform: \"scale(1) translate(-50%, -5px) !important\",\n    \"& *\": {\n      color: theme.palette.textSubtle,\n      fontSize: theme.typography.caption.fontSize,\n      background: \"transparent\"\n    }\n  },\n  track: {\n    height: 2\n  },\n  rail: {\n    height: 2,\n    opacity: 0.5\n  },\n  mark: {\n    height: 10,\n    width: 1,\n    marginTop: -4\n  },\n  markActive: {\n    opacity: 1,\n    backgroundColor: \"currentColor\"\n  }\n}))(Slider);\nconst settings = {\n  key: \"techdocs.addons.settings.textsize\",\n  defaultValue: 100\n};\nconst marks = [\n  {\n    value: 90\n  },\n  {\n    value: 100\n  },\n  {\n    value: 115\n  },\n  {\n    value: 130\n  },\n  {\n    value: 150\n  }\n];\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    color: theme.palette.textSubtle,\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: 0,\n    minWidth: 200\n  },\n  menuItem: {\n    \"&:hover\": {\n      background: \"transparent\"\n    }\n  },\n  decreaseButton: {\n    marginRight: theme.spacing(1)\n  },\n  increaseButton: {\n    marginLeft: theme.spacing(1)\n  }\n}));\nconst TextSizeAddon = () => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [body] = useShadowRootElements([\"body\"]);\n  const [value, setValue] = useState(() => {\n    const initialValue = localStorage?.getItem(settings.key);\n    return initialValue ? parseInt(initialValue, 10) : settings.defaultValue;\n  });\n  const values = useMemo(() => marks.map((mark) => mark.value), []);\n  const index = useMemo(() => values.indexOf(value), [values, value]);\n  const min = useMemo(() => values[0], [values]);\n  const max = useMemo(() => values[values.length - 1], [values]);\n  const getValueText = useCallback(() => `${value}%`, [value]);\n  const handleChangeCommitted = useCallback(\n    (_event, newValue) => {\n      if (!Array.isArray(newValue)) {\n        setValue(newValue);\n        localStorage?.setItem(settings.key, String(newValue));\n      }\n    },\n    [setValue]\n  );\n  const handleDecreaseClick = useCallback(\n    (event) => {\n      handleChangeCommitted(event, values[index - 1]);\n    },\n    [index, values, handleChangeCommitted]\n  );\n  const handleIncreaseClick = useCallback(\n    (event) => {\n      handleChangeCommitted(event, values[index + 1]);\n    },\n    [index, values, handleChangeCommitted]\n  );\n  useEffect(() => {\n    if (!body) return;\n    const htmlFontSize = theme.typography?.htmlFontSize ?? 16;\n    body.style.setProperty(\n      \"--md-typeset-font-size\",\n      `${htmlFontSize * (value / 100)}px`\n    );\n  }, [body, value, theme]);\n  return /* @__PURE__ */ jsx(MenuItem, { className: classes.menuItem, button: true, disableRipple: true, children: /* @__PURE__ */ jsx(\n    ListItemText,\n    {\n      primary: /* @__PURE__ */ jsx(Typography, { variant: \"subtitle2\", color: \"textPrimary\", children: \"Text size\" }),\n      secondary: /* @__PURE__ */ jsxs(Box, { className: classes.container, children: [\n        /* @__PURE__ */ jsx(\n          IconButton,\n          {\n            className: classes.decreaseButton,\n            size: \"small\",\n            edge: \"start\",\n            disabled: value === min,\n            onClick: handleDecreaseClick,\n            \"aria-label\": \"Decrease text size\",\n            children: /* @__PURE__ */ jsx(RemoveIcon, {})\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          StyledSlider,\n          {\n            value,\n            \"aria-labelledby\": \"text-size-slider\",\n            getAriaValueText: getValueText,\n            valueLabelDisplay: \"on\",\n            valueLabelFormat: getValueText,\n            marks,\n            step: null,\n            min,\n            max,\n            onChangeCommitted: handleChangeCommitted\n          }\n        ),\n        /* @__PURE__ */ jsx(\n          IconButton,\n          {\n            className: classes.increaseButton,\n            size: \"small\",\n            edge: \"end\",\n            disabled: value === max,\n            onClick: handleIncreaseClick,\n            \"aria-label\": \"Increase text size\",\n            children: /* @__PURE__ */ jsx(AddIcon, {})\n          }\n        )\n      ] }),\n      disableTypography: true\n    }\n  ) });\n};\n\nexport { TextSizeAddon };\n//# sourceMappingURL=TextSize.esm.js.map\n","import { createPlugin } from '@backstage/core-plugin-api';\nimport { createTechDocsAddonExtension, TechDocsAddonLocations } from '@backstage/plugin-techdocs-react';\nimport { ExpandableNavigationAddon } from './ExpandableNavigation/ExpandableNavigation.esm.js';\nimport { ReportIssueAddon } from './ReportIssue/ReportIssue.esm.js';\nimport { TextSizeAddon } from './TextSize/TextSize.esm.js';\nimport { LightBoxAddon } from './LightBox/LightBox.esm.js';\n\nconst techdocsModuleAddonsContribPlugin = createPlugin({\n  id: \"techdocsModuleAddonsContrib\"\n});\nconst ExpandableNavigation = techdocsModuleAddonsContribPlugin.provide(\n  createTechDocsAddonExtension({\n    name: \"ExpandableNavigation\",\n    location: TechDocsAddonLocations.PrimarySidebar,\n    component: ExpandableNavigationAddon\n  })\n);\nconst ReportIssue = techdocsModuleAddonsContribPlugin.provide(\n  createTechDocsAddonExtension({\n    name: \"ReportIssue\",\n    location: TechDocsAddonLocations.Content,\n    component: ReportIssueAddon\n  })\n);\nconst TextSize = techdocsModuleAddonsContribPlugin.provide(\n  createTechDocsAddonExtension({\n    name: \"TextSize\",\n    location: TechDocsAddonLocations.Settings,\n    component: TextSizeAddon\n  })\n);\nconst LightBox = techdocsModuleAddonsContribPlugin.provide(\n  createTechDocsAddonExtension({\n    name: \"LightBox\",\n    location: TechDocsAddonLocations.Content,\n    component: LightBoxAddon\n  })\n);\n\nexport { ExpandableNavigation, LightBox, ReportIssue, TextSize, techdocsModuleAddonsContribPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useGitRepository } from './hooks.esm.js';\nimport { ADDON_ISSUE_REPO_TYPES_SUPPORTED } from './constants.esm.js';\nimport { ReportIssueAddonContent } from './ReportIssueContent.esm.js';\n\nconst ReportIssueAddon = ({\n  debounceTime = 500,\n  templateBuilder\n}) => {\n  const repository = useGitRepository();\n  if (!repository || !ADDON_ISSUE_REPO_TYPES_SUPPORTED.includes(repository.type)) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(\n    ReportIssueAddonContent,\n    {\n      debounceTime,\n      templateBuilder,\n      repository\n    }\n  );\n};\n\nexport { ReportIssueAddon };\n//# sourceMappingURL=ReportIssue.esm.js.map\n","import { useEffect } from 'react';\nimport { useShadowRootElements } from '@backstage/plugin-techdocs-react';\nimport PhotoSwipeLightbox from 'photoswipe/lightbox';\nimport PhotoSwipe from 'photoswipe';\nimport 'photoswipe/style.css';\n\nconst LightBoxAddon = () => {\n  const images = useShadowRootElements([\"img\"]);\n  useEffect(() => {\n    let dataSourceImages = null;\n    let lightbox = new PhotoSwipeLightbox({\n      pswpModule: PhotoSwipe,\n      initialZoomLevel: 1,\n      secondaryZoomLevel: (zoomLevelObject) => {\n        const imageWidth = zoomLevelObject.elementSize.x;\n        const imageHeight = zoomLevelObject.elementSize.y;\n        const viewportWidth = zoomLevelObject.panAreaSize.x;\n        const viewportHeight = zoomLevelObject.panAreaSize.y;\n        const widthScale = viewportWidth / imageWidth;\n        const heightScale = viewportHeight / imageHeight;\n        const scaleFactor = Math.min(widthScale, heightScale);\n        return scaleFactor;\n      },\n      wheelToZoom: true,\n      arrowPrevSVG: '<svg class=\"MuiSvgIcon-root MuiSvgIcon-fontSizeLarge  css-c1sh5i\" focusable=\"false\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" data-testid=\"ArrowBackIosIcon\" aria-label=\"fontSize large\"><path d=\"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z\"></path></svg>',\n      arrowNextSVG: '<svg class=\"MuiSvgIcon-root MuiSvgIcon-fontSizeLarge  css-c1sh5i\" focusable=\"false\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" data-testid=\"ArrowForwardIosIcon\" aria-label=\"fontSize large\"><path d=\"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z\"></path></svg>',\n      closeSVG: '<svg class=\"MuiSvgIcon-root MuiSvgIcon-fontSizeLarge  css-c1sh5i\" focusable=\"false\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" data-testid=\"CloseIcon\" aria-label=\"fontSize large\"><path d=\"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"></path></svg>',\n      zoomSVG: `<svg class=\"MuiSvgIcon-root MuiSvgIcon-fontSizeLarge  css-c1sh5i\" focusable=\"false\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" data-testid=\"ZoomIcon\" aria-label=\"fontSize large\">\n          <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path><path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" id=\"photoswipe-zoom-icon-zoomin-path\"></path><path d=\"M12 10H 7 V 9 H 12 Z\" id=\"photoswipe-zoom-icon-zoomout-path\">\n        </svg>`\n    });\n    images.forEach((image, index) => {\n      image.onclick = () => {\n        if (dataSourceImages === null) {\n          dataSourceImages = images.map((dataSourceImage) => {\n            return {\n              element: dataSourceImage,\n              src: dataSourceImage.src,\n              msrc: dataSourceImage.src,\n              alt: dataSourceImage.alt,\n              width: dataSourceImage.clientWidth,\n              height: dataSourceImage.clientHeight\n            };\n          });\n        }\n        lightbox?.loadAndOpen(index, dataSourceImages);\n        return false;\n      };\n    });\n    lightbox.init();\n    return () => {\n      lightbox?.destroy();\n      lightbox = null;\n    };\n  }, [images]);\n  return null;\n};\n\nexport { LightBoxAddon };\n//# sourceMappingURL=LightBox.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useCallback } from 'react';\nimport { useOutlet } from 'react-router-dom';\nimport { attachComponentData, createReactExtension, useElementFilter } from '@backstage/core-plugin-api';\n\nconst TECHDOCS_ADDONS_KEY = \"techdocs.addons.addon.v1\";\nconst TECHDOCS_ADDONS_WRAPPER_KEY = \"techdocs.addons.wrapper.v1\";\nconst TechDocsAddons = () => null;\nattachComponentData(TechDocsAddons, TECHDOCS_ADDONS_WRAPPER_KEY, true);\nconst getDataKeyByName = (name) => {\n  return `${TECHDOCS_ADDONS_KEY}.${name.toLocaleLowerCase(\"en-US\")}`;\n};\nfunction createTechDocsAddonExtension(options) {\n  const { name, component: TechDocsAddon } = options;\n  return createReactExtension({\n    name,\n    component: {\n      sync: (props) => /* @__PURE__ */ jsx(TechDocsAddon, { ...props })\n    },\n    data: {\n      [TECHDOCS_ADDONS_KEY]: options,\n      [getDataKeyByName(name)]: true\n    }\n  });\n}\nconst getTechDocsAddonByName = (collection, key) => {\n  return collection.selectByComponentData({ key }).getElements()[0];\n};\nconst getAllTechDocsAddons = (collection) => {\n  return collection.selectByComponentData({\n    key: TECHDOCS_ADDONS_WRAPPER_KEY\n  }).selectByComponentData({\n    key: TECHDOCS_ADDONS_KEY\n  });\n};\nconst getAllTechDocsAddonsData = (collection) => {\n  return collection.selectByComponentData({\n    key: TECHDOCS_ADDONS_WRAPPER_KEY\n  }).findComponentData({\n    key: TECHDOCS_ADDONS_KEY\n  });\n};\nconst useTechDocsAddons = () => {\n  const node = useOutlet();\n  const collection = useElementFilter(node, getAllTechDocsAddons);\n  const options = useElementFilter(node, getAllTechDocsAddonsData);\n  const findAddonByData = useCallback(\n    (data) => {\n      if (!collection || !data) return null;\n      const nameKey = getDataKeyByName(data.name);\n      return getTechDocsAddonByName(collection, nameKey) ?? null;\n    },\n    [collection]\n  );\n  const renderComponentByName = useCallback(\n    (name) => {\n      const data = options.find((option) => option.name === name);\n      return data ? findAddonByData(data) : null;\n    },\n    [options, findAddonByData]\n  );\n  const renderComponentsByLocation = useCallback(\n    (location) => {\n      const data = options.filter((option) => option.location === location);\n      return data.length ? data.map(findAddonByData) : null;\n    },\n    [options, findAddonByData]\n  );\n  return { renderComponentByName, renderComponentsByLocation };\n};\n\nexport { TECHDOCS_ADDONS_KEY, TECHDOCS_ADDONS_WRAPPER_KEY, TechDocsAddons, createTechDocsAddonExtension, getDataKeyByName, useTechDocsAddons };\n//# sourceMappingURL=addons.esm.js.map\n","import { createApiRef } from '@backstage/core-plugin-api';\n\nconst techdocsApiRef = createApiRef({\n  id: \"plugin.techdocs.service\"\n});\nconst techdocsStorageApiRef = createApiRef({\n  id: \"plugin.techdocs.storageservice\"\n});\n\nexport { techdocsApiRef, techdocsStorageApiRef };\n//# sourceMappingURL=api.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { memo, useState, useEffect, useContext } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport useAsyncRetry from 'react-use/esm/useAsyncRetry';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport { createVersionedContext, createVersionedValueMap } from '@backstage/version-bridge';\nimport { useApi, configApiRef, AnalyticsContext } from '@backstage/core-plugin-api';\nimport { techdocsApiRef } from './api.esm.js';\nimport { toLowercaseEntityRefMaybe } from './helpers.esm.js';\n\nconst areEntityRefsEqual = (prevEntityRef, nextEntityRef) => {\n  return stringifyEntityRef(prevEntityRef) === stringifyEntityRef(nextEntityRef);\n};\nconst defaultTechDocsReaderPageValue = {\n  title: \"\",\n  subtitle: \"\",\n  setTitle: () => {\n  },\n  setSubtitle: () => {\n  },\n  setShadowRoot: () => {\n  },\n  metadata: { loading: true },\n  entityMetadata: { loading: true },\n  entityRef: { kind: \"\", name: \"\", namespace: \"\" }\n};\nconst TechDocsReaderPageContext = createVersionedContext(\"techdocs-reader-page-context\");\nconst TechDocsReaderPageProvider = memo(\n  (props) => {\n    const { entityRef, children } = props;\n    const techdocsApi = useApi(techdocsApiRef);\n    const config = useApi(configApiRef);\n    const entityMetadata = useAsync(async () => {\n      return techdocsApi.getEntityMetadata(entityRef);\n    }, [entityRef]);\n    const metadata = useAsyncRetry(async () => {\n      return techdocsApi.getTechDocsMetadata(entityRef);\n    }, [entityRef]);\n    const [title, setTitle] = useState(defaultTechDocsReaderPageValue.title);\n    const [subtitle, setSubtitle] = useState(\n      defaultTechDocsReaderPageValue.subtitle\n    );\n    const [shadowRoot, setShadowRoot] = useState(\n      defaultTechDocsReaderPageValue.shadowRoot\n    );\n    useEffect(() => {\n      if (shadowRoot && !metadata.value && !metadata.loading) {\n        metadata.retry();\n      }\n    }, [\n      metadata.value,\n      metadata.loading,\n      shadowRoot,\n      metadata.retry,\n      metadata\n    ]);\n    const value = {\n      metadata,\n      entityRef: toLowercaseEntityRefMaybe(entityRef, config),\n      entityMetadata,\n      shadowRoot,\n      setShadowRoot,\n      title,\n      setTitle,\n      subtitle,\n      setSubtitle\n    };\n    const versionedValue = createVersionedValueMap({ 1: value });\n    return /* @__PURE__ */ jsx(\n      AnalyticsContext,\n      {\n        attributes: { entityRef: stringifyEntityRef(entityRef) },\n        children: /* @__PURE__ */ jsx(TechDocsReaderPageContext.Provider, { value: versionedValue, children: children instanceof Function ? children(value) : children })\n      }\n    );\n  },\n  (prevProps, nextProps) => {\n    return areEntityRefsEqual(prevProps.entityRef, nextProps.entityRef);\n  }\n);\nconst useTechDocsReaderPage = () => {\n  const versionedContext = useContext(TechDocsReaderPageContext);\n  if (versionedContext === void 0) {\n    return defaultTechDocsReaderPageValue;\n  }\n  const context = versionedContext.atVersion(1);\n  if (context === void 0) {\n    throw new Error(\"No context found for version 1.\");\n  }\n  return context;\n};\n\nexport { TechDocsReaderPageProvider, useTechDocsReaderPage };\n//# sourceMappingURL=context.esm.js.map\n","import { getCompoundEntityRef, parseEntityRef } from '@backstage/catalog-model';\nimport { TECHDOCS_EXTERNAL_PATH_ANNOTATION, TECHDOCS_EXTERNAL_ANNOTATION } from '@backstage/plugin-techdocs-common';\n\nfunction toLowercaseEntityRefMaybe(entityRef, config) {\n  if (config.getOptionalBoolean(\"techdocs.legacyUseCaseSensitiveTripletPaths\"))\n    return entityRef;\n  entityRef.kind = entityRef.kind.toLocaleLowerCase();\n  entityRef.name = entityRef.name.toLocaleLowerCase();\n  entityRef.namespace = entityRef.namespace.toLocaleLowerCase();\n  return entityRef;\n}\nfunction getEntityRootTechDocsPath(entity) {\n  let path = entity.metadata.annotations?.[TECHDOCS_EXTERNAL_PATH_ANNOTATION];\n  if (!path) {\n    return \"\";\n  }\n  if (!path.startsWith(\"/\")) {\n    path = `/${path}`;\n  }\n  return path;\n}\nconst buildTechDocsURL = (entity, routeFunc) => {\n  if (!routeFunc) {\n    return void 0;\n  }\n  let { namespace, kind, name } = getCompoundEntityRef(entity);\n  if (entity.metadata.annotations?.[TECHDOCS_EXTERNAL_ANNOTATION]) {\n    try {\n      const techdocsRef = parseEntityRef(\n        entity.metadata.annotations?.[TECHDOCS_EXTERNAL_ANNOTATION]\n      );\n      namespace = techdocsRef.namespace;\n      kind = techdocsRef.kind;\n      name = techdocsRef.name;\n    } catch {\n    }\n  }\n  const url = routeFunc({\n    namespace,\n    kind,\n    name\n  });\n  const path = getEntityRootTechDocsPath(entity);\n  return `${url}${path}`;\n};\n\nexport { buildTechDocsURL, getEntityRootTechDocsPath, toLowercaseEntityRefMaybe };\n//# sourceMappingURL=helpers.esm.js.map\n","import { useState, useEffect, useMemo } from 'react';\nimport debounce from 'lodash/debounce';\nimport { useTechDocsReaderPage } from './context.esm.js';\n\nconst useShadowRoot = () => {\n  const { shadowRoot } = useTechDocsReaderPage();\n  return shadowRoot;\n};\nconst useShadowRootElements = (selectors) => {\n  const shadowRoot = useShadowRoot();\n  const [root, setRootNode] = useState(shadowRoot?.firstChild);\n  useEffect(() => {\n    let observer;\n    if (shadowRoot) {\n      observer = new MutationObserver(() => {\n        setRootNode(shadowRoot?.firstChild);\n      });\n      observer.observe(shadowRoot, {\n        attributes: true,\n        characterData: true,\n        childList: true,\n        subtree: true\n      });\n    }\n    return () => observer?.disconnect();\n  }, [shadowRoot]);\n  if (!root || !(root instanceof HTMLElement)) return [];\n  return selectors.map((selector) => root.querySelectorAll(selector)).filter((nodeList) => nodeList.length).map((nodeList) => Array.from(nodeList)).flat();\n};\nconst isValidSelection = (newSelection) => {\n  return newSelection.toString() && newSelection.rangeCount && newSelection.getRangeAt(0).getBoundingClientRect().top;\n};\nconst useShadowRootSelection = (waitMillis = 0) => {\n  const shadowRoot = useShadowRoot();\n  const [selection, setSelection] = useState(null);\n  const handleSelectionChange = useMemo(\n    () => debounce(() => {\n      const shadowDocument = shadowRoot;\n      const newSelection = shadowDocument.getSelection ? shadowDocument.getSelection() : document.getSelection();\n      if (newSelection && isValidSelection(newSelection)) {\n        setSelection(newSelection);\n      } else {\n        setSelection(null);\n      }\n    }, waitMillis),\n    [shadowRoot, setSelection, waitMillis]\n  );\n  useEffect(() => {\n    window.document.addEventListener(\"selectionchange\", handleSelectionChange);\n    return () => {\n      handleSelectionChange.cancel();\n      window.document.removeEventListener(\n        \"selectionchange\",\n        handleSelectionChange\n      );\n    };\n  }, [handleSelectionChange]);\n  return selection;\n};\n\nexport { useShadowRoot, useShadowRootElements, useShadowRootSelection };\n//# sourceMappingURL=hooks.esm.js.map\n","const TechDocsAddonLocations = Object.freeze({\n  /**\n   * These addons fill up the header from the right, on the same line as the\n   * title.\n   */\n  Header: \"Header\",\n  /**\n   * These addons appear below the header and above all content; tooling addons\n   * can be inserted for convenience.\n   */\n  Subheader: \"Subheader\",\n  /**\n   * These addons are items added to the settings menu list and are designed to make\n   * the reader experience customizable, for example accessibility options\n   */\n  Settings: \"Settings\",\n  /**\n   * These addons appear left of the content and above the navigation.\n   */\n  PrimarySidebar: \"PrimarySidebar\",\n  /**\n   * These addons appear right of the content and above the table of contents.\n   */\n  SecondarySidebar: \"SecondarySidebar\",\n  /**\n   * A virtual location which allows mutation of all content within the shadow\n   * root by transforming DOM nodes. These addons should return null on render.\n   */\n  Content: \"Content\"\n  /**\n   * todo(backstage/community): This is a proposed virtual location which would\n   * help implement a common addon pattern in which many instances of a given\n   * element in markdown would be dynamically replaced at render-time based on\n   * attributes provided on that element, for example:\n   *\n   * ```md\n   * ## For Fun\n   * <TechDocsAddon>CatGif</TechDocsAddon>\n   *\n   * ## Component Metadata\n   * <TechDocsAddon entityRef=\"default:component/some-component-name\">CatalogEntityCard</TechDocsAddon>\n   *\n   * ## System Metadata\n   * <TechDocsAddon entityRef=\"default:system/some-system-name\">CatalogEntityCard</TechDocsAddon>\n   * ```\n   *\n   * Could correspond to a TechDocs addon named `CatalogEntityCard` with\n   * location `TechDocsAddonLocations.COMPONENT`, whose `component` would be\n   * the react component that would be rendered in place of all instances of\n   * the markdown illustrated above.\n   *\n   * The `@backstage/plugin-techdocs-react` package would need to be updated to, in\n   * cases where such addons had been registered, find all instances of the\n   * the `<TechDocsAddon>` tag whose `textContent` corresponded with the name of the\n   * addon, then replace them with component instances of the addon component,\n   * passing any attributes from the tag as props to the component.\n   */\n  // Component: 'Component',\n});\n\nexport { TechDocsAddonLocations };\n//# sourceMappingURL=types.esm.js.map\n","import { NotFoundError, ResponseError } from '@backstage/errors';\nimport { fetchEventSource } from '@microsoft/fetch-event-source';\n\nclass TechDocsClient {\n  configApi;\n  discoveryApi;\n  fetchApi;\n  constructor(options) {\n    this.configApi = options.configApi;\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi;\n  }\n  async getCookie() {\n    const apiOrigin = await this.getApiOrigin();\n    const requestUrl = `${apiOrigin}/cookie`;\n    const response = await this.fetchApi.fetch(`${requestUrl}`, {\n      credentials: \"include\"\n    });\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n    return await response.json();\n  }\n  async getApiOrigin() {\n    return await this.discoveryApi.getBaseUrl(\"techdocs\");\n  }\n  /**\n   * Retrieve TechDocs metadata.\n   *\n   * When docs are built, we generate a techdocs_metadata.json and store it along with the generated\n   * static files. It includes necessary data about the docs site. This method requests techdocs-backend\n   * which retrieves the TechDocs metadata.\n   *\n   * @param entityId - Object containing entity data like name, namespace, etc.\n   */\n  async getTechDocsMetadata(entityId) {\n    const { kind, namespace, name } = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const requestUrl = `${apiOrigin}/metadata/techdocs/${namespace}/${kind}/${name}`;\n    const request = await this.fetchApi.fetch(`${requestUrl}`);\n    if (!request.ok) {\n      throw await ResponseError.fromResponse(request);\n    }\n    return await request.json();\n  }\n  /**\n   * Retrieve metadata about an entity.\n   *\n   * This method requests techdocs-backend which uses the catalog APIs to respond with filtered\n   * information required here.\n   *\n   * @param entityId - Object containing entity data like name, namespace, etc.\n   */\n  async getEntityMetadata(entityId) {\n    const { kind, namespace, name } = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const requestUrl = `${apiOrigin}/metadata/entity/${namespace}/${kind}/${name}`;\n    const request = await this.fetchApi.fetch(`${requestUrl}`);\n    if (!request.ok) {\n      throw await ResponseError.fromResponse(request);\n    }\n    return await request.json();\n  }\n}\nclass TechDocsStorageClient {\n  configApi;\n  discoveryApi;\n  fetchApi;\n  constructor(options) {\n    this.configApi = options.configApi;\n    this.discoveryApi = options.discoveryApi;\n    this.fetchApi = options.fetchApi;\n  }\n  async getApiOrigin() {\n    return await this.discoveryApi.getBaseUrl(\"techdocs\");\n  }\n  async getStorageUrl() {\n    return this.configApi.getOptionalString(\"techdocs.storageUrl\") ?? `${await this.discoveryApi.getBaseUrl(\"techdocs\")}/static/docs`;\n  }\n  async getBuilder() {\n    return this.configApi.getOptionalString(\"techdocs.builder\") || \"local\";\n  }\n  /**\n   * Fetch HTML content as text for an individual docs page in an entity's docs site.\n   *\n   * @param entityId - Object containing entity data like name, namespace, etc.\n   * @param path - The unique path to an individual docs page e.g. overview/what-is-new\n   * @returns HTML content of the docs page as string\n   * @throws Throws error when the page is not found.\n   */\n  async getEntityDocs(entityId, path) {\n    const { kind, namespace, name } = entityId;\n    const storageUrl = await this.getStorageUrl();\n    const url = `${storageUrl}/${namespace}/${kind}/${name}/${path}`;\n    const request = await this.fetchApi.fetch(\n      `${url.endsWith(\"/\") ? url : `${url}/`}index.html`\n    );\n    let errorMessage = \"\";\n    switch (request.status) {\n      case 404:\n        errorMessage = \"Page not found. \";\n        if (!path) {\n          errorMessage += \"This could be because there is no index.md file in the root of the docs directory of this repository.\";\n        }\n        throw new NotFoundError(errorMessage);\n      case 500:\n        errorMessage = \"Could not generate documentation or an error in the TechDocs backend. \";\n        throw new Error(errorMessage);\n    }\n    return request.text();\n  }\n  /**\n   * Check if docs are on the latest version and trigger rebuild if not\n   *\n   * @param entityId - Object containing entity data like name, namespace, etc.\n   * @param logHandler - Callback to receive log messages from the build process\n   * @returns Whether documents are currently synchronized to newest version\n   * @throws Throws error on error from sync endpoint in TechDocs Backend\n   */\n  async syncEntityDocs(entityId, logHandler = () => {\n  }) {\n    const { kind, namespace, name } = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const url = `${apiOrigin}/sync/${namespace}/${kind}/${name}`;\n    return new Promise((resolve, reject) => {\n      const ctrl = new AbortController();\n      fetchEventSource(url, {\n        fetch: this.fetchApi.fetch,\n        signal: ctrl.signal,\n        onmessage(e) {\n          if (e.event === \"log\") {\n            if (e.data) {\n              logHandler(JSON.parse(e.data));\n            }\n          } else if (e.event === \"finish\") {\n            let updated = false;\n            if (e.data) {\n              ({ updated } = JSON.parse(e.data));\n            }\n            resolve(updated ? \"updated\" : \"cached\");\n          } else if (e.event === \"error\") {\n            reject(new Error(e.data));\n          }\n        },\n        onerror(err) {\n          ctrl.abort();\n          reject(err);\n          throw err;\n        }\n      });\n    });\n  }\n  async getBaseUrl(oldBaseUrl, entityId, path) {\n    const { kind, namespace, name } = entityId;\n    const apiOrigin = await this.getApiOrigin();\n    const newBaseUrl = `${apiOrigin}/static/docs/${namespace}/${kind}/${name}/${path}`;\n    return new URL(\n      oldBaseUrl,\n      newBaseUrl.endsWith(\"/\") ? newBaseUrl : `${newBaseUrl}/`\n    ).toString();\n  }\n}\n\nexport { TechDocsClient, TechDocsStorageClient };\n//# sourceMappingURL=client.esm.js.map\n","import { techdocsStorageApiRef, techdocsApiRef } from '@backstage/plugin-techdocs-react';\nimport { TechDocsStorageClient, TechDocsClient } from './client.esm.js';\nimport { rootCatalogDocsRouteRef, rootDocsRouteRef, rootRouteRef } from './routes.esm.js';\nimport { createPlugin, createApiFactory, fetchApiRef, discoveryApiRef, configApiRef, createRoutableExtension } from '@backstage/core-plugin-api';\nimport { createSearchResultListItemExtension } from '@backstage/plugin-search-react';\n\nconst techdocsPlugin = createPlugin({\n  id: \"techdocs\",\n  apis: [\n    createApiFactory({\n      api: techdocsStorageApiRef,\n      deps: {\n        configApi: configApiRef,\n        discoveryApi: discoveryApiRef,\n        fetchApi: fetchApiRef\n      },\n      factory: ({ configApi, discoveryApi, fetchApi }) => new TechDocsStorageClient({\n        configApi,\n        discoveryApi,\n        fetchApi\n      })\n    }),\n    createApiFactory({\n      api: techdocsApiRef,\n      deps: {\n        configApi: configApiRef,\n        discoveryApi: discoveryApiRef,\n        fetchApi: fetchApiRef\n      },\n      factory: ({ configApi, discoveryApi, fetchApi }) => new TechDocsClient({\n        configApi,\n        discoveryApi,\n        fetchApi\n      })\n    })\n  ],\n  routes: {\n    root: rootRouteRef,\n    docRoot: rootDocsRouteRef,\n    entityContent: rootCatalogDocsRouteRef\n  }\n});\nconst TechdocsPage = techdocsPlugin.provide(\n  createRoutableExtension({\n    name: \"TechdocsPage\",\n    component: () => import('./Router.esm.js').then((m) => m.Router),\n    mountPoint: rootRouteRef\n  })\n);\nconst EntityTechdocsContent = techdocsPlugin.provide(\n  createRoutableExtension({\n    name: \"EntityTechdocsContent\",\n    component: () => import('./Router.esm.js').then((m) => m.LegacyEmbeddedDocsRouter),\n    mountPoint: rootCatalogDocsRouteRef\n  })\n);\nconst TechDocsCustomHome = techdocsPlugin.provide(\n  createRoutableExtension({\n    name: \"TechDocsCustomHome\",\n    component: () => import('./home/components/TechDocsCustomHome.esm.js').then(\n      (m) => m.TechDocsCustomHome\n    ),\n    mountPoint: rootRouteRef\n  })\n);\nconst TechDocsIndexPage = techdocsPlugin.provide(\n  createRoutableExtension({\n    name: \"TechDocsIndexPage\",\n    component: () => import('./home/components/TechDocsIndexPage.esm.js').then(\n      (m) => m.TechDocsIndexPage\n    ),\n    mountPoint: rootRouteRef\n  })\n);\nconst TechDocsReaderPage = techdocsPlugin.provide(\n  createRoutableExtension({\n    name: \"TechDocsReaderPage\",\n    component: () => import('./reader/components/TechDocsReaderPage/index.esm.js').then(\n      (m) => m.TechDocsReaderPage\n    ),\n    mountPoint: rootDocsRouteRef\n  })\n);\nconst TechDocsSearchResultListItem = techdocsPlugin.provide(\n  createSearchResultListItemExtension({\n    name: \"TechDocsSearchResultListItem\",\n    component: () => import('./search/components/TechDocsSearchResultListItem.esm.js').then(\n      (m) => m.TechDocsSearchResultListItem\n    ),\n    predicate: (result) => result.type === \"techdocs\"\n  })\n);\n\nexport { EntityTechdocsContent, TechDocsCustomHome, TechDocsIndexPage, TechDocsReaderPage, TechDocsSearchResultListItem, TechdocsPage, techdocsPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createRouteRef } from '@backstage/core-plugin-api';\n\nconst rootRouteRef = createRouteRef({\n  id: \"techdocs:index-page\"\n});\nconst rootDocsRouteRef = createRouteRef({\n  id: \"techdocs:reader-page\",\n  params: [\"namespace\", \"kind\", \"name\"]\n});\nconst rootCatalogDocsRouteRef = createRouteRef({\n  id: \"techdocs:catalog-reader-view\"\n});\n\nexport { rootCatalogDocsRouteRef, rootDocsRouteRef, rootRouteRef };\n//# sourceMappingURL=routes.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useUserProfile } from '../useUserProfileInfo.esm.js';\nimport { sidebarConfig } from '@backstage/core-components';\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: {\n    width: ({ size }) => size,\n    height: ({ size }) => size,\n    fontSize: ({ size }) => size * 0.7,\n    border: `1px solid ${theme.palette.textSubtle}`\n  }\n}));\nconst UserSettingsSignInAvatar = (props) => {\n  const { size } = props;\n  const { iconSize } = sidebarConfig;\n  const classes = useStyles(size ? { size } : { size: iconSize });\n  const { profile } = useUserProfile();\n  return /* @__PURE__ */ jsx(\n    Avatar,\n    {\n      src: profile.picture,\n      className: classes.avatar,\n      alt: \"Profile picture\"\n    }\n  );\n};\n\nexport { UserSettingsSignInAvatar };\n//# sourceMappingURL=UserSettingsSignInAvatar.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { settingsRouteRef } from '../plugin.esm.js';\nimport { SidebarItem } from '@backstage/core-components';\nimport { useRouteRef } from '@backstage/core-plugin-api';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\nimport { userSettingsTranslationRef } from '../translation.esm.js';\n\nconst Settings = (props) => {\n  const routePath = useRouteRef(settingsRouteRef);\n  const Icon = props.icon ? props.icon : SettingsIcon;\n  const { t } = useTranslationRef(userSettingsTranslationRef);\n  return /* @__PURE__ */ jsx(SidebarItem, { text: t(\"sidebarTitle\"), to: routePath(), icon: Icon });\n};\n\nexport { Settings };\n//# sourceMappingURL=Settings.esm.js.map\n","import { useApi, identityApiRef, alertApiRef } from '@backstage/core-plugin-api';\nimport { useEffect } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { catalogApiRef } from '@backstage/plugin-catalog-react';\n\nconst useUserProfile = () => {\n  const identityApi = useApi(identityApiRef);\n  const alertApi = useApi(alertApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const { value, loading, error } = useAsync(async () => {\n    let identityProfile = await identityApi.getProfileInfo();\n    const backStageIdentity = await identityApi.getBackstageIdentity();\n    const catalogProfile = await catalogApi.getEntityByRef(\n      backStageIdentity.userEntityRef\n    );\n    if (identityProfile.picture === void 0 && catalogProfile?.spec?.profile?.picture) {\n      identityProfile = {\n        ...identityProfile,\n        picture: catalogProfile.spec.profile.picture\n      };\n    }\n    return {\n      profile: identityProfile,\n      identity: backStageIdentity\n    };\n  }, []);\n  useEffect(() => {\n    if (error) {\n      alertApi.post({\n        message: `Failed to load user identity: ${error}`,\n        severity: \"error\"\n      });\n    }\n  }, [error, alertApi]);\n  if (loading || error) {\n    return {\n      profile: {},\n      displayName: \"\",\n      loading\n    };\n  }\n  return {\n    profile: value.profile,\n    backstageIdentity: value.identity,\n    displayName: value.profile.displayName ?? value.identity.userEntityRef,\n    loading\n  };\n};\n\nexport { useUserProfile };\n//# sourceMappingURL=useUserProfileInfo.esm.js.map\n","import { createRouteRef, createPlugin, createRoutableExtension } from '@backstage/core-plugin-api';\n\nconst settingsRouteRef = createRouteRef({\n  id: \"user-settings\"\n});\nconst userSettingsPlugin = createPlugin({\n  id: \"user-settings\",\n  routes: {\n    settingsPage: settingsRouteRef\n  }\n});\nconst UserSettingsPage = userSettingsPlugin.provide(\n  createRoutableExtension({\n    name: \"UserSettingsPage\",\n    component: () => import('./components/SettingsPage/index.esm.js').then((m) => m.SettingsPage),\n    mountPoint: settingsRouteRef\n  })\n);\n\nexport { UserSettingsPage, settingsRouteRef, userSettingsPlugin };\n//# sourceMappingURL=plugin.esm.js.map\n","import { createTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst userSettingsTranslationRef = createTranslationRef({\n  id: \"user-settings\",\n  messages: {\n    languageToggle: {\n      title: \"Language\",\n      description: \"Change the language\",\n      select: \"Select language {{language}}\"\n    },\n    themeToggle: {\n      title: \"Theme\",\n      description: \"Change the theme mode\",\n      select: \"Select {{theme}}\",\n      selectAuto: \"Select Auto Theme\",\n      names: {\n        light: \"Light\",\n        dark: \"Dark\",\n        auto: \"Auto\"\n      }\n    },\n    signOutMenu: {\n      title: \"Sign Out\",\n      moreIconTitle: \"more\"\n    },\n    pinToggle: {\n      title: \"Pin Sidebar\",\n      description: \"Prevent the sidebar from collapsing\",\n      switchTitles: {\n        unpin: \"Unpin Sidebar\",\n        pin: \"Pin Sidebar\"\n      },\n      ariaLabelTitle: \"Pin Sidebar Switch\"\n    },\n    identityCard: {\n      title: \"Backstage Identity\",\n      noIdentityTitle: \"No Backstage Identity\",\n      userEntity: \"User Entity\",\n      ownershipEntities: \"Ownership Entities\"\n    },\n    defaultProviderSettings: {\n      description: \"Provides authentication towards {{provider}} APIs and identities\"\n    },\n    emptyProviders: {\n      title: \"No Authentication Providers\",\n      description: \"You can add Authentication Providers to Backstage which allows you to use these providers to authenticate yourself.\",\n      action: {\n        title: \"Open app-config.yaml and make the changes as highlighted below:\",\n        readMoreButtonTitle: \"Read More\"\n      }\n    },\n    providerSettingsItem: {\n      title: {\n        signIn: \"Sign in to {{title}}\",\n        signOut: \"Sign out from {{title}}\"\n      },\n      buttonTitle: {\n        signIn: \"Sign in\",\n        signOut: \"Sign out\"\n      }\n    },\n    authProviders: {\n      title: \"Available Providers\"\n    },\n    defaultSettingsPage: {\n      tabsTitle: {\n        general: \"General\",\n        authProviders: \"Authentication Providers\",\n        featureFlags: \"Feature Flags\"\n      }\n    },\n    featureFlags: {\n      title: \"Feature Flags\",\n      description: \"Please refresh the page when toggling feature flags\",\n      emptyFlags: {\n        title: \"No Feature Flags\",\n        description: \"Feature Flags make it possible for plugins to register features in Backstage for users to opt into. You can use this to split out logic in your code for manual A/B testing, etc.\",\n        action: {\n          title: \"An example for how to add a feature flag is highlighted below:\",\n          readMoreButtonTitle: \"Read More\"\n        }\n      },\n      filterTitle: \"Filter\",\n      clearFilter: \"Clear filter\",\n      flagItem: {\n        title: {\n          disable: \"Disable\",\n          enable: \"Enable\"\n        },\n        subtitle: {\n          registeredInApplication: \"Registered in the application\",\n          registeredInPlugin: \"Registered in {{pluginId}} plugin\"\n        }\n      }\n    },\n    settingsLayout: {\n      title: \"Settings\"\n    },\n    sidebarTitle: \"Settings\",\n    profileCard: {\n      title: \"Profile\"\n    },\n    appearanceCard: {\n      title: \"Appearance\"\n    }\n  }\n});\n\nexport { userSettingsTranslationRef };\n//# sourceMappingURL=translation.esm.js.map\n","import { createContext, useContext } from 'react';\nimport { getOrCreateGlobalSingleton } from './globalObject.esm.js';\nimport { createVersionedValueMap } from './VersionedValue.esm.js';\n\nfunction createVersionedContext(key) {\n  return getOrCreateGlobalSingleton(\n    key,\n    () => createContext(void 0)\n  );\n}\nfunction useVersionedContext(key) {\n  return useContext(createVersionedContext(key));\n}\nfunction createVersionedContextForTesting(key) {\n  return {\n    set(versions) {\n      globalThis[`__@backstage/${key}__`] = createContext(\n        createVersionedValueMap(versions)\n      );\n    },\n    reset() {\n      delete globalThis[`__@backstage/${key}__`];\n    }\n  };\n}\n\nexport { createVersionedContext, createVersionedContextForTesting, useVersionedContext };\n//# sourceMappingURL=VersionedContext.esm.js.map\n","function createVersionedValueMap(versions) {\n  Object.freeze(versions);\n  const versionedValue = {\n    atVersion(version) {\n      return versions[version];\n    }\n  };\n  Object.defineProperty(versionedValue, \"$map\", {\n    configurable: true,\n    enumerable: true,\n    get() {\n      return versions;\n    }\n  });\n  return versionedValue;\n}\n\nexport { createVersionedValueMap };\n//# sourceMappingURL=VersionedValue.esm.js.map\n","function getGlobalObject() {\n  if (typeof window !== \"undefined\" && window.Math === Math) {\n    return window;\n  }\n  if (typeof self !== \"undefined\" && self.Math === Math) {\n    return self;\n  }\n  return Function(\"return this\")();\n}\nconst globalObject = getGlobalObject();\nconst makeKey = (id) => `__@backstage/${id}__`;\nfunction getOrCreateGlobalSingleton(id, supplier) {\n  const key = makeKey(id);\n  let value = globalObject[key];\n  if (value) {\n    return value;\n  }\n  value = supplier();\n  globalObject[key] = value;\n  return value;\n}\n\nexport { getOrCreateGlobalSingleton };\n//# sourceMappingURL=globalObject.esm.js.map\n"],"names":["URL","Error","encodeURIComponent","Map","e","t","Set","Symbol","window","i","localStorage","JSON","Object","decodeURIComponent","Request","u","p","Promise","r","Boolean","console","fetch","o","setInterval","clearInterval","R","Date","Math","Array","document","String","n","s","a","isNaN","TypeError","Number","c","BroadcastChannel","clearTimeout","setTimeout","RegExp","m","d","S","l","HTMLElement","T","h","g","v","URLSearchParams","P","AbortController","Headers","confirm","F","addEventListener","WeakMap","WeakSet","j","E","D","parseFloat","TextEncoder","Uint8Array","WebSocket","BigInt","I","A","Notification","MutationObserver","f","C","parseInt","encodeURI","Function","self"],"mappings":"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"}