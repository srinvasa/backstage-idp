{"version":3,"file":"sonarqubeInfoProvider.cjs.js","sources":["../../src/service/sonarqubeInfoProvider.ts"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Config } from '@backstage/config';\nimport fetch from 'node-fetch';\n\n/**\n * Provide information about sonarqube instances and projects contained within\n * @public\n */\nexport interface SonarqubeInfoProvider {\n  /**\n   * Get the sonarqube URL in configuration from a provided instanceName.\n   *\n   * If instanceName is omitted, default sonarqube instance is queried in config\n   *\n   * @param instanceName - Name of the sonarqube instance to get the info from\n   * @returns the url of the instance\n   */\n  getBaseUrl(options?: { instanceName?: string }): {\n    baseUrl: string;\n    externalBaseUrl?: string;\n  };\n\n  /**\n   * Query the sonarqube instance corresponding to the instanceName to get all\n   * measures for the component of key componentKey.\n   *\n   * If instanceName is omitted, default sonarqube instance is queried in config\n   *\n   * @param componentKey - component key of the project we want to get measure from.\n   * @param instanceName - name of the instance (in config) where the project is hosted.\n   * @returns All measures with the analysis date. Will return undefined if we\n   * can't provide the full response\n   */\n  getFindings(options: {\n    componentKey: string;\n    instanceName?: string;\n  }): Promise<SonarqubeFindings | undefined>;\n}\n\n/**\n * Information retrieved for a specific project in Sonarqube\n * @public\n */\nexport interface SonarqubeFindings {\n  /**\n   * Last date of the analysis that have generated this finding\n   */\n  analysisDate: string;\n  /**\n   * All measures pertaining to the findings\n   */\n  measures: SonarqubeMeasure[];\n}\n\ninterface MeasuresWrapper {\n  component: { measures: SonarqubeMeasure[] };\n}\n\n/**\n * A specific measure on a project in Sonarqube\n * @public\n */\nexport interface SonarqubeMeasure {\n  /**\n   * Name of the measure\n   */\n  metric: string;\n  /**\n   * Value of the measure\n   */\n  value: string;\n}\n\n/**\n * Information about a Sonarqube instance.\n * @public\n */\nexport interface SonarqubeInstanceConfig {\n  /**\n   * Name of the instance. An instance name in configuration and catalog should match.\n   */\n  name: string;\n  /**\n   * Base url to access the instance\n   */\n  baseUrl: string;\n  /**\n   * External url to access the instance from the frontend\n   */\n  externalBaseUrl?: string;\n  /**\n   * Access token to access the sonarqube instance as generated in user profile.\n   */\n  apiKey: string;\n}\n\ninterface ComponentWrapper {\n  component: { analysisDate: string };\n}\n\n/**\n * Holds multiple Sonarqube configurations.\n * @public\n */\nexport class SonarqubeConfig {\n  /**\n   *\n   * @param instances - All information on all sonarqube instance from the config file\n   */\n  constructor(public readonly instances: SonarqubeInstanceConfig[]) {}\n\n  /**\n   * Read all Sonarqube instance configurations.\n   * @param config - Root configuration\n   * @returns A SonarqubeConfig that contains all configured Sonarqube instances.\n   */\n  static fromConfig(config: Config): SonarqubeConfig {\n    const DEFAULT_SONARQUBE_NAME = 'default';\n\n    const sonarqubeConfig = config.getConfig('sonarqube');\n\n    // load all named instance config\n    const namedInstanceConfig =\n      sonarqubeConfig.getOptionalConfigArray('instances')?.map(c => ({\n        name: c.getString('name'),\n        baseUrl: c.getString('baseUrl'),\n        externalBaseUrl: c.getOptionalString('externalBaseUrl'),\n        apiKey: c.getString('apiKey'),\n      })) || [];\n\n    // load unnamed default config\n    const hasNamedDefault = namedInstanceConfig.some(\n      x => x.name === DEFAULT_SONARQUBE_NAME,\n    );\n\n    // Get these as optional strings and check to give a better error message\n    const baseUrl = sonarqubeConfig.getOptionalString('baseUrl');\n    const externalBaseUrl =\n      sonarqubeConfig.getOptionalString('externalBaseUrl');\n    const apiKey = sonarqubeConfig.getOptionalString('apiKey');\n\n    if (hasNamedDefault && (baseUrl || externalBaseUrl || apiKey)) {\n      throw new Error(\n        `Found both a named sonarqube instance with name ${DEFAULT_SONARQUBE_NAME} and top level baseUrl or apiKey config. Use only one style of config.`,\n      );\n    }\n\n    const unnamedNonePresent = !baseUrl && !apiKey;\n    const unnamedAllPresent = baseUrl && apiKey;\n    if (!(unnamedAllPresent || unnamedNonePresent)) {\n      throw new Error(\n        `Found partial default sonarqube config. All (or none) of baseUrl and apiKey must be provided.`,\n      );\n    }\n\n    if (unnamedAllPresent) {\n      const unnamedInstanceConfig = [\n        { name: DEFAULT_SONARQUBE_NAME, baseUrl, externalBaseUrl, apiKey },\n      ] as {\n        name: string;\n        baseUrl: string;\n        externalBaseUrl?: string;\n        apiKey: string;\n      }[];\n\n      return new SonarqubeConfig([\n        ...namedInstanceConfig,\n        ...unnamedInstanceConfig,\n      ]);\n    }\n\n    return new SonarqubeConfig(namedInstanceConfig);\n  }\n\n  /**\n   * Gets a Sonarqube instance configuration by name, or the default one if no name is provided.\n   * @param sonarqubeName - Optional name of the Sonarqube instance.\n   * @returns The requested Sonarqube instance.\n   * @throws Error when no default config could be found or the requested name couldn't be found in config.\n   */\n  getInstanceConfig(\n    options: { sonarqubeName?: string } = {},\n  ): SonarqubeInstanceConfig {\n    const { sonarqubeName } = options;\n    const DEFAULT_SONARQUBE_NAME = 'default';\n\n    if (!sonarqubeName || sonarqubeName === DEFAULT_SONARQUBE_NAME) {\n      // no name provided, use default\n      const instanceConfig = this.instances.find(\n        c => c.name === DEFAULT_SONARQUBE_NAME,\n      );\n\n      if (!instanceConfig) {\n        throw new Error(\n          `Couldn't find a default sonarqube instance in the config. Either configure an instance with name ${DEFAULT_SONARQUBE_NAME} or add a prefix to your annotation value.`,\n        );\n      }\n\n      return instanceConfig;\n    }\n\n    // A name is provided, look it up.\n    const instanceConfig = this.instances.find(c => c.name === sonarqubeName);\n\n    if (!instanceConfig) {\n      throw new Error(\n        `Couldn't find a sonarqube instance in the config with name ${sonarqubeName}`,\n      );\n    }\n    return instanceConfig;\n  }\n}\n\n/**\n * @public\n *\n * Use default config and annotations, build using fromConfig static function.\n */\nexport class DefaultSonarqubeInfoProvider implements SonarqubeInfoProvider {\n  private constructor(private readonly config: SonarqubeConfig) {}\n\n  /**\n   * Generate an instance from a Config instance\n   * @param config - Backend configuration\n   */\n  static fromConfig(config: Config): DefaultSonarqubeInfoProvider {\n    return new DefaultSonarqubeInfoProvider(SonarqubeConfig.fromConfig(config));\n  }\n\n  /**\n   * Retrieve all supported metrics from a sonarqube instance.\n   *\n   * @param instanceUrl - URL of the sonarqube instance\n   * @param token - token to access the sonarqube instance\n   * @returns The list of supported metrics, if no metrics are supported an empty list is provided in the promise\n   */\n  // TODO(awanlin) - Add @private back\n  private static async getSupportedMetrics(\n    instanceUrl: string,\n    token: string,\n  ): Promise<string[]> {\n    const metrics: string[] = [];\n    let nextPage: number = 1;\n\n    for (;;) {\n      const result = await DefaultSonarqubeInfoProvider.callApi<{\n        metrics: Array<{ key: string }>;\n        total: number;\n      }>(instanceUrl, 'api/metrics/search', token, { ps: 500, p: nextPage });\n      metrics.push(...(result?.metrics?.map(m => m.key) ?? []));\n\n      if (result && metrics.length < result.total) {\n        nextPage++;\n        continue;\n      }\n\n      return metrics;\n    }\n  }\n\n  /**\n   * Call an API with provided arguments\n   * @param url - URL of the API to call\n   * @param path - path to call\n   * @param authToken - token used as basic auth user without password\n   * @param query - parameters to provide to the call\n   * @returns A promise on the answer to the API call if the answer status code is 200, undefined otherwise.\n   */\n  // TODO(awanlin) - Add @private back\n  private static async callApi<T>(\n    url: string,\n    path: string,\n    authToken: string,\n    query: { [key in string]: any },\n  ): Promise<T | undefined> {\n    // Sonarqube auth use basic with token as username and no password\n    // but standard dictate the colon (separator) need to stay here despite the\n    // lack of password\n    const encodedAuthToken = Buffer.from(`${authToken}:`).toString('base64');\n\n    const response = await fetch(\n      `${url}/${path}?${new URLSearchParams(query).toString()}`,\n      {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Basic ${encodedAuthToken}`,\n        },\n      },\n    );\n    if (response.status === 200) {\n      return (await response.json()) as T;\n    }\n    return undefined;\n  }\n\n  /**\n   * {@inheritDoc SonarqubeInfoProvider.getBaseUrl}\n   * @throws Error If configuration can't be retrieved.\n   */\n  getBaseUrl(options: { instanceName?: string } = {}): {\n    baseUrl: string;\n    externalBaseUrl?: string;\n  } {\n    const instanceConfig = this.config.getInstanceConfig({\n      sonarqubeName: options.instanceName,\n    });\n    return {\n      baseUrl: instanceConfig.baseUrl,\n      externalBaseUrl: instanceConfig.externalBaseUrl,\n    };\n  }\n\n  /**\n   * {@inheritDoc SonarqubeInfoProvider.getFindings}\n   * @throws Error If configuration can't be retrieved.\n   */\n  async getFindings(options: {\n    componentKey: string;\n    instanceName?: string;\n  }): Promise<SonarqubeFindings | undefined> {\n    const { componentKey, instanceName } = options;\n    const { baseUrl, apiKey } = this.config.getInstanceConfig({\n      sonarqubeName: instanceName,\n    });\n\n    // get component info to retrieve analysis date\n    const component =\n      await DefaultSonarqubeInfoProvider.callApi<ComponentWrapper>(\n        baseUrl,\n        'api/components/show',\n        apiKey,\n        {\n          component: componentKey,\n        },\n      );\n    if (!component || !component.component) {\n      return undefined;\n    }\n\n    // select the metrics that are supported by the SonarQube instance\n    const supportedMetrics =\n      await DefaultSonarqubeInfoProvider.getSupportedMetrics(baseUrl, apiKey);\n    const wantedMetrics: string[] = [\n      'alert_status',\n      'bugs',\n      'reliability_rating',\n      'vulnerabilities',\n      'security_rating',\n      'security_hotspots_reviewed',\n      'security_review_rating',\n      'code_smells',\n      'sqale_rating',\n      'coverage',\n      'duplicated_lines_density',\n    ];\n\n    // only retrieve wanted metrics that are supported\n    const metricsToQuery = wantedMetrics.filter(el =>\n      supportedMetrics.includes(el),\n    );\n\n    // get all measures\n    const measures =\n      await DefaultSonarqubeInfoProvider.callApi<MeasuresWrapper>(\n        baseUrl,\n        'api/measures/component',\n        apiKey,\n        {\n          component: componentKey,\n          metricKeys: metricsToQuery.join(','),\n        },\n      );\n    if (!measures) {\n      return undefined;\n    }\n\n    return {\n      analysisDate: component.component.analysisDate,\n      measures: measures.component?.measures ?? [],\n    };\n  }\n}\n"],"names":["instanceConfig","fetch"],"mappings":"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"}