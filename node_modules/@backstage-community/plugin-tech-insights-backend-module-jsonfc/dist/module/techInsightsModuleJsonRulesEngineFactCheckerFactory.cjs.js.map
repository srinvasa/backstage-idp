{"version":3,"file":"techInsightsModuleJsonRulesEngineFactCheckerFactory.cjs.js","sources":["../../src/module/techInsightsModuleJsonRulesEngineFactCheckerFactory.ts"],"sourcesContent":["/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  coreServices,\n  createBackendModule,\n} from '@backstage/backend-plugin-api';\nimport { techInsightsFactCheckerFactoryExtensionPoint } from '@backstage-community/plugin-tech-insights-node';\nimport { JsonRulesEngineFactCheckerFactory } from '../service';\n\n/**\n * Sets a JsonRulesEngineFactCheckerFactory as FactCheckerFactory\n * loading checks from the config.\n *\n * @public\n */\nexport const techInsightsModuleJsonRulesEngineFactCheckerFactory =\n  createBackendModule({\n    pluginId: 'tech-insights',\n    moduleId: 'json-rules-engine-fact-checker-factory',\n    register(env) {\n      env.registerInit({\n        deps: {\n          config: coreServices.rootConfig,\n          logger: coreServices.logger,\n          techInsights: techInsightsFactCheckerFactoryExtensionPoint,\n        },\n        async init({ config, logger, techInsights }) {\n          const factory = JsonRulesEngineFactCheckerFactory.fromConfig(config, {\n            logger,\n          });\n          techInsights.setFactCheckerFactory(factory);\n        },\n      });\n    },\n  });\n"],"names":["createBackendModule","coreServices","techInsightsFactCheckerFactoryExtensionPoint","JsonRulesEngineFactCheckerFactory"],"mappings":";;;;;;AA6BO,MAAM,sDACXA,oCAAoB,CAAA;AAAA,EAClB,QAAU,EAAA,eAAA;AAAA,EACV,QAAU,EAAA,wCAAA;AAAA,EACV,SAAS,GAAK,EAAA;AACZ,IAAA,GAAA,CAAI,YAAa,CAAA;AAAA,MACf,IAAM,EAAA;AAAA,QACJ,QAAQC,6BAAa,CAAA,UAAA;AAAA,QACrB,QAAQA,6BAAa,CAAA,MAAA;AAAA,QACrB,YAAc,EAAAC;AAAA,OAChB;AAAA,MACA,MAAM,IAAK,CAAA,EAAE,MAAQ,EAAA,MAAA,EAAQ,cAAgB,EAAA;AAC3C,QAAM,MAAA,OAAA,GAAUC,4DAAkC,CAAA,UAAA,CAAW,MAAQ,EAAA;AAAA,UACnE;AAAA,SACD,CAAA;AACD,QAAA,YAAA,CAAa,sBAAsB,OAAO,CAAA;AAAA;AAC5C,KACD,CAAA;AAAA;AAEL,CAAC;;;;"}