'use strict';

var errors = require('@backstage/errors');

class DefaultCheckRegistry {
  checks = /* @__PURE__ */ new Map();
  constructor(checks) {
    checks.forEach((check) => {
      this.register(check);
    });
  }
  async register(check) {
    if (this.checks.has(check.id)) {
      throw new errors.ConflictError(
        `Tech insight check with id ${check.id} has already been registered`
      );
    }
    this.checks.set(check.id, check);
    return check;
  }
  async get(checkId) {
    const check = this.checks.get(checkId);
    if (!check) {
      throw new errors.NotFoundError(
        `Tech insight check with id '${checkId}' is not registered.`
      );
    }
    return check;
  }
  async getAll(checks) {
    return Promise.all(checks.map((checkId) => this.get(checkId)));
  }
  async list() {
    return [...this.checks.values()];
  }
}

exports.DefaultCheckRegistry = DefaultCheckRegistry;
//# sourceMappingURL=CheckRegistry.cjs.js.map
