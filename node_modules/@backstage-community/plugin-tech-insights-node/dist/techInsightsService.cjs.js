'use strict';

var client = require('@backstage-community/plugin-tech-insights-common/client');
var backendPluginApi = require('@backstage/backend-plugin-api');

const techInsightsServiceRef = backendPluginApi.createServiceRef({
  id: "tech-insights-client",
  defaultFactory: async (service) => backendPluginApi.createServiceFactory({
    service,
    deps: {
      auth: backendPluginApi.coreServices.auth,
      discoveryApi: backendPluginApi.coreServices.discovery
    },
    async factory({ auth, discoveryApi }) {
      return new client.TechInsightsClient({
        discoveryApi,
        identityApi: auth
      });
    }
  })
});

exports.techInsightsServiceRef = techInsightsServiceRef;
//# sourceMappingURL=techInsightsService.cjs.js.map
