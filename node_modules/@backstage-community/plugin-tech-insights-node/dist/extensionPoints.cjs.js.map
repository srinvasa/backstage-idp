{"version":3,"file":"extensionPoints.cjs.js","sources":["../src/extensionPoints.ts"],"sourcesContent":["/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createExtensionPoint } from '@backstage/backend-plugin-api';\nimport {\n  CheckResult,\n  Check,\n} from '@backstage-community/plugin-tech-insights-common';\nimport { FactCheckerFactory } from './checks';\nimport { FactRetriever, FactRetrieverRegistry } from './facts';\nimport { PersistenceContext } from './persistence';\n\n/**\n * @public\n */\nexport interface TechInsightsFactRetrieversExtensionPoint {\n  addFactRetrievers(factRetrievers: Record<string, FactRetriever>): void;\n}\n\n/**\n * An extension point that allows other plugins or modules to add fact retrievers.\n *\n * @public\n */\nexport const techInsightsFactRetrieversExtensionPoint =\n  createExtensionPoint<TechInsightsFactRetrieversExtensionPoint>({\n    id: 'tech-insights.fact-retrievers',\n  });\n\n/**\n * @public\n */\nexport interface TechInsightsFactCheckerFactoryExtensionPoint {\n  setFactCheckerFactory<\n    CheckType extends Check,\n    CheckResultType extends CheckResult,\n  >(\n    factory: FactCheckerFactory<CheckType, CheckResultType>,\n  ): void;\n}\n\n/**\n * An extension point that allows other plugins or modules to set a FactCheckerFactory.\n *\n * @public\n */\nexport const techInsightsFactCheckerFactoryExtensionPoint =\n  createExtensionPoint<TechInsightsFactCheckerFactoryExtensionPoint>({\n    id: 'tech-insights.fact-checker-factory',\n  });\n\n/**\n * @public\n */\nexport interface TechInsightsFactRetrieverRegistryExtensionPoint {\n  setFactRetrieverRegistry(registry: FactRetrieverRegistry): void;\n}\n\n/**\n * An extension point that allows other plugins or modules to set a custom FactRetrieverRegistry.\n *\n * @public\n */\nexport const techInsightsFactRetrieverRegistryExtensionPoint =\n  createExtensionPoint<TechInsightsFactRetrieverRegistryExtensionPoint>({\n    id: 'tech-insights.fact-retriever-registry',\n  });\n\n/**\n * @public\n */\nexport interface TechInsightsPersistenceContextExtensionPoint {\n  setPersistenceContext(context: PersistenceContext): void;\n}\n\n/**\n * An extension point that allows other plugins or modules to set a custom PersistenceContext.\n *\n * @public\n */\nexport const techInsightsPersistenceContextExtensionPoint =\n  createExtensionPoint<TechInsightsPersistenceContextExtensionPoint>({\n    id: 'tech-insights.persistence-context',\n  });\n"],"names":["createExtensionPoint"],"mappings":";;;;AAqCO,MAAM,2CACXA,qCAA+D,CAAA;AAAA,EAC7D,EAAI,EAAA;AACN,CAAC;AAmBI,MAAM,+CACXA,qCAAmE,CAAA;AAAA,EACjE,EAAI,EAAA;AACN,CAAC;AAcI,MAAM,kDACXA,qCAAsE,CAAA;AAAA,EACpE,EAAI,EAAA;AACN,CAAC;AAcI,MAAM,+CACXA,qCAAmE,CAAA;AAAA,EACjE,EAAI,EAAA;AACN,CAAC;;;;;;;"}