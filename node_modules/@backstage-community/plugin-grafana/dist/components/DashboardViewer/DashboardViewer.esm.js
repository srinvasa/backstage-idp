import { jsx } from 'react/jsx-runtime';
import { useEntity, MissingAnnotationEmptyState } from '@backstage/plugin-catalog-react';
import { isOverviewDashboardAvailable, GRAFANA_ANNOTATION_OVERVIEW_DASHBOARD, overviewDashboardFromEntity } from '../../constants.esm.js';

const DashboardViewer = ({ embedUrl }) => {
  return /* @__PURE__ */ jsx(
    "iframe",
    {
      title: embedUrl,
      src: embedUrl,
      width: "100%",
      height: "100%",
      referrerPolicy: "strict-origin-when-cross-origin"
    }
  );
};
const EntityDashboardViewer = () => {
  const { entity } = useEntity();
  if (!isOverviewDashboardAvailable(entity)) {
    return /* @__PURE__ */ jsx(
      MissingAnnotationEmptyState,
      {
        annotation: GRAFANA_ANNOTATION_OVERVIEW_DASHBOARD
      }
    );
  }
  return /* @__PURE__ */ jsx(DashboardViewer, { embedUrl: overviewDashboardFromEntity(entity) });
};

export { DashboardViewer, EntityDashboardViewer };
//# sourceMappingURL=DashboardViewer.esm.js.map
