{"version":3,"file":"ScorecardsBadge.esm.js","sources":["../../../src/components/ScorecardsBadge/ScorecardsBadge.tsx"],"sourcesContent":["/*\n * Copyright 2025 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CheckResult } from '@backstage-community/plugin-tech-insights-common';\nimport { Entity } from '@backstage/catalog-model';\nimport Chip from '@material-ui/core/Chip';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { techInsightsApiRef } from '@backstage-community/plugin-tech-insights-react';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { ScorecardsList } from '../ScorecardsList';\n\nexport const ScorecardsBadge = (props: {\n  checkResults: CheckResult[];\n  entity?: Entity;\n}) => {\n  const { checkResults, entity } = props;\n\n  const api = useApi(techInsightsApiRef);\n\n  const types = [...new Set(checkResults.map(({ check }) => check.type))];\n  const checkResultRenderers = api.getCheckResultRenderers(types);\n  const checkResultsWithRenderer = checkResults.map(result => ({\n    result,\n    renderer: checkResultRenderers.find(\n      renderer => renderer.type === result.check.type,\n    ),\n  }));\n\n  const succeeded = checkResultsWithRenderer.filter(\n    ({ result, renderer }) => !renderer?.isFailed?.(result),\n  ).length;\n\n  return (\n    <Tooltip\n      title={\n        <ScorecardsList\n          checkResults={checkResults}\n          entity={entity}\n          dense\n          hideDescription\n        />\n      }\n    >\n      <Chip\n        label={`${succeeded}/${checkResults.length}`}\n        size=\"small\"\n        style={{\n          backgroundColor:\n            succeeded === checkResults.length ? 'mediumseagreen' : 'orangered',\n        }}\n      />\n    </Tooltip>\n  );\n};\n"],"names":[],"mappings":";;;;;;;AAwBa,MAAA,eAAA,GAAkB,CAAC,KAG1B,KAAA;AACJ,EAAM,MAAA,EAAE,YAAc,EAAA,MAAA,EAAW,GAAA,KAAA;AAEjC,EAAM,MAAA,GAAA,GAAM,OAAO,kBAAkB,CAAA;AAErC,EAAA,MAAM,KAAQ,GAAA,CAAC,GAAG,IAAI,IAAI,YAAa,CAAA,GAAA,CAAI,CAAC,EAAE,KAAM,EAAA,KAAM,KAAM,CAAA,IAAI,CAAC,CAAC,CAAA;AACtE,EAAM,MAAA,oBAAA,GAAuB,GAAI,CAAA,uBAAA,CAAwB,KAAK,CAAA;AAC9D,EAAM,MAAA,wBAAA,GAA2B,YAAa,CAAA,GAAA,CAAI,CAAW,MAAA,MAAA;AAAA,IAC3D,MAAA;AAAA,IACA,UAAU,oBAAqB,CAAA,IAAA;AAAA,MAC7B,CAAY,QAAA,KAAA,QAAA,CAAS,IAAS,KAAA,MAAA,CAAO,KAAM,CAAA;AAAA;AAC7C,GACA,CAAA,CAAA;AAEF,EAAA,MAAM,YAAY,wBAAyB,CAAA,MAAA;AAAA,IACzC,CAAC,EAAE,MAAQ,EAAA,QAAA,OAAe,CAAC,QAAA,EAAU,WAAW,MAAM;AAAA,GACtD,CAAA,MAAA;AAEF,EACE,uBAAA,GAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,KACE,kBAAA,GAAA;AAAA,QAAC,cAAA;AAAA,QAAA;AAAA,UACC,YAAA;AAAA,UACA,MAAA;AAAA,UACA,KAAK,EAAA,IAAA;AAAA,UACL,eAAe,EAAA;AAAA;AAAA,OACjB;AAAA,MAGF,QAAA,kBAAA,GAAA;AAAA,QAAC,IAAA;AAAA,QAAA;AAAA,UACC,KAAO,EAAA,CAAA,EAAG,SAAS,CAAA,CAAA,EAAI,aAAa,MAAM,CAAA,CAAA;AAAA,UAC1C,IAAK,EAAA,OAAA;AAAA,UACL,KAAO,EAAA;AAAA,YACL,eACE,EAAA,SAAA,KAAc,YAAa,CAAA,MAAA,GAAS,gBAAmB,GAAA;AAAA;AAC3D;AAAA;AACF;AAAA,GACF;AAEJ;;;;"}