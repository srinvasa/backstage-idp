{"version":3,"file":"ComponentAccordion.esm.js","sources":["../../src/componentRenderers/ComponentAccordion.tsx"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useState } from 'react';\nimport { SettingsModal } from '@backstage/plugin-home-react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport { Theme } from '@material-ui/core/styles';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport SettingsIcon from '@material-ui/icons/Settings';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  settingsIconButton: {\n    padding: theme.spacing(0, 1, 0, 0),\n  },\n  contentContainer: {\n    width: '100%',\n  },\n}));\n\nexport const ComponentAccordion = (props: {\n  title?: string;\n  expanded?: boolean;\n  Content: () => JSX.Element;\n  Actions?: () => JSX.Element;\n  Settings?: () => JSX.Element;\n  ContextProvider?: (props: any) => JSX.Element;\n}) => {\n  const {\n    title,\n    expanded = false,\n    Content,\n    Actions,\n    Settings,\n    ContextProvider,\n    ...childProps\n  } = props;\n\n  const classes = useStyles();\n  const [settingsIsExpanded, setSettingsIsExpanded] = useState(false);\n  const [isExpanded, setIsExpanded] = useState(expanded);\n\n  const handleOpenSettings = (e: any) => {\n    e.stopPropagation();\n    setSettingsIsExpanded(prevState => !prevState);\n  };\n\n  const innerContent = (\n    <>\n      {Settings && (\n        <SettingsModal\n          open={settingsIsExpanded}\n          close={() => setSettingsIsExpanded(false)}\n          componentName={title}\n        >\n          <Settings />\n        </SettingsModal>\n      )}\n      <Accordion\n        expanded={isExpanded}\n        onChange={(_e: any, expandedValue: boolean) =>\n          setIsExpanded(expandedValue)\n        }\n      >\n        <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n          {Settings && (\n            <IconButton\n              onClick={handleOpenSettings}\n              className={classes.settingsIconButton}\n            >\n              <SettingsIcon />\n            </IconButton>\n          )}\n          <Typography>{title}</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <div className={classes.contentContainer}>\n            <Content />\n            {Actions && <Actions />}\n          </div>\n        </AccordionDetails>\n      </Accordion>\n    </>\n  );\n\n  return ContextProvider ? (\n    <ContextProvider {...childProps}>{innerContent}</ContextProvider>\n  ) : (\n    innerContent\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AA4BA,MAAM,SAAA,GAAY,UAAA,CAAW,CAAC,KAAA,MAAkB;AAAA,EAC9C,kBAAA,EAAoB;AAAA,IAClB,SAAS,KAAA,CAAM,OAAA,CAAQ,CAAA,EAAG,CAAA,EAAG,GAAG,CAAC;AAAA,GACnC;AAAA,EACA,gBAAA,EAAkB;AAAA,IAChB,KAAA,EAAO;AAAA;AAEX,CAAA,CAAE,CAAA;AAEK,MAAM,kBAAA,GAAqB,CAAC,KAAA,KAO7B;AACJ,EAAA,MAAM;AAAA,IACJ,KAAA;AAAA,IACA,QAAA,GAAW,KAAA;AAAA,IACX,OAAA;AAAA,IACA,OAAA;AAAA,IACA,QAAA;AAAA,IACA,eAAA;AAAA,IACA,GAAG;AAAA,GACL,GAAI,KAAA;AAEJ,EAAA,MAAM,UAAU,SAAA,EAAU;AAC1B,EAAA,MAAM,CAAC,kBAAA,EAAoB,qBAAqB,CAAA,GAAI,SAAS,KAAK,CAAA;AAClE,EAAA,MAAM,CAAC,UAAA,EAAY,aAAa,CAAA,GAAI,SAAS,QAAQ,CAAA;AAErD,EAAA,MAAM,kBAAA,GAAqB,CAAC,CAAA,KAAW;AACrC,IAAA,CAAA,CAAE,eAAA,EAAgB;AAClB,IAAA,qBAAA,CAAsB,CAAA,SAAA,KAAa,CAAC,SAAS,CAAA;AAAA,EAC/C,CAAA;AAEA,EAAA,MAAM,+BACJ,IAAA,CAAA,QAAA,EAAA,EACG,QAAA,EAAA;AAAA,IAAA,QAAA,oBACC,GAAA;AAAA,MAAC,aAAA;AAAA,MAAA;AAAA,QACC,IAAA,EAAM,kBAAA;AAAA,QACN,KAAA,EAAO,MAAM,qBAAA,CAAsB,KAAK,CAAA;AAAA,QACxC,aAAA,EAAe,KAAA;AAAA,QAEf,8BAAC,QAAA,EAAA,EAAS;AAAA;AAAA,KACZ;AAAA,oBAEF,IAAA;AAAA,MAAC,SAAA;AAAA,MAAA;AAAA,QACC,QAAA,EAAU,UAAA;AAAA,QACV,QAAA,EAAU,CAAC,EAAA,EAAS,aAAA,KAClB,cAAc,aAAa,CAAA;AAAA,QAG7B,QAAA,EAAA;AAAA,0BAAA,IAAA,CAAC,gBAAA,EAAA,EAAiB,UAAA,kBAAY,GAAA,CAAC,cAAA,EAAA,EAAe,CAAA,EAC3C,QAAA,EAAA;AAAA,YAAA,QAAA,oBACC,GAAA;AAAA,cAAC,UAAA;AAAA,cAAA;AAAA,gBACC,OAAA,EAAS,kBAAA;AAAA,gBACT,WAAW,OAAA,CAAQ,kBAAA;AAAA,gBAEnB,8BAAC,YAAA,EAAA,EAAa;AAAA;AAAA,aAChB;AAAA,4BAEF,GAAA,CAAC,cAAY,QAAA,EAAA,KAAA,EAAM;AAAA,WAAA,EACrB,CAAA;AAAA,8BACC,gBAAA,EAAA,EACC,QAAA,kBAAA,IAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAW,QAAQ,gBAAA,EACtB,QAAA,EAAA;AAAA,4BAAA,GAAA,CAAC,OAAA,EAAA,EAAQ,CAAA;AAAA,YACR,OAAA,wBAAY,OAAA,EAAA,EAAQ;AAAA,WAAA,EACvB,CAAA,EACF;AAAA;AAAA;AAAA;AACF,GAAA,EACF,CAAA;AAGF,EAAA,OAAO,kCACL,GAAA,CAAC,eAAA,EAAA,EAAiB,GAAG,UAAA,EAAa,wBAAa,CAAA,GAE/C,YAAA;AAEJ;;;;"}