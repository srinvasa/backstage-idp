{"version":3,"file":"StarredEntityListItem.esm.js","sources":["../../../src/components/StarredEntityListItem/StarredEntityListItem.tsx"],"sourcesContent":["/*\n * Copyright 2023 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Entity } from '@backstage/catalog-model';\nimport {\n  EntityDisplayName,\n  entityRouteParams,\n} from '@backstage/plugin-catalog-react';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { Link } from 'react-router-dom';\nimport { entityRouteRef } from '@backstage/plugin-catalog-react';\nimport { useRouteRef } from '@backstage/core-plugin-api';\nimport { FavoriteToggle } from '@backstage/core-components';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\nimport { homeTranslationRef } from '../../translation';\n\ntype EntityListItemProps = {\n  entity: Entity;\n  onToggleStarredEntity: (entity: Entity) => void;\n  showKind?: boolean;\n};\n\nconst useStyles = makeStyles(theme => ({\n  listItem: {\n    paddingBottom: theme.spacing(0),\n    paddingTop: theme.spacing(0),\n  },\n  secondary: {\n    textTransform: 'uppercase',\n  },\n}));\n\nexport const StarredEntityListItem = ({\n  entity,\n  onToggleStarredEntity,\n  showKind,\n}: EntityListItemProps) => {\n  const classes = useStyles();\n  const catalogEntityRoute = useRouteRef(entityRouteRef);\n  const { t } = useTranslationRef(homeTranslationRef);\n\n  let secondaryText = '';\n  if (showKind) {\n    secondaryText += entity.kind.toLocaleLowerCase('en-US');\n  }\n  if (entity.spec && 'type' in entity.spec) {\n    if (showKind) {\n      secondaryText += ' â€” ';\n    }\n    secondaryText += (entity.spec as { type: string }).type.toLocaleLowerCase(\n      'en-US',\n    );\n  }\n\n  return (\n    <ListItem\n      dense\n      className={classes.listItem}\n      component={Link}\n      button\n      to={catalogEntityRoute(entityRouteParams(entity))}\n    >\n      <ListItemIcon\n        // Prevent following the link when clicking on the icon\n        onClick={e => {\n          e.preventDefault();\n        }}\n      >\n        <FavoriteToggle\n          id={`remove-favorite-${entity.metadata.uid}`}\n          title={t('starredEntityListItem.removeFavoriteEntityTitle')}\n          isFavorite\n          onToggle={() => onToggleStarredEntity(entity)}\n        />\n      </ListItemIcon>\n      <ListItemText\n        primary={<EntityDisplayName hideIcon entityRef={entity} />}\n        secondary={secondaryText}\n      />\n    </ListItem>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAqCA,MAAM,SAAA,GAAY,WAAW,CAAA,KAAA,MAAU;AAAA,EACrC,QAAA,EAAU;AAAA,IACR,aAAA,EAAe,KAAA,CAAM,OAAA,CAAQ,CAAC,CAAA;AAAA,IAC9B,UAAA,EAAY,KAAA,CAAM,OAAA,CAAQ,CAAC;AAAA,GAC7B;AAAA,EACA,SAAA,EAAW;AAAA,IACT,aAAA,EAAe;AAAA;AAEnB,CAAA,CAAE,CAAA;AAEK,MAAM,wBAAwB,CAAC;AAAA,EACpC,MAAA;AAAA,EACA,qBAAA;AAAA,EACA;AACF,CAAA,KAA2B;AACzB,EAAA,MAAM,UAAU,SAAA,EAAU;AAC1B,EAAA,MAAM,kBAAA,GAAqB,YAAY,cAAc,CAAA;AACrD,EAAA,MAAM,EAAE,CAAA,EAAE,GAAI,iBAAA,CAAkB,kBAAkB,CAAA;AAElD,EAAA,IAAI,aAAA,GAAgB,EAAA;AACpB,EAAA,IAAI,QAAA,EAAU;AACZ,IAAA,aAAA,IAAiB,MAAA,CAAO,IAAA,CAAK,iBAAA,CAAkB,OAAO,CAAA;AAAA,EACxD;AACA,EAAA,IAAI,MAAA,CAAO,IAAA,IAAQ,MAAA,IAAU,MAAA,CAAO,IAAA,EAAM;AACxC,IAAA,IAAI,QAAA,EAAU;AACZ,MAAA,aAAA,IAAiB,UAAA;AAAA,IACnB;AACA,IAAA,aAAA,IAAkB,MAAA,CAAO,KAA0B,IAAA,CAAK,iBAAA;AAAA,MACtD;AAAA,KACF;AAAA,EACF;AAEA,EAAA,uBACE,IAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,KAAA,EAAK,IAAA;AAAA,MACL,WAAW,OAAA,CAAQ,QAAA;AAAA,MACnB,SAAA,EAAW,IAAA;AAAA,MACX,MAAA,EAAM,IAAA;AAAA,MACN,EAAA,EAAI,kBAAA,CAAmB,iBAAA,CAAkB,MAAM,CAAC,CAAA;AAAA,MAEhD,QAAA,EAAA;AAAA,wBAAA,GAAA;AAAA,UAAC,YAAA;AAAA,UAAA;AAAA,YAEC,SAAS,CAAA,CAAA,KAAK;AACZ,cAAA,CAAA,CAAE,cAAA,EAAe;AAAA,YACnB,CAAA;AAAA,YAEA,QAAA,kBAAA,GAAA;AAAA,cAAC,cAAA;AAAA,cAAA;AAAA,gBACC,EAAA,EAAI,CAAA,gBAAA,EAAmB,MAAA,CAAO,QAAA,CAAS,GAAG,CAAA,CAAA;AAAA,gBAC1C,KAAA,EAAO,EAAE,iDAAiD,CAAA;AAAA,gBAC1D,UAAA,EAAU,IAAA;AAAA,gBACV,QAAA,EAAU,MAAM,qBAAA,CAAsB,MAAM;AAAA;AAAA;AAC9C;AAAA,SACF;AAAA,wBACA,GAAA;AAAA,UAAC,YAAA;AAAA,UAAA;AAAA,YACC,yBAAS,GAAA,CAAC,iBAAA,EAAA,EAAkB,QAAA,EAAQ,IAAA,EAAC,WAAW,MAAA,EAAQ,CAAA;AAAA,YACxD,SAAA,EAAW;AAAA;AAAA;AACb;AAAA;AAAA,GACF;AAEJ;;;;"}