'use strict';

var MultiTenantServiceLocator = require('./MultiTenantServiceLocator.cjs.js');
var SingleTenantServiceLocator = require('./SingleTenantServiceLocator.cjs.js');
var CatalogRelationServiceLocator = require('./CatalogRelationServiceLocator.cjs.js');

const buildDefaultServiceLocator = ({
  config,
  clusterSupplier
}) => {
  const method = config.getString(
    "kubernetes.serviceLocatorMethod.type"
  );
  switch (method) {
    case "multiTenant":
      return new MultiTenantServiceLocator.MultiTenantServiceLocator(clusterSupplier);
    case "singleTenant":
      return new SingleTenantServiceLocator.SingleTenantServiceLocator(clusterSupplier);
    case "catalogRelation":
      return new CatalogRelationServiceLocator.CatalogRelationServiceLocator(clusterSupplier);
    case "http":
      throw new Error("not implemented");
    default:
      throw new Error(
        `Unsupported kubernetes.serviceLocatorMethod "${method}"`
      );
  }
};

exports.buildDefaultServiceLocator = buildDefaultServiceLocator;
//# sourceMappingURL=buildDefaultServiceLocator.cjs.js.map
