import { jsx, jsxs, Fragment } from 'react/jsx-runtime';
import clsx from 'clsx';
import { forwardRef } from 'react';
import { Button, ProgressBar } from 'react-aria-components';
import { RiLoader4Line } from '@remixicon/react';
import { useStyles } from '../../hooks/useStyles.esm.js';
import { ButtonDefinition } from '../Button/definition.esm.js';
import { ButtonIconDefinition } from './definition.esm.js';
import stylesButtonIcon from './ButtonIcon.module.css.esm.js';
import stylesButton from '../Button/Button.module.css.esm.js';

const ButtonIcon = forwardRef(
  (props, ref) => {
    const { classNames, dataAttributes, cleanedProps } = useStyles(
      ButtonDefinition,
      {
        size: "small",
        variant: "primary",
        ...props
      }
    );
    const { classNames: classNamesButtonIcon } = useStyles(ButtonIconDefinition);
    const { className, icon, loading, ...rest } = cleanedProps;
    return /* @__PURE__ */ jsx(
      Button,
      {
        className: clsx(
          classNames.root,
          classNamesButtonIcon.root,
          stylesButton[classNames.root],
          stylesButtonIcon[classNamesButtonIcon.root],
          className
        ),
        ref,
        isPending: loading,
        ...dataAttributes,
        ...rest,
        children: ({ isPending }) => /* @__PURE__ */ jsxs(Fragment, { children: [
          /* @__PURE__ */ jsx(
            "span",
            {
              className: clsx(
                classNames.content,
                classNamesButtonIcon.content,
                stylesButton[classNames.content],
                stylesButtonIcon[classNamesButtonIcon.content],
                className
              ),
              children: icon
            }
          ),
          isPending && /* @__PURE__ */ jsx(
            ProgressBar,
            {
              "aria-label": "Loading",
              isIndeterminate: true,
              className: clsx(
                classNames.spinner,
                classNamesButtonIcon.spinner,
                stylesButton[classNames.spinner],
                stylesButtonIcon[classNamesButtonIcon.spinner],
                className
              ),
              children: /* @__PURE__ */ jsx(RiLoader4Line, { "aria-hidden": "true" })
            }
          )
        ] })
      }
    );
  }
);
ButtonIcon.displayName = "ButtonIcon";

export { ButtonIcon };
//# sourceMappingURL=ButtonIcon.esm.js.map
