{"version":3,"file":"CustomResources.esm.js","sources":["../../../src/components/CustomResources/CustomResources.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ReactNode, useContext } from 'react';\nimport lodash, { Dictionary } from 'lodash';\nimport { RolloutAccordions } from './ArgoRollouts';\nimport { DefaultCustomResourceAccordions } from './DefaultCustomResource';\nimport { GroupedResponsesContext } from '../../hooks';\n\n/**\n *\n *\n * @public\n */\nexport interface CustomResourcesProps {\n  children?: ReactNode;\n}\n\nconst kindToResource = (customResources: any[]): Dictionary<any[]> => {\n  return lodash.groupBy(customResources, value => {\n    return value.kind;\n  });\n};\n\n/**\n *\n *\n * @public\n */\nexport const CustomResources = ({}: CustomResourcesProps) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  const kindToResourceMap = kindToResource(groupedResponses.customResources);\n\n  return (\n    <>\n      {Object.entries(kindToResourceMap).map(([kind, resources], i) => {\n        switch (kind) {\n          case 'Rollout':\n            return <RolloutAccordions key={i} rollouts={resources} />;\n          default:\n            return (\n              <DefaultCustomResourceAccordions\n                key={i}\n                customResources={resources}\n                customResourceName={kind}\n              />\n            );\n        }\n      })}\n    </>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AA+BA,MAAM,cAAA,GAAiB,CAAC,eAAA,KAA8C;AACpE,EAAA,OAAO,MAAA,CAAO,OAAA,CAAQ,eAAA,EAAiB,CAAA,KAAA,KAAS;AAC9C,IAAA,OAAO,KAAA,CAAM,IAAA;AAAA,EACf,CAAC,CAAA;AACH,CAAA;AAOO,MAAM,eAAA,GAAkB,CAAC,EAAC,KAA4B;AAC3D,EAAA,MAAM,gBAAA,GAAmB,WAAW,uBAAuB,CAAA;AAC3D,EAAA,MAAM,iBAAA,GAAoB,cAAA,CAAe,gBAAA,CAAiB,eAAe,CAAA;AAEzE,EAAA,uBACE,GAAA,CAAA,QAAA,EAAA,EACG,QAAA,EAAA,MAAA,CAAO,OAAA,CAAQ,iBAAiB,CAAA,CAAE,GAAA,CAAI,CAAC,CAAC,IAAA,EAAM,SAAS,CAAA,EAAG,CAAA,KAAM;AAC/D,IAAA,QAAQ,IAAA;AAAM,MACZ,KAAK,SAAA;AACH,QAAA,uBAAO,GAAA,CAAC,iBAAA,EAAA,EAA0B,QAAA,EAAU,SAAA,EAAA,EAAb,CAAwB,CAAA;AAAA,MACzD;AACE,QAAA,uBACE,GAAA;AAAA,UAAC,+BAAA;AAAA,UAAA;AAAA,YAEC,eAAA,EAAiB,SAAA;AAAA,YACjB,kBAAA,EAAoB;AAAA,WAAA;AAAA,UAFf;AAAA,SAGP;AAAA;AAEN,EACF,CAAC,CAAA,EACH,CAAA;AAEJ;;;;"}