{"version":3,"file":"ConfigmapsAccordions.esm.js","sources":["../../../src/components/ConfigmapsAccordions/ConfigmapsAccordions.tsx"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport type { V1ConfigMap } from '@kubernetes/client-node';\nimport { ConfigmapsDrawer } from './ConfigmapsDrawer.tsx';\nimport { GroupedResponsesContext } from '../../hooks';\nimport { StructuredMetadataTable } from '@backstage/core-components';\n\ntype ConfigmapSummaryProps = {\n  configmap: V1ConfigMap;\n};\n\nconst ConfigmapSummary = ({ configmap }: ConfigmapSummaryProps) => {\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      justifyContent=\"space-between\"\n      alignItems=\"center\"\n      spacing={0}\n    >\n      <Grid xs={8} item>\n        <ConfigmapsDrawer configmap={configmap} />\n      </Grid>\n\n      <Grid item>\n        <Typography variant=\"subtitle2\">\n          Data Count: {configmap.data ? Object.keys(configmap.data).length : 0}\n        </Typography>\n      </Grid>\n    </Grid>\n  );\n};\n\ntype ConfigmapsCardProps = {\n  configmap: V1ConfigMap;\n};\n\nconst ConfigmapCard = ({ configmap }: ConfigmapsCardProps) => {\n  const metadata: any = {};\n\n  metadata.data = configmap.data;\n\n  return (\n    <StructuredMetadataTable\n      metadata={{\n        ...metadata,\n      }}\n      options={{ nestedValuesAsYaml: true }}\n    />\n  );\n};\n\nexport type ConfigmapsAccordionsProps = {};\n\ntype ConfigmapsAccordionProps = {\n  configmap: V1ConfigMap;\n};\n\nconst ConfigmapsAccordion = ({ configmap }: ConfigmapsAccordionProps) => {\n  return (\n    <Accordion TransitionProps={{ unmountOnExit: true }} variant=\"outlined\">\n      <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n        <ConfigmapSummary configmap={configmap} />\n      </AccordionSummary>\n      <AccordionDetails>\n        <ConfigmapCard configmap={configmap} />\n      </AccordionDetails>\n    </Accordion>\n  );\n};\n\nexport const ConfigmapsAccordions = ({}: ConfigmapsAccordionsProps) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      justifyContent=\"flex-start\"\n      alignItems=\"flex-start\"\n    >\n      {groupedResponses.configMaps.map((configmap, i) => (\n        <Grid item key={i} xs>\n          <ConfigmapsAccordion configmap={configmap} />\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AA+BA,MAAM,gBAAA,GAAmB,CAAC,EAAE,SAAA,EAAU,KAA6B;AACjE,EAAA,uBACE,IAAA;AAAA,IAAC,IAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAS,IAAA;AAAA,MACT,SAAA,EAAU,KAAA;AAAA,MACV,cAAA,EAAe,eAAA;AAAA,MACf,UAAA,EAAW,QAAA;AAAA,MACX,OAAA,EAAS,CAAA;AAAA,MAET,QAAA,EAAA;AAAA,wBAAA,GAAA,CAAC,IAAA,EAAA,EAAK,IAAI,CAAA,EAAG,IAAA,EAAI,MACf,QAAA,kBAAA,GAAA,CAAC,gBAAA,EAAA,EAAiB,WAAsB,CAAA,EAC1C,CAAA;AAAA,4BAEC,IAAA,EAAA,EAAK,IAAA,EAAI,MACR,QAAA,kBAAA,IAAA,CAAC,UAAA,EAAA,EAAW,SAAQ,WAAA,EAAY,QAAA,EAAA;AAAA,UAAA,cAAA;AAAA,UACjB,UAAU,IAAA,GAAO,MAAA,CAAO,KAAK,SAAA,CAAU,IAAI,EAAE,MAAA,GAAS;AAAA,SAAA,EACrE,CAAA,EACF;AAAA;AAAA;AAAA,GACF;AAEJ,CAAA;AAMA,MAAM,aAAA,GAAgB,CAAC,EAAE,SAAA,EAAU,KAA2B;AAC5D,EAAA,MAAM,WAAgB,EAAC;AAEvB,EAAA,QAAA,CAAS,OAAO,SAAA,CAAU,IAAA;AAE1B,EAAA,uBACE,GAAA;AAAA,IAAC,uBAAA;AAAA,IAAA;AAAA,MACC,QAAA,EAAU;AAAA,QACR,GAAG;AAAA,OACL;AAAA,MACA,OAAA,EAAS,EAAE,kBAAA,EAAoB,IAAA;AAAK;AAAA,GACtC;AAEJ,CAAA;AAQA,MAAM,mBAAA,GAAsB,CAAC,EAAE,SAAA,EAAU,KAAgC;AACvE,EAAA,uBACE,IAAA,CAAC,aAAU,eAAA,EAAiB,EAAE,eAAe,IAAA,EAAK,EAAG,SAAQ,UAAA,EAC3D,QAAA,EAAA;AAAA,oBAAA,GAAA,CAAC,gBAAA,EAAA,EAAiB,4BAAY,GAAA,CAAC,cAAA,EAAA,EAAe,GAC5C,QAAA,kBAAA,GAAA,CAAC,gBAAA,EAAA,EAAiB,WAAsB,CAAA,EAC1C,CAAA;AAAA,oBACA,GAAA,CAAC,gBAAA,EAAA,EACC,QAAA,kBAAA,GAAA,CAAC,aAAA,EAAA,EAAc,WAAsB,CAAA,EACvC;AAAA,GAAA,EACF,CAAA;AAEJ,CAAA;AAEO,MAAM,oBAAA,GAAuB,CAAC,EAAC,KAAiC;AACrE,EAAA,MAAM,gBAAA,GAAmB,WAAW,uBAAuB,CAAA;AAC3D,EAAA,uBACE,GAAA;AAAA,IAAC,IAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAS,IAAA;AAAA,MACT,SAAA,EAAU,KAAA;AAAA,MACV,cAAA,EAAe,YAAA;AAAA,MACf,UAAA,EAAW,YAAA;AAAA,MAEV,2BAAiB,UAAA,CAAW,GAAA,CAAI,CAAC,SAAA,EAAW,sBAC3C,GAAA,CAAC,IAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAS,IAAE,IAAA,EACnB,QAAA,kBAAA,GAAA,CAAC,uBAAoB,SAAA,EAAsB,CAAA,EAAA,EAD7B,CAEhB,CACD;AAAA;AAAA,GACH;AAEJ;;;;"}