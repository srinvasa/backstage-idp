{"version":3,"file":"ErrorList.esm.js","sources":["../../../../src/components/Pods/ErrorList/ErrorList.tsx"],"sourcesContent":["/*\n * Copyright 2023 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Fragment } from 'react';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport { PodAndErrors } from '../types';\nimport { FixDialog } from '../FixDialog/FixDialog';\n\nconst useStyles = makeStyles((_theme: Theme) =>\n  createStyles({\n    root: {\n      overflow: 'auto',\n    },\n    list: {\n      width: '100%',\n    },\n  }),\n);\n\n/**\n * Props for ErrorList\n *\n * @public\n */\nexport interface ErrorListProps {\n  podAndErrors: PodAndErrors[];\n}\n\n/**\n * Shows a list of errors found on a Pod\n *\n * @public\n */\nexport const ErrorList = ({ podAndErrors }: ErrorListProps) => {\n  const classes = useStyles();\n  return (\n    <Paper className={classes.root}>\n      <List className={classes.list}>\n        {podAndErrors\n          .filter(pae => pae.errors.length > 0)\n          .flatMap(onlyPodWithErrors => {\n            return onlyPodWithErrors.errors.map((error, i) => {\n              return (\n                <Fragment\n                  key={`${\n                    onlyPodWithErrors.pod.metadata?.name ?? 'unknown'\n                  }-eli-${i}`}\n                >\n                  {i > 0 && <Divider key={`error-divider${i}`} />}\n                  <ListItem>\n                    <Grid container>\n                      <Grid item xs={9}>\n                        <ListItemText\n                          primary={error.message}\n                          secondary={onlyPodWithErrors.pod.metadata?.name}\n                        />\n                      </Grid>\n                      <Grid item xs={3}>\n                        <FixDialog\n                          pod={onlyPodWithErrors.pod}\n                          error={error}\n                          clusterName={onlyPodWithErrors.cluster.name}\n                        />\n                      </Grid>\n                    </Grid>\n                  </ListItem>\n                </Fragment>\n              );\n            });\n          })}\n      </List>\n    </Paper>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;AA2BA,MAAM,SAAA,GAAY,UAAA;AAAA,EAAW,CAAC,WAC5B,YAAA,CAAa;AAAA,IACX,IAAA,EAAM;AAAA,MACJ,QAAA,EAAU;AAAA,KACZ;AAAA,IACA,IAAA,EAAM;AAAA,MACJ,KAAA,EAAO;AAAA;AACT,GACD;AACH,CAAA;AAgBO,MAAM,SAAA,GAAY,CAAC,EAAE,YAAA,EAAa,KAAsB;AAC7D,EAAA,MAAM,UAAU,SAAA,EAAU;AAC1B,EAAA,2BACG,KAAA,EAAA,EAAM,SAAA,EAAW,QAAQ,IAAA,EACxB,QAAA,kBAAA,GAAA,CAAC,QAAK,SAAA,EAAW,OAAA,CAAQ,MACtB,QAAA,EAAA,YAAA,CACE,MAAA,CAAO,SAAO,GAAA,CAAI,MAAA,CAAO,SAAS,CAAC,CAAA,CACnC,QAAQ,CAAA,iBAAA,KAAqB;AAC5B,IAAA,OAAO,iBAAA,CAAkB,MAAA,CAAO,GAAA,CAAI,CAAC,OAAO,CAAA,KAAM;AAChD,MAAA,uBACE,IAAA;AAAA,QAAC,QAAA;AAAA,QAAA;AAAA,UAKE,QAAA,EAAA;AAAA,YAAA,CAAA,GAAI,CAAA,oBAAK,GAAA,CAAC,OAAA,EAAA,EAAA,EAAa,CAAA,aAAA,EAAgB,CAAC,CAAA,CAAI,CAAA;AAAA,4BAC7C,GAAA,CAAC,QAAA,EAAA,EACC,QAAA,kBAAA,IAAA,CAAC,IAAA,EAAA,EAAK,WAAS,IAAA,EACb,QAAA,EAAA;AAAA,8BAAA,GAAA,CAAC,IAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,EAAA,EAAI,CAAA,EACb,QAAA,kBAAA,GAAA;AAAA,gBAAC,YAAA;AAAA,gBAAA;AAAA,kBACC,SAAS,KAAA,CAAM,OAAA;AAAA,kBACf,SAAA,EAAW,iBAAA,CAAkB,GAAA,CAAI,QAAA,EAAU;AAAA;AAAA,eAC7C,EACF,CAAA;AAAA,8BACA,GAAA,CAAC,IAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,IAAI,CAAA,EACb,QAAA,kBAAA,GAAA;AAAA,gBAAC,SAAA;AAAA,gBAAA;AAAA,kBACC,KAAK,iBAAA,CAAkB,GAAA;AAAA,kBACvB,KAAA;AAAA,kBACA,WAAA,EAAa,kBAAkB,OAAA,CAAQ;AAAA;AAAA,eACzC,EACF;AAAA,aAAA,EACF,CAAA,EACF;AAAA;AAAA,SAAA;AAAA,QArBK,GACH,iBAAA,CAAkB,GAAA,CAAI,UAAU,IAAA,IAAQ,SAC1C,QAAQ,CAAC,CAAA;AAAA,OAoBX;AAAA,IAEJ,CAAC,CAAA;AAAA,EACH,CAAC,GACL,CAAA,EACF,CAAA;AAEJ;;;;"}