{"version":3,"file":"PodDeleteButton.esm.js","sources":["../../../../src/components/Pods/PodDelete/PodDeleteButton.tsx"],"sourcesContent":["/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useState } from 'react';\n\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Close';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { kubernetesReactTranslationRef } from '../../../translation';\n\nimport { usePodDelete } from './usePodDelete';\nimport { PodScope } from './types';\n\n/**\n * Props for PodDeleteButton\n *\n * @public\n */\nexport interface PodDeleteButtonProps {\n  podScope: PodScope;\n}\n\n/**\n * a Delete button to delete a given pod\n *\n * @public\n */\nexport const PodDeleteButton = ({ podScope }: PodDeleteButtonProps) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const deletePod = usePodDelete();\n\n  const { t } = useTranslationRef(kubernetesReactTranslationRef);\n  const buttonText = t('podDrawer.buttons.delete');\n\n  const handleDeleteClick = async () => {\n    setIsLoading(true);\n    try {\n      await deletePod(podScope);\n    } catch (error) {\n      setHasError(true);\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  return (\n    <Grid container item xs={12}>\n      <Grid item xs={12}>\n        <CardActions>\n          <Button\n            variant=\"outlined\"\n            aria-label={buttonText}\n            component=\"label\"\n            onClick={handleDeleteClick}\n            startIcon={\n              isLoading ? <CircularProgress size={18} /> : <DeleteIcon />\n            }\n            disabled={isLoading}\n          >\n            {buttonText}\n          </Button>\n        </CardActions>\n        {hasError && (\n          <Typography\n            variant=\"body1\"\n            color=\"error\"\n            style={{ textAlign: 'right' }}\n          >\n            Could not delete the pod. Please check the console for the full\n            report.\n          </Typography>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n"],"names":["DeleteIcon"],"mappings":";;;;;;;;;;;;AA2CO,MAAM,eAAA,GAAkB,CAAC,EAAE,QAAA,EAAS,KAA4B;AACrE,EAAA,MAAM,CAAC,SAAA,EAAW,YAAY,CAAA,GAAI,SAAS,KAAK,CAAA;AAChD,EAAA,MAAM,CAAC,QAAA,EAAU,WAAW,CAAA,GAAI,SAAS,KAAK,CAAA;AAC9C,EAAA,MAAM,YAAY,YAAA,EAAa;AAE/B,EAAA,MAAM,EAAE,CAAA,EAAE,GAAI,iBAAA,CAAkB,6BAA6B,CAAA;AAC7D,EAAA,MAAM,UAAA,GAAa,EAAE,0BAA0B,CAAA;AAE/C,EAAA,MAAM,oBAAoB,YAAY;AACpC,IAAA,YAAA,CAAa,IAAI,CAAA;AACjB,IAAA,IAAI;AACF,MAAA,MAAM,UAAU,QAAQ,CAAA;AAAA,IAC1B,SAAS,KAAA,EAAO;AACd,MAAA,WAAA,CAAY,IAAI,CAAA;AAEhB,MAAA,OAAA,CAAQ,MAAM,KAAK,CAAA;AAAA,IACrB;AAAA,EACF,CAAA;AAEA,EAAA,uBACE,GAAA,CAAC,IAAA,EAAA,EAAK,SAAA,EAAS,IAAA,EAAC,IAAA,EAAI,IAAA,EAAC,EAAA,EAAI,EAAA,EACvB,QAAA,kBAAA,IAAA,CAAC,IAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,IAAI,EAAA,EACb,QAAA,EAAA;AAAA,oBAAA,GAAA,CAAC,WAAA,EAAA,EACC,QAAA,kBAAA,GAAA;AAAA,MAAC,MAAA;AAAA,MAAA;AAAA,QACC,OAAA,EAAQ,UAAA;AAAA,QACR,YAAA,EAAY,UAAA;AAAA,QACZ,SAAA,EAAU,OAAA;AAAA,QACV,OAAA,EAAS,iBAAA;AAAA,QACT,SAAA,EACE,4BAAY,GAAA,CAAC,gBAAA,EAAA,EAAiB,MAAM,EAAA,EAAI,CAAA,uBAAMA,SAAA,EAAA,EAAW,CAAA;AAAA,QAE3D,QAAA,EAAU,SAAA;AAAA,QAET,QAAA,EAAA;AAAA;AAAA,KACH,EACF,CAAA;AAAA,IACC,QAAA,oBACC,GAAA;AAAA,MAAC,UAAA;AAAA,MAAA;AAAA,QACC,OAAA,EAAQ,OAAA;AAAA,QACR,KAAA,EAAM,OAAA;AAAA,QACN,KAAA,EAAO,EAAE,SAAA,EAAW,OAAA,EAAQ;AAAA,QAC7B,QAAA,EAAA;AAAA;AAAA;AAGD,GAAA,EAEJ,CAAA,EACF,CAAA;AAEJ;;;;"}