{"version":3,"file":"IngressesAccordions.esm.js","sources":["../../../src/components/IngressesAccordions/IngressesAccordions.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useContext } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Grid from '@material-ui/core/Grid';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport type { V1Ingress } from '@kubernetes/client-node';\nimport { IngressDrawer } from './IngressDrawer';\nimport { GroupedResponsesContext } from '../../hooks';\nimport { StructuredMetadataTable } from '@backstage/core-components';\n\n/**\n *\n *\n * @public\n */\nexport type IngressesAccordionsProps = {};\n\ntype IngressAccordionProps = {\n  ingress: V1Ingress;\n};\n\ntype IngressSummaryProps = {\n  ingress: V1Ingress;\n};\n\nconst IngressSummary = ({ ingress }: IngressSummaryProps) => {\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      justifyContent=\"flex-start\"\n      alignItems=\"center\"\n    >\n      <Grid xs={12} item>\n        <IngressDrawer ingress={ingress} />\n      </Grid>\n    </Grid>\n  );\n};\n\ntype IngressCardProps = {\n  ingress: V1Ingress;\n};\n\nconst IngressCard = ({ ingress }: IngressCardProps) => {\n  return (\n    <StructuredMetadataTable\n      metadata={{\n        ...ingress.spec,\n      }}\n      options={{\n        nestedValuesAsYaml: true,\n      }}\n    />\n  );\n};\n\nconst IngressAccordion = ({ ingress }: IngressAccordionProps) => {\n  return (\n    <Accordion TransitionProps={{ unmountOnExit: true }}>\n      <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n        <IngressSummary ingress={ingress} />\n      </AccordionSummary>\n      <AccordionDetails>\n        <IngressCard ingress={ingress} />\n      </AccordionDetails>\n    </Accordion>\n  );\n};\n\n/**\n *\n *\n * @public\n */\nexport const IngressesAccordions = ({}: IngressesAccordionsProps) => {\n  const groupedResponses = useContext(GroupedResponsesContext);\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      justifyContent=\"flex-start\"\n      alignItems=\"flex-start\"\n    >\n      {groupedResponses.ingresses.map((ingress, i) => (\n        <Grid item key={i} xs>\n          <IngressAccordion ingress={ingress} />\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AA0CA,MAAM,cAAA,GAAiB,CAAC,EAAE,OAAA,EAAQ,KAA2B;AAC3D,EAAA,uBACE,GAAA;AAAA,IAAC,IAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAS,IAAA;AAAA,MACT,SAAA,EAAU,KAAA;AAAA,MACV,cAAA,EAAe,YAAA;AAAA,MACf,UAAA,EAAW,QAAA;AAAA,MAEX,QAAA,kBAAA,GAAA,CAAC,QAAK,EAAA,EAAI,EAAA,EAAI,MAAI,IAAA,EAChB,QAAA,kBAAA,GAAA,CAAC,aAAA,EAAA,EAAc,OAAA,EAAkB,CAAA,EACnC;AAAA;AAAA,GACF;AAEJ,CAAA;AAMA,MAAM,WAAA,GAAc,CAAC,EAAE,OAAA,EAAQ,KAAwB;AACrD,EAAA,uBACE,GAAA;AAAA,IAAC,uBAAA;AAAA,IAAA;AAAA,MACC,QAAA,EAAU;AAAA,QACR,GAAG,OAAA,CAAQ;AAAA,OACb;AAAA,MACA,OAAA,EAAS;AAAA,QACP,kBAAA,EAAoB;AAAA;AACtB;AAAA,GACF;AAEJ,CAAA;AAEA,MAAM,gBAAA,GAAmB,CAAC,EAAE,OAAA,EAAQ,KAA6B;AAC/D,EAAA,4BACG,SAAA,EAAA,EAAU,eAAA,EAAiB,EAAE,aAAA,EAAe,MAAK,EAChD,QAAA,EAAA;AAAA,oBAAA,GAAA,CAAC,gBAAA,EAAA,EAAiB,4BAAY,GAAA,CAAC,cAAA,EAAA,EAAe,GAC5C,QAAA,kBAAA,GAAA,CAAC,cAAA,EAAA,EAAe,SAAkB,CAAA,EACpC,CAAA;AAAA,oBACA,GAAA,CAAC,gBAAA,EAAA,EACC,QAAA,kBAAA,GAAA,CAAC,WAAA,EAAA,EAAY,SAAkB,CAAA,EACjC;AAAA,GAAA,EACF,CAAA;AAEJ,CAAA;AAOO,MAAM,mBAAA,GAAsB,CAAC,EAAC,KAAgC;AACnE,EAAA,MAAM,gBAAA,GAAmB,WAAW,uBAAuB,CAAA;AAC3D,EAAA,uBACE,GAAA;AAAA,IAAC,IAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAS,IAAA;AAAA,MACT,SAAA,EAAU,KAAA;AAAA,MACV,cAAA,EAAe,YAAA;AAAA,MACf,UAAA,EAAW,YAAA;AAAA,MAEV,2BAAiB,SAAA,CAAU,GAAA,CAAI,CAAC,OAAA,EAAS,sBACxC,GAAA,CAAC,IAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAS,IAAE,IAAA,EACnB,QAAA,kBAAA,GAAA,CAAC,oBAAiB,OAAA,EAAkB,CAAA,EAAA,EADtB,CAEhB,CACD;AAAA;AAAA,GACH;AAEJ;;;;"}