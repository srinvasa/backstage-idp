{"version":3,"file":"resources.esm.js","sources":["../../src/utils/resources.ts"],"sourcesContent":["/*\n * Copyright 2023 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const currentToDeclaredResourceToPerc = (\n  current: number | string,\n  resource: number | string,\n): number => {\n  if (Number(resource) === 0) return 0;\n\n  if (typeof current === 'number' && typeof resource === 'number') {\n    return Math.round((current / resource) * 100);\n  }\n\n  const numerator: bigint = BigInt(\n    typeof current === 'number' ? Math.round(current) : Number(current),\n  );\n  const denominator: bigint = BigInt(\n    typeof resource === 'number' ? Math.round(resource) : Number(resource),\n  );\n\n  return Number((numerator * BigInt(100)) / denominator);\n};\n\nexport const bytesToMiB = (value: string | number): string => {\n  return `${(parseFloat(value.toString()) / 1024 / 1024).toFixed(0)}MiB`;\n};\n\nexport const formatMillicores = (value: string | number): string => {\n  return `${(parseFloat(value.toString()) * 1000).toFixed(0)}m`;\n};\n"],"names":[],"mappings":"AAeO,MAAM,+BAAA,GAAkC,CAC7C,OAAA,EACA,QAAA,KACW;AACX,EAAA,IAAI,MAAA,CAAO,QAAQ,CAAA,KAAM,CAAA,EAAG,OAAO,CAAA;AAEnC,EAAA,IAAI,OAAO,OAAA,KAAY,QAAA,IAAY,OAAO,aAAa,QAAA,EAAU;AAC/D,IAAA,OAAO,IAAA,CAAK,KAAA,CAAO,OAAA,GAAU,QAAA,GAAY,GAAG,CAAA;AAAA,EAC9C;AAEA,EAAA,MAAM,SAAA,GAAoB,MAAA;AAAA,IACxB,OAAO,YAAY,QAAA,GAAW,IAAA,CAAK,MAAM,OAAO,CAAA,GAAI,OAAO,OAAO;AAAA,GACpE;AACA,EAAA,MAAM,WAAA,GAAsB,MAAA;AAAA,IAC1B,OAAO,aAAa,QAAA,GAAW,IAAA,CAAK,MAAM,QAAQ,CAAA,GAAI,OAAO,QAAQ;AAAA,GACvE;AAEA,EAAA,OAAO,MAAA,CAAQ,SAAA,GAAY,MAAA,CAAO,GAAG,IAAK,WAAW,CAAA;AACvD;AAEO,MAAM,UAAA,GAAa,CAAC,KAAA,KAAmC;AAC5D,EAAA,OAAO,CAAA,EAAA,CAAI,UAAA,CAAW,KAAA,CAAM,QAAA,EAAU,IAAI,IAAA,GAAO,IAAA,EAAM,OAAA,CAAQ,CAAC,CAAC,CAAA,GAAA,CAAA;AACnE;AAEO,MAAM,gBAAA,GAAmB,CAAC,KAAA,KAAmC;AAClE,EAAA,OAAO,CAAA,EAAA,CAAI,WAAW,KAAA,CAAM,QAAA,EAAU,CAAA,GAAI,GAAA,EAAM,OAAA,CAAQ,CAAC,CAAC,CAAA,CAAA,CAAA;AAC5D;;;;"}