{"version":3,"file":"makeValidator.esm.js","sources":["../../src/validation/makeValidator.ts"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { KubernetesValidatorFunctions } from './KubernetesValidatorFunctions';\nimport { Validators } from './types';\n\nconst defaultValidators: Validators = {\n  isValidApiVersion: KubernetesValidatorFunctions.isValidApiVersion,\n  isValidKind: KubernetesValidatorFunctions.isValidKind,\n  isValidEntityName: KubernetesValidatorFunctions.isValidObjectName,\n  isValidNamespace: KubernetesValidatorFunctions.isValidNamespace,\n  isValidLabelKey: KubernetesValidatorFunctions.isValidLabelKey,\n  isValidLabelValue: KubernetesValidatorFunctions.isValidLabelValue,\n  isValidAnnotationKey: KubernetesValidatorFunctions.isValidAnnotationKey,\n  isValidAnnotationValue: KubernetesValidatorFunctions.isValidAnnotationValue,\n  isValidTag: (value: unknown): boolean => {\n    // NOTE(freben): This one is a bit of an oddball and doesn't fit well anywhere to delegate to, so it's just inlined for now.\n    return (\n      typeof value === 'string' &&\n      value.length >= 1 &&\n      value.length <= 63 &&\n      /^[a-z0-9:+#]+(\\-[a-z0-9:+#]+)*$/.test(value)\n    );\n  },\n};\n\n/**\n * Creates a {@link Validators} object from `overrides`, with default values taken from {@link KubernetesValidatorFunctions}\n *\n * @public\n */\nexport function makeValidator(overrides: Partial<Validators> = {}): Validators {\n  return {\n    ...defaultValidators,\n    ...overrides,\n  };\n}\n"],"names":[],"mappings":";;AAmBA,MAAM,iBAAA,GAAgC;AAAA,EACpC,mBAAmB,4BAAA,CAA6B,iBAAA;AAAA,EAChD,aAAa,4BAAA,CAA6B,WAAA;AAAA,EAC1C,mBAAmB,4BAAA,CAA6B,iBAAA;AAAA,EAChD,kBAAkB,4BAAA,CAA6B,gBAAA;AAAA,EAC/C,iBAAiB,4BAAA,CAA6B,eAAA;AAAA,EAC9C,mBAAmB,4BAAA,CAA6B,iBAAA;AAAA,EAChD,sBAAsB,4BAAA,CAA6B,oBAAA;AAAA,EACnD,wBAAwB,4BAAA,CAA6B,sBAAA;AAAA,EACrD,UAAA,EAAY,CAAC,KAAA,KAA4B;AAEvC,IAAA,OACE,OAAO,KAAA,KAAU,QAAA,IACjB,KAAA,CAAM,MAAA,IAAU,CAAA,IAChB,KAAA,CAAM,MAAA,IAAU,EAAA,IAChB,iCAAA,CAAkC,IAAA,CAAK,KAAK,CAAA;AAAA,EAEhD;AACF,CAAA;AAOO,SAAS,aAAA,CAAc,SAAA,GAAiC,EAAC,EAAe;AAC7E,EAAA,OAAO;AAAA,IACL,GAAG,iBAAA;AAAA,IACH,GAAG;AAAA,GACL;AACF;;;;"}