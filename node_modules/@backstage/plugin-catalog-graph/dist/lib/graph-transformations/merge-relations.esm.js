function concatRelations(a, b) {
  return Array.from(/* @__PURE__ */ new Set([...a ?? [], ...b ?? []]));
}
const mergeRelations = (options) => {
  const mergedEdges = /* @__PURE__ */ new Map();
  options.edges.forEach((edge) => {
    const keyForward = `${edge.from}-${edge.to}`;
    const keyBackward = `${edge.to}-${edge.from}`;
    const edgeForward = mergedEdges.get(keyForward);
    const edgeBackward = mergedEdges.get(keyBackward);
    if (edgeForward) {
      edgeForward.relations = concatRelations(
        edgeForward.relations,
        edge.relations
      );
    } else if (edgeBackward) {
      edgeBackward.relations = concatRelations(
        edgeBackward.relations,
        edge.relations
      );
    } else {
      mergedEdges.set(keyForward, edge);
    }
  });
  options.edges = Array.from(mergedEdges.values());
};

export { mergeRelations };
//# sourceMappingURL=merge-relations.esm.js.map
