{"version":3,"file":"PullRequestsListView.esm.js","sources":["../../../src/components/PullRequestsListView/PullRequestsListView.tsx"],"sourcesContent":["/*\n * Copyright 2025 Larder Software Limited\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Box, Grid, Link } from '@material-ui/core';\nimport { Typography } from '@material-ui/core';\nimport { getStatusIconType, CommentIcon } from '../Icons';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { GithubSearchPullRequestsDataItem } from '../../types';\n\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    backgroundColor: theme.palette.background.default,\n    border: '1px solid grey',\n    borderRadius: '6px',\n    overflowY: 'auto',\n    maxHeight: '100%',\n  },\n  pullRequestRow: {\n    paddingTop: '0.5rem',\n    paddingBottom: '0.5rem',\n    borderBottom: '1px solid grey',\n    '&:hover': {\n      backgroundColor: theme.palette.action.hover,\n    },\n    '&:last-child': {\n      borderBottom: 'none',\n    },\n  },\n  title: {\n    fontWeight: Number(theme.typography.fontWeightBold),\n  },\n  link: {\n    color: theme.palette.text.primary,\n    '&:hover': {\n      color: '#539bf5',\n      fill: '#539bf5',\n    },\n    '&:first-child': {\n      paddingRight: '4px',\n    },\n  },\n  secondaryText: {\n    color: theme.palette.text.secondary,\n  },\n  middleColumn: {\n    paddingRight: '0.5rem',\n    paddingLeft: '0.5rem',\n  },\n}));\n\nexport const SkeletonPullRequestItem = () => {\n  const classes = useStyles();\n  return (\n    <Grid container item spacing={0} className={classes.pullRequestRow} xs={12}>\n      <Grid item xs=\"auto\">\n        <Skeleton\n          variant=\"circle\"\n          width={18}\n          height={18}\n          style={{ marginTop: '3px' }}\n        />\n      </Grid>\n      <Grid item xs={10} className={classes.middleColumn}>\n        <Typography variant=\"body1\">\n          <Skeleton variant=\"text\" />\n        </Typography>\n        <Typography variant=\"caption\">\n          <Skeleton variant=\"text\" width={130} />\n        </Typography>\n      </Grid>\n      <Grid\n        item\n        xs={1}\n        style={{ flexShrink: 0, marginLeft: 'auto' }}\n        className={classes.secondaryText}\n      >\n        <Box display=\"flex\" justifyContent=\"flex-end\">\n          <Skeleton\n            variant=\"circle\"\n            width={18}\n            height={18}\n            style={{ marginTop: '3px' }}\n          />\n        </Box>\n      </Grid>\n    </Grid>\n  );\n};\ntype PullRequestItemProps = {\n  pr: GithubSearchPullRequestsDataItem;\n};\nconst PullRequestItem = (props: PullRequestItemProps) => {\n  const { pr } = props;\n  const classes = useStyles();\n\n  return (\n    <Grid container item spacing={0} className={classes.pullRequestRow} xs={12}>\n      <Grid item style={{ paddingLeft: '1rem', flexShrink: 0 }} xs=\"auto\">\n        {getStatusIconType(pr)}\n      </Grid>\n      <Grid item xs={10} className={classes.middleColumn}>\n        <Typography variant=\"body1\" noWrap className={classes.title}>\n          <>\n            <Link\n              className={`${classes.secondaryText} ${classes.link}`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              underline=\"none\"\n              href={pr.htmlUrl}\n            >\n              {new URL(pr.repositoryUrl).pathname\n                .split('/')\n                .filter(Boolean)\n                .slice(1, 3)\n                .join('/')}\n            </Link>\n            <Link\n              className={classes.link}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              underline=\"none\"\n              href={pr.pullRequest.htmlUrl}\n            >\n              {pr.title}\n            </Link>\n          </>\n        </Typography>\n        <Typography variant=\"caption\" className={classes.secondaryText}>\n          #{pr.number} opened by{' '}\n          <Link\n            className={`${classes.secondaryText} ${classes.link}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            underline=\"none\"\n            href={pr.user.htmlUrl}\n          >\n            {pr.user.login}\n          </Link>\n        </Typography>\n        <Typography variant=\"caption\" className={classes.secondaryText}>\n          {pr.pullRequest.created_at}\n        </Typography>\n      </Grid>\n\n      <Grid\n        item\n        justifyContent=\"flex-end\"\n        container\n        spacing={1}\n        xs={1}\n        style={{ flexShrink: 0, marginLeft: 'auto' }}\n        className={classes.secondaryText}\n      >\n        <Grid item>\n          <Link\n            className={`${classes.secondaryText} ${classes.link}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            underline=\"none\"\n            href={pr.htmlUrl}\n          >\n            <CommentIcon /> {pr.comments}\n          </Link>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\ntype PullRequestListViewProps = {\n  data?: GithubSearchPullRequestsDataItem[];\n  emptyStateText: string;\n};\n\nexport const PullRequestsListView = (props: PullRequestListViewProps) => {\n  const { data, emptyStateText } = props;\n  const classes = useStyles();\n  if (!data || data.length < 1) {\n    return (\n      <Grid\n        container\n        className={classes.container}\n        spacing={0}\n        direction=\"column\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <Grid item md={12}>\n          <Typography className={classes.secondaryText} variant=\"h6\">\n            {emptyStateText}\n          </Typography>\n        </Grid>\n      </Grid>\n    );\n  }\n  return (\n    <Grid container className={classes.container} spacing={1}>\n      {data.map(pr => (\n        <PullRequestItem pr={pr} key={pr.id} />\n      ))}\n    </Grid>\n  );\n};\n\nexport const SkeletonPullRequestsListView = () => {\n  const classes = useStyles();\n  return (\n    <Grid container className={classes.container} spacing={1}>\n      <SkeletonPullRequestItem />\n      <SkeletonPullRequestItem />\n      <SkeletonPullRequestItem />\n    </Grid>\n  );\n};\n"],"names":[],"mappings":"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"}