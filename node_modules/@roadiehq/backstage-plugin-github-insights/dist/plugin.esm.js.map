{"version":3,"file":"plugin.esm.js","sources":["../src/plugin.ts"],"sourcesContent":["/*\n * Copyright 2025 Larder Software Limited\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  configApiRef,\n  createApiFactory,\n  createComponentExtension,\n  createPlugin,\n  createRoutableExtension,\n} from '@backstage/core-plugin-api';\nimport { rootRouteRef } from './routes';\nimport { githubApiRef, GithubClient } from './apis';\nimport { scmAuthApiRef } from '@backstage/integration-react';\n\nexport const githubInsightsPlugin = createPlugin({\n  id: 'code-insights',\n  apis: [\n    createApiFactory({\n      api: githubApiRef,\n      deps: {\n        configApi: configApiRef,\n        scmAuthApi: scmAuthApiRef,\n      },\n      factory: deps => new GithubClient(deps),\n    }),\n  ],\n  routes: {\n    root: rootRouteRef,\n  },\n});\n\nexport const EntityGithubInsightsContent = githubInsightsPlugin.provide(\n  createRoutableExtension({\n    name: 'EntityGithubInsightsContent',\n    component: () =>\n      import('./components/InsightsPage').then(m => m.InsightsPage),\n    mountPoint: rootRouteRef,\n  }),\n);\n\nexport const EntityGithubInsightsComplianceCard = githubInsightsPlugin.provide(\n  createComponentExtension({\n    name: 'EntityGithubInsightsComplianceCard',\n    component: {\n      lazy: () =>\n        import('./components/Widgets/index').then(m => m.ComplianceCard),\n    },\n  }),\n);\n\nexport const EntityGithubInsightsContributorsCard =\n  githubInsightsPlugin.provide(\n    createComponentExtension({\n      name: 'EntityGithubInsightsContributorsCard',\n      component: {\n        lazy: () =>\n          import('./components/Widgets/index').then(m => m.ContributorsCard),\n      },\n    }),\n  );\n\nexport const EntityGithubInsightsLanguagesCard = githubInsightsPlugin.provide(\n  createComponentExtension({\n    name: 'EntityGithubInsightsLanguagesCard',\n    component: {\n      lazy: () =>\n        import('./components/Widgets/index').then(m => m.LanguagesCard),\n    },\n  }),\n);\n\nexport const EntityGithubInsightsReadmeCard = githubInsightsPlugin.provide(\n  createComponentExtension({\n    name: 'EntityGithubInsightsReadmeCard',\n    component: {\n      lazy: () => import('./components/Widgets/index').then(m => m.ReadMeCard),\n    },\n  }),\n);\n\nexport const EntityGithubInsightsReleasesCard = githubInsightsPlugin.provide(\n  createComponentExtension({\n    name: 'EntityGithubInsightsReleasesCard',\n    component: {\n      lazy: () =>\n        import('./components/Widgets/index').then(m => m.ReleasesCard),\n    },\n  }),\n);\n\nexport const EntityGithubInsightsEnvironmentsCard =\n  githubInsightsPlugin.provide(\n    createComponentExtension({\n      name: 'EntityGithubInsightsEnvironmentsCard',\n      component: {\n        lazy: () =>\n          import('./components/Widgets/index').then(m => m.EnvironmentsCard),\n      },\n    }),\n  );\n\nexport const GithubInsightsMarkdownContent = githubInsightsPlugin.provide(\n  createComponentExtension({\n    name: 'GithubInsightsMarkdownContent',\n    component: {\n      lazy: () =>\n        import('./components/Widgets/index').then(m => m.MarkdownContent),\n    },\n  }),\n);\n"],"names":[],"mappings":";;;;;;AA2BO,MAAM,uBAAuB,YAAa,CAAA;AAAA,EAC/C,EAAI,EAAA,eAAA;AAAA,EACJ,IAAM,EAAA;AAAA,IACJ,gBAAiB,CAAA;AAAA,MACf,GAAK,EAAA,YAAA;AAAA,MACL,IAAM,EAAA;AAAA,QACJ,SAAW,EAAA,YAAA;AAAA,QACX,UAAY,EAAA;AAAA,OACd;AAAA,MACA,OAAS,EAAA,CAAA,IAAA,KAAQ,IAAI,YAAA,CAAa,IAAI;AAAA,KACvC;AAAA,GACH;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,IAAM,EAAA;AAAA;AAEV,CAAC;AAEM,MAAM,8BAA8B,oBAAqB,CAAA,OAAA;AAAA,EAC9D,uBAAwB,CAAA;AAAA,IACtB,IAAM,EAAA,6BAAA;AAAA,IACN,SAAA,EAAW,MACT,OAAO,wCAA2B,EAAE,IAAK,CAAA,CAAA,CAAA,KAAK,EAAE,YAAY,CAAA;AAAA,IAC9D,UAAY,EAAA;AAAA,GACb;AACH;AAEO,MAAM,qCAAqC,oBAAqB,CAAA,OAAA;AAAA,EACrE,wBAAyB,CAAA;AAAA,IACvB,IAAM,EAAA,oCAAA;AAAA,IACN,SAAW,EAAA;AAAA,MACT,IAAA,EAAM,MACJ,OAAO,mCAA4B,EAAE,IAAK,CAAA,CAAA,CAAA,KAAK,EAAE,cAAc;AAAA;AACnE,GACD;AACH;AAEO,MAAM,uCACX,oBAAqB,CAAA,OAAA;AAAA,EACnB,wBAAyB,CAAA;AAAA,IACvB,IAAM,EAAA,sCAAA;AAAA,IACN,SAAW,EAAA;AAAA,MACT,IAAA,EAAM,MACJ,OAAO,mCAA4B,EAAE,IAAK,CAAA,CAAA,CAAA,KAAK,EAAE,gBAAgB;AAAA;AACrE,GACD;AACH;AAEK,MAAM,oCAAoC,oBAAqB,CAAA,OAAA;AAAA,EACpE,wBAAyB,CAAA;AAAA,IACvB,IAAM,EAAA,mCAAA;AAAA,IACN,SAAW,EAAA;AAAA,MACT,IAAA,EAAM,MACJ,OAAO,mCAA4B,EAAE,IAAK,CAAA,CAAA,CAAA,KAAK,EAAE,aAAa;AAAA;AAClE,GACD;AACH;AAEO,MAAM,iCAAiC,oBAAqB,CAAA,OAAA;AAAA,EACjE,wBAAyB,CAAA;AAAA,IACvB,IAAM,EAAA,gCAAA;AAAA,IACN,SAAW,EAAA;AAAA,MACT,IAAA,EAAM,MAAM,OAAO,mCAA4B,EAAE,IAAK,CAAA,CAAA,CAAA,KAAK,EAAE,UAAU;AAAA;AACzE,GACD;AACH;AAEO,MAAM,mCAAmC,oBAAqB,CAAA,OAAA;AAAA,EACnE,wBAAyB,CAAA;AAAA,IACvB,IAAM,EAAA,kCAAA;AAAA,IACN,SAAW,EAAA;AAAA,MACT,IAAA,EAAM,MACJ,OAAO,mCAA4B,EAAE,IAAK,CAAA,CAAA,CAAA,KAAK,EAAE,YAAY;AAAA;AACjE,GACD;AACH;AAEO,MAAM,uCACX,oBAAqB,CAAA,OAAA;AAAA,EACnB,wBAAyB,CAAA;AAAA,IACvB,IAAM,EAAA,sCAAA;AAAA,IACN,SAAW,EAAA;AAAA,MACT,IAAA,EAAM,MACJ,OAAO,mCAA4B,EAAE,IAAK,CAAA,CAAA,CAAA,KAAK,EAAE,gBAAgB;AAAA;AACrE,GACD;AACH;AAE2C,oBAAqB,CAAA,OAAA;AAAA,EAChE,wBAAyB,CAAA;AAAA,IACvB,IAAM,EAAA,+BAAA;AAAA,IACN,SAAW,EAAA;AAAA,MACT,IAAA,EAAM,MACJ,OAAO,mCAA4B,EAAE,IAAK,CAAA,CAAA,CAAA,KAAK,EAAE,eAAe;AAAA;AACpE,GACD;AACH;;;;"}