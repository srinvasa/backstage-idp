import { jsxs, jsx } from 'react/jsx-runtime';
import { useApi } from '@backstage/core-plugin-api';
import { scmAuthApiRef } from '@backstage/integration-react';
import { Grid, Typography, Tooltip, Button } from '@material-ui/core';
import { useCallback } from 'react';

const GithubNotAuthorized = ({
  hostname = "github.com",
  addLoginStatus
}) => {
  const scmAuth = useApi(scmAuthApiRef);
  const signIn = useCallback(async () => {
    const credentials = await scmAuth.getCredentials({
      url: `https://${hostname}/`,
      additionalScope: {
        customScopes: {
          github: ["repo"]
        }
      }
    });
    if (credentials.token) {
      addLoginStatus();
    }
  }, [scmAuth, hostname, addLoginStatus]);
  return /* @__PURE__ */ jsxs(Grid, { container: true, children: [
    /* @__PURE__ */ jsx(Grid, { item: true, xs: 8, children: /* @__PURE__ */ jsx(Typography, { children: "You are not logged into GitHub. You need to be signed in to see the content of this card." }) }),
    /* @__PURE__ */ jsx(Grid, { item: true, xs: 4, container: true, justifyContent: "flex-end", children: /* @__PURE__ */ jsx(Tooltip, { placement: "top", arrow: true, title: "Sign in to Github", children: /* @__PURE__ */ jsx(Button, { variant: "outlined", color: "primary", onClick: signIn, children: "Sign in" }) }) })
  ] });
};

export { GithubNotAuthorized };
//# sourceMappingURL=GitHubNotAuthorized.esm.js.map
