"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([["656"],{23811:function(e,t,r){r.d(t,{ScorecardsCard:()=>p});var n=r(31085),a=r(14041),s=r(73466),i=r(70804),o=r(55015),l=r(18139),d=r(35053),c=r(52768),h=r(16400),x=r(78560),u=r(22906);let p=e=>{let{title:t,description:r,checksId:p,filter:m,onlyFailed:f,gauge:g,expanded:j=!g,dense:A=!0}=e,y=(0,l.gf)(c.x),{entity:v}=(0,h.tN)(),{value:k,loading:b,error:C}=(0,s.A)(async()=>await y.runChecks((0,x.sM)(v),p),[y,v,JSON.stringify(p)]),N=m&&k?k.filter(e=>m(e.check)):k,B=(0,a.useMemo)(()=>{if(!f||!N)return{};let e=[...new Set(N.map(({check:e})=>e.type))];return Object.fromEntries(y.getCheckResultRenderers(e).map(e=>[e.type,e]))},[y,N,f]);if(b)return(0,n.jsx)(i.k,{});if(C)return(0,n.jsx)(o.b,{error:C});let S=f?(N||[]).filter(e=>B[e.check.type]?.isFailed?.(e)):N||[];return g?(0,n.jsx)(u.J,{title:t,description:r,entity:v,checkResults:S,noWarning:f,expanded:j,dense:A}):(0,n.jsx)(d.t,{title:t,description:r,entity:v,checkResults:S,noWarning:f,expanded:j,dense:A})}},22906:function(e,t,r){r.d(t,{J:()=>P});var n=r(31085),a=r(18139),s=r(52768),i=r(40703),o=r(59469),l=r(48653),d=r(45685),c=r(37197),h=r(58837),x=r(7031),u=r(53373),p=r.n(u),m=r(77125),f=r(72501),g=r(52235),j=r(77614);let A=(0,h.A)(e=>({root:{maxWidth:"fit-content",padding:e.spacing(2,2,2,2.5)},boxTitle:{margin:0,color:e.palette.textSubtle},arrow:{color:e.palette.textSubtle}}),{name:"BackstageBottomLink"});function y(e){let{link:t,title:r,onClick:a}=e,s=A();return(0,n.jsxs)(m.A,{children:[(0,n.jsx)(c.A,{}),(0,n.jsx)(j.N_,{to:t,onClick:a,underline:"none",children:(0,n.jsxs)(m.A,{display:"flex",alignItems:"center",className:s.root,children:[(0,n.jsx)(m.A,{className:s.boxTitle,fontWeight:"fontWeightBold",m:1,children:(0,n.jsx)(f.A,{children:(0,n.jsx)("strong",{children:r})})}),(0,n.jsx)(g.default,{className:s.arrow})]})})]})}var v=r(14041),k=r(64947);let b=(0,v.forwardRef)((e,t)=>(0,n.jsx)(j.N_,{ref:t,...e,color:"initial"})),C=(0,v.forwardRef)((e,t)=>(0,n.jsx)(k.A,{ref:t,component:b,...e}));var N=r(55015),B=r(63551),S=r(10265);let w=e=>{let{slackChannel:t}=e,{t:r}=(0,S.i)(B.O);return t?"string"==typeof t?(0,n.jsx)(f.A,{children:r("errorBoundary.title",{slackChannel:t})}):t.href?(0,n.jsx)(C,{to:t.href,variant:"contained",children:t.name}):(0,n.jsx)(f.A,{children:r("errorBoundary.title",{slackChannel:t.name})}):null},W=class extends v.Component{constructor(e){super(e),this.state={error:void 0,errorInfo:void 0}}componentDidCatch(e,t){console.error(`ErrorBoundary, error: ${e}`,{error:e,errorInfo:t}),this.setState({error:e,errorInfo:t})}render(){let{slackChannel:e,children:t}=this.props,{error:r}=this.state;return r?(0,n.jsx)(N.b,{title:"Something Went Wrong",error:r,children:(0,n.jsx)(w,{slackChannel:e})}):t}},R=(0,h.A)(e=>({noPadding:{padding:0,"&:last-child":{paddingBottom:0}},contentAlignBottom:{display:"flex",alignItems:"self-end"},header:{padding:e.spacing(2,2,2,2.5)},headerTitle:{fontWeight:e.typography.fontWeightBold},headerSubheader:{paddingTop:e.spacing(1)},headerAvatar:{},headerAction:{},headerContent:{},subheader:{display:"flex"}}),{name:"BackstageInfoCard"}),T=(0,x.A)(e=>({root:{display:"inline-block",padding:e.spacing(8,8,0,0),float:"right"}}),{name:"BackstageInfoCardCardActionsTopRight"})(o.A),E={flex:{display:"flex",flexDirection:"column"},fullHeight:{display:"flex",flexDirection:"column",height:"100%"},gridItem:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px",breakInside:"avoid-page","@media print":{height:"auto"}}},I={fullHeight:{flex:1},gridItem:{flex:1}};function H(e){let{title:t,subheader:r,divider:a=!0,deepLink:s,slackChannel:h,errorBoundaryProps:x,variant:u,alignContent:m="normal",children:f,headerStyle:g,headerProps:j,icon:A,action:v,actionsClassName:k,actions:b,cardClassName:C,actionsTopRight:N,className:B,noPadding:S,titleTypographyProps:w,subheaderTypographyProps:H}=e,L=R(),$={},D={};return u&&u.split(/[\s]+/g).forEach(e=>{$={...$,...E[e]},D={...D,...I[e]}}),(0,n.jsx)(i.A,{style:$,className:B,children:(0,n.jsxs)(W,{...x||(h?{slackChannel:h}:{}),children:[t&&(0,n.jsx)(d.A,{classes:{root:p()(L.header),title:L.headerTitle,subheader:L.headerSubheader,avatar:L.headerAvatar,action:L.headerAction,content:L.headerContent},title:t,subheader:r||A?(0,n.jsxs)("div",{"data-testid":"info-card-subheader",children:[r&&(0,n.jsx)("div",{className:L.subheader,children:r}),A]}):null,action:v,style:{...g},titleTypographyProps:w,subheaderTypographyProps:H,...j}),N&&(0,n.jsx)(T,{children:N}),a&&(0,n.jsx)(c.A,{}),(0,n.jsx)(l.A,{className:p()(C,{[L.noPadding]:S,[L.contentAlignBottom]:"bottom"===m}),style:D,children:f}),b&&(0,n.jsx)(o.A,{className:k,children:b}),s&&(0,n.jsx)(y,{...s})]})})}var L=r(54917),$=r(58695);let D=(0,h.A)(e=>({root:{position:"relative",lineHeight:0},overlay:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -60%)",fontSize:e.typography.pxToRem(45),fontWeight:e.typography.fontWeightBold,color:e.palette.textContrast},overlaySmall:{fontSize:e.typography.pxToRem(25)},description:{fontSize:"100%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",wordBreak:"break-all",display:"inline-block"},circle:{width:"80%",transform:"translate(10%, 0)"},colorUnknown:{}}),{name:"BackstageGauge"}),M={fractional:!0,inverse:!1,unit:"%",max:100,relativeToMax:!1},z=({palette:e,value:t,inverse:r,max:n})=>{if(isNaN(t))return"#ddd";let a=n||M.max,s=r?a-t:t;return s<a/3?e.status.error:s<2/3*a?e.status.warning:e.status.ok};function F(e){let t,r,[a,s]=(0,v.useState)(null),{getColor:i=z,size:o="normal"}=e,l=D(e),{palette:d}=(0,L.A)(),{value:c,fractional:h,inverse:x,unit:u,max:f,description:g,relativeToMax:j,decimalDigits:A}={...M,...e};t=j?c/f*100:h?Math.round(c*f):c,r=j?c:100!==f?Math.round(c):t;let y=void 0===A?r.toString():r.toFixed(A),[k,b]=(0,v.useState)(!1);return(0,v.useEffect)(()=>{let e=()=>b(!0),t=()=>b(!1);return a&&g?(a.addEventListener("mouseenter",e),a.addEventListener("mouseleave",t),()=>{a.removeEventListener("mouseenter",e),a.removeEventListener("mouseleave",t)}):()=>{b(!1)}},[g,a]),(0,n.jsxs)(m.A,{...{ref:s},className:l.root,children:[(0,n.jsx)($.jl,{strokeLinecap:"butt",percent:t,strokeWidth:12,trailWidth:12,strokeColor:i({palette:d,value:t,inverse:x,max:j?100:f}),className:l.circle}),g&&k?(0,n.jsx)(m.A,{className:l.description,children:g}):(0,n.jsx)(m.A,{className:p()(l.overlay,{[l.overlaySmall]:"small"===o}),children:isNaN(c)?"N/A":`${y}${u}`})]})}var J=r(35053),O=r(42899);let P=e=>{let{checkResults:t,entity:r,title:i,description:o,noWarning:l,expanded:d,dense:c=!0,hideDescription:h}=e,x=(0,a.gf)(s.x),u=[...new Set(t.map(({check:e})=>e.type))],p=x.getCheckResultRenderers(u),m=t.map(e=>({result:e,renderer:p.find(t=>t.type===e.check.type)})).filter(({result:e,renderer:t})=>!t?.isFailed?.(e)).length/t.length;return(0,n.jsxs)(H,{title:i,subheader:o,children:[(0,n.jsx)(O.A,{container:!0,justifyContent:"center",children:(0,n.jsx)(O.A,{item:!0,style:{width:"160px",marginBottom:"1em"},children:(0,n.jsx)(F,{value:m,size:"small"})})}),(0,n.jsx)(J.t,{title:(0,n.jsx)(f.A,{variant:"h6",children:"Checks"}),checkResults:t,entity:r,noWarning:l,expanded:d,dense:c,hideDescription:h})]})}},35053:function(e,t,r){r.d(t,{t:()=>j});var n=r(31085),a=r(42899),s=r(72501),i=r(58837),o=r(48209),l=r(7154),d=r(6924),c=r(8973),h=r(91567),x=r(29655),u=r(18139),p=r(11823),m=r(52768);let f=(0,i.A)(e=>({subheader:{paddingLeft:e.spacing(.5)},accordionHeader:{borderBottom:`1px solid ${e.palette.border}`},accordionHeaderContent:{margin:`${e.spacing(2)}px 0 !important`},accordionDetails:{margin:0,paddingBottom:0}})),g=(e,t,r,i,o,l)=>{let u;return(0,n.jsx)(a.A,{item:!0,xs:12,children:(u=(0,n.jsxs)(a.A,{container:!0,children:[t&&(0,n.jsx)(a.A,{item:!0,xs:12,children:(0,n.jsx)(s.A,{className:r.subheader,variant:"body1",gutterBottom:!0,children:(0,n.jsx)(p.h,{content:t})})}),(0,n.jsx)(a.A,{item:!0,xs:12,children:i})]}),(0,n.jsxs)(c.A,{defaultExpanded:o,children:[(0,n.jsx)(x.A,{expandIcon:(0,n.jsx)(d.default,{}),className:r.accordionHeader,classes:{content:r.accordionHeaderContent},children:(0,n.jsxs)(a.A,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,n.jsx)(a.A,{item:!0,children:(0,n.jsx)(s.A,{variant:"h5",children:e})}),(0,n.jsx)(a.A,{item:!0,children:(0,n.jsx)(s.A,{children:l})})]})}),(0,n.jsx)(h.A,{classes:{root:r.accordionDetails},children:u})]}))})},j=e=>{let{checkResults:t,title:r,entity:a,description:s,noWarning:i,expanded:d=!0,dense:c,hideDescription:h=c}=e,x=f(),p=(0,u.gf)(m.x);return t.length?g(r,s,x,(0,n.jsx)(l.Q,{checkResults:t,entity:a,dense:c,hideDescription:h}),d,`${t.filter(e=>!p.isCheckResultFailed(e)).length}/${t.length}`):i?g(r,s,x,(0,n.jsx)(o.A,{severity:"info",children:"All checks passed, or no checks have been performed yet"}),d):g(r,s,x,(0,n.jsx)(o.A,{severity:"warning",children:"No checks have any data yet."}),d)}},70804:function(e,t,r){r.d(t,{k:()=>l});var n=r(31085),a=r(77125),s=r(88951),i=r(54917),o=r(14041);function l(e){let t=(0,i.A)(),[r,l]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e=setTimeout(()=>l(!0),t.transitions.duration.short);return()=>clearTimeout(e)},[t.transitions.duration.short]),r?(0,n.jsx)(s.A,{...e,"data-testid":"progress"}):(0,n.jsx)(a.A,{display:"none","data-testid":"progress"})}}}]);
//# sourceMappingURL=656.9003b42e.chunk.js.map