{"version":3,"file":"static/6869.c632c03f.chunk.js","sources":["webpack://app/../../node_modules/@backstage-community/plugin-tech-insights-react/dist/components/ResultCheckIcon/ResultCheckIcon.esm.js","webpack://app/../../node_modules/@backstage-community/plugin-tech-insights-react/dist/components/ResultLinksMenu/ResultLinksMenu.esm.js"],"sourcesContent":["import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport { useApi } from '@backstage/core-plugin-api';\nimport IconButton from '@material-ui/core/IconButton';\nimport Alert from '@material-ui/lab/Alert';\nimport { techInsightsApiRef } from '../../api/TechInsightsApi.esm.js';\nimport '@backstage-community/plugin-tech-insights-common/client';\nimport '@material-ui/icons/CheckCircleOutline';\nimport '@material-ui/icons/ErrorOutline';\nimport { ResultLinksMenu } from '../ResultLinksMenu/ResultLinksMenu.esm.js';\n\nconst ResultCheckIcon = (props) => {\n  const {\n    result,\n    entity,\n    disableLinksMenu,\n    component,\n    componentProps,\n    missingRendererComponent = /* @__PURE__ */ jsx(Alert, { severity: \"error\", children: \"Unknown type.\" })\n  } = props;\n  const api = useApi(techInsightsApiRef);\n  const checkResultRenderer = props.checkResultRenderer ?? api.getCheckResultRenderers([result.check.type])[0];\n  const [menu, setMenu] = useState();\n  const iconComponent = checkResultRenderer?.component(result);\n  const onClick = (event) => {\n    menu?.open(event.currentTarget);\n  };\n  const wrapActions = (inner) => {\n    if (!menu) {\n      if (component) {\n        const Component = component;\n        return /* @__PURE__ */ jsx(Component, { ...componentProps, children: inner });\n      }\n      return inner;\n    }\n    if (component) {\n      const Component = component;\n      return /* @__PURE__ */ jsx(Component, { ...componentProps, onClick, children: /* @__PURE__ */ jsx(IconButton, { edge: \"end\", \"aria-label\": \"icon\", children: inner }) });\n    }\n    return /* @__PURE__ */ jsx(IconButton, { edge: \"end\", \"aria-label\": \"icon\", onClick, children: inner });\n  };\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    !disableLinksMenu && /* @__PURE__ */ jsx(ResultLinksMenu, { result, entity, setMenu }),\n    wrapActions(iconComponent ?? missingRendererComponent)\n  ] });\n};\n\nexport { ResultCheckIcon };\n//# sourceMappingURL=ResultCheckIcon.esm.js.map\n","import { jsx } from 'react/jsx-runtime';\nimport { useMemo, useState, useEffect, useCallback } from 'react';\nimport { useApi } from '@backstage/core-plugin-api';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { techInsightsApiRef } from '../../api/TechInsightsApi.esm.js';\nimport '@backstage-community/plugin-tech-insights-common/client';\nimport '@material-ui/icons/CheckCircleOutline';\nimport '@material-ui/icons/ErrorOutline';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\n\nconst ResultLinksMenu = (props) => {\n  const { result, entity, setMenu } = props;\n  const api = useApi(techInsightsApiRef);\n  const links = useMemo(\n    () => entity ? api.getLinksForEntity(result, entity, {\n      includeStaticLinks: true\n    }) : result.check.links ?? [],\n    [api, result, entity]\n  );\n  const menuId = `menu-${result.check.id}-${entity ? stringifyEntityRef(entity) : \"unknown\"}`;\n  const [anchorEl, setAnchorEl] = useState(void 0);\n  useEffect(() => {\n    if (links.length === 0) {\n      setMenu(void 0);\n      return;\n    }\n    setMenu({\n      open: (elem) => {\n        setAnchorEl(elem);\n      }\n    });\n  }, [setMenu, links]);\n  const handleClose = useCallback(() => {\n    setAnchorEl(void 0);\n  }, [setAnchorEl]);\n  if (links.length === 0) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(\n    Menu,\n    {\n      id: menuId,\n      anchorEl: anchorEl ?? null,\n      keepMounted: true,\n      open: Boolean(anchorEl),\n      onClose: handleClose,\n      children: links.map((link, i) => /* @__PURE__ */ jsx(\n        MenuItem,\n        {\n          button: true,\n          component: \"a\",\n          href: link.url,\n          target: link.url.startsWith(\"/\") ? void 0 : \"_blank\",\n          onClick: handleClose,\n          children: link.title\n        },\n        `${i}-${link.url}`\n      ))\n    }\n  );\n};\n\nexport { ResultLinksMenu };\n//# sourceMappingURL=ResultLinksMenu.esm.js.map\n"],"names":["d","e"],"mappings":"qMAWA,IAAM,EAAkB,AAAC,QAgBF,EAfrB,GAAM,CACJ,QAAM,CACN,QAAM,CACNA,iBAAAA,CAAgB,CAChB,WAAS,CACT,gBAAc,CACd,2BAA2C,UAAI,GAAK,CAAE,CAAE,SAAU,QAAS,SAAU,eAAgB,EAAE,CACxG,CAAG,EACE,EAAM,SAAO,GAAkB,EAC/B,EAAsB,EAAM,mBAAmB,EAAI,EAAI,uBAAuB,CAAC,CAAC,EAAO,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CACtG,CAAC,EAAM,EAAQ,CAAG,iBAClB,EAAgB,GAAqB,UAAU,GAC/C,EAAU,AAACC,IACf,GAAM,KAAKA,EAAM,aAAa,CAChC,EAeA,MAAuB,WAAK,UAAQ,CAAE,CAAE,SAAU,CAChD,CAACD,GAAoC,UAAI,GAAe,CAAE,CAAE,SAAQ,SAAQ,SAAQ,IAfjE,EAgBP,GAAiB,EAf7B,AAAK,EAOL,AAAI,EAEqB,UADL,EACoB,CAAE,GAAG,CAAc,CAAE,UAAS,SAA0B,UAAI,GAAU,CAAE,CAAE,KAAM,MAAO,aAAc,OAAQ,SAAU,CAAM,EAAG,GAEjJ,UAAI,GAAU,CAAE,CAAE,KAAM,MAAO,aAAc,OAAQ,UAAS,SAAU,CAAM,GAVnG,AAAI,EAEqB,UADL,EACoB,CAAE,GAAG,CAAc,CAAE,SAAU,CAAM,GAEtE,GAWV,AAAC,EACJ,C,0HClCA,IAAM,EAAkB,AAAC,IACvB,GAAM,CAAE,QAAM,CAAE,QAAM,CAAE,SAAO,CAAE,CAAG,EAC9B,EAAM,SAAO,GAAkB,EAC/B,EAAQ,cACZ,IAAM,EAAS,EAAI,iBAAiB,CAAC,EAAQ,EAAQ,CACnD,mBAAoB,EACtB,GAAK,EAAO,KAAK,CAAC,KAAK,EAAI,EAAE,CAC7B,CAAC,EAAK,EAAQ,EAAO,EAEjB,EAAS,CAAC,KAAK,EAAE,EAAO,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,EAAS,SAAmB,GAAU,UAAU,CAAC,CACrF,CAAC,EAAU,EAAY,CAAG,eAAS,KAAK,GAC9C,gBAAU,KACR,AAAI,AAAiB,IAAjB,EAAM,MAAM,CACd,EAAQ,KAAK,GAGf,EAAQ,CACN,KAAM,AAACC,IACL,EAAYA,EACd,CACF,EACF,EAAG,CAAC,EAAS,EAAM,EACnB,IAAM,EAAc,kBAAY,KAC9B,EAAY,KAAK,EACnB,EAAG,CAAC,EAAY,SAChB,AAAI,AAAiB,IAAjB,EAAM,MAAM,CACP,KAEc,UACrB,GAAI,CACJ,CACE,GAAI,EACJ,SAAU,GAAY,KACtB,YAAa,GACb,KAAM,EAAQ,EACd,QAAS,EACT,SAAU,EAAM,GAAG,CAAC,CAAC,EAAM,IAAsB,UAC/C,GAAQ,CACR,CACE,OAAQ,GACR,UAAW,IACX,KAAM,EAAK,GAAG,CACd,OAAQ,EAAK,GAAG,CAAC,UAAU,CAAC,KAAO,KAAK,EAAI,SAC5C,QAAS,EACT,SAAU,EAAK,KAAK,AACtB,EACA,CAAC,EAAE,EAAE,CAAC,EAAE,EAAK,GAAG,CAAC,CAAC,EAEtB,EAEJ,C"}