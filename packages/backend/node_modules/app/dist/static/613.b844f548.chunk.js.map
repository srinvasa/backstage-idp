{"version":3,"file":"static/613.b844f548.chunk.js","sources":["webpack://app/../../node_modules/@backstage/core-components/dist/components/LogViewer/AnsiProcessor.esm.js","webpack://app/../../node_modules/linkifyjs/dist/linkify.mjs","webpack://app/../../node_modules/linkify-react/dist/linkify-react.mjs","webpack://app/../../node_modules/@backstage/core-components/dist/components/LogViewer/LogLine.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/LogViewer/LogViewerControls.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/LogViewer/styles.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/LogViewer/RealLogViewer.esm.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/LogViewer/useLogViewerSearch.esm.js","webpack://app/../../node_modules/@react-hookz/web/src/useToggle/index.js","webpack://app/../../node_modules/@backstage/core-components/dist/components/LogViewer/useLogViewerSelection.esm.js","webpack://app/../../node_modules/react-virtualized-auto-sizer/dist/react-virtualized-auto-sizer.esm.js","webpack://app/../../node_modules/ansi-regex/index.js"],"sourcesContent":["import ansiRegexMaker from 'ansi-regex';\n\nconst ansiRegex = ansiRegexMaker();\nconst newlineRegex = /\\n\\r?/g;\nconst codeModifiers = Object.fromEntries(\n  Object.entries({\n    1: (m) => ({ ...m, bold: true }),\n    3: (m) => ({ ...m, italic: true }),\n    4: (m) => ({ ...m, underline: true }),\n    22: ({ bold: _, ...m }) => m,\n    23: ({ italic: _, ...m }) => m,\n    24: ({ underline: _, ...m }) => m,\n    30: (m) => ({ ...m, foreground: \"black\" }),\n    31: (m) => ({ ...m, foreground: \"red\" }),\n    32: (m) => ({ ...m, foreground: \"green\" }),\n    33: (m) => ({ ...m, foreground: \"yellow\" }),\n    34: (m) => ({ ...m, foreground: \"blue\" }),\n    35: (m) => ({ ...m, foreground: \"magenta\" }),\n    36: (m) => ({ ...m, foreground: \"cyan\" }),\n    37: (m) => ({ ...m, foreground: \"white\" }),\n    39: ({ foreground: _, ...m }) => m,\n    90: (m) => ({ ...m, foreground: \"grey\" }),\n    40: (m) => ({ ...m, background: \"black\" }),\n    41: (m) => ({ ...m, background: \"red\" }),\n    42: (m) => ({ ...m, background: \"green\" }),\n    43: (m) => ({ ...m, background: \"yellow\" }),\n    44: (m) => ({ ...m, background: \"blue\" }),\n    45: (m) => ({ ...m, background: \"magenta\" }),\n    46: (m) => ({ ...m, background: \"cyan\" }),\n    47: (m) => ({ ...m, background: \"white\" }),\n    49: ({ background: _, ...m }) => m\n  }).map(\n    ([code, modifier]) => [`\\x1B[${code}m`, modifier]\n  )\n);\nclass AnsiLine {\n  text;\n  lineNumber;\n  chunks;\n  constructor(lineNumber = 1, chunks = []) {\n    this.lineNumber = lineNumber;\n    this.chunks = chunks;\n    this.text = chunks.map((c) => c.text).join(\"\").toLocaleLowerCase(\"en-US\");\n  }\n  lastChunk() {\n    return this.chunks[this.chunks.length - 1];\n  }\n  replaceLastChunk(newChunks) {\n    if (newChunks) {\n      this.chunks.splice(this.chunks.length - 1, 1, ...newChunks);\n      this.text = this.chunks.map((c) => c.text).join(\"\").toLocaleLowerCase(\"en-US\");\n    }\n  }\n}\nclass AnsiProcessor {\n  text = \"\";\n  lines = [];\n  /**\n   * Processes a chunk of text while keeping internal state that optimizes\n   * subsequent processing that appends to the text.\n   */\n  process(text) {\n    if (this.text === text) {\n      return this.lines;\n    }\n    if (this.text && text.startsWith(this.text)) {\n      const lastLineIndex = this.lines.length > 0 ? this.lines.length - 1 : 0;\n      const lastLine = this.lines[lastLineIndex] ?? new AnsiLine();\n      const lastChunk = lastLine.lastChunk();\n      const newLines = this.processLines(\n        (lastChunk?.text ?? \"\") + text.slice(this.text.length),\n        lastChunk?.modifiers,\n        lastLine?.lineNumber\n      );\n      lastLine.replaceLastChunk(newLines[0]?.chunks);\n      this.lines[lastLineIndex] = lastLine;\n      this.lines = this.lines.concat(newLines.slice(1));\n    } else {\n      this.lines = this.processLines(text);\n    }\n    this.text = text;\n    return this.lines;\n  }\n  // Split a chunk of text up into lines and process each line individually\n  processLines = (text, modifiers = {}, startingLineNumber = 1) => {\n    const lines = [];\n    let currentModifiers = modifiers;\n    let currentLineNumber = startingLineNumber;\n    let prevIndex = 0;\n    newlineRegex.lastIndex = 0;\n    for (; ; ) {\n      const match = newlineRegex.exec(text);\n      if (!match) {\n        const chunks2 = this.processText(\n          text.slice(prevIndex),\n          currentModifiers\n        );\n        lines.push(new AnsiLine(currentLineNumber, chunks2));\n        return lines;\n      }\n      const line = text.slice(prevIndex, match.index);\n      prevIndex = match.index + match[0].length;\n      const chunks = this.processText(line, currentModifiers);\n      lines.push(new AnsiLine(currentLineNumber, chunks));\n      currentModifiers = chunks[chunks.length - 1].modifiers ?? currentModifiers;\n      currentLineNumber += 1;\n    }\n  };\n  // Processing of a one individual text chunk\n  processText = (fullText, modifiers) => {\n    const chunks = [];\n    let currentModifiers = modifiers;\n    let prevIndex = 0;\n    ansiRegex.lastIndex = 0;\n    for (; ; ) {\n      const match = ansiRegex.exec(fullText);\n      if (!match) {\n        chunks.push({\n          text: fullText.slice(prevIndex),\n          modifiers: currentModifiers\n        });\n        return chunks;\n      }\n      const text = fullText.slice(prevIndex, match.index);\n      chunks.push({ text, modifiers: currentModifiers });\n      prevIndex = match.index + match[0].length;\n      currentModifiers = this.processCode(match[0], currentModifiers);\n    }\n  };\n  processCode = (code, modifiers) => {\n    return codeModifiers[code]?.(modifiers) ?? modifiers;\n  };\n}\n\nexport { AnsiLine, AnsiProcessor };\n//# sourceMappingURL=AnsiProcessor.esm.js.map\n","// THIS FILE IS AUTOMATICALLY GENERATED DO NOT EDIT DIRECTLY\n// See update-tlds.js for encoding/decoding format\n// https://data.iana.org/TLD/tlds-alpha-by-domain.txt\nconst encodedTlds = 'aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2';\n// Internationalized domain names containing non-ASCII\nconst encodedUtlds = 'ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2';\n\n/**\n * Finite State Machine generation utilities\n */\n\n/**\n * @template T\n * @typedef {{ [group: string]: T[] }} Collections\n */\n\n/**\n * @typedef {{ [group: string]: true }} Flags\n */\n\n// Keys in scanner Collections instances\nconst numeric = 'numeric';\nconst ascii = 'ascii';\nconst alpha = 'alpha';\nconst asciinumeric = 'asciinumeric';\nconst alphanumeric = 'alphanumeric';\nconst domain = 'domain';\nconst emoji = 'emoji';\nconst scheme = 'scheme';\nconst slashscheme = 'slashscheme';\nconst whitespace = 'whitespace';\n\n/**\n * @template T\n * @param {string} name\n * @param {Collections<T>} groups to register in\n * @returns {T[]} Current list of tokens in the given collection\n */\nfunction registerGroup(name, groups) {\n  if (!(name in groups)) {\n    groups[name] = [];\n  }\n  return groups[name];\n}\n\n/**\n * @template T\n * @param {T} t token to add\n * @param {Collections<T>} groups\n * @param {Flags} flags\n */\nfunction addToGroups(t, flags, groups) {\n  if (flags[numeric]) {\n    flags[asciinumeric] = true;\n    flags[alphanumeric] = true;\n  }\n  if (flags[ascii]) {\n    flags[asciinumeric] = true;\n    flags[alpha] = true;\n  }\n  if (flags[asciinumeric]) {\n    flags[alphanumeric] = true;\n  }\n  if (flags[alpha]) {\n    flags[alphanumeric] = true;\n  }\n  if (flags[alphanumeric]) {\n    flags[domain] = true;\n  }\n  if (flags[emoji]) {\n    flags[domain] = true;\n  }\n  for (const k in flags) {\n    const group = registerGroup(k, groups);\n    if (group.indexOf(t) < 0) {\n      group.push(t);\n    }\n  }\n}\n\n/**\n * @template T\n * @param {T} t token to check\n * @param {Collections<T>} groups\n * @returns {Flags} group flags that contain this token\n */\nfunction flagsForToken(t, groups) {\n  const result = {};\n  for (const c in groups) {\n    if (groups[c].indexOf(t) >= 0) {\n      result[c] = true;\n    }\n  }\n  return result;\n}\n\n/**\n * @template T\n * @typedef {null | T } Transition\n */\n\n/**\n * Define a basic state machine state. j is the list of character transitions,\n * jr is the list of regex-match transitions, jd is the default state to\n * transition to t is the accepting token type, if any. If this is the terminal\n * state, then it does not emit a token.\n *\n * The template type T represents the type of the token this state accepts. This\n * should be a string (such as of the token exports in `text.js`) or a\n * MultiToken subclass (from `multi.js`)\n *\n * @template T\n * @param {T} [token] Token that this state emits\n */\nfunction State(token = null) {\n  // this.n = null; // DEBUG: State name\n  /** @type {{ [input: string]: State<T> }} j */\n  this.j = {}; // IMPLEMENTATION 1\n  // this.j = []; // IMPLEMENTATION 2\n  /** @type {[RegExp, State<T>][]} jr */\n  this.jr = [];\n  /** @type {?State<T>} jd */\n  this.jd = null;\n  /** @type {?T} t */\n  this.t = token;\n}\n\n/**\n * Scanner token groups\n * @type Collections<string>\n */\nState.groups = {};\nState.prototype = {\n  accepts() {\n    return !!this.t;\n  },\n  /**\n   * Follow an existing transition from the given input to the next state.\n   * Does not mutate.\n   * @param {string} input character or token type to transition on\n   * @returns {?State<T>} the next state, if any\n   */\n  go(input) {\n    const state = this;\n    const nextState = state.j[input];\n    if (nextState) {\n      return nextState;\n    }\n    for (let i = 0; i < state.jr.length; i++) {\n      const regex = state.jr[i][0];\n      const nextState = state.jr[i][1]; // note: might be empty to prevent default jump\n      if (nextState && regex.test(input)) {\n        return nextState;\n      }\n    }\n    // Nowhere left to jump! Return default, if any\n    return state.jd;\n  },\n  /**\n   * Whether the state has a transition for the given input. Set the second\n   * argument to true to only look for an exact match (and not a default or\n   * regular-expression-based transition)\n   * @param {string} input\n   * @param {boolean} exactOnly\n   */\n  has(input, exactOnly = false) {\n    return exactOnly ? input in this.j : !!this.go(input);\n  },\n  /**\n   * Short for \"transition all\"; create a transition from the array of items\n   * in the given list to the same final resulting state.\n   * @param {string | string[]} inputs Group of inputs to transition on\n   * @param {Transition<T> | State<T>} [next] Transition options\n   * @param {Flags} [flags] Collections flags to add token to\n   * @param {Collections<T>} [groups] Master list of token groups\n   */\n  ta(inputs, next, flags, groups) {\n    for (let i = 0; i < inputs.length; i++) {\n      this.tt(inputs[i], next, flags, groups);\n    }\n  },\n  /**\n   * Short for \"take regexp transition\"; defines a transition for this state\n   * when it encounters a token which matches the given regular expression\n   * @param {RegExp} regexp Regular expression transition (populate first)\n   * @param {T | State<T>} [next] Transition options\n   * @param {Flags} [flags] Collections flags to add token to\n   * @param {Collections<T>} [groups] Master list of token groups\n   * @returns {State<T>} taken after the given input\n   */\n  tr(regexp, next, flags, groups) {\n    groups = groups || State.groups;\n    let nextState;\n    if (next && next.j) {\n      nextState = next;\n    } else {\n      // Token with maybe token groups\n      nextState = new State(next);\n      if (flags && groups) {\n        addToGroups(next, flags, groups);\n      }\n    }\n    this.jr.push([regexp, nextState]);\n    return nextState;\n  },\n  /**\n   * Short for \"take transitions\", will take as many sequential transitions as\n   * the length of the given input and returns the\n   * resulting final state.\n   * @param {string | string[]} input\n   * @param {T | State<T>} [next] Transition options\n   * @param {Flags} [flags] Collections flags to add token to\n   * @param {Collections<T>} [groups] Master list of token groups\n   * @returns {State<T>} taken after the given input\n   */\n  ts(input, next, flags, groups) {\n    let state = this;\n    const len = input.length;\n    if (!len) {\n      return state;\n    }\n    for (let i = 0; i < len - 1; i++) {\n      state = state.tt(input[i]);\n    }\n    return state.tt(input[len - 1], next, flags, groups);\n  },\n  /**\n   * Short for \"take transition\", this is a method for building/working with\n   * state machines.\n   *\n   * If a state already exists for the given input, returns it.\n   *\n   * If a token is specified, that state will emit that token when reached by\n   * the linkify engine.\n   *\n   * If no state exists, it will be initialized with some default transitions\n   * that resemble existing default transitions.\n   *\n   * If a state is given for the second argument, that state will be\n   * transitioned to on the given input regardless of what that input\n   * previously did.\n   *\n   * Specify a token group flags to define groups that this token belongs to.\n   * The token will be added to corresponding entires in the given groups\n   * object.\n   *\n   * @param {string} input character, token type to transition on\n   * @param {T | State<T>} [next] Transition options\n   * @param {Flags} [flags] Collections flags to add token to\n   * @param {Collections<T>} [groups] Master list of groups\n   * @returns {State<T>} taken after the given input\n   */\n  tt(input, next, flags, groups) {\n    groups = groups || State.groups;\n    const state = this;\n\n    // Check if existing state given, just a basic transition\n    if (next && next.j) {\n      state.j[input] = next;\n      return next;\n    }\n    const t = next;\n\n    // Take the transition with the usual default mechanisms and use that as\n    // a template for creating the next state\n    let nextState,\n      templateState = state.go(input);\n    if (templateState) {\n      nextState = new State();\n      Object.assign(nextState.j, templateState.j);\n      nextState.jr.push.apply(nextState.jr, templateState.jr);\n      nextState.jd = templateState.jd;\n      nextState.t = templateState.t;\n    } else {\n      nextState = new State();\n    }\n    if (t) {\n      // Ensure newly token is in the same groups as the old token\n      if (groups) {\n        if (nextState.t && typeof nextState.t === 'string') {\n          const allFlags = Object.assign(flagsForToken(nextState.t, groups), flags);\n          addToGroups(t, allFlags, groups);\n        } else if (flags) {\n          addToGroups(t, flags, groups);\n        }\n      }\n      nextState.t = t; // overwrite anything that was previously there\n    }\n    state.j[input] = nextState;\n    return nextState;\n  }\n};\n\n// Helper functions to improve minification (not exported outside linkifyjs module)\n\n/**\n * @template T\n * @param {State<T>} state\n * @param {string | string[]} input\n * @param {Flags} [flags]\n * @param {Collections<T>} [groups]\n */\nconst ta = (state, input, next, flags, groups) => state.ta(input, next, flags, groups);\n\n/**\n * @template T\n * @param {State<T>} state\n * @param {RegExp} regexp\n * @param {T | State<T>} [next]\n * @param {Flags} [flags]\n * @param {Collections<T>} [groups]\n */\nconst tr = (state, regexp, next, flags, groups) => state.tr(regexp, next, flags, groups);\n\n/**\n * @template T\n * @param {State<T>} state\n * @param {string | string[]} input\n * @param {T | State<T>} [next]\n * @param {Flags} [flags]\n * @param {Collections<T>} [groups]\n */\nconst ts = (state, input, next, flags, groups) => state.ts(input, next, flags, groups);\n\n/**\n * @template T\n * @param {State<T>} state\n * @param {string} input\n * @param {T | State<T>} [next]\n * @param {Collections<T>} [groups]\n * @param {Flags} [flags]\n */\nconst tt = (state, input, next, flags, groups) => state.tt(input, next, flags, groups);\n\n/******************************************************************************\nText Tokens\nIdentifiers for token outputs from the regexp scanner\n******************************************************************************/\n\n// A valid web domain token\nconst WORD = 'WORD'; // only contains a-z\nconst UWORD = 'UWORD'; // contains letters other than a-z, used for IDN\nconst ASCIINUMERICAL = 'ASCIINUMERICAL'; // contains a-z, 0-9\nconst ALPHANUMERICAL = 'ALPHANUMERICAL'; // contains numbers and letters other than a-z, used for IDN\n\n// Special case of word\nconst LOCALHOST = 'LOCALHOST';\n\n// Valid top-level domain, special case of WORD (see tlds.js)\nconst TLD = 'TLD';\n\n// Valid IDN TLD, special case of UWORD (see tlds.js)\nconst UTLD = 'UTLD';\n\n// The scheme portion of a web URI protocol. Supported types include: `mailto`,\n// `file`, and user-defined custom protocols. Limited to schemes that contain\n// only letters\nconst SCHEME = 'SCHEME';\n\n// Similar to SCHEME, except makes distinction for schemes that must always be\n// followed by `://`, not just `:`. Supported types include `http`, `https`,\n// `ftp`, `ftps`\nconst SLASH_SCHEME = 'SLASH_SCHEME';\n\n// Any sequence of digits 0-9\nconst NUM = 'NUM';\n\n// Any number of consecutive whitespace characters that are not newline\nconst WS = 'WS';\n\n// New line (unix style)\nconst NL = 'NL'; // \\n\n\n// Opening/closing bracket classes\n// TODO: Rename OPEN -> LEFT and CLOSE -> RIGHT in v5 to fit with Unicode names\n// Also rename angle brackes to LESSTHAN and GREATER THAN\nconst OPENBRACE = 'OPENBRACE'; // {\nconst CLOSEBRACE = 'CLOSEBRACE'; // }\nconst OPENBRACKET = 'OPENBRACKET'; // [\nconst CLOSEBRACKET = 'CLOSEBRACKET'; // ]\nconst OPENPAREN = 'OPENPAREN'; // (\nconst CLOSEPAREN = 'CLOSEPAREN'; // )\nconst OPENANGLEBRACKET = 'OPENANGLEBRACKET'; // <\nconst CLOSEANGLEBRACKET = 'CLOSEANGLEBRACKET'; // >\nconst FULLWIDTHLEFTPAREN = 'FULLWIDTHLEFTPAREN'; // （\nconst FULLWIDTHRIGHTPAREN = 'FULLWIDTHRIGHTPAREN'; // ）\nconst LEFTCORNERBRACKET = 'LEFTCORNERBRACKET'; // 「\nconst RIGHTCORNERBRACKET = 'RIGHTCORNERBRACKET'; // 」\nconst LEFTWHITECORNERBRACKET = 'LEFTWHITECORNERBRACKET'; // 『\nconst RIGHTWHITECORNERBRACKET = 'RIGHTWHITECORNERBRACKET'; // 』\nconst FULLWIDTHLESSTHAN = 'FULLWIDTHLESSTHAN'; // ＜\nconst FULLWIDTHGREATERTHAN = 'FULLWIDTHGREATERTHAN'; // ＞\n\n// Various symbols\nconst AMPERSAND = 'AMPERSAND'; // &\nconst APOSTROPHE = 'APOSTROPHE'; // '\nconst ASTERISK = 'ASTERISK'; // *\nconst AT = 'AT'; // @\nconst BACKSLASH = 'BACKSLASH'; // \\\nconst BACKTICK = 'BACKTICK'; // `\nconst CARET = 'CARET'; // ^\nconst COLON = 'COLON'; // :\nconst COMMA = 'COMMA'; // ,\nconst DOLLAR = 'DOLLAR'; // $\nconst DOT = 'DOT'; // .\nconst EQUALS = 'EQUALS'; // =\nconst EXCLAMATION = 'EXCLAMATION'; // !\nconst HYPHEN = 'HYPHEN'; // -\nconst PERCENT = 'PERCENT'; // %\nconst PIPE = 'PIPE'; // |\nconst PLUS = 'PLUS'; // +\nconst POUND = 'POUND'; // #\nconst QUERY = 'QUERY'; // ?\nconst QUOTE = 'QUOTE'; // \"\nconst FULLWIDTHMIDDLEDOT = 'FULLWIDTHMIDDLEDOT'; // ・\n\nconst SEMI = 'SEMI'; // ;\nconst SLASH = 'SLASH'; // /\nconst TILDE = 'TILDE'; // ~\nconst UNDERSCORE = 'UNDERSCORE'; // _\n\n// Emoji symbol\nconst EMOJI$1 = 'EMOJI';\n\n// Default token - anything that is not one of the above\nconst SYM = 'SYM';\n\nvar tk = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tALPHANUMERICAL: ALPHANUMERICAL,\n\tAMPERSAND: AMPERSAND,\n\tAPOSTROPHE: APOSTROPHE,\n\tASCIINUMERICAL: ASCIINUMERICAL,\n\tASTERISK: ASTERISK,\n\tAT: AT,\n\tBACKSLASH: BACKSLASH,\n\tBACKTICK: BACKTICK,\n\tCARET: CARET,\n\tCLOSEANGLEBRACKET: CLOSEANGLEBRACKET,\n\tCLOSEBRACE: CLOSEBRACE,\n\tCLOSEBRACKET: CLOSEBRACKET,\n\tCLOSEPAREN: CLOSEPAREN,\n\tCOLON: COLON,\n\tCOMMA: COMMA,\n\tDOLLAR: DOLLAR,\n\tDOT: DOT,\n\tEMOJI: EMOJI$1,\n\tEQUALS: EQUALS,\n\tEXCLAMATION: EXCLAMATION,\n\tFULLWIDTHGREATERTHAN: FULLWIDTHGREATERTHAN,\n\tFULLWIDTHLEFTPAREN: FULLWIDTHLEFTPAREN,\n\tFULLWIDTHLESSTHAN: FULLWIDTHLESSTHAN,\n\tFULLWIDTHMIDDLEDOT: FULLWIDTHMIDDLEDOT,\n\tFULLWIDTHRIGHTPAREN: FULLWIDTHRIGHTPAREN,\n\tHYPHEN: HYPHEN,\n\tLEFTCORNERBRACKET: LEFTCORNERBRACKET,\n\tLEFTWHITECORNERBRACKET: LEFTWHITECORNERBRACKET,\n\tLOCALHOST: LOCALHOST,\n\tNL: NL,\n\tNUM: NUM,\n\tOPENANGLEBRACKET: OPENANGLEBRACKET,\n\tOPENBRACE: OPENBRACE,\n\tOPENBRACKET: OPENBRACKET,\n\tOPENPAREN: OPENPAREN,\n\tPERCENT: PERCENT,\n\tPIPE: PIPE,\n\tPLUS: PLUS,\n\tPOUND: POUND,\n\tQUERY: QUERY,\n\tQUOTE: QUOTE,\n\tRIGHTCORNERBRACKET: RIGHTCORNERBRACKET,\n\tRIGHTWHITECORNERBRACKET: RIGHTWHITECORNERBRACKET,\n\tSCHEME: SCHEME,\n\tSEMI: SEMI,\n\tSLASH: SLASH,\n\tSLASH_SCHEME: SLASH_SCHEME,\n\tSYM: SYM,\n\tTILDE: TILDE,\n\tTLD: TLD,\n\tUNDERSCORE: UNDERSCORE,\n\tUTLD: UTLD,\n\tUWORD: UWORD,\n\tWORD: WORD,\n\tWS: WS\n});\n\n// Note that these two Unicode ones expand into a really big one with Babel\nconst ASCII_LETTER = /[a-z]/;\nconst LETTER = /\\p{L}/u; // Any Unicode character with letter data type\nconst EMOJI = /\\p{Emoji}/u; // Any Unicode emoji character\nconst EMOJI_VARIATION$1 = /\\ufe0f/;\nconst DIGIT = /\\d/;\nconst SPACE = /\\s/;\n\nvar regexp = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tASCII_LETTER: ASCII_LETTER,\n\tDIGIT: DIGIT,\n\tEMOJI: EMOJI,\n\tEMOJI_VARIATION: EMOJI_VARIATION$1,\n\tLETTER: LETTER,\n\tSPACE: SPACE\n});\n\n/**\n\tThe scanner provides an interface that takes a string of text as input, and\n\toutputs an array of tokens instances that can be used for easy URL parsing.\n*/\n\nconst CR = '\\r'; // carriage-return character\nconst LF = '\\n'; // line-feed character\nconst EMOJI_VARIATION = '\\ufe0f'; // Variation selector, follows heart and others\nconst EMOJI_JOINER = '\\u200d'; // zero-width joiner\nconst OBJECT_REPLACEMENT = '\\ufffc'; // whitespace placeholder that sometimes appears in rich text editors\n\nlet tlds = null,\n  utlds = null; // don't change so only have to be computed once\n\n/**\n * Scanner output token:\n * - `t` is the token name (e.g., 'NUM', 'EMOJI', 'TLD')\n * - `v` is the value of the token (e.g., '123', '❤️', 'com')\n * - `s` is the start index of the token in the original string\n * - `e` is the end index of the token in the original string\n * @typedef {{t: string, v: string, s: number, e: number}} Token\n */\n\n/**\n * @template T\n * @typedef {{ [collection: string]: T[] }} Collections\n */\n\n/**\n * Initialize the scanner character-based state machine for the given start\n * state\n * @param {[string, boolean][]} customSchemes List of custom schemes, where each\n * item is a length-2 tuple with the first element set to the string scheme, and\n * the second element set to `true` if the `://` after the scheme is optional\n */\nfunction init$2(customSchemes = []) {\n  // Frequently used states (name argument removed during minification)\n  /** @type Collections<string> */\n  const groups = {}; // of tokens\n  State.groups = groups;\n  /** @type State<string> */\n  const Start = new State();\n  if (tlds == null) {\n    tlds = decodeTlds(encodedTlds);\n  }\n  if (utlds == null) {\n    utlds = decodeTlds(encodedUtlds);\n  }\n\n  // States for special URL symbols that accept immediately after start\n  tt(Start, \"'\", APOSTROPHE);\n  tt(Start, '{', OPENBRACE);\n  tt(Start, '}', CLOSEBRACE);\n  tt(Start, '[', OPENBRACKET);\n  tt(Start, ']', CLOSEBRACKET);\n  tt(Start, '(', OPENPAREN);\n  tt(Start, ')', CLOSEPAREN);\n  tt(Start, '<', OPENANGLEBRACKET);\n  tt(Start, '>', CLOSEANGLEBRACKET);\n  tt(Start, '（', FULLWIDTHLEFTPAREN);\n  tt(Start, '）', FULLWIDTHRIGHTPAREN);\n  tt(Start, '「', LEFTCORNERBRACKET);\n  tt(Start, '」', RIGHTCORNERBRACKET);\n  tt(Start, '『', LEFTWHITECORNERBRACKET);\n  tt(Start, '』', RIGHTWHITECORNERBRACKET);\n  tt(Start, '＜', FULLWIDTHLESSTHAN);\n  tt(Start, '＞', FULLWIDTHGREATERTHAN);\n  tt(Start, '&', AMPERSAND);\n  tt(Start, '*', ASTERISK);\n  tt(Start, '@', AT);\n  tt(Start, '`', BACKTICK);\n  tt(Start, '^', CARET);\n  tt(Start, ':', COLON);\n  tt(Start, ',', COMMA);\n  tt(Start, '$', DOLLAR);\n  tt(Start, '.', DOT);\n  tt(Start, '=', EQUALS);\n  tt(Start, '!', EXCLAMATION);\n  tt(Start, '-', HYPHEN);\n  tt(Start, '%', PERCENT);\n  tt(Start, '|', PIPE);\n  tt(Start, '+', PLUS);\n  tt(Start, '#', POUND);\n  tt(Start, '?', QUERY);\n  tt(Start, '\"', QUOTE);\n  tt(Start, '/', SLASH);\n  tt(Start, ';', SEMI);\n  tt(Start, '~', TILDE);\n  tt(Start, '_', UNDERSCORE);\n  tt(Start, '\\\\', BACKSLASH);\n  tt(Start, '・', FULLWIDTHMIDDLEDOT);\n  const Num = tr(Start, DIGIT, NUM, {\n    [numeric]: true\n  });\n  tr(Num, DIGIT, Num);\n  const Asciinumeric = tr(Num, ASCII_LETTER, ASCIINUMERICAL, {\n    [asciinumeric]: true\n  });\n  const Alphanumeric = tr(Num, LETTER, ALPHANUMERICAL, {\n    [alphanumeric]: true\n  });\n\n  // State which emits a word token\n  const Word = tr(Start, ASCII_LETTER, WORD, {\n    [ascii]: true\n  });\n  tr(Word, DIGIT, Asciinumeric);\n  tr(Word, ASCII_LETTER, Word);\n  tr(Asciinumeric, DIGIT, Asciinumeric);\n  tr(Asciinumeric, ASCII_LETTER, Asciinumeric);\n\n  // Same as previous, but specific to non-fsm.ascii alphabet words\n  const UWord = tr(Start, LETTER, UWORD, {\n    [alpha]: true\n  });\n  tr(UWord, ASCII_LETTER); // Non-accepting\n  tr(UWord, DIGIT, Alphanumeric);\n  tr(UWord, LETTER, UWord);\n  tr(Alphanumeric, DIGIT, Alphanumeric);\n  tr(Alphanumeric, ASCII_LETTER); // Non-accepting\n  tr(Alphanumeric, LETTER, Alphanumeric); // Non-accepting\n\n  // Whitespace jumps\n  // Tokens of only non-newline whitespace are arbitrarily long\n  // If any whitespace except newline, more whitespace!\n  const Nl = tt(Start, LF, NL, {\n    [whitespace]: true\n  });\n  const Cr = tt(Start, CR, WS, {\n    [whitespace]: true\n  });\n  const Ws = tr(Start, SPACE, WS, {\n    [whitespace]: true\n  });\n  tt(Start, OBJECT_REPLACEMENT, Ws);\n  tt(Cr, LF, Nl); // \\r\\n\n  tt(Cr, OBJECT_REPLACEMENT, Ws);\n  tr(Cr, SPACE, Ws);\n  tt(Ws, CR); // non-accepting state to avoid mixing whitespaces\n  tt(Ws, LF); // non-accepting state to avoid mixing whitespaces\n  tr(Ws, SPACE, Ws);\n  tt(Ws, OBJECT_REPLACEMENT, Ws);\n\n  // Emoji tokens. They are not grouped by the scanner except in cases where a\n  // zero-width joiner is present\n  const Emoji = tr(Start, EMOJI, EMOJI$1, {\n    [emoji]: true\n  });\n  tt(Emoji, '#'); // no transition, emoji regex seems to match #\n  tr(Emoji, EMOJI, Emoji);\n  tt(Emoji, EMOJI_VARIATION, Emoji);\n  // tt(Start, EMOJI_VARIATION, Emoji); // This one is sketchy\n\n  const EmojiJoiner = tt(Emoji, EMOJI_JOINER);\n  tt(EmojiJoiner, '#');\n  tr(EmojiJoiner, EMOJI, Emoji);\n  // tt(EmojiJoiner, EMOJI_VARIATION, Emoji); // also sketchy\n\n  // Generates states for top-level domains\n  // Note that this is most accurate when tlds are in alphabetical order\n  const wordjr = [[ASCII_LETTER, Word], [DIGIT, Asciinumeric]];\n  const uwordjr = [[ASCII_LETTER, null], [LETTER, UWord], [DIGIT, Alphanumeric]];\n  for (let i = 0; i < tlds.length; i++) {\n    fastts(Start, tlds[i], TLD, WORD, wordjr);\n  }\n  for (let i = 0; i < utlds.length; i++) {\n    fastts(Start, utlds[i], UTLD, UWORD, uwordjr);\n  }\n  addToGroups(TLD, {\n    tld: true,\n    ascii: true\n  }, groups);\n  addToGroups(UTLD, {\n    utld: true,\n    alpha: true\n  }, groups);\n\n  // Collect the states generated by different protocols. NOTE: If any new TLDs\n  // get added that are also protocols, set the token to be the same as the\n  // protocol to ensure parsing works as expected.\n  fastts(Start, 'file', SCHEME, WORD, wordjr);\n  fastts(Start, 'mailto', SCHEME, WORD, wordjr);\n  fastts(Start, 'http', SLASH_SCHEME, WORD, wordjr);\n  fastts(Start, 'https', SLASH_SCHEME, WORD, wordjr);\n  fastts(Start, 'ftp', SLASH_SCHEME, WORD, wordjr);\n  fastts(Start, 'ftps', SLASH_SCHEME, WORD, wordjr);\n  addToGroups(SCHEME, {\n    scheme: true,\n    ascii: true\n  }, groups);\n  addToGroups(SLASH_SCHEME, {\n    slashscheme: true,\n    ascii: true\n  }, groups);\n\n  // Register custom schemes. Assumes each scheme is asciinumeric with hyphens\n  customSchemes = customSchemes.sort((a, b) => a[0] > b[0] ? 1 : -1);\n  for (let i = 0; i < customSchemes.length; i++) {\n    const sch = customSchemes[i][0];\n    const optionalSlashSlash = customSchemes[i][1];\n    const flags = optionalSlashSlash ? {\n      [scheme]: true\n    } : {\n      [slashscheme]: true\n    };\n    if (sch.indexOf('-') >= 0) {\n      flags[domain] = true;\n    } else if (!ASCII_LETTER.test(sch)) {\n      flags[numeric] = true; // numbers only\n    } else if (DIGIT.test(sch)) {\n      flags[asciinumeric] = true;\n    } else {\n      flags[ascii] = true;\n    }\n    ts(Start, sch, sch, flags);\n  }\n\n  // Localhost token\n  ts(Start, 'localhost', LOCALHOST, {\n    ascii: true\n  });\n\n  // Set default transition for start state (some symbol)\n  Start.jd = new State(SYM);\n  return {\n    start: Start,\n    tokens: Object.assign({\n      groups\n    }, tk)\n  };\n}\n\n/**\n\tGiven a string, returns an array of TOKEN instances representing the\n\tcomposition of that string.\n\n\t@method run\n\t@param {State<string>} start scanner starting state\n\t@param {string} str input string to scan\n\t@return {Token[]} list of tokens, each with a type and value\n*/\nfunction run$1(start, str) {\n  // State machine is not case sensitive, so input is tokenized in lowercased\n  // form (still returns regular case). Uses selective `toLowerCase` because\n  // lowercasing the entire string causes the length and character position to\n  // vary in some non-English strings with V8-based runtimes.\n  const iterable = stringToArray(str.replace(/[A-Z]/g, c => c.toLowerCase()));\n  const charCount = iterable.length; // <= len if there are emojis, etc\n  const tokens = []; // return value\n\n  // cursor through the string itself, accounting for characters that have\n  // width with length 2 such as emojis\n  let cursor = 0;\n\n  // Cursor through the array-representation of the string\n  let charCursor = 0;\n\n  // Tokenize the string\n  while (charCursor < charCount) {\n    let state = start;\n    let nextState = null;\n    let tokenLength = 0;\n    let latestAccepting = null;\n    let sinceAccepts = -1;\n    let charsSinceAccepts = -1;\n    while (charCursor < charCount && (nextState = state.go(iterable[charCursor]))) {\n      state = nextState;\n\n      // Keep track of the latest accepting state\n      if (state.accepts()) {\n        sinceAccepts = 0;\n        charsSinceAccepts = 0;\n        latestAccepting = state;\n      } else if (sinceAccepts >= 0) {\n        sinceAccepts += iterable[charCursor].length;\n        charsSinceAccepts++;\n      }\n      tokenLength += iterable[charCursor].length;\n      cursor += iterable[charCursor].length;\n      charCursor++;\n    }\n\n    // Roll back to the latest accepting state\n    cursor -= sinceAccepts;\n    charCursor -= charsSinceAccepts;\n    tokenLength -= sinceAccepts;\n\n    // No more jumps, just make a new token from the last accepting one\n    tokens.push({\n      t: latestAccepting.t,\n      // token type/name\n      v: str.slice(cursor - tokenLength, cursor),\n      // string value\n      s: cursor - tokenLength,\n      // start index\n      e: cursor // end index (excluding)\n    });\n  }\n  return tokens;\n}\n\n/**\n * Convert a String to an Array of characters, taking into account that some\n * characters like emojis take up two string indexes.\n *\n * Adapted from core-js (MIT license)\n * https://github.com/zloirock/core-js/blob/2d69cf5f99ab3ea3463c395df81e5a15b68f49d9/packages/core-js/internals/string-multibyte.js\n *\n * @function stringToArray\n * @param {string} str\n * @returns {string[]}\n */\nfunction stringToArray(str) {\n  const result = [];\n  const len = str.length;\n  let index = 0;\n  while (index < len) {\n    let first = str.charCodeAt(index);\n    let second;\n    let char = first < 0xd800 || first > 0xdbff || index + 1 === len || (second = str.charCodeAt(index + 1)) < 0xdc00 || second > 0xdfff ? str[index] // single character\n    : str.slice(index, index + 2); // two-index characters\n    result.push(char);\n    index += char.length;\n  }\n  return result;\n}\n\n/**\n * Fast version of ts function for when transition defaults are well known\n * @param {State<string>} state\n * @param {string} input\n * @param {string} t\n * @param {string} defaultt\n * @param {[RegExp, State<string>][]} jr\n * @returns {State<string>}\n */\nfunction fastts(state, input, t, defaultt, jr) {\n  let next;\n  const len = input.length;\n  for (let i = 0; i < len - 1; i++) {\n    const char = input[i];\n    if (state.j[char]) {\n      next = state.j[char];\n    } else {\n      next = new State(defaultt);\n      next.jr = jr.slice();\n      state.j[char] = next;\n    }\n    state = next;\n  }\n  next = new State(t);\n  next.jr = jr.slice();\n  state.j[input[len - 1]] = next;\n  return next;\n}\n\n/**\n * Converts a string of Top-Level Domain names encoded in update-tlds.js back\n * into a list of strings.\n * @param {str} encoded encoded TLDs string\n * @returns {str[]} original TLDs list\n */\nfunction decodeTlds(encoded) {\n  const words = [];\n  const stack = [];\n  let i = 0;\n  let digits = '0123456789';\n  while (i < encoded.length) {\n    let popDigitCount = 0;\n    while (digits.indexOf(encoded[i + popDigitCount]) >= 0) {\n      popDigitCount++; // encountered some digits, have to pop to go one level up trie\n    }\n    if (popDigitCount > 0) {\n      words.push(stack.join('')); // whatever preceded the pop digits must be a word\n      for (let popCount = parseInt(encoded.substring(i, i + popDigitCount), 10); popCount > 0; popCount--) {\n        stack.pop();\n      }\n      i += popDigitCount;\n    } else {\n      stack.push(encoded[i]); // drop down a level into the trie\n      i++;\n    }\n  }\n  return words;\n}\n\n/**\n * An object where each key is a valid DOM Event Name such as `click` or `focus`\n * and each value is an event handler function.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element#events\n * @typedef {?{ [event: string]: Function }} EventListeners\n */\n\n/**\n * All formatted properties required to render a link, including `tagName`,\n * `attributes`, `content` and `eventListeners`.\n * @typedef {{ tagName: any, attributes: {[attr: string]: any}, content: string,\n * eventListeners: EventListeners }} IntermediateRepresentation\n */\n\n/**\n * Specify either an object described by the template type `O` or a function.\n *\n * The function takes a string value (usually the link's href attribute), the\n * link type (`'url'`, `'hashtag`', etc.) and an internal token representation\n * of the link. It should return an object of the template type `O`\n * @template O\n * @typedef {O | ((value: string, type: string, token: MultiToken) => O)} OptObj\n */\n\n/**\n * Specify either a function described by template type `F` or an object.\n *\n * Each key in the object should be a link type (`'url'`, `'hashtag`', etc.). Each\n * value should be a function with template type `F` that is called when the\n * corresponding link type is encountered.\n * @template F\n * @typedef {F | { [type: string]: F}} OptFn\n */\n\n/**\n * Specify either a value with template type `V`, a function that returns `V` or\n * an object where each value resolves to `V`.\n *\n * The function takes a string value (usually the link's href attribute), the\n * link type (`'url'`, `'hashtag`', etc.) and an internal token representation\n * of the link. It should return an object of the template type `V`\n *\n * For the object, each key should be a link type (`'url'`, `'hashtag`', etc.).\n * Each value should either have type `V` or a function that returns V. This\n * function similarly takes a string value and a token.\n *\n * Example valid types for `Opt<string>`:\n *\n * ```js\n * 'hello'\n * (value, type, token) => 'world'\n * { url: 'hello', email: (value, token) => 'world'}\n * ```\n * @template V\n * @typedef {V | ((value: string, type: string, token: MultiToken) => V) | { [type: string]: V | ((value: string, token: MultiToken) => V) }} Opt\n */\n\n/**\n * See available options: https://linkify.js.org/docs/options.html\n * @typedef {{\n * \tdefaultProtocol?: string,\n *  events?: OptObj<EventListeners>,\n * \tformat?: Opt<string>,\n * \tformatHref?: Opt<string>,\n * \tnl2br?: boolean,\n * \ttagName?: Opt<any>,\n * \ttarget?: Opt<string>,\n * \trel?: Opt<string>,\n * \tvalidate?: Opt<boolean>,\n * \ttruncate?: Opt<number>,\n * \tclassName?: Opt<string>,\n * \tattributes?: OptObj<({ [attr: string]: any })>,\n *  ignoreTags?: string[],\n * \trender?: OptFn<((ir: IntermediateRepresentation) => any)>\n * }} Opts\n */\n\n/**\n * @type Required<Opts>\n */\nconst defaults = {\n  defaultProtocol: 'http',\n  events: null,\n  format: noop,\n  formatHref: noop,\n  nl2br: false,\n  tagName: 'a',\n  target: null,\n  rel: null,\n  validate: true,\n  truncate: Infinity,\n  className: null,\n  attributes: null,\n  ignoreTags: [],\n  render: null\n};\n\n/**\n * Utility class for linkify interfaces to apply specified\n * {@link Opts formatting and rendering options}.\n *\n * @param {Opts | Options} [opts] Option value overrides.\n * @param {(ir: IntermediateRepresentation) => any} [defaultRender] (For\n *   internal use) default render function that determines how to generate an\n *   HTML element based on a link token's derived tagName, attributes and HTML.\n *   Similar to render option\n */\nfunction Options(opts, defaultRender = null) {\n  let o = Object.assign({}, defaults);\n  if (opts) {\n    o = Object.assign(o, opts instanceof Options ? opts.o : opts);\n  }\n\n  // Ensure all ignored tags are uppercase\n  const ignoredTags = o.ignoreTags;\n  const uppercaseIgnoredTags = [];\n  for (let i = 0; i < ignoredTags.length; i++) {\n    uppercaseIgnoredTags.push(ignoredTags[i].toUpperCase());\n  }\n  /** @protected */\n  this.o = o;\n  if (defaultRender) {\n    this.defaultRender = defaultRender;\n  }\n  this.ignoreTags = uppercaseIgnoredTags;\n}\nOptions.prototype = {\n  o: defaults,\n  /**\n   * @type string[]\n   */\n  ignoreTags: [],\n  /**\n   * @param {IntermediateRepresentation} ir\n   * @returns {any}\n   */\n  defaultRender(ir) {\n    return ir;\n  },\n  /**\n   * Returns true or false based on whether a token should be displayed as a\n   * link based on the user options.\n   * @param {MultiToken} token\n   * @returns {boolean}\n   */\n  check(token) {\n    return this.get('validate', token.toString(), token);\n  },\n  // Private methods\n\n  /**\n   * Resolve an option's value based on the value of the option and the given\n   * params. If operator and token are specified and the target option is\n   * callable, automatically calls the function with the given argument.\n   * @template {keyof Opts} K\n   * @param {K} key Name of option to use\n   * @param {string} [operator] will be passed to the target option if it's a\n   * function. If not specified, RAW function value gets returned\n   * @param {MultiToken} [token] The token from linkify.tokenize\n   * @returns {Opts[K] | any}\n   */\n  get(key, operator, token) {\n    const isCallable = operator != null;\n    let option = this.o[key];\n    if (!option) {\n      return option;\n    }\n    if (typeof option === 'object') {\n      option = token.t in option ? option[token.t] : defaults[key];\n      if (typeof option === 'function' && isCallable) {\n        option = option(operator, token);\n      }\n    } else if (typeof option === 'function' && isCallable) {\n      option = option(operator, token.t, token);\n    }\n    return option;\n  },\n  /**\n   * @template {keyof Opts} L\n   * @param {L} key Name of options object to use\n   * @param {string} [operator]\n   * @param {MultiToken} [token]\n   * @returns {Opts[L] | any}\n   */\n  getObj(key, operator, token) {\n    let obj = this.o[key];\n    if (typeof obj === 'function' && operator != null) {\n      obj = obj(operator, token.t, token);\n    }\n    return obj;\n  },\n  /**\n   * Convert the given token to a rendered element that may be added to the\n   * calling-interface's DOM\n   * @param {MultiToken} token Token to render to an HTML element\n   * @returns {any} Render result; e.g., HTML string, DOM element, React\n   *   Component, etc.\n   */\n  render(token) {\n    const ir = token.render(this); // intermediate representation\n    const renderFn = this.get('render', null, token) || this.defaultRender;\n    return renderFn(ir, token.t, token);\n  }\n};\nfunction noop(val) {\n  return val;\n}\n\nvar options = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tOptions: Options,\n\tdefaults: defaults\n});\n\n/******************************************************************************\n\tMulti-Tokens\n\tTokens composed of arrays of TextTokens\n******************************************************************************/\n\n/**\n * @param {string} value\n * @param {Token[]} tokens\n */\nfunction MultiToken(value, tokens) {\n  this.t = 'token';\n  this.v = value;\n  this.tk = tokens;\n}\n\n/**\n * Abstract class used for manufacturing tokens of text tokens. That is rather\n * than the value for a token being a small string of text, it's value an array\n * of text tokens.\n *\n * Used for grouping together URLs, emails, hashtags, and other potential\n * creations.\n * @class MultiToken\n * @property {string} t\n * @property {string} v\n * @property {Token[]} tk\n * @abstract\n */\nMultiToken.prototype = {\n  isLink: false,\n  /**\n   * Return the string this token represents.\n   * @return {string}\n   */\n  toString() {\n    return this.v;\n  },\n  /**\n   * What should the value for this token be in the `href` HTML attribute?\n   * Returns the `.toString` value by default.\n   * @param {string} [scheme]\n   * @return {string}\n   */\n  toHref(scheme) {\n    return this.toString();\n  },\n  /**\n   * @param {Options} options Formatting options\n   * @returns {string}\n   */\n  toFormattedString(options) {\n    const val = this.toString();\n    const truncate = options.get('truncate', val, this);\n    const formatted = options.get('format', val, this);\n    return truncate && formatted.length > truncate ? formatted.substring(0, truncate) + '…' : formatted;\n  },\n  /**\n   *\n   * @param {Options} options\n   * @returns {string}\n   */\n  toFormattedHref(options) {\n    return options.get('formatHref', this.toHref(options.get('defaultProtocol')), this);\n  },\n  /**\n   * The start index of this token in the original input string\n   * @returns {number}\n   */\n  startIndex() {\n    return this.tk[0].s;\n  },\n  /**\n   * The end index of this token in the original input string (up to this\n   * index but not including it)\n   * @returns {number}\n   */\n  endIndex() {\n    return this.tk[this.tk.length - 1].e;\n  },\n  /**\n  \tReturns an object  of relevant values for this token, which includes keys\n  \t* type - Kind of token ('url', 'email', etc.)\n  \t* value - Original text\n  \t* href - The value that should be added to the anchor tag's href\n  \t\tattribute\n  \t\t@method toObject\n  \t@param {string} [protocol] `'http'` by default\n  */\n  toObject(protocol = defaults.defaultProtocol) {\n    return {\n      type: this.t,\n      value: this.toString(),\n      isLink: this.isLink,\n      href: this.toHref(protocol),\n      start: this.startIndex(),\n      end: this.endIndex()\n    };\n  },\n  /**\n   *\n   * @param {Options} options Formatting option\n   */\n  toFormattedObject(options) {\n    return {\n      type: this.t,\n      value: this.toFormattedString(options),\n      isLink: this.isLink,\n      href: this.toFormattedHref(options),\n      start: this.startIndex(),\n      end: this.endIndex()\n    };\n  },\n  /**\n   * Whether this token should be rendered as a link according to the given options\n   * @param {Options} options\n   * @returns {boolean}\n   */\n  validate(options) {\n    return options.get('validate', this.toString(), this);\n  },\n  /**\n   * Return an object that represents how this link should be rendered.\n   * @param {Options} options Formattinng options\n   */\n  render(options) {\n    const token = this;\n    const href = this.toHref(options.get('defaultProtocol'));\n    const formattedHref = options.get('formatHref', href, this);\n    const tagName = options.get('tagName', href, token);\n    const content = this.toFormattedString(options);\n    const attributes = {};\n    const className = options.get('className', href, token);\n    const target = options.get('target', href, token);\n    const rel = options.get('rel', href, token);\n    const attrs = options.getObj('attributes', href, token);\n    const eventListeners = options.getObj('events', href, token);\n    attributes.href = formattedHref;\n    if (className) {\n      attributes.class = className;\n    }\n    if (target) {\n      attributes.target = target;\n    }\n    if (rel) {\n      attributes.rel = rel;\n    }\n    if (attrs) {\n      Object.assign(attributes, attrs);\n    }\n    return {\n      tagName,\n      attributes,\n      content,\n      eventListeners\n    };\n  }\n};\n\n/**\n * Create a new token that can be emitted by the parser state machine\n * @param {string} type readable type of the token\n * @param {object} props properties to assign or override, including isLink = true or false\n * @returns {new (value: string, tokens: Token[]) => MultiToken} new token class\n */\nfunction createTokenClass(type, props) {\n  class Token extends MultiToken {\n    constructor(value, tokens) {\n      super(value, tokens);\n      this.t = type;\n    }\n  }\n  for (const p in props) {\n    Token.prototype[p] = props[p];\n  }\n  Token.t = type;\n  return Token;\n}\n\n/**\n\tRepresents a list of tokens making up a valid email address\n*/\nconst Email = createTokenClass('email', {\n  isLink: true,\n  toHref() {\n    return 'mailto:' + this.toString();\n  }\n});\n\n/**\n\tRepresents some plain text\n*/\nconst Text = createTokenClass('text');\n\n/**\n\tMulti-linebreak token - represents a line break\n\t@class Nl\n*/\nconst Nl = createTokenClass('nl');\n\n/**\n\tRepresents a list of text tokens making up a valid URL\n\t@class Url\n*/\nconst Url = createTokenClass('url', {\n  isLink: true,\n  /**\n  \tLowercases relevant parts of the domain and adds the protocol if\n  \trequired. Note that this will not escape unsafe HTML characters in the\n  \tURL.\n  \t\t@param {string} [scheme] default scheme (e.g., 'https')\n  \t@return {string} the full href\n  */\n  toHref(scheme = defaults.defaultProtocol) {\n    // Check if already has a prefix scheme\n    return this.hasProtocol() ? this.v : `${scheme}://${this.v}`;\n  },\n  /**\n   * Check whether this URL token has a protocol\n   * @return {boolean}\n   */\n  hasProtocol() {\n    const tokens = this.tk;\n    return tokens.length >= 2 && tokens[0].t !== LOCALHOST && tokens[1].t === COLON;\n  }\n});\n\nvar multi = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tBase: MultiToken,\n\tEmail: Email,\n\tMultiToken: MultiToken,\n\tNl: Nl,\n\tText: Text,\n\tUrl: Url,\n\tcreateTokenClass: createTokenClass\n});\n\n/**\n\tNot exactly parser, more like the second-stage scanner (although we can\n\ttheoretically hotswap the code here with a real parser in the future... but\n\tfor a little URL-finding utility abstract syntax trees may be a little\n\toverkill).\n\n\tURL format: http://en.wikipedia.org/wiki/URI_scheme\n\tEmail format: http://en.wikipedia.org/wiki/EmailAddress (links to RFC in\n\treference)\n\n\t@module linkify\n\t@submodule parser\n\t@main run\n*/\n\nconst makeState = arg => new State(arg);\n\n/**\n * Generate the parser multi token-based state machine\n * @param {{ groups: Collections<string> }} tokens\n */\nfunction init$1({\n  groups\n}) {\n  // Types of characters the URL can definitely end in\n  const qsAccepting = groups.domain.concat([AMPERSAND, ASTERISK, AT, BACKSLASH, BACKTICK, CARET, DOLLAR, EQUALS, HYPHEN, NUM, PERCENT, PIPE, PLUS, POUND, SLASH, SYM, TILDE, UNDERSCORE]);\n\n  // Types of tokens that can follow a URL and be part of the query string\n  // but cannot be the very last characters\n  // Characters that cannot appear in the URL at all should be excluded\n  const qsNonAccepting = [APOSTROPHE, COLON, COMMA, DOT, EXCLAMATION, PERCENT, QUERY, QUOTE, SEMI, OPENANGLEBRACKET, CLOSEANGLEBRACKET, OPENBRACE, CLOSEBRACE, CLOSEBRACKET, OPENBRACKET, OPENPAREN, CLOSEPAREN, FULLWIDTHLEFTPAREN, FULLWIDTHRIGHTPAREN, LEFTCORNERBRACKET, RIGHTCORNERBRACKET, LEFTWHITECORNERBRACKET, RIGHTWHITECORNERBRACKET, FULLWIDTHLESSTHAN, FULLWIDTHGREATERTHAN];\n\n  // For addresses without the mailto prefix\n  // Tokens allowed in the localpart of the email\n  const localpartAccepting = [AMPERSAND, APOSTROPHE, ASTERISK, BACKSLASH, BACKTICK, CARET, DOLLAR, EQUALS, HYPHEN, OPENBRACE, CLOSEBRACE, PERCENT, PIPE, PLUS, POUND, QUERY, SLASH, SYM, TILDE, UNDERSCORE];\n\n  // The universal starting state.\n  /**\n   * @type State<Token>\n   */\n  const Start = makeState();\n  const Localpart = tt(Start, TILDE); // Local part of the email address\n  ta(Localpart, localpartAccepting, Localpart);\n  ta(Localpart, groups.domain, Localpart);\n  const Domain = makeState(),\n    Scheme = makeState(),\n    SlashScheme = makeState();\n  ta(Start, groups.domain, Domain); // parsed string ends with a potential domain name (A)\n  ta(Start, groups.scheme, Scheme); // e.g., 'mailto'\n  ta(Start, groups.slashscheme, SlashScheme); // e.g., 'http'\n\n  ta(Domain, localpartAccepting, Localpart);\n  ta(Domain, groups.domain, Domain);\n  const LocalpartAt = tt(Domain, AT); // Local part of the email address plus @\n\n  tt(Localpart, AT, LocalpartAt); // close to an email address now\n\n  // Local part of an email address can be e.g. 'http' or 'mailto'\n  tt(Scheme, AT, LocalpartAt);\n  tt(SlashScheme, AT, LocalpartAt);\n  const LocalpartDot = tt(Localpart, DOT); // Local part of the email address plus '.' (localpart cannot end in .)\n  ta(LocalpartDot, localpartAccepting, Localpart);\n  ta(LocalpartDot, groups.domain, Localpart);\n  const EmailDomain = makeState();\n  ta(LocalpartAt, groups.domain, EmailDomain); // parsed string starts with local email info + @ with a potential domain name\n  ta(EmailDomain, groups.domain, EmailDomain);\n  const EmailDomainDot = tt(EmailDomain, DOT); // domain followed by DOT\n  ta(EmailDomainDot, groups.domain, EmailDomain);\n  const Email$1 = makeState(Email); // Possible email address (could have more tlds)\n  ta(EmailDomainDot, groups.tld, Email$1);\n  ta(EmailDomainDot, groups.utld, Email$1);\n  tt(LocalpartAt, LOCALHOST, Email$1);\n\n  // Hyphen can jump back to a domain name\n  const EmailDomainHyphen = tt(EmailDomain, HYPHEN); // parsed string starts with local email info + @ with a potential domain name\n  tt(EmailDomainHyphen, HYPHEN, EmailDomainHyphen);\n  ta(EmailDomainHyphen, groups.domain, EmailDomain);\n  ta(Email$1, groups.domain, EmailDomain);\n  tt(Email$1, DOT, EmailDomainDot);\n  tt(Email$1, HYPHEN, EmailDomainHyphen);\n\n  // Final possible email states\n  const EmailColon = tt(Email$1, COLON); // URL followed by colon (potential port number here)\n  /*const EmailColonPort = */\n  ta(EmailColon, groups.numeric, Email); // URL followed by colon and port number\n\n  // Account for dots and hyphens. Hyphens are usually parts of domain names\n  // (but not TLDs)\n  const DomainHyphen = tt(Domain, HYPHEN); // domain followed by hyphen\n  const DomainDot = tt(Domain, DOT); // domain followed by DOT\n  tt(DomainHyphen, HYPHEN, DomainHyphen);\n  ta(DomainHyphen, groups.domain, Domain);\n  ta(DomainDot, localpartAccepting, Localpart);\n  ta(DomainDot, groups.domain, Domain);\n  const DomainDotTld = makeState(Url); // Simplest possible URL with no query string\n  ta(DomainDot, groups.tld, DomainDotTld);\n  ta(DomainDot, groups.utld, DomainDotTld);\n  ta(DomainDotTld, groups.domain, Domain);\n  ta(DomainDotTld, localpartAccepting, Localpart);\n  tt(DomainDotTld, DOT, DomainDot);\n  tt(DomainDotTld, HYPHEN, DomainHyphen);\n  tt(DomainDotTld, AT, LocalpartAt);\n  const DomainDotTldColon = tt(DomainDotTld, COLON); // URL followed by colon (potential port number here)\n  const DomainDotTldColonPort = makeState(Url); // TLD followed by a port number\n  ta(DomainDotTldColon, groups.numeric, DomainDotTldColonPort);\n\n  // Long URL with optional port and maybe query string\n  const Url$1 = makeState(Url);\n\n  // URL with extra symbols at the end, followed by an opening bracket\n  const UrlNonaccept = makeState(); // URL followed by some symbols (will not be part of the final URL)\n\n  // Query strings\n  ta(Url$1, qsAccepting, Url$1);\n  ta(Url$1, qsNonAccepting, UrlNonaccept);\n  ta(UrlNonaccept, qsAccepting, Url$1);\n  ta(UrlNonaccept, qsNonAccepting, UrlNonaccept);\n\n  // Become real URLs after `SLASH` or `COLON NUM SLASH`\n  // Here works with or without scheme:// prefix\n  tt(DomainDotTld, SLASH, Url$1);\n  tt(DomainDotTldColonPort, SLASH, Url$1);\n\n  // Note that domains that begin with schemes are treated slighly differently\n  const SchemeColon = tt(Scheme, COLON); // e.g., 'mailto:'\n  const SlashSchemeColon = tt(SlashScheme, COLON); // e.g., 'http:'\n  const SlashSchemeColonSlash = tt(SlashSchemeColon, SLASH); // e.g., 'http:/'\n\n  const UriPrefix = tt(SlashSchemeColonSlash, SLASH); // e.g., 'http://'\n\n  // Scheme states can transition to domain states\n  ta(Scheme, groups.domain, Domain);\n  tt(Scheme, DOT, DomainDot);\n  tt(Scheme, HYPHEN, DomainHyphen);\n  ta(SlashScheme, groups.domain, Domain);\n  tt(SlashScheme, DOT, DomainDot);\n  tt(SlashScheme, HYPHEN, DomainHyphen);\n\n  // Force URL with scheme prefix followed by anything sane\n  ta(SchemeColon, groups.domain, Url$1);\n  tt(SchemeColon, SLASH, Url$1);\n  tt(SchemeColon, QUERY, Url$1);\n  ta(UriPrefix, groups.domain, Url$1);\n  ta(UriPrefix, qsAccepting, Url$1);\n  tt(UriPrefix, SLASH, Url$1);\n  const bracketPairs = [[OPENBRACE, CLOSEBRACE],\n  // {}\n  [OPENBRACKET, CLOSEBRACKET],\n  // []\n  [OPENPAREN, CLOSEPAREN],\n  // ()\n  [OPENANGLEBRACKET, CLOSEANGLEBRACKET],\n  // <>\n  [FULLWIDTHLEFTPAREN, FULLWIDTHRIGHTPAREN],\n  // （）\n  [LEFTCORNERBRACKET, RIGHTCORNERBRACKET],\n  // 「」\n  [LEFTWHITECORNERBRACKET, RIGHTWHITECORNERBRACKET],\n  // 『』\n  [FULLWIDTHLESSTHAN, FULLWIDTHGREATERTHAN] // ＜＞\n  ];\n  for (let i = 0; i < bracketPairs.length; i++) {\n    const [OPEN, CLOSE] = bracketPairs[i];\n    const UrlOpen = tt(Url$1, OPEN); // URL followed by open bracket\n\n    // Continue not accepting for open brackets\n    tt(UrlNonaccept, OPEN, UrlOpen);\n\n    // Closing bracket component. This character WILL be included in the URL\n    tt(UrlOpen, CLOSE, Url$1);\n\n    // URL that beings with an opening bracket, followed by a symbols.\n    // Note that the final state can still be `UrlOpen` (if the URL has a\n    // single opening bracket for some reason).\n    const UrlOpenQ = makeState(Url);\n    ta(UrlOpen, qsAccepting, UrlOpenQ);\n    const UrlOpenSyms = makeState(); // UrlOpen followed by some symbols it cannot end it\n    ta(UrlOpen, qsNonAccepting);\n\n    // URL that begins with an opening bracket, followed by some symbols\n    ta(UrlOpenQ, qsAccepting, UrlOpenQ);\n    ta(UrlOpenQ, qsNonAccepting, UrlOpenSyms);\n    ta(UrlOpenSyms, qsAccepting, UrlOpenQ);\n    ta(UrlOpenSyms, qsNonAccepting, UrlOpenSyms);\n\n    // Close brace/bracket to become regular URL\n    tt(UrlOpenQ, CLOSE, Url$1);\n    tt(UrlOpenSyms, CLOSE, Url$1);\n  }\n  tt(Start, LOCALHOST, DomainDotTld); // localhost is a valid URL state\n  tt(Start, NL, Nl); // single new line\n\n  return {\n    start: Start,\n    tokens: tk\n  };\n}\n\n/**\n * Run the parser state machine on a list of scanned string-based tokens to\n * create a list of multi tokens, each of which represents a URL, email address,\n * plain text, etc.\n *\n * @param {State<MultiToken>} start parser start state\n * @param {string} input the original input used to generate the given tokens\n * @param {Token[]} tokens list of scanned tokens\n * @returns {MultiToken[]}\n */\nfunction run(start, input, tokens) {\n  let len = tokens.length;\n  let cursor = 0;\n  let multis = [];\n  let textTokens = [];\n  while (cursor < len) {\n    let state = start;\n    let secondState = null;\n    let nextState = null;\n    let multiLength = 0;\n    let latestAccepting = null;\n    let sinceAccepts = -1;\n    while (cursor < len && !(secondState = state.go(tokens[cursor].t))) {\n      // Starting tokens with nowhere to jump to.\n      // Consider these to be just plain text\n      textTokens.push(tokens[cursor++]);\n    }\n    while (cursor < len && (nextState = secondState || state.go(tokens[cursor].t))) {\n      // Get the next state\n      secondState = null;\n      state = nextState;\n\n      // Keep track of the latest accepting state\n      if (state.accepts()) {\n        sinceAccepts = 0;\n        latestAccepting = state;\n      } else if (sinceAccepts >= 0) {\n        sinceAccepts++;\n      }\n      cursor++;\n      multiLength++;\n    }\n    if (sinceAccepts < 0) {\n      // No accepting state was found, part of a regular text token add\n      // the first text token to the text tokens array and try again from\n      // the next\n      cursor -= multiLength;\n      if (cursor < len) {\n        textTokens.push(tokens[cursor]);\n        cursor++;\n      }\n    } else {\n      // Accepting state!\n      // First close off the textTokens (if available)\n      if (textTokens.length > 0) {\n        multis.push(initMultiToken(Text, input, textTokens));\n        textTokens = [];\n      }\n\n      // Roll back to the latest accepting state\n      cursor -= sinceAccepts;\n      multiLength -= sinceAccepts;\n\n      // Create a new multitoken\n      const Multi = latestAccepting.t;\n      const subtokens = tokens.slice(cursor - multiLength, cursor);\n      multis.push(initMultiToken(Multi, input, subtokens));\n    }\n  }\n\n  // Finally close off the textTokens (if available)\n  if (textTokens.length > 0) {\n    multis.push(initMultiToken(Text, input, textTokens));\n  }\n  return multis;\n}\n\n/**\n * Utility function for instantiating a new multitoken with all the relevant\n * fields during parsing.\n * @param {new (value: string, tokens: Token[]) => MultiToken} Multi class to instantiate\n * @param {string} input original input string\n * @param {Token[]} tokens consecutive tokens scanned from input string\n * @returns {MultiToken}\n */\nfunction initMultiToken(Multi, input, tokens) {\n  const startIdx = tokens[0].s;\n  const endIdx = tokens[tokens.length - 1].e;\n  const value = input.slice(startIdx, endIdx);\n  return new Multi(value, tokens);\n}\n\nconst warn = typeof console !== 'undefined' && console && console.warn || (() => {});\nconst warnAdvice = 'until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.';\n\n// Side-effect initialization state\nconst INIT = {\n  scanner: null,\n  parser: null,\n  tokenQueue: [],\n  pluginQueue: [],\n  customSchemes: [],\n  initialized: false\n};\n\n/**\n * @typedef {{\n * \tstart: State<string>,\n * \ttokens: { groups: Collections<string> } & typeof tk\n * }} ScannerInit\n */\n\n/**\n * @typedef {{\n * \tstart: State<MultiToken>,\n * \ttokens: typeof multi\n * }} ParserInit\n */\n\n/**\n * @typedef {(arg: { scanner: ScannerInit }) => void} TokenPlugin\n */\n\n/**\n * @typedef {(arg: { scanner: ScannerInit, parser: ParserInit }) => void} Plugin\n */\n\n/**\n * De-register all plugins and reset the internal state-machine. Used for\n * testing; not required in practice.\n * @private\n */\nfunction reset() {\n  State.groups = {};\n  INIT.scanner = null;\n  INIT.parser = null;\n  INIT.tokenQueue = [];\n  INIT.pluginQueue = [];\n  INIT.customSchemes = [];\n  INIT.initialized = false;\n  return INIT;\n}\n\n/**\n * Register a token plugin to allow the scanner to recognize additional token\n * types before the parser state machine is constructed from the results.\n * @param {string} name of plugin to register\n * @param {TokenPlugin} plugin function that accepts the scanner state machine\n * and available scanner tokens and collections and extends the state machine to\n * recognize additional tokens or groups.\n */\nfunction registerTokenPlugin(name, plugin) {\n  if (typeof plugin !== 'function') {\n    throw new Error(`linkifyjs: Invalid token plugin ${plugin} (expects function)`);\n  }\n  for (let i = 0; i < INIT.tokenQueue.length; i++) {\n    if (name === INIT.tokenQueue[i][0]) {\n      warn(`linkifyjs: token plugin \"${name}\" already registered - will be overwritten`);\n      INIT.tokenQueue[i] = [name, plugin];\n      return;\n    }\n  }\n  INIT.tokenQueue.push([name, plugin]);\n  if (INIT.initialized) {\n    warn(`linkifyjs: already initialized - will not register token plugin \"${name}\" ${warnAdvice}`);\n  }\n}\n\n/**\n * Register a linkify plugin\n * @param {string} name of plugin to register\n * @param {Plugin} plugin function that accepts the parser state machine and\n * extends the parser to recognize additional link types\n */\nfunction registerPlugin(name, plugin) {\n  if (typeof plugin !== 'function') {\n    throw new Error(`linkifyjs: Invalid plugin ${plugin} (expects function)`);\n  }\n  for (let i = 0; i < INIT.pluginQueue.length; i++) {\n    if (name === INIT.pluginQueue[i][0]) {\n      warn(`linkifyjs: plugin \"${name}\" already registered - will be overwritten`);\n      INIT.pluginQueue[i] = [name, plugin];\n      return;\n    }\n  }\n  INIT.pluginQueue.push([name, plugin]);\n  if (INIT.initialized) {\n    warn(`linkifyjs: already initialized - will not register plugin \"${name}\" ${warnAdvice}`);\n  }\n}\n\n/**\n * Detect URLs with the following additional protocol. Anything with format\n * \"protocol://...\" will be considered a link. If `optionalSlashSlash` is set to\n * `true`, anything with format \"protocol:...\" will be considered a link.\n * @param {string} scheme\n * @param {boolean} [optionalSlashSlash]\n */\nfunction registerCustomProtocol(scheme, optionalSlashSlash = false) {\n  if (INIT.initialized) {\n    warn(`linkifyjs: already initialized - will not register custom scheme \"${scheme}\" ${warnAdvice}`);\n  }\n  if (!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(scheme)) {\n    throw new Error(`linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or \"-\"\n2. Cannot start or end with \"-\"\n3. \"-\" cannot repeat`);\n  }\n  INIT.customSchemes.push([scheme, optionalSlashSlash]);\n}\n\n/**\n * Initialize the linkify state machine. Called automatically the first time\n * linkify is called on a string, but may be called manually as well.\n */\nfunction init() {\n  // Initialize scanner state machine and plugins\n  INIT.scanner = init$2(INIT.customSchemes);\n  for (let i = 0; i < INIT.tokenQueue.length; i++) {\n    INIT.tokenQueue[i][1]({\n      scanner: INIT.scanner\n    });\n  }\n\n  // Initialize parser state machine and plugins\n  INIT.parser = init$1(INIT.scanner.tokens);\n  for (let i = 0; i < INIT.pluginQueue.length; i++) {\n    INIT.pluginQueue[i][1]({\n      scanner: INIT.scanner,\n      parser: INIT.parser\n    });\n  }\n  INIT.initialized = true;\n  return INIT;\n}\n\n/**\n * Parse a string into tokens that represent linkable and non-linkable sub-components\n * @param {string} str\n * @return {MultiToken[]} tokens\n */\nfunction tokenize(str) {\n  if (!INIT.initialized) {\n    init();\n  }\n  return run(INIT.parser.start, str, run$1(INIT.scanner.start, str));\n}\ntokenize.scan = run$1; // for testing\n\n/**\n * Find a list of linkable items in the given string.\n * @param {string} str string to find links in\n * @param {string | Opts} [type] either formatting options or specific type of\n * links to find, e.g., 'url' or 'email'\n * @param {Opts} [opts] formatting options for final output. Cannot be specified\n * if opts already provided in `type` argument\n */\nfunction find(str, type = null, opts = null) {\n  if (type && typeof type === 'object') {\n    if (opts) {\n      throw Error(`linkifyjs: Invalid link type ${type}; must be a string`);\n    }\n    opts = type;\n    type = null;\n  }\n  const options = new Options(opts);\n  const tokens = tokenize(str);\n  const filtered = [];\n  for (let i = 0; i < tokens.length; i++) {\n    const token = tokens[i];\n    if (token.isLink && (!type || token.t === type) && options.check(token)) {\n      filtered.push(token.toFormattedObject(options));\n    }\n  }\n  return filtered;\n}\n\n/**\n * Is the given string valid linkable text of some sort. Note that this does not\n * trim the text for you.\n *\n * Optionally pass in a second `type` param, which is the type of link to test\n * for.\n *\n * For example,\n *\n *     linkify.test(str, 'email');\n *\n * Returns `true` if str is a valid email.\n * @param {string} str string to test for links\n * @param {string} [type] optional specific link type to look for\n * @returns boolean true/false\n */\nfunction test(str, type = null) {\n  const tokens = tokenize(str);\n  return tokens.length === 1 && tokens[0].isLink && (!type || tokens[0].t === type);\n}\n\nexport { MultiToken, Options, State, createTokenClass, find, init, multi, options, regexp, registerCustomProtocol, registerPlugin, registerTokenPlugin, reset, stringToArray, test, multi as text, tokenize };\n","import * as React from 'react';\nimport { Options, tokenize } from 'linkifyjs';\n\n/**\n * Given a string, converts to an array of valid React components\n * (which may include strings)\n * @param {string} str\n * @param {Options} opts\n * @param {{ [elementId: string]: number }} meta\n * @returns {React.ReactNodeArray}\n */\nfunction stringToElements(str, opts, meta) {\n  const tokens = tokenize(str);\n  const elements = [];\n  for (let i = 0; i < tokens.length; i++) {\n    const token = tokens[i];\n    if (token.t === 'nl' && opts.get('nl2br')) {\n      const key = `__linkify-el-${meta.elementId++}`;\n      elements.push(React.createElement('br', {\n        key\n      }));\n    } else if (!token.isLink || !opts.check(token)) {\n      // Regular text\n      elements.push(token.toString());\n    } else {\n      let rendered = opts.render(token);\n      if (!('key' in rendered.props)) {\n        // Ensure generated element has unique key\n        const key = `__linkify-el-${meta.elementId++}`;\n        const props = Object.assign({\n          key\n        }, rendered.props);\n        rendered = React.cloneElement(rendered, props);\n      }\n      elements.push(rendered);\n    }\n  }\n  return elements;\n}\n\n// Recursively linkify the contents of the given React Element instance\n/**\n * @template P\n * @template {string | React.JSXElementConstructor<P>} T\n * @param {React.ReactElement<P, T>} element\n * @param {Options} opts\n * @param {{ [elementId: string]: number }} meta\n * @returns {React.ReactElement<P, T>}\n */\nfunction linkifyReactElement(element, opts, meta) {\n  if (React.Children.count(element.props.children) === 0) {\n    // No need to clone if the element had no children\n    return element;\n  }\n  const children = [];\n  React.Children.forEach(element.props.children, child => {\n    if (typeof child === 'string') {\n      // ensure that we always generate unique element IDs for keys\n      children.push.apply(children, stringToElements(child, opts, meta));\n    } else if (React.isValidElement(child)) {\n      if (typeof child.type === 'string' && opts.ignoreTags.indexOf(child.type.toUpperCase()) >= 0) {\n        // Don't linkify this element\n        children.push(child);\n      } else {\n        children.push(linkifyReactElement(child, opts, meta));\n      }\n    } else {\n      // Unknown element type, just push\n      children.push(child);\n    }\n  });\n\n  // Set a default unique key, copy over remaining props\n  const key = `__linkify-el-${meta.elementId++}`;\n  const newProps = Object.assign({\n    key\n  }, element.props);\n  return React.cloneElement(element, newProps, children);\n}\n\n/**\n * @template P\n * @template {string | React.JSXElementConstructor<P>} T\n * @param {P & { as?: T, tagName?: T, options?: import('linkifyjs').Opts, children?: React.ReactNode}} props\n * @returns {React.ReactElement<P, T>}\n */\nconst Linkify = props => {\n  // Copy over all non-linkify-specific props\n  let linkId = 0;\n  const defaultLinkRender = ({\n    tagName,\n    attributes,\n    content\n  }) => {\n    attributes.key = `__linkify-lnk-${linkId++}`;\n    if (attributes.class) {\n      attributes.className = attributes.class;\n      delete attributes.class;\n    }\n    return React.createElement(tagName, attributes, content);\n  };\n  const newProps = {\n    key: '__linkify-wrapper'\n  };\n  for (const prop in props) {\n    if (prop !== 'options' && prop !== 'as' && prop !== 'tagName' && prop !== 'children') {\n      newProps[prop] = props[prop];\n    }\n  }\n  const opts = new Options(props.options, defaultLinkRender);\n  const as = props.as || props.tagName || React.Fragment || 'span';\n  const children = props.children;\n  const element = React.createElement(as, newProps, children);\n  return linkifyReactElement(element, opts, {\n    elementId: 0\n  });\n};\n\nexport { Linkify as default };\n","import { jsx } from 'react/jsx-runtime';\nimport { useRef, useMemo, useEffect } from 'react';\nimport startCase from 'lodash/startCase';\nimport classNames from 'classnames';\nimport Linkify from 'linkify-react';\nimport { Link } from '../Link/Link.esm.js';\n\nfunction getModifierClasses(classes, modifiers) {\n  const classNames = new Array();\n  if (modifiers.bold) {\n    classNames.push(classes.modifierBold);\n  }\n  if (modifiers.italic) {\n    classNames.push(classes.modifierItalic);\n  }\n  if (modifiers.underline) {\n    classNames.push(classes.modifierUnderline);\n  }\n  if (modifiers.foreground) {\n    const key = `modifierForeground${startCase(\n      modifiers.foreground\n    )}`;\n    classNames.push(classes[key]);\n  }\n  if (modifiers.background) {\n    const key = `modifierBackground${startCase(\n      modifiers.background\n    )}`;\n    classNames.push(classes[key]);\n  }\n  return classNames.length > 0 ? classNames.join(\" \") : void 0;\n}\nfunction findSearchResults(text, searchText) {\n  if (!searchText || !text.includes(searchText)) {\n    return void 0;\n  }\n  const searchResults = new Array();\n  let offset = 0;\n  for (; ; ) {\n    const start = text.indexOf(searchText, offset);\n    if (start === -1) {\n      break;\n    }\n    const end = start + searchText.length;\n    searchResults.push({ start, end });\n    offset = end;\n  }\n  return searchResults;\n}\nfunction calculateHighlightedChunks(line, searchText) {\n  const results = findSearchResults(line.text, searchText);\n  if (!results) {\n    return line.chunks;\n  }\n  const chunks = new Array();\n  let lineOffset = 0;\n  let resultIndex = 0;\n  let result = results[resultIndex];\n  for (const chunk of line.chunks) {\n    const { text, modifiers } = chunk;\n    if (!result || lineOffset + text.length < result.start) {\n      chunks.push(chunk);\n      lineOffset += text.length;\n      continue;\n    }\n    let localOffset = 0;\n    while (result) {\n      const localStart = Math.max(result.start - lineOffset, 0);\n      if (localStart > text.length) {\n        break;\n      }\n      const localEnd = Math.min(result.end - lineOffset, text.length);\n      const hasTextBeforeResult = localStart > localOffset;\n      if (hasTextBeforeResult) {\n        chunks.push({ text: text.slice(localOffset, localStart), modifiers });\n      }\n      const hasResultText = localEnd > localStart;\n      if (hasResultText) {\n        chunks.push({\n          modifiers,\n          highlight: resultIndex,\n          text: text.slice(localStart, localEnd)\n        });\n      }\n      localOffset = localEnd;\n      const foundCompleteResult = result.end - lineOffset === localEnd;\n      if (foundCompleteResult) {\n        resultIndex += 1;\n        result = results[resultIndex];\n      } else {\n        break;\n      }\n    }\n    const hasTextAfterResult = localOffset < text.length;\n    if (hasTextAfterResult) {\n      chunks.push({ text: text.slice(localOffset), modifiers });\n    }\n    lineOffset += text.length;\n  }\n  return chunks;\n}\nconst renderLink = ({\n  attributes,\n  content\n}) => {\n  const { href, ...props } = attributes;\n  return /* @__PURE__ */ jsx(Link, { to: href, ...props, children: content });\n};\nfunction LogLine({\n  line,\n  classes,\n  searchText,\n  highlightResultIndex,\n  setRowHeight\n}) {\n  const lineRef = useRef(null);\n  const chunks = useMemo(\n    () => calculateHighlightedChunks(line, searchText),\n    [line, searchText]\n  );\n  useEffect(() => {\n    if (lineRef.current && setRowHeight) {\n      setRowHeight(line.lineNumber, lineRef.current.offsetHeight);\n    }\n  }, [line.lineNumber, setRowHeight]);\n  const elements = useMemo(\n    () => chunks.map(({ text, modifiers, highlight }, index) => (\n      // eslint-disable-next-line react/forbid-elements\n      /* @__PURE__ */ jsx(\n        \"span\",\n        {\n          className: classNames(\n            getModifierClasses(classes, modifiers),\n            highlight !== void 0 && (highlight === highlightResultIndex ? classes.textSelectedHighlight : classes.textHighlight),\n            { [classes.textWrap]: !!setRowHeight }\n          ),\n          children: /* @__PURE__ */ jsx(Linkify, { options: { render: renderLink }, children: text })\n        },\n        index\n      )\n    )),\n    [chunks, highlightResultIndex, classes, setRowHeight]\n  );\n  return /* @__PURE__ */ jsx(\"span\", { ref: lineRef, children: elements });\n}\n\nexport { LogLine, calculateHighlightedChunks, findSearchResults, getModifierClasses };\n//# sourceMappingURL=LogLine.esm.js.map\n","import { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport IconButton from '@material-ui/core/IconButton';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport FilterList from '@material-ui/icons/FilterList';\n\nfunction LogViewerControls(props) {\n  const { resultCount, resultIndexStep, toggleShouldFilter } = props;\n  const resultIndex = props.resultIndex ?? 0;\n  const handleKeyPress = (event) => {\n    if (event.key === \"Enter\") {\n      if (event.metaKey || event.ctrlKey || event.altKey) {\n        toggleShouldFilter();\n      } else {\n        resultIndexStep(event.shiftKey);\n      }\n    }\n  };\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    resultCount !== void 0 && /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(IconButton, { size: \"small\", onClick: () => resultIndexStep(true), children: /* @__PURE__ */ jsx(ChevronLeftIcon, {}) }),\n      /* @__PURE__ */ jsxs(Typography, { children: [\n        Math.min(resultIndex + 1, resultCount),\n        \"/\",\n        resultCount\n      ] }),\n      /* @__PURE__ */ jsx(IconButton, { size: \"small\", onClick: () => resultIndexStep(), children: /* @__PURE__ */ jsx(ChevronRight, {}) })\n    ] }),\n    /* @__PURE__ */ jsx(\n      TextField,\n      {\n        size: \"small\",\n        variant: \"standard\",\n        placeholder: \"Search\",\n        value: props.searchInput,\n        onKeyPress: handleKeyPress,\n        onChange: (e) => props.setSearchInput(e.target.value)\n      }\n    ),\n    /* @__PURE__ */ jsx(IconButton, { size: \"small\", onClick: toggleShouldFilter, children: props.shouldFilter ? /* @__PURE__ */ jsx(FilterList, { color: \"primary\" }) : /* @__PURE__ */ jsx(FilterList, { color: \"disabled\" }) })\n  ] });\n}\n\nexport { LogViewerControls };\n//# sourceMappingURL=LogViewerControls.esm.js.map\n","import { makeStyles, alpha } from '@material-ui/core/styles';\nimport * as colors from '@material-ui/core/colors';\n\nconst HEADER_SIZE = 40;\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      background: theme.palette.background.paper\n    },\n    header: {\n      height: HEADER_SIZE,\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"flex-end\"\n    },\n    log: {\n      fontFamily: '\"Monaco\", monospace',\n      fontSize: theme.typography.pxToRem(12),\n      lineHeight: \"20px\"\n    },\n    line: {\n      position: \"relative\",\n      whiteSpace: \"pre\",\n      display: \"flex\",\n      alignItems: \"flex-start\",\n      \"&:hover\": {\n        background: theme.palette.action.hover\n      }\n    },\n    lineSelected: {\n      background: theme.palette.action.selected,\n      \"&:hover\": {\n        background: theme.palette.action.selected\n      }\n    },\n    lineCopyButton: {\n      position: \"absolute\",\n      paddingTop: 0,\n      paddingBottom: 0\n    },\n    lineNumber: {\n      display: \"inline-block\",\n      textAlign: \"end\",\n      width: 60,\n      marginRight: theme.spacing(1),\n      cursor: \"pointer\",\n      flexShrink: 0,\n      userSelect: \"none\"\n    },\n    textHighlight: {\n      background: alpha(theme.palette.info.main, 0.15)\n    },\n    textSelectedHighlight: {\n      background: alpha(theme.palette.info.main, 0.4)\n    },\n    modifierBold: {\n      fontWeight: theme.typography.fontWeightBold\n    },\n    modifierItalic: {\n      fontStyle: \"italic\"\n    },\n    modifierUnderline: {\n      textDecoration: \"underline\"\n    },\n    modifierForegroundBlack: {\n      color: colors.common.black\n    },\n    modifierForegroundRed: {\n      color: colors.red[500]\n    },\n    modifierForegroundGreen: {\n      color: colors.green[500]\n    },\n    modifierForegroundYellow: {\n      color: colors.yellow[500]\n    },\n    modifierForegroundBlue: {\n      color: colors.blue[500]\n    },\n    modifierForegroundMagenta: {\n      color: colors.purple[500]\n    },\n    modifierForegroundCyan: {\n      color: colors.cyan[500]\n    },\n    modifierForegroundWhite: {\n      color: colors.common.white\n    },\n    modifierForegroundGrey: {\n      color: colors.grey[500]\n    },\n    modifierBackgroundBlack: {\n      background: colors.common.black\n    },\n    modifierBackgroundRed: {\n      background: colors.red[500]\n    },\n    modifierBackgroundGreen: {\n      background: colors.green[500]\n    },\n    modifierBackgroundYellow: {\n      background: colors.yellow[500]\n    },\n    modifierBackgroundBlue: {\n      background: colors.blue[500]\n    },\n    modifierBackgroundMagenta: {\n      background: colors.purple[500]\n    },\n    modifierBackgroundCyan: {\n      background: colors.cyan[500]\n    },\n    modifierBackgroundWhite: {\n      background: colors.common.white\n    },\n    modifierBackgroundGrey: {\n      background: colors.grey[500]\n    },\n    textWrap: {\n      whiteSpace: \"pre-wrap\",\n      wordBreak: \"break-all\"\n    }\n  }),\n  { name: \"BackstageLogViewer\" }\n);\n\nexport { HEADER_SIZE, useStyles };\n//# sourceMappingURL=styles.esm.js.map\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport Box from '@material-ui/core/Box';\nimport IconButton from '@material-ui/core/IconButton';\nimport CopyIcon from '@material-ui/icons/FileCopy';\nimport classNames from 'classnames';\nimport { useState, useRef, useMemo, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport { VariableSizeList, FixedSizeList } from 'react-window';\nimport { AnsiProcessor } from './AnsiProcessor.esm.js';\nimport { LogLine } from './LogLine.esm.js';\nimport { LogViewerControls } from './LogViewerControls.esm.js';\nimport { useStyles, HEADER_SIZE } from './styles.esm.js';\nimport { useLogViewerSearch } from './useLogViewerSearch.esm.js';\nimport { useLogViewerSelection } from './useLogViewerSelection.esm.js';\n\nfunction RealLogViewer(props) {\n  const classes = useStyles({ classes: props.classes });\n  const [listInstance, setListInstance] = useState(null);\n  const shouldTextWrap = props.textWrap ?? false;\n  const heights = useRef({});\n  const processor = useMemo(() => new AnsiProcessor(), []);\n  const lines = processor.process(props.text);\n  const search = useLogViewerSearch(lines);\n  const selection = useLogViewerSelection(lines);\n  const location = useLocation();\n  useEffect(() => {\n    if (listInstance) {\n      listInstance.scrollToItem(lines.length - 1, \"end\");\n    }\n  }, [listInstance, lines]);\n  useEffect(() => {\n    if (!listInstance) {\n      return;\n    }\n    if (search.resultLine) {\n      listInstance.scrollToItem(search.resultLine - 1, \"center\");\n    } else {\n      listInstance.scrollToItem(lines.length - 1, \"end\");\n    }\n  }, [listInstance, search.resultLine, lines]);\n  useEffect(() => {\n    if (location.hash) {\n      const line = parseInt(location.hash.replace(/\\D/g, \"\"), 10);\n      selection.setSelection(line, false);\n    }\n  }, []);\n  const handleSelectLine = (line, event) => {\n    selection.setSelection(line, event.shiftKey);\n  };\n  function setRowHeight(index, size) {\n    if (shouldTextWrap && listInstance) {\n      listInstance.resetAfterIndex(0);\n      heights.current[index - 1] = size;\n    }\n  }\n  function getRowHeight(index) {\n    return heights.current[index] || 20;\n  }\n  return /* @__PURE__ */ jsx(AutoSizer, { children: ({ height, width }) => {\n    const commonProps = {\n      ref: setListInstance,\n      className: classes.log,\n      height: (height || 480) - HEADER_SIZE,\n      width: width || 640,\n      itemData: search.lines,\n      itemCount: search.lines.length\n    };\n    const renderItem = ({\n      index,\n      style,\n      data\n    }) => {\n      const line = data[index];\n      const { lineNumber } = line;\n      return /* @__PURE__ */ jsxs(\n        Box,\n        {\n          style: { ...style },\n          className: classNames(classes.line, {\n            [classes.lineSelected]: selection.isSelected(lineNumber)\n          }),\n          children: [\n            selection.shouldShowButton(lineNumber) && /* @__PURE__ */ jsx(\n              IconButton,\n              {\n                \"data-testid\": \"copy-button\",\n                size: \"small\",\n                className: classes.lineCopyButton,\n                onClick: () => selection.copySelection(),\n                children: /* @__PURE__ */ jsx(CopyIcon, { fontSize: \"inherit\" })\n              }\n            ),\n            /* @__PURE__ */ jsx(\n              \"a\",\n              {\n                role: \"row\",\n                target: \"_self\",\n                href: `#line-${lineNumber}`,\n                className: classes.lineNumber,\n                onClick: (event) => handleSelectLine(lineNumber, event),\n                onKeyPress: (event) => handleSelectLine(lineNumber, event),\n                children: lineNumber\n              }\n            ),\n            /* @__PURE__ */ jsx(\n              LogLine,\n              {\n                setRowHeight: shouldTextWrap ? setRowHeight : void 0,\n                line,\n                classes,\n                searchText: search.searchText,\n                highlightResultIndex: search.resultLine === lineNumber ? search.resultLineIndex : void 0\n              }\n            )\n          ]\n        }\n      );\n    };\n    return /* @__PURE__ */ jsxs(Box, { style: { width, height }, className: classes.root, children: [\n      /* @__PURE__ */ jsx(Box, { className: classes.header, children: /* @__PURE__ */ jsx(LogViewerControls, { ...search }) }),\n      shouldTextWrap ? /* @__PURE__ */ jsx(\n        VariableSizeList,\n        {\n          ...commonProps,\n          itemSize: getRowHeight,\n          children: renderItem\n        }\n      ) : /* @__PURE__ */ jsx(FixedSizeList, { ...commonProps, itemSize: 20, children: renderItem })\n    ] });\n  } });\n}\n\nexport { RealLogViewer };\n//# sourceMappingURL=RealLogViewer.esm.js.map\n","import { useState, useMemo } from 'react';\nimport { useToggle } from '@react-hookz/web';\n\nfunction applySearchFilter(lines, searchText) {\n  if (!searchText) {\n    return { lines };\n  }\n  const matchingLines = [];\n  const searchResults = [];\n  for (const line of lines) {\n    if (line.text.includes(searchText)) {\n      matchingLines.push(line);\n      let offset = 0;\n      let lineResultIndex = 0;\n      for (; ; ) {\n        const start = line.text.indexOf(searchText, offset);\n        if (start === -1) {\n          break;\n        }\n        searchResults.push({\n          lineNumber: line.lineNumber,\n          lineIndex: lineResultIndex++\n        });\n        offset = start + searchText.length;\n      }\n    }\n  }\n  return {\n    lines: matchingLines,\n    results: searchResults\n  };\n}\nfunction useLogViewerSearch(lines) {\n  const [searchInput, setSearchInput] = useState(\"\");\n  const searchText = searchInput.toLocaleLowerCase(\"en-US\");\n  const [resultIndex, setResultIndex] = useState(0);\n  const [shouldFilter, toggleShouldFilter] = useToggle(false);\n  const filter = useMemo(\n    () => applySearchFilter(lines, searchText),\n    [lines, searchText]\n  );\n  const searchResult = filter.results ? filter.results[Math.min(resultIndex, filter.results.length - 1)] : void 0;\n  const resultCount = filter.results?.length;\n  const resultIndexStep = (decrement) => {\n    if (decrement) {\n      if (resultCount !== void 0) {\n        const next = Math.min(resultIndex - 1, resultCount - 2);\n        setResultIndex(next < 0 ? resultCount - 1 : next);\n      }\n    } else {\n      if (resultCount !== void 0) {\n        const next = resultIndex + 1;\n        setResultIndex(next >= resultCount ? 0 : next);\n      }\n    }\n  };\n  return {\n    lines: shouldFilter ? filter.lines : lines,\n    searchText,\n    searchInput,\n    setSearchInput,\n    shouldFilter,\n    toggleShouldFilter,\n    resultCount,\n    resultIndex,\n    resultIndexStep,\n    resultLine: searchResult?.lineNumber,\n    resultLineIndex: searchResult?.lineIndex\n  };\n}\n\nexport { applySearchFilter, useLogViewerSearch };\n//# sourceMappingURL=useLogViewerSearch.esm.js.map\n","import { useCallback, useState } from 'react';\nimport { useSyncedRef } from '../useSyncedRef/index.js';\nimport { resolveHookState } from '../util/resolveHookState.js';\nexport function useToggle(initialState = false, ignoreReactEvents = true) {\n    const [state, setState] = useState(initialState);\n    const ignoreReactEventsRef = useSyncedRef(ignoreReactEvents);\n    return [\n        state,\n        useCallback((nextState) => {\n            setState((previousState) => {\n                if (nextState === undefined ||\n                    (ignoreReactEventsRef.current &&\n                        typeof nextState === 'object' &&\n                        (nextState.constructor.name === 'SyntheticBaseEvent' ||\n                            typeof nextState._reactName === 'string'))) {\n                    return !previousState;\n                }\n                return Boolean(resolveHookState(nextState, previousState));\n            });\n        }, []),\n    ];\n}\n","import { useApi, errorApiRef } from '@backstage/core-plugin-api';\nimport { useState, useEffect } from 'react';\nimport useCopyToClipboard from 'react-use/esm/useCopyToClipboard';\n\nfunction useLogViewerSelection(lines) {\n  const errorApi = useApi(errorApiRef);\n  const [sel, setSelection] = useState();\n  const start = sel ? Math.min(sel.start, sel.end) : void 0;\n  const end = sel ? Math.max(sel.start, sel.end) : void 0;\n  const [{ error }, copyToClipboard] = useCopyToClipboard();\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n  return {\n    shouldShowButton(line) {\n      return start === line || end === line;\n    },\n    isSelected(line) {\n      if (!sel) {\n        return false;\n      }\n      return start <= line && line <= end;\n    },\n    setSelection(line, add) {\n      if (add) {\n        setSelection(\n          (s) => s ? { start: s.start, end: line } : { start: line, end: line }\n        );\n      } else {\n        setSelection(\n          (s) => s?.start === line && s?.end === line ? void 0 : { start: line, end: line }\n        );\n      }\n    },\n    copySelection() {\n      if (sel) {\n        const copyText = lines.slice(Math.min(sel.start, sel.end) - 1, Math.max(sel.start, sel.end)).map((l) => l.chunks.map((c) => c.text).join(\"\")).join(\"\\n\");\n        copyToClipboard(copyText);\n        setSelection(void 0);\n      }\n    }\n  };\n}\n\nexport { useLogViewerSelection };\n//# sourceMappingURL=useLogViewerSelection.esm.js.map\n","import { Component, createElement } from 'react';\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n * 5) Use 'export' statement over 'module.exports' assignment\n **/\n\n// Check `document` and `window` in case of server-side rendering\nlet windowObject;\nif (typeof window !== \"undefined\") {\n  windowObject = window;\n\n  // eslint-disable-next-line no-restricted-globals\n} else if (typeof self !== \"undefined\") {\n  // eslint-disable-next-line no-restricted-globals\n  windowObject = self;\n} else {\n  windowObject = global;\n}\nlet cancelFrame = null;\nlet requestFrame = null;\nconst TIMEOUT_DURATION = 20;\nconst clearTimeoutFn = windowObject.clearTimeout;\nconst setTimeoutFn = windowObject.setTimeout;\nconst cancelAnimationFrameFn = windowObject.cancelAnimationFrame || windowObject.mozCancelAnimationFrame || windowObject.webkitCancelAnimationFrame;\nconst requestAnimationFrameFn = windowObject.requestAnimationFrame || windowObject.mozRequestAnimationFrame || windowObject.webkitRequestAnimationFrame;\nif (cancelAnimationFrameFn == null || requestAnimationFrameFn == null) {\n  // For environments that don't support animation frame,\n  // fallback to a setTimeout based approach.\n  cancelFrame = clearTimeoutFn;\n  requestFrame = function requestAnimationFrameViaSetTimeout(callback) {\n    return setTimeoutFn(callback, TIMEOUT_DURATION);\n  };\n} else {\n  // Counter intuitively, environments that support animation frames can be trickier.\n  // Chrome's \"Throttle non-visible cross-origin iframes\" flag can prevent rAFs from being called.\n  // In this case, we should fallback to a setTimeout() implementation.\n  cancelFrame = function cancelFrame([animationFrameID, timeoutID]) {\n    cancelAnimationFrameFn(animationFrameID);\n    clearTimeoutFn(timeoutID);\n  };\n  requestFrame = function requestAnimationFrameWithSetTimeoutFallback(callback) {\n    const animationFrameID = requestAnimationFrameFn(function animationFrameCallback() {\n      clearTimeoutFn(timeoutID);\n      callback();\n    });\n    const timeoutID = setTimeoutFn(function timeoutCallback() {\n      cancelAnimationFrameFn(animationFrameID);\n      callback();\n    }, TIMEOUT_DURATION);\n    return [animationFrameID, timeoutID];\n  };\n}\nfunction createDetectElementResize(nonce) {\n  let animationKeyframes;\n  let animationName;\n  let animationStartEvent;\n  let animationStyle;\n  let checkTriggers;\n  let resetTriggers;\n  let scrollListener;\n  const attachEvent = typeof document !== \"undefined\" && document.attachEvent;\n  if (!attachEvent) {\n    resetTriggers = function (element) {\n      const triggers = element.__resizeTriggers__,\n        expand = triggers.firstElementChild,\n        contract = triggers.lastElementChild,\n        expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + \"px\";\n      expandChild.style.height = expand.offsetHeight + 1 + \"px\";\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n    checkTriggers = function (element) {\n      return element.offsetWidth !== element.__resizeLast__.width || element.offsetHeight !== element.__resizeLast__.height;\n    };\n    scrollListener = function (e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === \"function\" && e.target.className.indexOf(\"contract-trigger\") < 0 && e.target.className.indexOf(\"expand-trigger\") < 0) {\n        return;\n      }\n      const element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function animationFrame() {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function forEachResizeListener(fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    let animation = false;\n    let keyframeprefix = \"\";\n    animationStartEvent = \"animationstart\";\n    const domPrefixes = \"Webkit Moz O ms\".split(\" \");\n    let startEvents = \"webkitAnimationStart animationstart oAnimationStart MSAnimationStart\".split(\" \");\n    let pfx = \"\";\n    {\n      const elm = document.createElement(\"fakeelement\");\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n      if (animation === false) {\n        for (let i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + \"AnimationName\"] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = \"-\" + pfx.toLowerCase() + \"-\";\n            animationStartEvent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n    animationName = \"resizeanim\";\n    animationKeyframes = \"@\" + keyframeprefix + \"keyframes \" + animationName + \" { from { opacity: 0; } to { opacity: 0; } } \";\n    animationStyle = keyframeprefix + \"animation: 1ms \" + animationName + \"; \";\n  }\n  const createStyles = function (doc) {\n    if (!doc.getElementById(\"detectElementResize\")) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      const css = (animationKeyframes ? animationKeyframes : \"\") + \".resize-triggers { \" + (animationStyle ? animationStyle : \"\") + \"visibility: hidden; opacity: 0; } \" + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n        head = doc.head || doc.getElementsByTagName(\"head\")[0],\n        style = doc.createElement(\"style\");\n      style.id = \"detectElementResize\";\n      style.type = \"text/css\";\n      if (nonce != null) {\n        style.setAttribute(\"nonce\", nonce);\n      }\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n      head.appendChild(style);\n    }\n  };\n  const addResizeListener = function (element, fn) {\n    if (attachEvent) {\n      element.attachEvent(\"onresize\", fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        const doc = element.ownerDocument;\n        const elementStyle = windowObject.getComputedStyle(element);\n        if (elementStyle && elementStyle.position === \"static\") {\n          element.style.position = \"relative\";\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement(\"div\")).className = \"resize-triggers\";\n        const expandTrigger = doc.createElement(\"div\");\n        expandTrigger.className = \"expand-trigger\";\n        expandTrigger.appendChild(doc.createElement(\"div\"));\n        const contractTrigger = doc.createElement(\"div\");\n        contractTrigger.className = \"contract-trigger\";\n        element.__resizeTriggers__.appendChild(expandTrigger);\n        element.__resizeTriggers__.appendChild(contractTrigger);\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener(\"scroll\", scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationStartEvent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName === animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n  const removeResizeListener = function (element, fn) {\n    if (attachEvent) {\n      element.detachEvent(\"onresize\", fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener(\"scroll\", scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n  return {\n    addResizeListener,\n    removeResizeListener\n  };\n}\n\nclass AutoSizer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      height: this.props.defaultHeight || 0,\n      width: this.props.defaultWidth || 0\n    };\n    this._autoSizer = null;\n    this._detectElementResize = null;\n    this._didLogDeprecationWarning = false;\n    this._parentNode = null;\n    this._resizeObserver = null;\n    this._timeoutId = null;\n    this._onResize = () => {\n      this._timeoutId = null;\n      const {\n        disableHeight,\n        disableWidth,\n        onResize\n      } = this.props;\n      if (this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        const style = window.getComputedStyle(this._parentNode) || {};\n        const paddingLeft = parseFloat(style.paddingLeft || \"0\");\n        const paddingRight = parseFloat(style.paddingRight || \"0\");\n        const paddingTop = parseFloat(style.paddingTop || \"0\");\n        const paddingBottom = parseFloat(style.paddingBottom || \"0\");\n        const rect = this._parentNode.getBoundingClientRect();\n        const height = rect.height - paddingTop - paddingBottom;\n        const width = rect.width - paddingLeft - paddingRight;\n        if (!disableHeight && this.state.height !== height || !disableWidth && this.state.width !== width) {\n          this.setState({\n            height,\n            width\n          });\n          const maybeLogDeprecationWarning = () => {\n            if (!this._didLogDeprecationWarning) {\n              this._didLogDeprecationWarning = true;\n              console.warn(\"scaledWidth and scaledHeight parameters have been deprecated; use width and height instead\");\n            }\n          };\n          if (typeof onResize === \"function\") {\n            onResize({\n              height,\n              width,\n              // TODO Remove these params in the next major release\n              get scaledHeight() {\n                maybeLogDeprecationWarning();\n                return height;\n              },\n              get scaledWidth() {\n                maybeLogDeprecationWarning();\n                return width;\n              }\n            });\n          }\n        }\n      }\n    };\n    this._setRef = autoSizer => {\n      this._autoSizer = autoSizer;\n    };\n  }\n  componentDidMount() {\n    const {\n      nonce\n    } = this.props;\n    const parentNode = this._autoSizer ? this._autoSizer.parentNode : null;\n    if (parentNode != null && parentNode.ownerDocument && parentNode.ownerDocument.defaultView && parentNode instanceof parentNode.ownerDocument.defaultView.HTMLElement) {\n      // Delay access of parentNode until mount.\n      // This handles edge-cases where the component has already been unmounted before its ref has been set,\n      // As well as libraries like react-lite which have a slightly different lifecycle.\n      this._parentNode = parentNode;\n\n      // Use ResizeObserver from the same context where parentNode (which we will observe) was defined\n      // Using just global can result into onResize events not being emitted in cases with multiple realms\n      const ResizeObserverInstance = parentNode.ownerDocument.defaultView.ResizeObserver;\n      if (ResizeObserverInstance != null) {\n        this._resizeObserver = new ResizeObserverInstance(() => {\n          // Guard against \"ResizeObserver loop limit exceeded\" error;\n          // could be triggered if the state update causes the ResizeObserver handler to run long.\n          // See https://github.com/bvaughn/react-virtualized-auto-sizer/issues/55\n          this._timeoutId = setTimeout(this._onResize, 0);\n        });\n        this._resizeObserver.observe(parentNode);\n      } else {\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = createDetectElementResize(nonce);\n        this._detectElementResize.addResizeListener(parentNode, this._onResize);\n      }\n      this._onResize();\n    }\n  }\n  componentWillUnmount() {\n    if (this._parentNode) {\n      if (this._detectElementResize) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n      if (this._timeoutId !== null) {\n        clearTimeout(this._timeoutId);\n      }\n      if (this._resizeObserver) {\n        this._resizeObserver.disconnect();\n      }\n    }\n  }\n  render() {\n    const {\n      children,\n      defaultHeight,\n      defaultWidth,\n      disableHeight = false,\n      disableWidth = false,\n      doNotBailOutOnEmptyChildren = false,\n      nonce,\n      onResize,\n      style = {},\n      tagName = \"div\",\n      ...rest\n    } = this.props;\n    const {\n      height,\n      width\n    } = this.state;\n\n    // Outer div should not force width/height since that may prevent containers from shrinking.\n    // Inner component should overflow and use calculated width/height.\n    // See issue #68 for more information.\n    const outerStyle = {\n      overflow: \"visible\"\n    };\n    const childParams = {};\n\n    // Avoid rendering children before the initial measurements have been collected.\n    // At best this would just be wasting cycles.\n    let bailoutOnChildren = false;\n    if (!disableHeight) {\n      if (height === 0) {\n        bailoutOnChildren = true;\n      }\n      outerStyle.height = 0;\n      childParams.height = height;\n\n      // TODO Remove this in the next major release\n      childParams.scaledHeight = height;\n    }\n    if (!disableWidth) {\n      if (width === 0) {\n        bailoutOnChildren = true;\n      }\n      outerStyle.width = 0;\n      childParams.width = width;\n\n      // TODO Remove this in the next major release\n      childParams.scaledWidth = width;\n    }\n    if (doNotBailOutOnEmptyChildren) {\n      bailoutOnChildren = false;\n    }\n    return createElement(tagName, {\n      ref: this._setRef,\n      style: {\n        ...outerStyle,\n        ...style\n      },\n      ...rest\n    }, !bailoutOnChildren && children(childParams));\n  }\n}\n\nfunction isHeightAndWidthProps(props) {\n  return props && props.disableHeight !== true && props.disableWidth !== true;\n}\nfunction isHeightOnlyProps(props) {\n  return props && props.disableHeight !== true && props.disableWidth === true;\n}\nfunction isWidthOnlyProps(props) {\n  return props && props.disableHeight === true && props.disableWidth !== true;\n}\n\nexport { AutoSizer as default, isHeightAndWidthProps, isHeightOnlyProps, isWidthOnlyProps };\n","export default function ansiRegex({onlyFirst = false} = {}) {\n\t// Valid string terminator sequences are BEL, ESC\\, and 0x9c\n\tconst ST = '(?:\\\\u0007|\\\\u001B\\\\u005C|\\\\u009C)';\n\n\t// OSC sequences only: ESC ] ... ST (non-greedy until the first ST)\n\tconst osc = `(?:\\\\u001B\\\\][\\\\s\\\\S]*?${ST})`;\n\n\t// CSI and related: ESC/C1, optional intermediates, optional params (supports ; and :) then final byte\n\tconst csi = '[\\\\u001B\\\\u009B][[\\\\]()#;?]*(?:\\\\d{1,4}(?:[;:]\\\\d{0,4})*)?[\\\\dA-PR-TZcf-nq-uy=><~]';\n\n\tconst pattern = `${osc}|${csi}`;\n\n\treturn new RegExp(pattern, onlyFirst ? undefined : 'g');\n}\n"],"names":["Object","n","i","l","e","parseInt","t","console","s","u","Math","r","window","self","parseFloat","setTimeout","document","clearTimeout","h","RegExp"],"mappings":"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"}