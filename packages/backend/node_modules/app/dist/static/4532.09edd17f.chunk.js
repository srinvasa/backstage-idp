"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([["4532"],{45575:function(e,t,n){n.d(t,{f:()=>c});var a=n(31085),i=n(77125),o=n(99703),r=n(58837),s=n(72501);let l=(0,r.A)(e=>(0,o.A)({root:{color:e.palette.text.primary,padding:e.spacing(2,2,3),backgroundImage:e.getPageTheme({themeId:"card"}).backgroundImage,backgroundPosition:0,backgroundSize:"inherit"}}),{name:"BackstageItemCardHeader"});function c(e){let{title:t,subtitle:n,children:o}=e,r=l(e);return(0,a.jsxs)(i.A,{className:r.root,children:[n&&(0,a.jsx)(s.A,{variant:"subtitle2",component:"h3",children:n}),t&&(0,a.jsx)(s.A,{variant:"h6",component:"h4",children:t}),o]})}},92303:function(e,t,n){n.d(t,{d:()=>r});var a=n(31085),i=n(79182),o=n(82326);function r(e){let{themeId:t,children:n,...r}=e;return(0,a.jsxs)(o.Y,{themeId:t,children:[(0,a.jsx)(i.Y,{...r}),n]})}},4348:function(e,t,n){n.d(t,{V:()=>a});function a(e,t){return t.getOptionalBoolean("techdocs.legacyUseCaseSensitiveTripletPaths")?e:e.toLocaleLowerCase("en-US")}},67633:function(e,t,n){n.d(t,{o:()=>h});var a=n(31085),i=n(11688),o=n(72814),r=n(18139),s=n(54195),l=n(17749),c=n(3571),d=n(56711),u=n(87318),m=n(143),p=n(61231),g=n(51529);let h=e=>{let{entities:t,title:n,loading:h,columns:x,actions:f,options:j}=e,[,y]=(0,i.A)(),C=(0,o.S)(l.Oc),v=(0,r.gf)(s.U);if(!t)return null;let S=(0,g.H)(t,C,v),k=[m.f.createCopyDocsUrlAction(y)],w=S&&S.length>20;return(0,a.jsx)(a.Fragment,{children:h||S&&S.length>0?(0,a.jsx)(c.X,{isLoading:h,options:{paging:w,pageSize:20,search:!0,actionsColumnIndex:-1,...j},data:S,columns:x||p.F,actions:f||k,title:n?`${n} (${S.length})`:`All (${S.length})`}):(0,a.jsx)(d.p,{missing:"data",title:"No documents to show",description:"Create your own document. Check out our Getting Started Information",action:(0,a.jsx)(u.z,{color:"primary",to:"https://backstage.io/docs/features/techdocs/getting-started",variant:"contained",children:"DOCS"})})})};h.columns=p.B,h.actions=m.f},143:function(e,t,n){n.d(t,{f:()=>r});var a=n(31085),i=n(55290),o=n(23730);let r={createCopyDocsUrlAction:e=>t=>({icon:()=>(0,a.jsx)(i.default,{fontSize:"small"}),tooltip:"Click to copy documentation link to clipboard",onClick:()=>e(`${window.location.origin}${t.resolved.docsUrl}`)}),createStarEntityAction:(e,t)=>n=>{let i=n.entity,r=e(i);return{cellStyle:{paddingLeft:"1em"},icon:()=>(0,a.jsx)(o.m,{isFavorite:r}),tooltip:r?"Remove from favorites":"Add to favorites",onClick:()=>t(i)}}}},61231:function(e,t,n){n.d(t,{B:()=>l,F:()=>c});var a=n(31085),i=n(49907),o=n(75202),r=n(14158);function s(e){return e.metadata.title||e.metadata.name}let l={createTitleColumn:e=>({...l.createNameColumn(),field:"entity.metadata.title",hidden:e?.hidden}),createNameColumn:()=>({title:"Document",field:"entity.metadata.name",highlight:!0,searchable:!0,defaultSort:"asc",customSort:(e,t)=>{let n=s(e.entity).toLocaleLowerCase(),a=s(t.entity).toLocaleLowerCase();return n.localeCompare(a)},render:e=>(0,a.jsx)(i.m,{value:(0,a.jsx)(o.N_,{to:e.resolved.docsUrl,children:s(e.entity)}),subvalue:e.entity.metadata.description})}),createOwnerColumn:()=>({title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:e})=>(0,a.jsx)(r.i,{entityRefs:e.ownedByRelations,defaultKind:"group"})}),createKindColumn:()=>({title:"Kind",field:"entity.kind"}),createTypeColumn:()=>({title:"Type",field:"entity.spec.type"})},c=[l.createTitleColumn({hidden:!0}),l.createNameColumn(),l.createOwnerColumn(),l.createKindColumn(),l.createTypeColumn()]},51529:function(e,t,n){n.d(t,{H:()=>s});var a=n(97214),i=n(699),o=n(53318),r=n(4348);function s(e,t,n){return e.map(e=>{let s=(0,i.t)(e,a.vv);return{entity:e,resolved:{docsUrl:t({namespace:(0,r.V)(e.metadata.namespace??"default",n),kind:(0,r.V)(e.kind,n),name:(0,r.V)(e.metadata.name,n)}),ownedByRelations:s,ownedByRelationsTitle:s.map(e=>(0,o.S)(e,{defaultKind:"group"})).join(", ")}}})}},88047:function(e,t,n){n.d(t,{TechDocsCustomHome:()=>K});var a=n(31085),i=n(14041),o=n(73466),r=n(58837),s=n(97214),l=n(78560),c=n(18139),d=n(94223),u=n(699),m=n(18453),p=n(30043),g=n(24259),h=n(67633),x=n(17749),f=n(4348),j=n(72814),y=n(54195),C=n(17174),v=n(45575),S=n(87318),k=n(40703),w=n(59469),A=n(48653),b=n(57369),I=n(17138),P=n(56420),U=n(16454),T=n(96872),D=n(99338),B=n(62112),z=n(44390),L=n(21332),E=n(75202),N=n(91072);let R=(0,r.A)(e=>({linkSpacer:{paddingTop:e.spacing(.2)},readMoreLink:{paddingTop:e.spacing(.2)}}),{name:"BackstageInfoCardGrid"});var F=n(88461),O=n(55411),V=n(19108);let M={DocsTable:h.o,DocsCardGrid:e=>{let{entities:t}=e,n=(0,j.S)(x.Oc),i=(0,c.gf)(y.U);return t?(0,a.jsx)(C.s,{"data-testid":"docs-explore",children:t?.length?t.map((e,t)=>(0,a.jsxs)(k.A,{children:[(0,a.jsx)(b.A,{children:(0,a.jsx)(v.f,{title:e.metadata.title??e.metadata.name})}),(0,a.jsx)(A.A,{children:e.metadata.description}),(0,a.jsx)(w.A,{children:(0,a.jsx)(S.z,{to:n({namespace:(0,f.V)(e.metadata.namespace??"default",i),kind:(0,f.V)(e.kind,i),name:(0,f.V)(e.metadata.name,i)}),color:"primary","data-testid":"read_docs",children:"Read Docs"})})]},t)):null}):null},TechDocsIndexPage:O.TechDocsIndexPage,InfoCardGrid:e=>{let{entities:t,linkContent:n,linkDestination:i}=e,r=R(),s=(0,j.S)(x.Oc),d=(0,c.gf)(y.U),u=(0,c.gf)(N.n),{value:m,loading:p}=(0,o.A)(async()=>new Map(await Promise.all(t?.map(async e=>{let t=await u.forEntity(e).promise;return[(0,l.U2)(e),t]})||[])));return p?(0,a.jsx)(T.k,{}):t&&t?.length?(0,a.jsx)(C.s,{"data-testid":"info-card-container",children:t.map(e=>(0,a.jsxs)(L.n,{"data-testid":e?.metadata?.title,title:m?.get((0,l.U2)(e))?.primaryTitle,children:[(0,a.jsx)("div",{children:e?.metadata?.description}),(0,a.jsx)("div",{className:r.linkSpacer}),(0,a.jsx)(E.N_,{to:(e=>{if(i){let t=i(e);if(t)return t}return s({namespace:(0,f.V)(e.metadata.namespace??"default",d),kind:(0,f.V)(e.kind,d),name:(0,f.V)(e.metadata.name,d)})})(e),className:r.readMoreLink,"data-testid":"read-docs-link",children:n||"Read Docs"})]},e.metadata.name))}):null}},G=({config:e,entities:t,index:n})=>{let p=(0,r.A)({panelContainer:{marginBottom:"2rem",...e.panelCSS?e.panelCSS:{}}})(),{loading:g,isOwnedEntity:h}=function(){let e=(0,c.gf)(d.K),{loading:t,value:n}=(0,o.A)(async()=>{let{ownershipEntityRefs:t}=await e.getBackstageIdentity();return t},[]);return{loading:t,isOwnedEntity:(0,i.useMemo)(()=>{let e=new Set(n??[]);return t=>{for(let n of(0,u.t)(t,s.vv).map(l.U2))if(e.has(n))return!0;return!1}},[n])}}(),x=M[e.panelType],f=t.filter(t=>"ownedByUser"===e.filterPredicate?!g&&h(t):"function"==typeof e.filterPredicate&&e.filterPredicate(t)),j=e.panelProps?.CustomHeader||(()=>(0,a.jsx)(I.d,{title:e.title,description:e.description,children:0===n?(0,a.jsx)(P.Y,{children:"Discover documentation in your ecosystem."}):null}));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j,{}),(0,a.jsx)("div",{className:p.panelContainer,children:(0,a.jsx)(m.B9,{children:(0,a.jsx)(x,{"data-testid":"techdocs-custom-panel",entities:f,...e.panelProps})})})]})},K=e=>{let{tabsConfig:t,filter:n,CustomPageWrapper:r}=e,[s,l]=(0,i.useState)(0),d=(0,c.gf)(p.v),{value:u,loading:m,error:h}=(0,o.A)(async()=>(await d.getEntities({filter:{...n,[`metadata.annotations.${V.As}`]:g.c},fields:["apiVersion","kind","metadata","relations","spec.owner","spec.type"]})).items.filter(e=>!!e.metadata.annotations?.[V.As])),x=t[s];return m?(0,a.jsx)(F.S,{CustomPageWrapper:r,children:(0,a.jsx)(U.U,{children:(0,a.jsx)(T.k,{})})}):h?(0,a.jsx)(F.S,{CustomPageWrapper:r,children:(0,a.jsx)(U.U,{children:(0,a.jsx)(D.B,{severity:"error",title:"Could not load available documentation.",children:(0,a.jsx)(B.z,{language:"text",text:h.toString()})})})}):(0,a.jsxs)(F.S,{CustomPageWrapper:r,children:[(0,a.jsx)(z.o,{selectedIndex:s,onChange:e=>l(e),tabs:t.map(({label:e},t)=>({id:t.toString(),label:e}))}),(0,a.jsx)(U.U,{"data-testid":"techdocs-content",children:x.panels.map((e,t)=>(0,a.jsx)(G,{config:e,entities:u||[],index:t},t))})]})}},55411:function(e,t,n){n.d(t,{TechDocsIndexPage:()=>F});var a=n(31085),i=n(18690),o=n(17138),r=n(56420),s=n(16454),l=n(18453),c=n(77509),d=n(75303),u=n(46923),m=n(56829),p=n(88461),g=n(14041),h=n(24259),x=n(19108);class f{getCatalogFilters(){return{[`metadata.annotations.${x.As}`]:h.c}}}let j=()=>{let{updateFilters:e}=(0,l.nK)();return(0,g.useEffect)(()=>{e({techdocs:new f})},[e]),null};var y=n(11688),C=n(45250),v=n(99338),S=n(62112),k=n(72814),w=n(18139),A=n(54195),b=n(44861),I=n(67633),P=n(3571),U=n(49724);function T(e){let{actions:t,columns:n,data:i,isLoading:o,options:r}=e,{updateFilters:s,setLimit:c,setOffset:d,limit:u,totalItems:m,offset:p}=(0,l.nK)(),[h,x]=(0,g.useState)(p&&u?Math.floor(p/u):0);return(0,g.useEffect)(()=>{m&&h*u>=m?d(Math.max(0,m-u)):d(Math.max(0,h*u))},[d,h,u,m]),(0,a.jsx)(P.X,{columns:n,data:i,options:{paginationPosition:"both",pageSizeOptions:[5,10,20,50,100],pageSize:u,emptyRowsWhenPaging:!1,actionsColumnIndex:-1,...r},actions:t,onSearchChange:e=>s({text:e?new U.V3(e):void 0}),page:h,onPageChange:e=>{x(e)},onRowsPerPageChange:e=>{c(e)},totalCount:m,localization:{pagination:{labelDisplayedRows:""}},isLoading:o})}function D(e){let{actions:t,columns:n,data:i,next:o,prev:r,title:s,isLoading:l,options:c,...d}=e;return(0,a.jsx)(P.X,{title:l?"":s,columns:n,data:i,options:{paginationPosition:"both",...c,pageSizeOptions:[],showFirstLastPageButtons:!1,pageSize:Number.MAX_SAFE_INTEGER,emptyRowsWhenPaging:!1,actionsColumnIndex:-1},onPageChange:e=>{e>0?o?.():r?.()},page:+!!r,totalCount:o?Number.MAX_VALUE:Number.MAX_SAFE_INTEGER,localization:{pagination:{labelDisplayedRows:""}},isLoading:l,...d})}var B=n(143),z=n(61231),L=n(17749),E=n(51529);let N=e=>{let{columns:t,actions:n,options:i}=e,{loading:o,error:r,entities:s,filters:c,paginationMode:d,pageInfo:u}=(0,l.nK)(),{isStarredEntity:m,toggleStarredEntity:p}=(0,b.I)(),[,g]=(0,y.A)(),h=(0,k.S)(L.Oc),x=(0,w.gf)(A.U),f=(0,C.capitalize)(c.user?.value??"all"),j=[B.f.createCopyDocsUrlAction(g),B.f.createStarEntityAction(m,p)],P=(0,E.H)(s,h,x);return"cursor"===d?(0,a.jsx)(D,{columns:t||z.F,isLoading:o,title:f,actions:n||j,options:i,data:P,next:u?.next,prev:u?.prev}):"offset"===d?(0,a.jsx)(T,{columns:t||z.F,isLoading:o,title:f,actions:n||j,options:i,data:P}):r?(0,a.jsx)(v.B,{severity:"error",title:"Could not load available documentation.",children:(0,a.jsx)(S.z,{language:"text",text:r.toString()})}):(0,a.jsx)(I.o,{title:f,entities:s,loading:o,actions:n||j,columns:t,options:i})};N.columns=z.B,N.actions=B.f;let R=e=>{let{initialFilter:t="owned",columns:n,actions:i,ownerPickerMode:g,pagination:h,options:x,PageWrapper:f,CustomHeader:y}=e,C=f||p.S,v=y||(()=>(0,a.jsx)(o.d,{title:"",children:(0,a.jsx)(r.Y,{children:"Discover documentation in your ecosystem."})}));return(0,a.jsx)(C,{children:(0,a.jsxs)(s.U,{children:[(0,a.jsx)(v,{}),(0,a.jsx)(l.B9,{pagination:h,children:(0,a.jsxs)(c.GI,{children:[(0,a.jsxs)(c.GI.Filters,{children:[(0,a.jsx)(j,{}),(0,a.jsx)(d.y,{initialFilter:t}),(0,a.jsx)(u.t,{mode:g}),(0,a.jsx)(m.m,{})]}),(0,a.jsx)(c.GI.Content,{children:(0,a.jsx)(N,{actions:i,columns:n,options:x})})]})})]})})},F=e=>(0,i.P1)()||(0,a.jsx)(R,{...e})},88461:function(e,t,n){n.d(t,{S:()=>s});var a=n(31085),i=n(92303),o=n(18139),r=n(54195);let s=e=>{let{children:t,CustomPageWrapper:n}=e,s=(0,o.gf)(r.U),l=`Documentation available in ${s.getOptionalString("organization.name")??"Backstage"}`;return(0,a.jsx)(a.Fragment,{children:n?(0,a.jsx)(n,{children:t}):(0,a.jsx)(i.d,{title:"Documentation",subtitle:l,themeId:"documentation",children:t})})}},55290:function(e,t,n){var a=n(4293),i=n(78920);t.default=void 0;var o=i(n(14041));t.default=(0,a(n(74044)).default)(o.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share")}}]);
//# sourceMappingURL=4532.09edd17f.chunk.js.map