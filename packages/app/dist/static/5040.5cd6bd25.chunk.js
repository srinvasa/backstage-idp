"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([["5040"],{92303:function(e,t,n){n.d(t,{d:()=>l});var a=n(31085),o=n(79182),i=n(82326);function l(e){let{themeId:t,children:n,...l}=e;return(0,a.jsxs)(i.Y,{themeId:t,children:[(0,a.jsx)(o.Y,{...l}),n]})}},4348:function(e,t,n){n.d(t,{V:()=>a});function a(e,t){return t.getOptionalBoolean("techdocs.legacyUseCaseSensitiveTripletPaths")?e:e.toLocaleLowerCase("en-US")}},67633:function(e,t,n){n.d(t,{o:()=>f});var a=n(31085),o=n(11688),i=n(72814),l=n(18139),r=n(54195),s=n(17749),c=n(3571),d=n(56711),u=n(87318),m=n(143),p=n(61231),g=n(51529);let f=e=>{let{entities:t,title:n,loading:f,columns:h,actions:x,options:C}=e,[,j]=(0,o.A)(),y=(0,i.S)(s.Oc),v=(0,l.gf)(r.U);if(!t)return null;let S=(0,g.H)(t,y,v),w=[m.f.createCopyDocsUrlAction(j)],b=S&&S.length>20;return(0,a.jsx)(a.Fragment,{children:f||S&&S.length>0?(0,a.jsx)(c.X,{isLoading:f,options:{paging:b,pageSize:20,search:!0,actionsColumnIndex:-1,...C},data:S,columns:h||p.F,actions:x||w,title:n?`${n} (${S.length})`:`All (${S.length})`}):(0,a.jsx)(d.p,{missing:"data",title:"No documents to show",description:"Create your own document. Check out our Getting Started Information",action:(0,a.jsx)(u.z,{color:"primary",to:"https://backstage.io/docs/features/techdocs/getting-started",variant:"contained",children:"DOCS"})})})};f.columns=p.B,f.actions=m.f},143:function(e,t,n){n.d(t,{f:()=>l});var a=n(31085),o=n(55290),i=n(23730);let l={createCopyDocsUrlAction:e=>t=>({icon:()=>(0,a.jsx)(o.default,{fontSize:"small"}),tooltip:"Click to copy documentation link to clipboard",onClick:()=>e(`${window.location.origin}${t.resolved.docsUrl}`)}),createStarEntityAction:(e,t)=>n=>{let o=n.entity,l=e(o);return{cellStyle:{paddingLeft:"1em"},icon:()=>(0,a.jsx)(i.m,{isFavorite:l}),tooltip:l?"Remove from favorites":"Add to favorites",onClick:()=>t(o)}}}},61231:function(e,t,n){n.d(t,{B:()=>s,F:()=>c});var a=n(31085),o=n(49907),i=n(75202),l=n(14158);function r(e){return e.metadata.title||e.metadata.name}let s={createTitleColumn:e=>({...s.createNameColumn(),field:"entity.metadata.title",hidden:e?.hidden}),createNameColumn:()=>({title:"Document",field:"entity.metadata.name",highlight:!0,searchable:!0,defaultSort:"asc",customSort:(e,t)=>{let n=r(e.entity).toLocaleLowerCase(),a=r(t.entity).toLocaleLowerCase();return n.localeCompare(a)},render:e=>(0,a.jsx)(o.m,{value:(0,a.jsx)(i.N_,{to:e.resolved.docsUrl,children:r(e.entity)}),subvalue:e.entity.metadata.description})}),createOwnerColumn:()=>({title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:e})=>(0,a.jsx)(l.i,{entityRefs:e.ownedByRelations,defaultKind:"group"})}),createKindColumn:()=>({title:"Kind",field:"entity.kind"}),createTypeColumn:()=>({title:"Type",field:"entity.spec.type"})},c=[s.createTitleColumn({hidden:!0}),s.createNameColumn(),s.createOwnerColumn(),s.createKindColumn(),s.createTypeColumn()]},51529:function(e,t,n){n.d(t,{H:()=>r});var a=n(97214),o=n(699),i=n(53318),l=n(4348);function r(e,t,n){return e.map(e=>{let r=(0,o.t)(e,a.vv);return{entity:e,resolved:{docsUrl:t({namespace:(0,l.V)(e.metadata.namespace??"default",n),kind:(0,l.V)(e.kind,n),name:(0,l.V)(e.metadata.name,n)}),ownedByRelations:r,ownedByRelationsTitle:r.map(e=>(0,i.S)(e,{defaultKind:"group"})).join(", ")}}})}},55411:function(e,t,n){n.d(t,{TechDocsIndexPage:()=>N});var a=n(31085),o=n(18690),i=n(17138),l=n(56420),r=n(16454),s=n(18453),c=n(77509),d=n(75303),u=n(46923),m=n(56829),p=n(88461),g=n(14041),f=n(24259),h=n(19108);class x{getCatalogFilters(){return{[`metadata.annotations.${h.As}`]:f.c}}}let C=()=>{let{updateFilters:e}=(0,s.nK)();return(0,g.useEffect)(()=>{e({techdocs:new x})},[e]),null};var j=n(11688),y=n(45250),v=n(99338),S=n(62112),w=n(72814),b=n(18139),A=n(54195),k=n(44861),L=n(67633),z=n(3571),U=n(49724);function E(e){let{actions:t,columns:n,data:o,isLoading:i,options:l}=e,{updateFilters:r,setLimit:c,setOffset:d,limit:u,totalItems:m,offset:p}=(0,s.nK)(),[f,h]=(0,g.useState)(p&&u?Math.floor(p/u):0);return(0,g.useEffect)(()=>{m&&f*u>=m?d(Math.max(0,m-u)):d(Math.max(0,f*u))},[d,f,u,m]),(0,a.jsx)(z.X,{columns:n,data:o,options:{paginationPosition:"both",pageSizeOptions:[5,10,20,50,100],pageSize:u,emptyRowsWhenPaging:!1,actionsColumnIndex:-1,...l},actions:t,onSearchChange:e=>r({text:e?new U.V3(e):void 0}),page:f,onPageChange:e=>{h(e)},onRowsPerPageChange:e=>{c(e)},totalCount:m,localization:{pagination:{labelDisplayedRows:""}},isLoading:i})}function F(e){let{actions:t,columns:n,data:o,next:i,prev:l,title:r,isLoading:s,options:c,...d}=e;return(0,a.jsx)(z.X,{title:s?"":r,columns:n,data:o,options:{paginationPosition:"both",...c,pageSizeOptions:[],showFirstLastPageButtons:!1,pageSize:Number.MAX_SAFE_INTEGER,emptyRowsWhenPaging:!1,actionsColumnIndex:-1},onPageChange:e=>{e>0?i?.():l?.()},page:+!!l,totalCount:i?Number.MAX_VALUE:Number.MAX_SAFE_INTEGER,localization:{pagination:{labelDisplayedRows:""}},isLoading:s,...d})}var I=n(143),P=n(61231),R=n(17749),B=n(51529);let D=e=>{let{columns:t,actions:n,options:o}=e,{loading:i,error:l,entities:r,filters:c,paginationMode:d,pageInfo:u}=(0,s.nK)(),{isStarredEntity:m,toggleStarredEntity:p}=(0,k.I)(),[,g]=(0,j.A)(),f=(0,w.S)(R.Oc),h=(0,b.gf)(A.U),x=(0,y.capitalize)(c.user?.value??"all"),C=[I.f.createCopyDocsUrlAction(g),I.f.createStarEntityAction(m,p)],z=(0,B.H)(r,f,h);return"cursor"===d?(0,a.jsx)(F,{columns:t||P.F,isLoading:i,title:x,actions:n||C,options:o,data:z,next:u?.next,prev:u?.prev}):"offset"===d?(0,a.jsx)(E,{columns:t||P.F,isLoading:i,title:x,actions:n||C,options:o,data:z}):l?(0,a.jsx)(v.B,{severity:"error",title:"Could not load available documentation.",children:(0,a.jsx)(S.z,{language:"text",text:l.toString()})}):(0,a.jsx)(L.o,{title:x,entities:r,loading:i,actions:n||C,columns:t,options:o})};D.columns=P.B,D.actions=I.f;let T=e=>{let{initialFilter:t="owned",columns:n,actions:o,ownerPickerMode:g,pagination:f,options:h,PageWrapper:x,CustomHeader:j}=e,y=x||p.S,v=j||(()=>(0,a.jsx)(i.d,{title:"",children:(0,a.jsx)(l.Y,{children:"Discover documentation in your ecosystem."})}));return(0,a.jsx)(y,{children:(0,a.jsxs)(r.U,{children:[(0,a.jsx)(v,{}),(0,a.jsx)(s.B9,{pagination:f,children:(0,a.jsxs)(c.GI,{children:[(0,a.jsxs)(c.GI.Filters,{children:[(0,a.jsx)(C,{}),(0,a.jsx)(d.y,{initialFilter:t}),(0,a.jsx)(u.t,{mode:g}),(0,a.jsx)(m.m,{})]}),(0,a.jsx)(c.GI.Content,{children:(0,a.jsx)(D,{actions:o,columns:n,options:h})})]})})]})})},N=e=>(0,o.P1)()||(0,a.jsx)(T,{...e})},88461:function(e,t,n){n.d(t,{S:()=>r});var a=n(31085),o=n(92303),i=n(18139),l=n(54195);let r=e=>{let{children:t,CustomPageWrapper:n}=e,r=(0,i.gf)(l.U),s=`Documentation available in ${r.getOptionalString("organization.name")??"Backstage"}`;return(0,a.jsx)(a.Fragment,{children:n?(0,a.jsx)(n,{children:t}):(0,a.jsx)(o.d,{title:"Documentation",subtitle:s,themeId:"documentation",children:t})})}},55290:function(e,t,n){var a=n(4293),o=n(78920);t.default=void 0;var i=o(n(14041));t.default=(0,a(n(74044)).default)(i.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share")}}]);
//# sourceMappingURL=5040.5cd6bd25.chunk.js.map