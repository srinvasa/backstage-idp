"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([["1957"],{92303:function(e,t,n){n.d(t,{d:()=>l});var a=n(31085),o=n(79182),i=n(82326);function l(e){let{themeId:t,children:n,...l}=e;return(0,a.jsxs)(i.Y,{themeId:t,children:[(0,a.jsx)(o.Y,{...l}),n]})}},69476:function(e,t,n){n.d(t,{Router:()=>C,LegacyEmbeddedDocsRouter:()=>v});var a=n(31085),o=n(18690),i=n(78560),l=n(19108),s=n(11642),r=n(94682),c=n(14184),d=n(84893),u=n(14041),m=n(72814),h=n(17749);let p=({entity:e,withSearch:t=!0})=>{let n=(0,i.sM)(e),o=function(e){let{kind:t,name:n,namespace:a}=e,o=(0,m.S)(h.Oc),i=(0,m.S)(h.Ri);return(0,u.useMemo)(()=>{let e=o({kind:t,namespace:a,name:n}).replace(/\/+$/,""),l=i().replace(/\/+$/,"");return t=>{if(t.toLocaleLowerCase("en-US").startsWith(e.toLocaleLowerCase("en-US"))){let n=t.slice(e.length).replace(/^\/+/,"");return 0===n.length||n.startsWith("#")?`${l}${n}`:`${l}/${n}`}return t}},[o,i,t,n,a])}(n);if(e.metadata.annotations?.[l.GO])try{n=(0,i.KU)(e.metadata.annotations?.[l.GO])}catch{}let p=(0,s.oN)(e);return(0,a.jsxs)(r.Wj,{entityRef:n,children:[(0,a.jsx)(d.Z,{}),(0,a.jsx)(c.p,{withSearch:t,searchResultUrlMapper:o,defaultPath:p})]})};var g=n(55411),f=n(91962),x=n(16400),j=n(54674);let C=()=>(0,a.jsxs)(o.BV,{children:[(0,a.jsx)(o.qh,{path:"/",element:(0,a.jsx)(g.TechDocsIndexPage,{})}),(0,a.jsx)(o.qh,{path:"/:namespace/:kind/:name/*",element:(0,a.jsx)(f.W,{})})]}),y=e=>{let{children:t,emptyState:n,withSearch:i=!0}=e,{entity:s}=(0,x.tN)(),r=(0,o.Ye)([{path:"/*",element:(0,a.jsx)(p,{entity:s,withSearch:i}),children:[{path:"*",element:t}]}]);return s.metadata.annotations?.[l.As]||s.metadata.annotations?.[l.GO]?r:n??(0,a.jsx)(j.o,{annotation:[l.As]})},v=({children:e,withSearch:t=!0})=>(0,a.jsx)(y,{children:e,withSearch:t})},4348:function(e,t,n){n.d(t,{V:()=>a});function a(e,t){return t.getOptionalBoolean("techdocs.legacyUseCaseSensitiveTripletPaths")?e:e.toLocaleLowerCase("en-US")}},67633:function(e,t,n){n.d(t,{o:()=>g});var a=n(31085),o=n(11688),i=n(72814),l=n(18139),s=n(54195),r=n(17749),c=n(3571),d=n(56711),u=n(87318),m=n(143),h=n(61231),p=n(51529);let g=e=>{let{entities:t,title:n,loading:g,columns:f,actions:x,options:j}=e,[,C]=(0,o.A)(),y=(0,i.S)(r.Oc),v=(0,l.gf)(s.U);if(!t)return null;let S=(0,p.H)(t,y,v),w=[m.f.createCopyDocsUrlAction(C)],L=S&&S.length>20;return(0,a.jsx)(a.Fragment,{children:g||S&&S.length>0?(0,a.jsx)(c.X,{isLoading:g,options:{paging:L,pageSize:20,search:!0,actionsColumnIndex:-1,...j},data:S,columns:f||h.F,actions:x||w,title:n?`${n} (${S.length})`:`All (${S.length})`}):(0,a.jsx)(d.p,{missing:"data",title:"No documents to show",description:"Create your own document. Check out our Getting Started Information",action:(0,a.jsx)(u.z,{color:"primary",to:"https://backstage.io/docs/features/techdocs/getting-started",variant:"contained",children:"DOCS"})})})};g.columns=h.B,g.actions=m.f},143:function(e,t,n){n.d(t,{f:()=>l});var a=n(31085),o=n(55290),i=n(23730);let l={createCopyDocsUrlAction:e=>t=>({icon:()=>(0,a.jsx)(o.default,{fontSize:"small"}),tooltip:"Click to copy documentation link to clipboard",onClick:()=>e(`${window.location.origin}${t.resolved.docsUrl}`)}),createStarEntityAction:(e,t)=>n=>{let o=n.entity,l=e(o);return{cellStyle:{paddingLeft:"1em"},icon:()=>(0,a.jsx)(i.m,{isFavorite:l}),tooltip:l?"Remove from favorites":"Add to favorites",onClick:()=>t(o)}}}},61231:function(e,t,n){n.d(t,{B:()=>r,F:()=>c});var a=n(31085),o=n(49907),i=n(75202),l=n(14158);function s(e){return e.metadata.title||e.metadata.name}let r={createTitleColumn:e=>({...r.createNameColumn(),field:"entity.metadata.title",hidden:e?.hidden}),createNameColumn:()=>({title:"Document",field:"entity.metadata.name",highlight:!0,searchable:!0,defaultSort:"asc",customSort:(e,t)=>{let n=s(e.entity).toLocaleLowerCase(),a=s(t.entity).toLocaleLowerCase();return n.localeCompare(a)},render:e=>(0,a.jsx)(o.m,{value:(0,a.jsx)(i.N_,{to:e.resolved.docsUrl,children:s(e.entity)}),subvalue:e.entity.metadata.description})}),createOwnerColumn:()=>({title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:e})=>(0,a.jsx)(l.i,{entityRefs:e.ownedByRelations,defaultKind:"group"})}),createKindColumn:()=>({title:"Kind",field:"entity.kind"}),createTypeColumn:()=>({title:"Type",field:"entity.spec.type"})},c=[r.createTitleColumn({hidden:!0}),r.createNameColumn(),r.createOwnerColumn(),r.createKindColumn(),r.createTypeColumn()]},51529:function(e,t,n){n.d(t,{H:()=>s});var a=n(97214),o=n(699),i=n(53318),l=n(4348);function s(e,t,n){return e.map(e=>{let s=(0,o.t)(e,a.vv);return{entity:e,resolved:{docsUrl:t({namespace:(0,l.V)(e.metadata.namespace??"default",n),kind:(0,l.V)(e.kind,n),name:(0,l.V)(e.metadata.name,n)}),ownedByRelations:s,ownedByRelationsTitle:s.map(e=>(0,i.S)(e,{defaultKind:"group"})).join(", ")}}})}},55411:function(e,t,n){n.d(t,{TechDocsIndexPage:()=>F});var a=n(31085),o=n(18690),i=n(17138),l=n(56420),s=n(16454),r=n(18453),c=n(77509),d=n(75303),u=n(46923),m=n(56829),h=n(88461),p=n(14041),g=n(24259),f=n(19108);class x{getCatalogFilters(){return{[`metadata.annotations.${f.As}`]:g.c}}}let j=()=>{let{updateFilters:e}=(0,r.nK)();return(0,p.useEffect)(()=>{e({techdocs:new x})},[e]),null};var C=n(11688),y=n(45250),v=n(99338),S=n(62112),w=n(72814),L=n(18139),A=n(54195),b=n(44861),U=n(67633),k=n(3571),R=n(49724);function O(e){let{actions:t,columns:n,data:o,isLoading:i,options:l}=e,{updateFilters:s,setLimit:c,setOffset:d,limit:u,totalItems:m,offset:h}=(0,r.nK)(),[g,f]=(0,p.useState)(h&&u?Math.floor(h/u):0);return(0,p.useEffect)(()=>{m&&g*u>=m?d(Math.max(0,m-u)):d(Math.max(0,g*u))},[d,g,u,m]),(0,a.jsx)(k.X,{columns:n,data:o,options:{paginationPosition:"both",pageSizeOptions:[5,10,20,50,100],pageSize:u,emptyRowsWhenPaging:!1,actionsColumnIndex:-1,...l},actions:t,onSearchChange:e=>s({text:e?new R.V3(e):void 0}),page:g,onPageChange:e=>{f(e)},onRowsPerPageChange:e=>{c(e)},totalCount:m,localization:{pagination:{labelDisplayedRows:""}},isLoading:i})}function z(e){let{actions:t,columns:n,data:o,next:i,prev:l,title:s,isLoading:r,options:c,...d}=e;return(0,a.jsx)(k.X,{title:r?"":s,columns:n,data:o,options:{paginationPosition:"both",...c,pageSizeOptions:[],showFirstLastPageButtons:!1,pageSize:Number.MAX_SAFE_INTEGER,emptyRowsWhenPaging:!1,actionsColumnIndex:-1},onPageChange:e=>{e>0?i?.():l?.()},page:+!!l,totalCount:i?Number.MAX_VALUE:Number.MAX_SAFE_INTEGER,localization:{pagination:{labelDisplayedRows:""}},isLoading:r,...d})}var D=n(143),E=n(61231),I=n(17749),P=n(51529);let $=e=>{let{columns:t,actions:n,options:o}=e,{loading:i,error:l,entities:s,filters:c,paginationMode:d,pageInfo:u}=(0,r.nK)(),{isStarredEntity:m,toggleStarredEntity:h}=(0,b.I)(),[,p]=(0,C.A)(),g=(0,w.S)(I.Oc),f=(0,L.gf)(A.U),x=(0,y.capitalize)(c.user?.value??"all"),j=[D.f.createCopyDocsUrlAction(p),D.f.createStarEntityAction(m,h)],k=(0,P.H)(s,g,f);return"cursor"===d?(0,a.jsx)(z,{columns:t||E.F,isLoading:i,title:x,actions:n||j,options:o,data:k,next:u?.next,prev:u?.prev}):"offset"===d?(0,a.jsx)(O,{columns:t||E.F,isLoading:i,title:x,actions:n||j,options:o,data:k}):l?(0,a.jsx)(v.B,{severity:"error",title:"Could not load available documentation.",children:(0,a.jsx)(S.z,{language:"text",text:l.toString()})}):(0,a.jsx)(U.o,{title:x,entities:s,loading:i,actions:n||j,columns:t,options:o})};$.columns=E.B,$.actions=D.f;let B=e=>{let{initialFilter:t="owned",columns:n,actions:o,ownerPickerMode:p,pagination:g,options:f,PageWrapper:x,CustomHeader:C}=e,y=x||h.S,v=C||(()=>(0,a.jsx)(i.d,{title:"",children:(0,a.jsx)(l.Y,{children:"Discover documentation in your ecosystem."})}));return(0,a.jsx)(y,{children:(0,a.jsxs)(s.U,{children:[(0,a.jsx)(v,{}),(0,a.jsx)(r.B9,{pagination:g,children:(0,a.jsxs)(c.GI,{children:[(0,a.jsxs)(c.GI.Filters,{children:[(0,a.jsx)(j,{}),(0,a.jsx)(d.y,{initialFilter:t}),(0,a.jsx)(u.t,{mode:p}),(0,a.jsx)(m.m,{})]}),(0,a.jsx)(c.GI.Content,{children:(0,a.jsx)($,{actions:o,columns:n,options:f})})]})})]})})},F=e=>(0,o.P1)()||(0,a.jsx)(B,{...e})},88461:function(e,t,n){n.d(t,{S:()=>s});var a=n(31085),o=n(92303),i=n(18139),l=n(54195);let s=e=>{let{children:t,CustomPageWrapper:n}=e,s=(0,i.gf)(l.U),r=`Documentation available in ${s.getOptionalString("organization.name")??"Backstage"}`;return(0,a.jsx)(a.Fragment,{children:n?(0,a.jsx)(n,{children:t}):(0,a.jsx)(o.d,{title:"Documentation",subtitle:r,themeId:"documentation",children:t})})}},55290:function(e,t,n){var a=n(4293),o=n(78920);t.default=void 0;var i=o(n(14041));t.default=(0,a(n(74044)).default)(i.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share")}}]);
//# sourceMappingURL=1957.db64b530.chunk.js.map